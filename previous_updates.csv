package,bullet_id,text
broom,1,Addressed test failures on R-devel.
broom,2,Fixed bug in `tidy.multinom()` where the `conf.level` argument would be ignored.
broom,3,The default `data` argument for `augment.coxph()` and `augment.survreg()` has been transitioned from `NULL` to `model.frame(x)` (#1126 by `@​capnrefsmmat`).
broom,4,"Migrated 'ggplot2' from strong to weak dependency, i.e. moved from `Imports` to `Suggests`."
broom,5,"Fixed a bug where `augment()` results would not include residuals when the response term included a function call (#1121, #946, #937, #124)."
broom,6,Improves performance of `tidy.lm()` and `tidy.glm()` for full-rank fits (#1112 by `@​capnrefsmmat`).
broom,7,"Moves forward with deprecation of tidiers for sparse matrices outputted from the Matrix package, initially soft-deprecated in broom 0.5.0. The Matrix tidiers were light wrappers around coercion methods that will now be deprecated from Matrix itself in the upcoming 1.4-2 release. The affected methods are `tidy.sparseMatrix()`, `tidy.dgCMatrix()`, and `tidy.dgTMatrix()`. Note that `tidy.confusionMatrix()`, for relevant objects outputted from the caret package, is unaffected (#1113)."
broom,8,`tidy.anova()` works again with `anova` objects from the `lme4` package (broken by addition of the `terms` column in the previous release)
broom,9,Adds minimal ellipsis checking to warn on commonly misspecified arguments passed through ellipses. Notably:
broom,9,• `tidy()` methods will now warn when supplied an `exponentiate` argument if it will be ignored.
broom,9,• `augment()` methods will now warn when supplied a `newdata` argument if it will be ignored.
broom,12,"The warning regarding tidiers only maintained via dispatch to `lm` and `glm` is now displayed only once per session, per unique dispatch. That is, if a `class_a` object is tidied using a `(g)lm` method, broom will not warn when tidying `class_a` objects for the rest of the session, but if a `class_b` object is tidied using a `(g)lm` method in the same session, broom will warn again (#1101)."
broom,13,Add `exponentiate` argument to `tidy.boot()` (#1039).
broom,14,Update in `tidy.htest()` converting matrix-columns to vector-columns (#1081).
broom,15,Address failures in `tidy.glht()` with `conf.int = TRUE` (#1103).
broom,16,Address failures in `tidy.zoo()` when input data does not have `colnames` (#1080).
broom,17,Transition tidiers for bivariate linear or spline-based interpolation---using list tidiers to interface with objects from the akima package is now considered off-label. See the interp package for a FOSS alternative.
broom,18,"Address failures in `tidy.svyolr()` when `p.values = TRUE`. Instead of aliasing `tidy.polr()` directly, `tidy.svyolr()` lightly wraps that method and warns if `p.values` is supplied (#1107)."
broom,19,Adds a `term` column and introduces support for `car::lht()` output in `tidy.anova()` (#1106 by `@​grantmcdermott`).
broom,20,"Adds a dedicated `glance.anova` method (which previously dispatched to the\ deprecated `glance.data.frame()` tidier, #1106 by `@​grantmcdermott`)."
broom,21,Makes many improvements to documentation:
broom,21,• All tidiers now have example code demonstrating usage in their documentation. Tidiers for base packages as well as selected others also include sample code for visualization of results with ggplot2.
broom,21,"• Code examples in the documentation largely now follow consistent style---these changes were made largely to reflect the tidyverse style guide, addressing spacing, object naming, and commenting, among other things."
broom,21,• Examples previously marked with `\dontrun` or `\donttest` have been workshopped to run reliably.
broom,25,Clarifies errors and warnings for deprecated and unmaintained tidiers.
broom,26,Ensures that tidiers are placed in files named according to the model-supplying package rather than the model object class for easier navigability of the source code.
broom,27,"Fix `glance.fixest` error when model includes only fixed effects and no regressors (`#1018` by `@​arcruz0`, `#1088` by `@​vincentarelbundock`)."
broom,28,"Address excessive messaging from `tidy.speedlm` (`#1084` by `@​cgoo4`, `#1087` by `@​vincentarelbundock`)."
broom,29,"Add `nobs` column to the output of `glance.svyglm` (`#1085` by `@​fschaffner`, `#1086` by `@​vincentarelbundock`)."
broom,30,Ensure `tidy.prcomp` description entries use consistent punctuation (`#1072` by `@​PursuitOfDataScience`).
broom,31,Address breaking changes in `glance.fixest` and `tidy.btergm`.
broom,32,Simplify handling of `MASS::polr` output in the corresponding `tidy` and `augment` methods.
broom,33,Align continuous integration with current standards in tidymodels packages.
broom,34,Addressed issue with the ordering of original observations in `augment.rqs`. Now function preserves the original `data.frame` names also when the input `data.frame` only has one column (`#1052` by `@​ilapros`).
broom,35,Addressed warning from `tidy.rma` when `x$ddf` has length greater than 1 (`#1064` by `@​wviechtb`).
broom,36,Fix errors in `glance.lavaan` in anticipation of upcoming `tidyr` release (`#1067` by `@​DavisVaughan`).
broom,37,Corrected the confidence interval in `tidy.crr()`. The `tidy.crr(conf.level=)` argument was previously ignored (`#1068` by `@​ddsjoberg`).
broom,38,Clarifies error when `pysch::mediate` output is dispatched to `tidy.mediate` (`#1037` by `@​LukasWallrich`).
broom,39,Allows user to specify confidence level for `tidy.rma` (`#1041` by `@​TarenSanders`)
broom,40,Clarifies documentation related to usage of `augment_columns()`; most package users should use `augment()` in favor of `augment_columns()`. See `?augment_columns` for more details.
broom,41,Extends support for `emmeans` by fixing non-standard column names in case of asymptotically derived inferential statistics. (`#1046` by `@​crsh`)
broom,42,"Fixes use of index columns in `augment.mlogit` and adds `.resid` column to output. (`#1045`, `#1053`, `#1055`, and `#1056` by `@​jamesrrae` and `@​gregmacfarlane`)"
broom,43,Correct column naming of standard error measures in `glance.survfit()`.
broom,44,Various bug fixes and improvements to documentation.
broom,45,"Fixes confidence intervals in `tidy.crr()`, which were previously exponentiated when `exponentiate = FALSE` (`#1023` by `@​leejasme`)"
broom,46,"Deprecates `Rchoice` tidiers, as the newest 0.3-3 release requires R 4.0+ and does not re-export needed generics."
broom,47,Updates to `ergm` tidiers in anticipation of changes in later releases. (`#1034` by `@​krivit`)
broom,48,Fixed bug in `glance.ergm` related to handling of MCMC details.
broom,49,Address breakages in unit tests for {fixest} tidiers.
broom,50,Fixed bug in `tidy.epi.2by2` that resulted in errors with new version of `epiR` (`#1028` by `@​nt-williams`)
broom,51,Added `exponentiate` argument to `tidy.gam()` tidier applicable for parametric terms (`#1013` by `@​ddsjoberg`)
broom,52,Added `exponentiate` argument to `tidy.negbin()` tidier (`#1011` by `@​ddsjoberg`)
broom,53,Fixed failures in `spdep` tidiers following breaking changes in the most recent release
broom,54,Various bug fixes and improvements to documentation
broom,55,Fixed bug in `augment` tidiers resulting in `.fitted` and `.se.fit` array columns.
broom,56,Fixed bug that made column `y` non-numeric after `tidy_xyz` (`#973` by `@​jiho`)
broom,57,Added tidiers for `MASS:glm.nb` (`#998` by `@​joshyam-k`)
broom,58,Fixed bug in `tidy.fixest` that sometimes prevented arguments like `se` from being used (`#1001` by `@​karldw`)
broom,59,Fixed bug in `tidy.fixest` that resulted in errors when columns with name `x` are present (`#1007` by `@​grantmcdermott`)
broom,60,Moved forward with planned deprecation of `gamlss` tidiers in favor of those provided in `broom.mixed`
broom,61,Various bug fixes and improvements to documentation
broom,62,Fixed bug in the `nnet::multinom` tidier in the case that the response variable has only two levels (`#993` by `@​vincentarelbundock` and `@​hughjonesd`)
broom,63,Various bug fixes and improvements to documentation
broom,64,Add tidiers for `Rchoice` objects (`#961` by `@​vincentarelbundock` and `@​Nateme16`)
broom,65,Add tidiers for objects produced by `car::leveneTest` (`#968` by `@​vincentarelbundock` and `@​mkirzon`)
broom,66,Add tidiers for objects produced by `cmprsk::crr` (`#971` and `#552` by `@​vincentarelbundock` and `@​margarethannum`)
broom,67,Add an `augment()` method for `gam` objects (`#975` and `#645` by `@​vincentarelbundock`)
broom,68,Add tidiers for `vars` objects (`#979` and `#161` by `@​vincentarelbundock` and `@​Diego-MX`)
broom,69,`tidy.emmGrid` can now return `std.error` and `conf.*` columns at the same time. (`#962` by `@​vincentarelbundock` and `@​jmbarbone`)
broom,70,`tidy.garch` can now produce confidence intervals (`#964` by `@​vincentarelbundock` and `@​IndrajeetPatil`)
broom,71,`tidy.coxph` can now report confidence intervals on models utilizing penalized/clustering terms (`#966` by `@​vincentarelbundock` and `@​matthieu-faron`)
broom,72,`augment.lm` now works when some regression weights are equal to zero (`#965` by `@​vincentarelbundock` and `@​vnijs`)
broom,73,"`tidy.coxph` can now handle models utilizing penalized/clustering terms (`#966` and `#969` by `@​vincentarelbundock`, `@​matthieu-faron`, and `@​KZARCA`)"
broom,74,Fix bug in `tidy.speedglm` on R 4.0.0+ (`#974` by `@​uqzwang`)
broom,75,tidy.multinom works with matrix response (`#977` and `#666` by `@​vincentarelbundock` and `@​atyre2`)
broom,76,Various bug fixes and improvements to documentation and errors.
broom,77,Restores tidiers for `summary.lm` objects (`#953` by `@​grantmcdermott`)
broom,78,"Deprecate tidiers for the `lfe` package, which was archived from CRAN."
broom,79,Various bug fixes and improvements to documentation and errors.
broom,80,Various bug fixes and improvements to documentation and errors.
broom,81,Add tidiers for `margins` objects. (`#700` by `@​grantmcdermott`)
broom,82,Added tidier methods for `mlogit` objects (`#887` by `@​gregmacfarlane`)
broom,83,Add `glance.coeftest()` method (`#932` by `@​grantmcdermott`)
broom,84,Extended the `glance.aov()` method to include an `r.squared` column!
broom,85,`glance.survfit()` now passes `...` to `summary.survfit()` to allow for adjustment of RMST and other measures (`#880` by `@​vincentarelbundock`)
broom,86,Several unsupported model objects that subclass `glm` and `lm` now error more informatively.
broom,87,A number of improvements to documentation throughout the package.
broom,88,Fixed `newdata` warning message in `augment.*()` output when the `newdata` didn't contain the response variable---augment methods no longer expect the response variable in the supplied `newdata` argument. (`#897` by `@​rudeboybert`)
broom,89,Fixed a bug related to `tidy.geeglm()` not being sensitive to the `exponentiate` argument (`#867`)
broom,90,Fixed `augment.fixest()` returning residuals in the `.fitted` column. The method also now takes a `type.residuals` argument and defaults to the same `type.predict` argument as the `fixest` `predict()` method. (`#877` by `@​karldw`)
broom,91,"Fix `tidy.felm` confidence interval bug. Replaces ""robust"" argument with ""se.type"". (`#919` by `@​grantmcdermott`; supersedes `#818` by `@​kuriwaki`)"
broom,92,Fix a bug in `tidy.drc()` where some term labels would result in the overwriting of entries in the `curve` column (`#914`)
broom,93,Fixed bug related to univariate zoo series in `tidy.zoo()` (`#916` by `@​WillemVervoort`)
broom,94,"Fixed a bug related to `tidy.prcomp()` assigning the wrong PC labels from ""loadings"" and ""scores"" matrices (`#910` by `@​tavareshugo`)"
broom,95,Fixed `tidy.polr()` bug where p-values could only be returned if `exponentiate = FALSE`.
broom,96,"We have changed how we report degrees of freedom for `lm` objects (#212, #273). This is especially important for instructors in statistics courses. Previously the `df` column in `glance.lm()` reported the rank of the design matrix. Now it reports degrees of freedom of the numerator for the overall F-statistic. This is equal to the rank of the model matrix minus one (unless you omit an intercept column), so the new `df` should be the old `df` minus one."
broom,97,"We are moving away from supporting `summary.*()` objects. In particular, we have removed `tidy.summary.lm()` as part of a major overhaul of internals. Instead of calling `tidy()` on `summary`-like objects, please call `tidy()` directly on model objects moving forward."
broom,98,"We have removed all support for the `quick` argument in `tidy()` methods. This is to simplify internals and is for maintainability purposes. We anticipate this will not influence many users as few people seemed to use it. If this majorly cramps your style, let us know, as we are considering a new verb to return only model parameters. In the meantime, `stats::coef()` together with `tibble::enframe()` provides most of the functionality of `tidy(..., quick = TRUE)`."
broom,99,"All `conf.int` arguments now default to `FALSE`, and all `conf.level` arguments now default to `0.95`. This should primarily affect `tidy.survreg()`, which previously always returned confidence intervals, although there are some others."
broom,100,"Tidiers for `emmeans`-objects use the arguments `conf.int` and `conf.level` instead of relying on the argument names native to the `emmeans::summary()`-methods (i.e., `infer` and `level`). Similarly, `multcomp`-tidiers now include a call to `summary()` as previous behavior was akin to setting the now removed argument `quick = TRUE`. Both families of tidiers now use the `adj.p.value` column name when appropriate. Finally, `emmeans`-, `multcomp`-, and `TukeyHSD`-tidiers now consistently use the column names `contrast` and `null.value` instead of `comparison`, `level1` and `level2`, or `lhs` and `rhs` (see #692)."
broom,101,"Tidier methods for data frames, rowwise data frames, vectors and matrices"
broom,102,`bootstrap()`
broom,103,`confint_tidy()`
broom,104,`fix_data_frame()`
broom,105,`finish_glance()`
broom,106,`augment.glmRob()`
broom,107,`tidy.table()` and `tidy.ftable()` have been deprecated in favor of `tibble::as_tibble()`
broom,108,`tidy.summaryDefault()` and `glance.summaryDefault()` have been deprecated in favor of `skimr::skim()`
broom,109,`tidy.brmsfit()`
broom,110,"`tidy.merMod()`, `glance.merMod()`, `augment.merMod()`"
broom,111,"`tidy.lme()`, `glance.lme()`, `augment.lme()`"
broom,112,"`tidy.stanreg()`, `glance.stanreg()`"
broom,113,"`tidyMCMC()`, `tidy.rjags()`, `tidy.stanfit()`"
broom,114,"`augment.factanal()` now returns a tibble with columns names `.fs1`, `.fs2`, ..., instead of `factor1`, `factor2`, ... (#650)"
broom,115,"We have renamed the output of `augment.htest()`. In particular, we have renamed the `.residuals` column to `.resid` and the `.stdres` to `.std.resid` for consistency. These changes will only affect chi-squared tests."
broom,116,`tidy.ridgelm()` now always return a `GCV` column and never returns an `xm` column. (#533 by @​jmuhlenkamp)
broom,117,`tidy.dist()` no longer supports the `upper` argument.
broom,118,"If you pass a dataset to `augment()` via the `data` or `newdata` arguments, you are now guaranteed that the augmented dataset will have exactly the same number of rows as the original dataset. This differs from previous behavior primarily when there are missing values. Previously `augment()` would drop rows containing `NA`. This should no longer be the case."
broom,119,`augment.*()` methods no longer accept an `na.action` argument.
broom,120,"In previous versions, several `augment.*()` methods inherited the `augment.lm()` method, but required additions to the `augment.lm()` method itself. We have shifted away from this approach in favor of re-implementing many `augment.*()` methods as standalone methods making use of internal helper functions. As a result, `augment.lm()` and some related methods have deprecated (previously unused) arguments."
broom,121,`augment()` tries to give an informative error when `data` isn't the original training data.
broom,122,The `.resid` column in the output of `augment().*` methods is now consistently defined as `y - y_hat`
broom,123,`anova` objects from the `car` package (#754)
broom,124,`pam` objects from the `cluster` package (#637 by @​abbylsmith)
broom,125,`drm` objects from the `drc` package (#574 by @​edild)
broom,126,`summary_emm` objects from the `emmeans` package (#691 by @​crsh)
broom,127,`epi.2by2` objects from the `epiR` package (#711)
broom,128,`fixest` objects from the `fixest` package (#785 by @​karldw)
broom,129,`regsubsets` objects from the `leaps` package (#535)
broom,130,`lm.beta` objects from the `lm.beta` package (#545 by @​mattle24)
broom,131,"`rma` objects from the `metafor` package (#674 by @​malcolmbarrett, @​softloud)"
broom,132,"`mfx`, `logitmfx`, `negbinmfx`, `poissonmfx`, `probitmfx`, and `betamfx` objects from the`mfx` package (#700 by @​grantmcdermott)"
broom,133,"`lmrob` and `glmrob` objects from the `robustbase` package (#205, #505)"
broom,134,`sarlm` objects from the `spatialreg` package (#847 by @​gregmacfarlane and @​petrhrobar)
broom,135,`speedglm` objects from the `speedglm` package (#685)
broom,136,`svyglm` objects from the `survey` package (#611)
broom,137,`systemfit` objects from the `systemfit` package (by @​jaspercooper)
broom,138,"We have restored a simplified version of `glance.aov()`, which used to inherit from the `glance.lm()` method and now contains only the following columns: `logLik`, `AIC`, `BIC, deviance`, `df.residual`, and `nobs` (see #212). Note that `tidy.aov()` gives more complete information about degrees of freedom in an `aov` object."
broom,139,`tidy.felm()` now has a `robust = TRUE/FALSE` option that supports robust and cluster standard errors. (#781 by @​kuriwaki)
broom,140,Make `.fitted` values respect `type.predict` argument of `augment.clm()`. (#617)
broom,141,Return factor rather than numeric class predictions in `.fitted` of `augment.polr()`. (#619) Add an option to return `p.values` in `tidy.polr()`. (#833 by @​LukasWallrich)
broom,142,`tidy.kmeans()` now uses the names of the input variables in the output by default. Set `col.names = NULL` to recover the old behavior.
broom,143,"Previously, F-statistics for weak instruments were returned through `glance.ivreg()`. F-statistics are now returned through `tidy.ivreg(instruments = TRUE)`. Default is `tidy.ivreg(instruments = FALSE)`. `glance.ivreg()` still returns Wu-Hausman and Sargan test statistics."
broom,144,`glance.biglm()` now returns a `df.residual` column.
broom,145,"`tidy.prcomp()` argument `matrix` gained new options `""scores""`, `""loadings""`, and `""eigenvalues""`. (#557 by @​GegznaV)"
broom,146,`tidy_optim()` now provides the standard error if the Hessian is present. (#529 by @​billdenney)
broom,147,`tidy.htest()` column names are now run through `make.names()` to ensure syntactic correctness. (#549 by @​karissawhiting)
broom,148,`tidy.lmodel2()` now returns a `p.value` column. (#570)
broom,149,`tidy.lsmobj()` gained a `conf.int` argument for consistency with other tidiers.
broom,150,`tidy.polr()` now returns p-values if `p.values` is set to TRUE and the model does not contain factors with more than two levels.
broom,151,`tidy.zoo()` now doesn't change column names that have spaces or other special characters (previously they were converted to `data.frame` friendly column names by `make.names`.)
broom,152,`glance.lavaan()` now uses lavaan extractor functions instead of subsetting the fit object manually. (#835)
broom,153,`glance.lm()` no longer errors when only an intercept is provided as an explanatory variable. (#865)
broom,154,"Bug fix for `tidy.survreg()` when `robust` is set to `TRUE` in model fitting (#842, #728)"
broom,155,Bug fixes in `glance.lavaan()`: address confidence interval error (#577) and correct reported `nobs` and `norig` (#835)
broom,156,Bug fix in muhaz tidiers to ensure output is always a `tibble` (#824)
broom,157,Several `glance.*()` methods have been refactored in order to return a one-row tibble even when the model matrix is rank-deficient (#823)
broom,158,Bug fix to return confidence intervals correct in `tidy.drc()` (#798)
broom,159,"Added default methods for objects that subclass `glm` and `lm` in order to error more informatively. (#749, #736, #708, #186)"
broom,160,Bug fix to allow `augment.kmeans()` to work with masked data (#609)
broom,161,Bug fix to allow `augment.Mclust()` to work on univariate data (#490)
broom,162,Bug fix to allow `tidy.htest()` to supports equal variances (#608)
broom,163,Bug fix to better allow `tidy.boot()` to support confidence intervals (#581)
broom,164,Bug fix for `tidy.polr()` when passed `conf.int = TRUE` (#498)
broom,165,"Many `glance()` methods now return a `nobs` column, which contains the number of data points used to fit the model! (#597 by @​vincentarelbundock)"
broom,166,"`tidy()` no longer checks for a log or logit link when `exponentiate = TRUE`, and we have refactored to remove extraneous `exponentiate` arguments. If you set `exponentiate = TRUE`, we assume you know what you are doing and that you want exponentiated coefficients (and confidence intervals if `conf.int = TRUE`) regardless of link function."
broom,167,We now use `rlang::arg_match()` when possible instead of `arg.match()` to give more informative errors on argument mismatches.
broom,168,The package's site has moved from https://broom.tidyverse.org/ to https://broom.tidymodels.org/.
broom,169,Revised several vignettes and moved them to the tidymodels.org website. The existing vignettes will now simply link to the revised versions.
broom,170,Many improvements to consistency and clarity of documentation.
broom,171,Various warnings resulting from changes to the tidyr API in v1.0.0 have been fixed. (#870)
broom,172,Removed dependencies on reshape2 and superseded functions in dplyr.
broom,173,All documentation now links to help files rather than topics.
broom,174,Moved core tests to the `modeltests` package.
broom,175,"Generally, after this release, the broom dev team will first ask that attempts to add tidier methods supporting a model object are first directed to the model-owning package. An article describing best practices in doing so can be found on the {tidymodels} website at https://www.tidymodels.org/learn/develop/broom/, and we will continue adding additional resources to that article as we develop them. In the case that the maintainer is uninterested in taking on the tidier methods, please note this in your issue or PR."
broom,176,Added a new vignette discussing how to implement new tidier methods in non-broom packages.
broom,177,Fix failing CRAN checks to due `tibble 3.0.0` release. Removed `xergm` dependency.
broom,178,Remove tidiers for robust package and drop robust dependency (temporarily)
broom,179,Fixes failing CRAN checks as the joineRML package has been removed from CRAN
broom,180,Fixes failing CRAN checks due to new matrix classing in R 4.0.0
broom,181,Fixes failing CRAN checks
broom,182,Changes to accommodate ergm 3.10 release. `tidy.ergm()` no longer has a `quick` argument. The old default of `quick = FALSE` is now the only option.
broom,183,"`tidy()`, `glance()` and `augment()` are now re-exported from the [generics](https://github.com/r-lib/generics) package."
broom,184,"subsetting tibbles with `[`, which returns a tibble rather than a vector."
broom,185,"setting rownames on tibbles, which is deprecated."
broom,186,"using matrix and vector tidiers, now deprecated."
broom,187,handling the additional tibble classes `tbl_df` and `tbl` beyond the `data.frame` class
broom,188,linking to defunct documentation files -- broom recently moved all tidiers to a `roxygen2` template based documentation system.
broom,189,"`vignette(""available-methods"", package = ""broom"")` contains a table detailing which tidying methods are available"
broom,190,"`vignette(""adding-tidiers"", package = ""broom"")` is an *in-progress* guide for contributors on how to add new tidiers to broom"
broom,191,"`vignette(""glossary"", package = ""broom"")` contains tables describing acceptable argument names and column names for the *in-progress* new specification."
broom,192,"`vignette(""bootstrapping"", package = ""broom"")` now relies on the `rsample` package and a `tidyr::nest`-`purrr::map`-`tidyr::unnest` workflow. This is now the recommended workflow for working with multiple models, as opposed to the old `dplyr::rowwise`-`dplyr::do` based workflow."
broom,193,Matrix and vector tidiers have been deprecated in favor of `tibble::as_tibble` and `tibble::enframe`
broom,194,Dataframe tidiers and rowwise dataframe tidiers have been deprecated
broom,195,`bootstrap()` has been deprecated in favor of the [`rsample`](https://rsample.tidymodels.org/)
broom,196,`inflate` has been removed from `broom`
broom,197,The `alpha` argument has been removed from `quantreg` tidy methods
broom,198,"The `separate.levels` argument has been removed from `tidy.TukeyHSD`. To obtain the effect of `separate.levels = TRUE`, users may `tidyr::separate` after tidying. This is consistent with the `multcomp` tidier behavior."
broom,199,"The `fe.error` argument was removed from `tidy.felm`. When fixed effects are tidier, their standard errors are now always included."
broom,200,The `diag` argument in `tidy.dist` has been renamed `diagonal`
broom,201,Advice to help beginners make PRs (#397 by @​karldw)
broom,202,"`glance` support for `arima` objects fit with `method = ""CSS""` (#396 by @​josue-rodriguez)"
broom,203,A bug fix to re-enable tidying `glmnet` objects with `family = multinomial` (#395 by @​erleholgersen)
broom,204,A bug fix to allow tidying `quantreg` intercept only models (#378 by @​erleholgersen)
broom,205,A bug fix for `aovlist` objects (#377 by @​mvevans89)
broom,206,Support for `glmnetUtils` objects (#352 by @​Hong-Revo)
broom,207,A bug fix to allow `tidy_emmeans` to handle column names with dashes (#351 by @​bmannakee)
broom,208,`augment.felm` no longer returns `.fe_` and `.comp` columns
broom,209,Support saved formulas in `augment.felm` (#347 by @​ShreyasSingh)
broom,210,`confint_tidy` now drops rows of all `NA` (#345 by @​atyre2)
broom,211,A new tidier for `caret::confusionMatrix` objects (#344 by @​mkuehn10)
broom,212,Tidiers for `Kendall::Kendall` objects (#343 by @​cimentadaj)
broom,213,A new tidying method for `car::durbinWatsonTest` objects (#341 by @​mkuehn10)
broom,214,`glance` throws an informative error for `quantreg:rq` models fit with multiple `tau` values (#338 by @​bfgray3)
broom,215,`tidy.glmnet` gains the ability to retain zero-valued coefficients with a `return_zeros` argument that defaults to `FALSE` (#337 by @​bfgray3)
broom,216,`tidy.manova` now retains a `Residuals` row (#334 by @​jarvisc1)
broom,217,"Tidiers for `ordinal::clm`, `ordinal::clmm`, `survey::svyolr` and `MASS::polr` ordinal model objects (#332 by @​larmarange)"
broom,218,Support for `anova` objects from `car::Anova` (#325 by @​mariusbarth)
broom,219,Tidiers for `tseries::garch` models (#323 by @​wilsonfreitas)
broom,220,Removed dependency on `psych` package (#313 by @​nutterb)
broom,221,Improved error messages (#303 by @​michaelweylandt)
broom,222,Compatibility with new `rstanarm` and `loo` packages (#298 by @​jgabry)
broom,223,Support for tidying lists return by `irlba::irlba`
broom,224,A truly huge increase in unit tests (#267 by @​dchiu911)
broom,225,Bug fix for `tidy.prcomp` when missing labels (#265 by @​corybrunson)
broom,226,Added a `pkgdown` site at https://broom.tidyverse.org/ (#260 by @​jayhesselberth)
broom,227,Added tidiers for `AER::ivreg` models (#247 by @​hughjonesd)
broom,228,Added tidiers for the `lavaan` package (#233 by @​puterleat)
broom,229,Added `conf.int` argument to `tidy.coxph` (#220 by @​larmarange)
broom,230,Added `augment` method for chi-squared tests (#138 by @​larmarange)
broom,231,changed default se.type for `tidy.rq` to match that of `quantreg::summary.rq()` (#404 by @​ethchr)
broom,232,Added argument `quick` for `tidy.plm` and `tidy.felm` (#502 and #509 by @​MatthieuStigler)
broom,233,Many small improvements throughout
broom,234,"Fixed gam tidiers to work with ""Gam"" objects, due to an update in gam 1.15. This fixes failing CRAN tests"
broom,235,Improved test coverage (thanks to #267 from Derek Chiu)
broom,236,Changed the deprecated `dplyr::failwith` to `purrr::possibly`
broom,237,`augment` and `glance` on NULLs now return an empty data frame
broom,238,Deprecated the `inflate()` function in favor of `tidyr::crossing`
broom,239,Fixed confidence intervals in the gmm tidier (thanks to #242 from David Hugh-Jones)
broom,240,Fixed a bug in bootstrap tidiers (thanks to #167 from Jeremy Biesanz)
broom,241,Fixed tidy.lm with `quick = TRUE` to return terms as character rather than factor (thanks to #191 from Matteo Sostero)
broom,242,Added tidiers for `ivreg` objects from the AER package (thanks to #245 from David Hugh-Jones)
broom,243,Added tidiers for `survdiff` objects from the survival package (thanks to #147 from Michał Bojanowski)
broom,244,Added tidiers for `emmeans` from the emmeans package (thanks to #252 from Matthew Kay)
broom,245,"Added tidiers for `speedlm` and `speedglm` from the speedglm package (#685, thanks to #248 from David Hugh-Jones)"
broom,246,Added tidiers for `muhaz` objects from the muhaz package (thanks to #251 from Andreas Bender)
broom,247,Added tidiers for `decompose` and `stl` objects from stats (thanks to #165 from Aaron Jacobs)
broom,248,Added tidiers for `lsmobj` and `ref.grid` objects from the lsmeans package
broom,249,Added tidiers for `betareg` objects from the betareg package
broom,250,Added tidiers for `lmRob` and `glmRob` objects from the robust package
broom,251,Added tidiers for `brms` objects from the brms package (thanks to #149 from Paul Buerkner)
broom,252,Fixed tidiers for orcutt 2.0
broom,253,Changed `tidy.glmnet` to filter out rows where estimate == 0.
broom,254,Updates to `rstanarm` tidiers (thanks to #177 from Jonah Gabry)
broom,255,Fixed issue with survival package 2.40-1 (thanks to #180 from Marcus Walz)
broom,256,"Added AppVeyor, codecov.io, and code of conduct"
broom,257,"Changed name of ""NA's"" column in summaryDefault output to ""na"""
broom,258,"Fixed `tidy.TukeyHSD` to include `term` column. Also added `separate.levels` argument, with option to separate `comparison` into `level1` and `level2`"
broom,259,"Fixed `tidy.manova` to use correct column name for test (previously, always `pillai`)"
broom,260,Added `kde_tidiers` to tidy kernel density estimates
broom,261,Added `orcutt_tidiers` to tidy the results of `cochrane.orcutt` orcutt package
broom,262,Added `tidy.dist` to tidy the distance matrix output of `dist` from the stats package
broom,263,Added `tidy` and `glance` for `lmodel2` objects from the lmodel2 package
broom,264,Added tidiers for `poLCA` objects from the poLCA package
broom,265,Added tidiers for sparse matrices from the Matrix package
broom,266,Added tidiers for `prcomp` objects
broom,267,Added tidiers for `Mclust` objects from the Mclust package
broom,268,Added tidiers for `acf` objects
broom,269,"Fixed to be compatible with dplyr 0.5, which is being submitted to CRAN"
broom,270,"Added tidiers for geeglm, nlrq, roc, boot, bgterm, kappa, binWidth, binDesign, rcorr, stanfit, rjags, gamlss, and mle2 objects."
broom,271,"Added `tidy` methods for lists, including u, d, v lists from `svd`, and x, y, z lists used by `image` and `persp`"
broom,272,"Added `quick` argument to `tidy.lm`, `tidy.nls`, and `tidy.biglm`, to create a smaller and faster version of the output."
broom,273,"Changed `rowwise_df_tidiers` to allow the original data to be saved as a list column, then provided as a column name to `augment`. This required removing `data` from the `augment` S3 signature. Also added `tests-rowwise.R`"
broom,274,Fixed various issues in ANOVA output
broom,275,Fixed various issues in lme4 output
broom,276,Fixed issues in tests caused by dev version of ggplot2
broom,277,"Added tidiers for ""plm"" (panel linear model) objects from the plm package."
broom,278,Added `tidy.coeftest` for coeftest objects from the lmtest package.
broom,279,"Set up `tidy.lm` to work with ""mlm"" (multiple linear model) objects (those with multiple response columns)."
broom,280,"Added `tidy` and `glance` for ""biglm"" and ""bigglm"" objects from the biglm package."
broom,281,Fixed bug in `tidy.coxph` when one-row matrices are returned
broom,282,Added `tidy.power.htest`
broom,283,Added `tidy` and `glance` for `summaryDefault` objects
broom,284,"Added tidiers for ""lme"" (linear mixed effects models) from the nlme package"
broom,285,Added `tidy` and `glance` for `multinom` objects from the nnet package.
broom,286,"Fixed bug in `tidy.pairwise.htest`, which now can handle cases where the grouping variable is numeric."
broom,287,Added `tidy.aovlist` method. This added `stringr` package to IMPORTS to trim whitespace from the beginning and end of the `term` and `stratum` columns. This also required adjusting `tidy.aov` so that it could handle strata that are missing p-values.
broom,288,Set up `glance.lm` to work with `aov` objects along with `lm` objects.
broom,289,"Added `tidy` and `glance` for matrix objects, with `tidy.matrix` converting a matrix to a data frame with rownames included, and `glance.matrix` returning the same result as `glance.data.frame`."
broom,290,Changed DESCRIPTION Authors@​R to new format
broom,291,Fixed small bug in `felm` where the `.fitted` and `.resid` columns were matrices rather than vectors.
broom,292,"Added tidiers for `rlm` (robust linear model) and `gam` (generalized additive model) objects, including adjustments to ""lm"" tidiers in order to handle them. See `?rlm_tidiers` and `?gam_tidiers` for more."
broom,293,Removed rownames from `tidy.cv.glmnet` output
broom,294,"The behavior of `augment`, particularly with regard to missing data and the `na.exclude` argument, has through the use of the `augment_columns` function been made consistent across the following models:"
broom,294,• `lm`
broom,294,• `glm`
broom,294,• `nls`
broom,294,• `merMod` (`lme4`)
broom,294,• `survreg` (`survival`)
broom,294,• `coxph` (`survival`)
broom,301,"`tidy`, `augment` and `glance` methods were added for `rowwise_df` objects, and are set up to apply across their rows. This allows for simple patterns such as:"
broom,302,"Added `tidy` and `glance` methods for `Arima` objects, and `tidy` for `pairwise.htest` objects."
broom,303,"Fixes for CRAN: change package description to title case, removed NOTES, mostly by adding `globals.R` to declare global variables."
broom,304,This is the original version published on CRAN.
broom,305,Tidiers have been added for S3 objects from the following packages:
broom,305,• `lme4`
broom,305,• `glmnet`
broom,305,• `survival`
broom,305,• `zoo`
broom,305,• `felm`
broom,305,• `MASS` (`ridgelm` objects)
broom,312,"`tidy` and `glance` methods for data.frames have also been added, and `augment.data.frame` produces an error (rather than returning the same data.frame)."
broom,313,`stderror` has been changed to `std.error` (affects many functions) to be consistent with broom's naming conventions for columns.
broom,314,"A function `bootstrap` has been added based on [this example](https://github.com/tidyverse/dplyr/issues/269), to perform the common use case of bootstrapping models."
broom,315,"Added ""augment"" S3 generic and various implementations. ""augment"" does something different from tidy: it adds columns to the original dataset, including predictions, residuals, or cluster assignments. This was originally described as ""fortify"" in ggplot2."
broom,316,"Added ""glance"" S3 generic and various implementations. ""glance"" produces a *one-row* data frame summary, which is necessary for tidy outputs with values like R\^2 or F-statistics."
broom,317,Re-wrote intro broom vignette/README to introduce all three methods.
broom,318,Wrote a new kmeans vignette.
broom,319,"Added tidying methods for multcomp, sp, and map objects (from fortify-multcomp, fortify-sp, and fortify-map from ggplot2)."
broom,320,"Because this integrates substantial amounts of ggplot2 code (with permission), added Hadley Wickham as an author in DESCRIPTION."
cli,1,"The progressr progress handler now reports progress correctly (@​HenrikBengtsson, #558)."
cli,2,"New `hash_*sha1()` functions to calculate the SHA-1 hash of strings, objects, files."
cli,3,"cli now shows progress bars after one second by default, if they are less than half way at the point. (Or after two seconds, unconditionally, as before.) See the the `cli.progress_show_after` option in `?cli-config` for details (#542)."
cli,4,"`format_inline()` now has a new argument `keep_whitespace`, and it keeps whitespace, including newline and form feed characters by default."
cli,5,New `keypress()` function to read a single key press from a terminal.
cli,6,New function `pretty_print_code()` to print function objects with syntax highlighting at the R console.
cli,7,`col_*` and `bg_*` functions how handle zero-length input correctly (#532).
cli,8,New function `ansi_collapse()` to collapse character vectors into a single string.
cli,9,"`ansi_strtrim()` now handles some edge cases better, when `ellipsis` has length zero, and when it is wider than `width`."
cli,10,New `hash_file_md5()` function to calculate the MD5 hash of one or more files.
cli,11,cli has better error messages now.
cli,12,"New `format_inline()` argument: `collapse`, to collapse multi-line output, potentially because of `\f` characters."
cli,13,New experimental styles to create ANSI hyperlinks in RStudio and terminals that support them. See `?cli::links` for details (#513).
cli,14,Expressions that start and end with a `{}` substitution are now styled correctly. E.g. `{.code {var1} + {var2}}` (#517).
cli,15,New `{.obj_type_friendly}` inline style to format the type of an R object in a user friendly way (#463).
cli,16,"Improved vector collapsing behavior. cli now shows both the beginning and end of the collapsed vector, by default (#419)."
cli,17,Nested `cli()` calls work now (#497).
cli,18,Return values now work as they should within `cli()` calls (#496).
cli,19,"Style attributes with underscores have new names with dashes instead: `vec_sep`, `vec_last`, `vec_trunc`, `string-quote`. The old names still work, but the new ones take precedence (#483)."
cli,20,cli now does not crash at the end of the R session on Arm Windows (#494; @​kevinushey)
cli,21,"Vectors are truncated at 20 elements now by default, instead of 100 (#430)."
cli,22,"20 new spinners from the awesome [cli-spinners](https://github.com/sindresorhus/cli-spinners) package, and from @​HenrikBengtsson in #469. Run this to demo them, some need UTF-8 and emoji support:"
cli,22,"```
new <- c(""dots13"", ""dots8Bit"", ""sand"", ""material"", ""weather"", ""christmas"",
  ""grenade"", ""point"", ""layer"", ""betaWave"", ""fingerDance"", ""fistBump"",
  ""soccerHeader"", ""mindblown"", ""speaker"", ""orangePulse"", ""bluePulse"",
  ""orangeBluePulse"", ""timeTravel"", ""aesthetic"", ""growVeriticalDotsLR"",
  ""growVeriticalDotsRL"", ""growVeriticalDotsLL"", ""growVeriticalDotsRR"")
demo_spinners(new)
```"
cli,23,cli exit handlers are now compatible again with the withr package (#437).
cli,24,cli functions now keep trailing `\f` characters as newlines. They also keep multiple consecutive `\f` as multiple newlinees (#491).
cli,25,"`{}` substitutions within inline styles are now formatted correctly. E.g. `{.code download({url})}` will not add backticks to `url`, and `{.val pre-{x}-post}` will format the whole value instead of `x`. (#422, #474)."
cli,26,"cli now replaces newline characters within `{.class ... }` inline styles with spaces. If the `cli.warn_inline_newlines` option is set to TRUE, then it also throws a warning. (#417)."
cli,27,"`code_highlight` now falls back to the default theme (instead of no theme) for unknown RStudio themes (#482, @​rossellhayes)."
cli,28,`cli_abort()` now supplies `.frame` to `abort()`. This fixes an issue with the `.internal = TRUE` argument (r-lib/rlang#1386).
cli,29,"cli now does a better job at detecting the RStudio build pane, job pane and render pane, and their capabilities w.r.t. ANSI colors and hyperlinks. Note that this requires a daily build of RStudio (#465)."
cli,30,"New functions for ANSI strings: `ansi_grep()`, `ansi_grepl()`, `ansi_nzchar()`. They work like the corresponding base R functions, but handle ANSI markup."
cli,31,"`style_hyperlink()` (really) no longer breaks if the env variable `VTE_VERSION` is of the form `\d{4}`, i.e., 4 consecutive numbers (#441, @​michaelchirico)"
cli,32,`cli_dl()` and its corresponding `cli_li()` can now style the labels.
cli,33,"The behavior cli's inline styling expressions is now more predictable. cli does not try to evaluate a styled string as an R expression any more. E.g. the meaning of `""{.emph +1}""` is now always the ""+1"", with style `.emph`, even if an `.emph` variable is available and the `.emph + 1` expression can be evaluated."
cli,34,"Functions that apply bright background colors (e.g. `bg_br_yellow()`) now close themselves. They no longer format text after the end of the function (#484, @​rossellhayes)."
cli,35,"`style_hyperlink()` no longer breaks if the env variable `VTE_VERSION` is of the form `\d{4}`, i.e., 4 consecutive numbers (#441, @​michaelchirico)"
cli,36,`ansi_*()` functions support ANSI hyperlinks again (#444).
cli,37,Turning off ANSI colors via the `cli.num_colors` option or the `R_CLI_NUM_COLORS` or the `NO_COLOR` environment variable now also turns off ANSI hyperlinks (#447).
cli,38,`symbol` now only has two variants: UTF-8 and ASCII. There are no special variants for RStudio and Windows RGui any more (#424).
cli,39,"The `cli_theme_dark` option is now known as `cli.theme_dark`, to be consistent with all other cli option names (#380)."
cli,40,"The preferred names of the S3 classes `ansi_string`, `ansi_style`, `boxx`, `rule` and `tree` now have `cli_` prefix: `cli_ansi_string`, etc. This will help avoiding name conflicts with other packages eventually, but for now the old names are kept as well, for compatibility."
cli,41,`cli_abort()` has been updated to work nicely with rlang 1.0. The default `call` and backtrace soft-truncation are set to `.envir` (which itself is set to the immediate caller of `cli_abort()` by default). Line formatting now happens lazily at display time via `rlang::cnd_message()` (which is called by the `conditionMessage()` method for rlang errors).
cli,42,"New `hash_sha256()` function to calculate SHA-256 hashes. New `hash_raw_*()`, `hash_obj_*()` and `hash_file_*()` functions to calculate various hashes of raw vectors, R objects and files."
cli,43,"You can use the new `cli.default_num_colors` option to set the default number of ANSI colors, only if ANSI support is otherwise detected. See the details in the manual of `num_ansi_colors()`."
cli,44,You can set the new `ESS_BACKGROUND_MODE` environment variable to `dark` to indicate dark mode.
cli,45,cli now handles quotes and comment characters better in the semantion `cli_*()` functions that perform glue string interpolation (#370).
cli,46,`style_hyperlink()` gains a `params=` argument (#384).
cli,47,The C progress bar API now uses `double` instead of `int` as the data type of the progress units (#335).
cli,48,Several improvements and changes in the `ansi_*()` functions:
cli,48,• most `ansi_*()` functions are now implemented in C and they are much faster (#316).
cli,48,• they handle `NA` values better.
cli,48,"• many functions now use UTF-8 graphemes by default instead of code points. E.g. `ansi_nchar()` counts graphemes, etc."
cli,48,• they convert their input to UTF-8 and always return UTF-8 encoded strings.
cli,48,• new function `ansi_simplify()` to remove superfluous ANSI tags.
cli,48,• new function `ansi_html()` to convert ANSI-highlighted strings to HTML.
cli,48,"• `ansi_has_any()` and `ansi_strip()` now have `sgr` and `csi` arguments to look for SGR tags, CSI tags, or both."
cli,56,"New functions that handle UTF-8 encoded strings correctly: `utf8_graphemes()`, `utf8_nchar()`, `utf8_substr()`."
cli,57,"Support for palettes, including a colorblind friendly palette. See `?ansi_palettes` for details."
cli,58,"True color support: `num_ansi_colors()` now detects terminals with 24 bit color support, and `make_ansi_style()` uses the exact RGB colors on these terminals (#208)."
cli,59,The new `col_br_*()` and `bg_br_()` functions create bright versions of eight base ANSI colors (#327).
cli,60,"New function `code_highlight()` to syntax highlight R code. It supports several themes out of the box, see `code_theme_list()` (#348)."
cli,61,"New functions for hashing: `hash_animal()`, `hash_emoji()` and `hash_md5()`."
cli,62,New `diff_chr()` and `diff_str()` functions to calculate the difference of character vectors and letters of strings.
cli,63,"Progress bars with `clear = FALSE` now print the last, completed, state properly."
cli,64,The progress bar for Shiny apps now handles output from `cli_progress_output()`.
cli,65,Progress variables in C `format_done` strings work correctly now (#337).
cli,66,"`cli_dl()` now works with an empty description, and gives a better error for invalid input (#347)."
cli,67,`rule()` is now works better if the labels have ANSI markup.
cli,68,`cli_spark` objects now have `format()` and `print()` methods.
cli,69,`cli_process_done()` now does not error without a process (#351).
cli,70,ANSI markup is now supported in RStudio jobs (#353).
cli,71,The lack of ANSI support is now again correctly detected if there is an active `sink()` (#366).
cli,72,`ansi_strtrim()` now correctly keeps `NA` values (#309).
cli,73,"`format_inline()` now uses the correct environment (@​rundel, #314)."
cli,74,"New functions for progress bars, please see the new articles at https://cli.r-lib.org/articles/ for details."
cli,75,"New `cli_abort()`, `cli_warn()` and `cli_inform()` functions, to throw errors with cli pluralization and styling."
cli,76,New `format_inline()` function to format a cli string without emitting it (#278).
cli,77,New `style_no_*()` functions to locally undo styling. New `col_none()` and `bg_none()` functions to locally undo text color and background color.
cli,78,"It is now possible to undo text and background color in a theme, by setting them to `NULL` or `""none""`."
cli,79,"`cli_memo()` was renamed to `cli_bullets()`, as it is by default formatted as a bullet list (#250)."
cli,80,"New `ansi_toupper()`, `ansi_tolower` and `ansi_chartr()` functions, the ANSI styling aware variants of `toupper()`, `tolower()` and `chartr()` (#248)."
cli,81,New `test_that_cli()` helper function to write testthat tests for cli output.
cli,82,`tree()` now does not produce warnings for tibbles (#238).
cli,83,"New inline style: `.cls` to format class names, e.g. `""{.var fit} must be an {.cls lm} object""`."
cli,84,New `cli_memo()` function to create a list of items or tasks.
cli,85,New `cli::cli()` function to create a single cli message from multiple cli calls (#170).
cli,86,"cli now highlights weird names, e.g. path names with leading or trailing space (#227)."
cli,87,"Styling is fixed at several places. In particular, nested lists should be now formatted better (#221)."
cli,88,New `spark_bar()` and `spark_line()` functions to draw small bar or line charts.
cli,89,"ANSI color support detection works correctly now in older RStudio, and also on older R versions."
cli,90,"`cli_h1()`, `cli_h2()` and `cli_h3()` now work with multiple glue substitutions (#218)."
cli,91,`boxx()` now correctly calculates the width of the box for non-ASCII characters.
cli,92,"New `ansi_trimws()` and `ansi_strwrap()` functions, they are similar to `trimws()` and `strwrap()` but work on ANSI strings."
cli,93,New `ansi_columns()` function to format ANSI strings in multiple columns.
cli,94,"`ansi_substr()`, `ansi_substring()`, `ansi_strsplit()`, `ansi_align()` now always return `cli_ansi_string` objects."
cli,95,"`ansi_nchar()`, `ansi_align()`, `ansi_strtrim()` and the new `ansi_strwrap()` as well handle wide Unicode correctly, according to their display width."
cli,96,`boxx()` can now add headers and footers to boxes.
cli,97,"New `style_hyperlink()` function to add hyperlinks, on terminals that support them."
cli,98,"`cli_format_method()` now works properly in knitr, and other environments that catch message conditions (#159)."
cli,99,"ANSI strings created by `col_*`, `bg_*` and `style_*` now also add the `character` class to the result. This fixes issues with code that expect `character` objects."
cli,100,"New functions to manipulate ANSI strings: `ansi_aling()`, `ansi_has_any()`, `ansi_nchar()`, `ansi_regex()`, `ansi_strip()`, `ansi_strsplit()`, `ansi_substr()`, `ansi_substring()`."
cli,101,New `cli_vec()` function to allow easier formatting of collapsed vectors. It is now also possible to use styling to set the collapsing parameters (#129).
cli,102,New `pluralize()` function to perform pluralization without generating cli output (#155).
cli,103,"`console_width()` works better now in RStudio, and also in terminals."
cli,104,"Styling of verbatim text work properly now (#147, @​tzakharko)."
cli,105,"Messages (i.e. `message` conditions) coming from cli now have the `cliMessage` class, so you can easily suppress them without suppressing other messages (#156)."
cli,106,"cli prints the output to `stderr()` now, if there is an output or message sink. This is to make interactive and non-interactive sessions consistent (#153)."
cli,107,Pluralization works correctly now if the last alternative is the empty string (#158).
cli,108,cli now caches the result of the dark background detection in iTerm on macOS. Reload cli to delete the cache (#131).
cli,109,"The `is_dynamic_tty()`, `is_ansi_tty()` and `ansi_hide_cursor()` and related functions now default to the `""auto""` stream, which is automatically selected to be either `stdout()` or `stderr()`. See the manual for details (#144)."
cli,110,"The default theme now quotes file names, paths, email addresses if they don't start or end with an alphanumeric character or a slash. This is to make it easier to spot names that start or end with a space (#167)."
cli,111,"`make_spinner()` clears the line properly now (@​tzakharko, #164)."
cli,112,"Semantic cli functions now automatically replace Unicode non-breaking space characters (`\u00a0`) with regular space characters, right before output. They are still used to calculate the line breaks, but not outputted (#161)."
cli,113,"Progress bars now respect `is_dynamic_tty()` and do not output `\r` when this is false (@​jimhester, #177)"
cli,114,The status bar now does not simplify multiple spaces by a single space.
cli,115,cli now does not crash if it fails to detect whether the RStudio theme is a dark theme (#138).
cli,116,"cli now works better with wide Unicode characters, for example emojis. In particular, a status bar containing emojis is cleared properly (#133)."
cli,117,"The status bar now does not flicker when updated, in terminals (#135)."
cli,118,Symbols (`symbol$*`) are now correctly printed in RStudio on Windows (#124).
cli,119,"The default theme for `cli_code()` output looks better now, especially in RStudio (#123)."
cli,120,"Remove spurious newline after a `cli_process_start()` was cleared manually, and also at the end of the function."
cli,121,"Use Oxford comma when listing 3 or more items (@​jonocarroll, #128)."
cli,122,"Fix a bug in `is_dynamic_tty()`, setting `R_CLI_DYNAMIC=""FALSE""` now properly turns dynamic tty off (#70)."
cli,123,"cli has now functions to add ANSI styles to text. These use the crayon package internally, and provide a simpler interface. See the `col_*`, `bg_*`, `style_*` and also the `make_ansi_style()` and `combine_ansi_styles()` functions (#51)."
cli,124,New `is_dynamic_tty()` function detects if `\r` should be used for a stream (#62).
cli,125,New `is_ansi_tty()` function detects if ANSI control sequences can be used for a stream.
cli,126,"New `ansi_hide_cursor()`, `ansi_show_cursor()` and `ansi_with_hidden_cursor()` functions to hide and show the cursor in terminals."
cli,127,New `make_spinner()` function helps integrating spinners into your functions.
cli,128,Now `symbol` always uses ASCII symbols when the `cli.unicode` option is set to `FALSE`.
cli,129,"New `cli_sitrep()` function, situation report about UTF-8 and ANSI color support (#53)."
cli,130,"Fall back to ASCII only characters on non-Windows platforms without UTF-8 support, and also in LaTeX when running knitr (#34)."
crayon,1,"crayon functions now mark their output with the right encoding, if their input was marked (#136, #138)."
crayon,2,crayon now does not fail to install from source if the utils package is not loaded (#133).
crayon,3,"You can use the new `cli.default_num_colors` option to set the default number of ANSI colors, only if ANSI support is otherwise detected. See the details in the manual of `num_ansi_colors()`. (From cli.)"
crayon,4,crayon now install cleanly on R 3.4.x and R 3.5.x on Windows (#131).
crayon,5,Better ANSI support detection if there is an active `sink()`.
crayon,6,Support ANSI markup in RStudio jobs.
crayon,7,ANSI color support detection works correctly now in older RStudio (#112).
crayon,8,ANSI color support detection works correctly now on older R versions (#109).
crayon,9,Overhauled and much improved detection of ANSI color support and number of ANSI colors.
crayon,10,`NO_COLOR` environment variable disables color (#64)
crayon,11,Now colors are turned on if ANSICON (<https://github.com/adoxa/ansicon>) is active.
crayon,12,New `hyperlink()` function to add hyperlinks to terminal output. The new `has_hyperlink()` function tests if the current `stdout()` supports this.
crayon,13,"`reset` style now restores previous style for text following it (@​brodieG, #35)."
crayon,14,Warnings are no longer generated when the INSIDE_EMACS environment variable is set but does not include a version number.
crayon,15,Style functions convert arguments to character now
crayon,16,Autodetect RStudio ANSI support
crayon,17,"`col_align()` gains `type` argument, default `""width""` (#54)."
crayon,18,"Removed dependency to `memoise` (@​brodieG, #25)"
crayon,19,"Fixed a test case that changed the `crayon.enabled` setting, potentially (@​brodieG)"
crayon,20,"Added `crayon.colors` option, to specify the number of colors explicitly"
crayon,21,"`TERM=xterm` and `tput colors=8` will use 256 colors, as 256 colors are usually supported in this case (#17)"
crayon,22,"Support colors in ConEmu and cmder, on Windows"
crayon,23,Fix color detection in Emacs tramp
crayon,24,`col_strsplit` and `col_substr` corner cases:
crayon,24,"• handle empty chunks at beginning or end of strings like `base::strsplit` (@​brodieG, #26)"
crayon,24,• explicitly deal with 'split' values that are not length 1 as that is not currently supported
crayon,24,"• handle zero length `x` argument in `col_substr`, and add more explicit error messages for corner cases"
crayon,28,Some performance improvements to `col_substr` (@​brodieG)
crayon,29,"Change rgb to ANSI code mapping, based on the ""paint"" ruby gem (@​richfitz, #33, #34)"
crayon,30,Fixed some `R CMD check` problems.
crayon,31,Colors are turned on by default in Emacs ESS 23.x and above.
crayon,32,"Functions to turn on and off a style: `start`, `finish`."
crayon,33,"Really fix `tput` corner cases (@​jimhester, #21)"
crayon,34,"Fix detecting number of colors when `tput` exists, but fails with an error and/or does not return anything useful. (@​jimhester, #18, #19)"
crayon,35,"Fix detection of number of colors, it was cached from installation time (#17)."
crayon,36,Color aware string operations. They are slow and experimental currently.
crayon,37,`show_ansi_colors()` prints all supported colors on the screen.
crayon,38,"256 colors, on terminals that support it."
crayon,39,"Disable colors on Windows, they are not supported in the default setup."
crayon,40,First released version.
dbplyr,1,"Catch unsupported argument `pivot_wider(id_expand = TRUE)` and `pivot_longer(cols_vary)` (@​mgirlich, #1109)."
dbplyr,2,"Fixed an issue when using a window function after a `summarise()` and `select()` (@​mgirlich, #1104)."
dbplyr,3,"Fixed an issue when there where at least 3 joins and renamed variables (@​mgirlich, #1101)."
dbplyr,4,"`across()` now uses the original value when a column is overriden to match the behaviour of dplyr. For example `mutate(df, across(c(x, y), ~ .x / x))` now produces"
dbplyr,4,"```
SELECT `x` / `x` AS `x`, `y` / `x` AS `y`
FROM `df`
```"
dbplyr,4,instead of
dbplyr,4,"```
SELECT `x`, `y` / `x` AS `y`
FROM (
  SELECT `x` / `x` AS `x`, `y`
  FROM `df`
) 
```"
dbplyr,4,"(@​mgirlich, #1015)."
dbplyr,5,"Compatibility with purrr 1.0.0 (@​mgirlich, #1085)."
dbplyr,6,"`stringr::str_like()` (new in 1.5.0) is translated to the closest `LIKE` equivalent (@​rjpat, #509)"
dbplyr,7,In preparation for dplyr 1.1.0:
dbplyr,7,"• The `.by` argument is supported (@​mgirlich, #1051)."
dbplyr,7,"• Passing `...` to `across()` is deprecated because the evaluation timing of `...` is ambiguous. Now instead of (e.g.) `across(a:b, mean, na.rm = TRUE)` use `across(a:b, \(x) mean(x, na.rm = TRUE)`"
dbplyr,7,"• `pick()` is translated (@​mgirlich, #1044)."
dbplyr,7,"• `case_match()` is translated (@​mgirlich, #1020)."
dbplyr,7,"• `case_when()` now supports the `.default` argument (@​mgirlich, #1017)."
dbplyr,13,"Variables that aren't found in either the data or in the environment now produce an error (@​mgirlich, #907)."
dbplyr,14,"dbplyr now produces fewer subqueries resulting in shorter, more readable, and, in some cases, faster SQL. The following combination of verbs now avoids a subquery if possible:"
dbplyr,14,"• `*_join()` + `select()` (@​mgirlich, #876)."
dbplyr,14,"• `select()` + `*_join()` (@​mgirlich, #875)."
dbplyr,14,"• `mutate()` + `filter()` and `filter()` + `filter()` (@​mgirlich, #792)."
dbplyr,14,"• `distinct()` (@​mgirlich, #880)."
dbplyr,14,"• `summarise()` + `filter()` now translates to `HAVING` (@​mgirlich, #877)."
dbplyr,14,"• `left/inner_join()` + `left/inner_join()` (@​mgirlich, #865)."
dbplyr,21,"dbplyr now uses `SELECT *` after a join instead of explicitly selecting every column, where possible (@​mgirlich, #898)."
dbplyr,22,"Joins only use the table aliases (""LHS"" and ""RHS"") if necessary (@​mgirlich)."
dbplyr,23,"When using common table expressions, the results of joins and set operations are now reused (@​mgirlich, #978)."
dbplyr,24,"Many errors have been improved and now show the function where the error happened instead of a helper function (@​mgirlich, #907)."
dbplyr,25,"Errors produced by the database, e.g. in `collect()` or `rows_*()`, now show the verb where the error happened (@​mgirlich)."
dbplyr,26,"`window_order()` now produces a better error message when applied to a data frame (@​mgirlich, #947)."
dbplyr,27,"Using a named `across()` now gives a clear error message (@​mgirlich, #761)."
dbplyr,28,"Keyword highlighting can now be customised via the option `dbplyr_highlight`. Turn it off via `options(dbplyr_highlight = FALSE)` or pass a custom ansi style, e.g. `options(dbplyr_highlight = cli::combine_ansi_styles(""bold"", ""cyan""))` (@​mgirlich, #974)."
dbplyr,29,"The rank functions (`row_number()`, `min_rank()`, `rank()`, `dense_rank()`, `percent_rank()`, and `cume_dist()`) now give missing values the rank NA to match the behaviour of dplyr (@​mgirlich, #991)."
dbplyr,30,`NA`s in `blob()`s are correctly translated to `NULL` (#983).
dbplyr,31,"`copy_inline()` gains a `types` argument to specify the SQL column types (@​mgirlich, #963)."
dbplyr,32,"`cur_column()` is now supported (@​mgirlich, #951)."
dbplyr,33,"`distinct()` returns columns ordered the way you request, not the same as the input data (@​mgirlich)."
dbplyr,34,"`fill()` can now fill ""downup"" and ""updown"" (@​mgirlich, #1057), and now order by non-numeric columns also in the up direction (@​mgirlich, #1057)."
dbplyr,35,`filter()` now works when using a window function and an external vector (#1048).
dbplyr,36,"`group_by()` + renamed columns works once again (@​mgirlich, #928)."
dbplyr,37,"`last()` is correctly translated when no window frame is specified (@​mgirlich, #1063)."
dbplyr,38,"`setOldClass()` uses a namespace, fixing an installation issue (@​mgirlich, #927)."
dbplyr,39,"`sql()` is now translated differently. The `...` are now evaluated locally instead of being translated with `translate_sql()` (@​mgirlich, #952)."
dbplyr,40,HANA:
dbplyr,40,• Correctly translates `as.character()` (#1027).
dbplyr,40,• `copy_inline()` now works for Hana (#950)
dbplyr,43,MySQL:
dbplyr,43,"• `str_flatten()` uses `collapse = """"` by default (@​fh-afrachioni, #993)"
dbplyr,45,Oracle:
dbplyr,45,"• `slice_sample()` now works for Oracle (@​mgirlich, #986)."
dbplyr,45,• `copy_inline()` now works for Oracle (#972)
dbplyr,48,PostgreSQL:
dbplyr,48,• Generates correct literals for Dates (#727).
dbplyr,48,"• `str_flatten()` uses `collapse = """"` by default (@​fh-afrachioni, #993)"
dbplyr,48,"• `rows_*()` use the column types of `x` when auto copying (@​mgirlich, #909)."
dbplyr,52,Redshift:
dbplyr,52,"• `round()` now respects the `digits` argument (@​owenjonesuob, #1033)."
dbplyr,52,"• No longer tries to use named windows anymore (@​owenjonesuob, #1035)."
dbplyr,52,"• `copy_inline()` now works for Redshift (#949, thanks to @​ejneer for an initial implementation)."
dbplyr,52,"• `str_flatten()` uses `collapse = """"` by default (@​fh-afrachioni, #993)"
dbplyr,57,Snowflake:
dbplyr,58,"numeric functions: `all()`, `any()`, `log10()`, `round()`, `cor()`, `cov()` and `sd()`."
dbplyr,59,"date functions: `day()`, `mday()`, `wday()`, `yday()`, `week()`, `isoweek()`, `month()`, `quarter()`, `isoyear()`, `seconds()`, `minutes()`, `hours()`, `days()`, `weeks()`, `months()`, `years()` and `floor_date()`."
dbplyr,60,"string functions: `grepl()`, `paste()`, `paste0()`, `str_c()`, `str_locate()`, `str_detect()`, `str_replace()`, `str_replace_all()`, `str_remove()`, `str_remove_all()`, `str_trim()`, `str_squish()` and `str_flatten()` (@​fh-afrachioni, #860)."
dbplyr,61,"`str_flatten()` uses `collapse = """"` by default (@​fh-afrachioni, #993)"
dbplyr,62,SQLite:
dbplyr,62,"• `quantile()` gives a better error saying that it is not supported (@​mgirlich, #1000)."
dbplyr,64,SQL server:
dbplyr,64,"• `as.POSIXct()` now translated correctly (@​krlmlr, #1011)."
dbplyr,64,• `median()` now translated correctly (#1008).
dbplyr,64,"• `pivot_wider()` works again for MS SQL (@​mgirlich, #929)."
dbplyr,64,"• Always use 1 and 0 as literals for logicals (@​krlmlr, #934)."
dbplyr,69,Teradata:
dbplyr,69,"• Querying works again. Unfortunately, the fix requires every column to once again by explicitly selected (@​mgirlich, #966)."
dbplyr,69,"• New translations for `as.Date()`, `week()`, `quarter()`, `paste()`, `startsWith()`, `row_number()`, `weighted.mean()`, `lead()`, `lag()`, and `cumsum()` (@​overmar, #913)."
dbplyr,72,"Querying Oracle databases works again. Unfortunately, the fix requires every column to be explicitly selected again (@​mgirlich, #908)."
dbplyr,73,"`semi_join()` and `anti_join()` work again for Spark (@​mgirlich, #915)."
dbplyr,74,"`str_c()` is now translated to `||` in Oracle (@​mgirlich, #921)."
dbplyr,75,"`sd()`, `var()`, `cor()` and `cov()` now give clear error messages on databases that don't support them."
dbplyr,76,`any()` and `all()` gain default translations for all backends.
dbplyr,77,"SQL formatting has been considerably improved with new wrapping and indenting. `show_query()` creates more readable queries by printing the keywords in blue (@​mgirlich, #644). When possible dbplyr now uses `SELECT *` instead of explicitly selecting every column (@​mgirlich)."
dbplyr,78,"Added support for `rows_insert()`, `rows_append()`, `rows_update()`, `rows_patch()`, `rows_upsert()`, and `rows_delete()` (@​mgirlich, #736)."
dbplyr,79,"Added `copy_inline()` as a `copy_to()` equivalent that does not need write access (@​mgirlich, #628)."
dbplyr,80,"`remote_query()`, `show_query()`, `compute()` and `collect()` have an experimental `cte` argument. If `TRUE` the SQL query will use common table expressions instead of nested queries (@​mgirlich, #638)."
dbplyr,81,"New `in_catalog()`, which works like `in_schema()`, but allows creation of table identifiers consisting of three components: catalog, schema, name (#806, @​krlmlr)."
dbplyr,82,"When possible, dbplyr now uses `SELECT *` instead of explicitly selecting every column (@​mgirlich)."
dbplyr,83,"New translation for `cut()` (@​mgirlich, #697)."
dbplyr,84,Improved translations for specific backends:
dbplyr,84,"• `as.Date()` for Oracle (@​mgirlich, #661)."
dbplyr,84,"• `case_when()` with a final clause of the form `TRUE ~ ...` uses `ELSE ...` for SQLite (@​mgirlich, #754)."
dbplyr,84,"• `day()`, `week()`, `isoweek()`, and `isoyear()` for Postgres (@​mgirlich, #675)."
dbplyr,84,• `explain()` for ROracle (@​mgirlich).
dbplyr,84,"• `fill()` for SQL Server (#651, @​mgirlich) and RPostgreSQL (@​mgirlich)."
dbplyr,84,"• `quantile()` for SQL Server (@​mgirlich, #620)."
dbplyr,84,"• `str_flatten()` for Redshift (@​hdplsa, #804)"
dbplyr,84,"• `slice_sample()` for MySQL/MariaDB and SQL Server (@​mgirlich, #617)."
dbplyr,84,"• `union()` for Hive (@​mgirlich, #663)."
dbplyr,94,"The backend function `dbplyr_fill0()` (used for databases that lack `IGNORE NULLS` support) now respects database specific translations (@​rsund, #753)."
dbplyr,95,"Calls of the form `stringr::foo()` or `lubridate::foo()` are now evaluated in the database, rather than locally (#197)."
dbplyr,96,"Unary plus (e.g. `db %>% filter(x == +1)`) now works (@​mgirlich, #674)."
dbplyr,97,"`is.na()`, `ifelse()`, `if_else()`, `case_when()`, and `if()` generate slightly more compact SQL (@​mgirlich, #738)."
dbplyr,98,"`if_else()` now supports the `missing` argument (@​mgirlich, #641)."
dbplyr,99,"`n()` now respects the window frame (@​mgirlich, #700)."
dbplyr,100,"`quantile()` no longer errors when using the `na.rm` argument (@​mgirlich, #600)."
dbplyr,101,"`remote_name()` now returns a name in more cases where it makes sense (@​mgirlich, #850)."
dbplyr,102,"The partial evaluation code is now more aligned with `dtplyr`. This makes it easier to transfer bug fixes and new features from one package to the other. In this process the second argument of `partial_eval()` was changed to a lazy frame instead of a character vector of variables (@​mgirlich, #766). Partially evaluated expressions with infix operations are now correctly translated. For example `translate_sql(!!expr(2 - 1) * x)` now works (@​mgirlich, #634)."
dbplyr,103,"New `pillar::tbl_format_header()` method for lazy tables: Printing a lazy table where all rows are displayed also shows the exact number of rows in the header. The threshold is controlled by `getOption(""pillar.print_min"")`, with a default of 10 (#796, @​krlmlr)."
dbplyr,104,The 1st edition extension mechanism is formally deprecated (#507).
dbplyr,105,"`across()`, `if_any()` and `if_all()` now defaults to `.cols = everything()` (@​mgirlich, #760). If `.fns` is not provided `if_any()` and `if_all()` work like a parallel version of `any()`/`any()` (@​mgirlich, #734)."
dbplyr,106,"`across()`, `if_any()`, and `if_all()` can now translate evaluated lists and functions (@​mgirlich, #796), and accept the name of a list of functions (@​mgirlich, #817)."
dbplyr,107,"Multiple `across()` calls in `mutate()` and `transmute()` can now access freshly created variables (@​mgirlich, #802)."
dbplyr,108,"`add_count()` now doesn't change the groups of the input (@​mgirlich, #614)."
dbplyr,109,"`compute()` can now handle when `name` is named by unnaming it first (@​mgirlich, #623), and now works when `temporary = TRUE` for Oracle (@​mgirlich, #621)."
dbplyr,110,"`distinct()` now supports `.keep_all = TRUE` (@​mgirlich, #756)."
dbplyr,111,"`expand()` now works in DuckDB (@​mgirlich, #712)."
dbplyr,112,"`explain()` passes `...` to methods (@​mgirlich, #783), and works for Redshift (@​mgirlich, #740)."
dbplyr,113,"`filter()` throws an error if you supply a named argument (@​mgirlich, #764)."
dbplyr,114,"Joins disambiguates columns that only differ in case (@​mgirlich, #702). New arguments `x_as` and `y_as` allow you to control the table alias used in SQL query (@​mgirlich, #637). Joins with `na_matches = ""na""` now work for DuckDB (@​mgirlich, #704)."
dbplyr,115,"`mutate()` and `transmute()` use named windows if a window definition is used at least twice and the backend supports named windows (@​mgirlich, #624)."
dbplyr,116,"`mutate()` now supports the arguments `.keep`, `.before`, and `.after` (@​mgirlich, #802)."
dbplyr,117,`na.rm = FALSE` only warns once every 8 hours across all functions (#899).
dbplyr,118,"`nesting()` now supports the `.name_repair` argument (@​mgirlich, #654)."
dbplyr,119,"`pivot_longer()` can now pivot a column named `name` (@​mgirlich, #692), can repair names (@​mgirlich, #694), and can work with multiple `names_from` columns (@​mgirlich, #693)."
dbplyr,120,"`pivot_wider(values_fn = )` and `pivot_longer(values_transform = )` can now be formulas (@​mgirlich, #745)."
dbplyr,121,"`pivot_wider()` now supports the arguments `names_vary`, `names_expand`, and `unused_fn` (@​mgirlich, #774)."
dbplyr,122,"`remote_name()` now returns a name in more cases where it makes sense (@​mgirlich, #850)."
dbplyr,123,`sql_random()` is now exported.
dbplyr,124,"`ungroup()` removes variables in `...` from grouping (@​mgirlich, #689)."
dbplyr,125,"`transmute()` now keeps grouping variables (@​mgirlich, #802)."
dbplyr,126,New support for Snowflake (@​edgararuiz)
dbplyr,127,"`compute()`, `sql_table_index()`, and `sql_query_wrap()` now work with schemas (@​mgirlich, #595)."
dbplyr,128,`if_any()` and `if_all()` are now translated.
dbplyr,129,"`group_by()` now ungroups when the dots argument is empty and `.add` is `FALSE` (@​mgirlich, #615)."
dbplyr,130,"`sql_escape_date()` and `sql_escape_datetime` gain methods for MS Access (@​erikvona, #608)."
dbplyr,131,"Thanks to @​mgirlich, dbplyr gains support for key verbs from tidyr: `pivot_longer()` (#532), `pivot_wider()` (#543), `expand()` (#538), `complete()` (#538), `replace_na()` (#538), `fill()` (#566)."
dbplyr,132,@​mgirlich is now a dbplyr author in recognition of his significant and sustained contributions.
dbplyr,133,"`across()` implementation has been rewritten to support more inputs: it now translates formulas (#525), works with SQL functions that don't have R translations (#534), and work with `NULL` (#554)"
dbplyr,134,"`summarise()` now supports argument `.groups` (@​mgirlich, #584)."
dbplyr,135,"All backends: `str_sub()`, `substr()` and `substring()` get better translations (#577). Most importantly, the results of using negative locations should match the underlying R implementations more closely."
dbplyr,136,MS SQL:
dbplyr,136,"• `as.integer()` and `as.integer64()` translations cast first to `NUMERIC` to avoid CASTing weirdness (@​DavidPatShuiFong, #496)."
dbplyr,136,• Assumes a boolean context inside of `[` (#546)
dbplyr,136,• `str_sub()` with `end = -1` now works (#577).
dbplyr,140,"Redshift: `lag()` and `lead()` lose the `default` parameter since it's not supported (@​hdplsa, #548)."
dbplyr,141,"SQLite: custom translation of `full_join()` and `right_join()` (@​mgirlich, #536)."
dbplyr,142,RPostgreSQL backend warns if `temporary = TRUE` since temporary tables are not supported by `RPostgreSQL::dbWriteTable()` (#574).
dbplyr,143,`count()` method provides closer match to dplyr semantics (#347).
dbplyr,144,"`distinct()` now respects grouping (@​mgirlich, #535)."
dbplyr,145,"`db_connection_describe()` no longer uses partial matching (@​mgirlich, #564)."
dbplyr,146,`pull()` no longer `select()`s the result when there's already only one variable (#562).
dbplyr,147,"`select()` no longer relocates grouping variables to the front (@​mgirlich, #568). and informs when adding missing grouping variables (@​mgirlich, #559)."
dbplyr,148,`tbl.src_dbi(...)` now passed on to `tbl_sql()` (#530).
dbplyr,149,`across()` is now translated into individual SQL statements (#480).
dbplyr,150,`rename()` and `select()` support dplyr 1.0.0 tidyselect syntax (apart from predicate functions which can't easily work on computed queries) (#502).
dbplyr,151,`relocate()` makes it easy to move columns (#494) and `rename_with()` makes it easy to rename columns programmatically (#502).
dbplyr,152,"`slice_min()`, `slice_max()`, and `slice_order()` are now supported. `slice_head()` and `slice_tail()` throw clear error messages (#394)"
dbplyr,153,Documentation has been radically improved with new topics for each major verb and each backend giving more details about the SQL translation.
dbplyr,154,"`intersect()`, `union()` and `setdiff()` gain an `all` argument to add the `ALL` argument (#414)."
dbplyr,155,"Join functions gains a `na_matches` argument that allows you to control whether or not `NA` (`NULL`) values match other `NA` values. The default is `""never""`, which is the usual behaviour in databases. You can set `na_matches = ""na""` to match R's usual join behaviour (#180). Additional arguments error (instead of being silently swallowed) (#382)."
dbplyr,156,Joins now only use aliases where needed to disambiguate columns; this should make generated queries more readable.
dbplyr,157,"Subqueries no longer include an `ORDER BY` clause. This is not part of the SQL spec, and has very limited support across databases. Now such queries generate a warning suggesting that you move your `arrange()` call later in the pipeline (#276). (There's one exception: `ORDER BY` is still generated if `LIMIT` is present; this tends to affect the returns rows but not necessarily their order)."
dbplyr,158,Subquery names are now scoped within the query. This makes query text deterministic which helps some query optimisers/cachers (#336).
dbplyr,159,`sql_optimise()` now can partially optimise a pipeline; due to an unfortunate bug it previously gave up too easily.
dbplyr,160,"`in_schema()` quotes each input individually (#287) (use `sql()` to opt out of quoting, if needed). And `DBI::Id()` should work anywhere that `in_schema()` does."
dbplyr,161,Experimental new SAP HANA backend (#233). Requires the latest version of odbc.
dbplyr,162,All backends:
dbplyr,162,"• You can now use `::` in translations, so that (e.g.) `dbplyr::n()` is translated to `count(*)` (#207)."
dbplyr,162,• `[[` can now also translate numeric indices (#520).
dbplyr,162,• `%/%` now generates a clear error message; previously it was translated to `/` which is not correct (#108).
dbplyr,162,• `n()` is translated to `count(*)` instead of `count()` (#343).
dbplyr,162,• `sub_str()` translation is more consistent in edge cases (@​ianmcook).
dbplyr,162,"• All `median()` (@​lorenzwalthert, #483), `pmin()`, `pmax()` (#479), `sd()` and `var()` functions have an `na.rm` argument that warns once when not `TRUE`. This makes them consistent with `mean()` and `sum()`."
dbplyr,162,• `substring()` is now translated the same way as `substr()` (#378).
dbplyr,170,"[blob](https://blob.tidyverse.org/) vectors can now be used with `!!` and `!!!` operators, for example in `filter()` (@​okhoma, #433)"
dbplyr,171,MySQL uses standard SQL for index creation.
dbplyr,172,"MS SQL translation does better a distinguishing between bit and boolean (#377, #318). `if` and `ifelse` once again generate `IIF`, creating simpler expressions. `as.*()` function uses `TRY_CAST()` instead of `CAST()` for version 11+ (2012+) (@​DavidPatShuiFong, #380)."
dbplyr,173,odbc no longer translates `count()`; this was an accidental inclusion.
dbplyr,174,"Oracle translation now depends on Oracle 12c, and uses a ""row-limiting"" clause for `head()`. It gains translations for `today()` and `now()`, and improved `as.Date()` translation (@​rlh1994, #267)."
dbplyr,175,"PostgreSQL: new translations for lubridate period functions `years()`, `months()`, `days()`, and `floor_date()` (@​bkkkk, #333) and stringr functions `str_squish()`, `str_remove()`, and `str_remove_all()` (@​shosaco)."
dbplyr,176,New RedShift translations when used with `RPostgres::Redshift()`.
dbplyr,176,"• `str_replace()` errors since there's no Redshift translation, and `str_replace_all()` uses `REGEXP_REPLACE()` (#446)."
dbplyr,176,• `paste()` and `paste0()` use `||` (#458).
dbplyr,176,• `as.numeric()` and `as.double()` cast to `FLOAT` (#408).
dbplyr,176,• `substr()` and `str_sub()` use `SUBSTRING()` (#327).
dbplyr,181,"SQLite gains translations for lubridate functions `today()`, `now()`, `year()`, `month()`, `day()`, `hour()`, `minute()`, `second()`,`yday()` (#262), and correct translation for `median()` (#357)."
dbplyr,182,New `dbplyr_edition()` generic allows you to opt-in to the 2nd edition of the dbplyr API.
dbplyr,183,"`db_write_table()` now calls `DBI::dbWriteTable()` instead of nine generics that formerly each did a small part: `db_create_indexes()`, `db_begin()`, `db_rollback()`, `db_commit()`, `db_list_tables()`, `drop_drop_table()`, `db_has_table()`, `db_create_table()`, and `db_data_types()`. You can now delete the methods for these generics. `db_query_rows()` is no longer used; it appears that it hasn't been used for some time, so if you have a method, you can delete it."
dbplyr,184,`DBI::dbQuoteIdentifier()` is now used instead of `sql_escape_ident()` and `DBI::dbQuoteString()` instead of `sql_escape_string()`.
dbplyr,185,A number of `db_*` generics have been replaced with new SQL generation generics:
dbplyr,185,• `dplyr::db_analyze()` -\> `dbplyr::sql_table_analyze()`
dbplyr,185,• `dplyr::db_create_index()` -\> `dbplyr::sql_table_index()`
dbplyr,185,• `dplyr::db_explain()` -\> `dbplyr::sql_queriy_explain()`
dbplyr,185,• `dplyr::db_query_fields()` -\> `dbplyr::sql_query_fields()`
dbplyr,185,• `dplyr::db_save_query()` -\> `dbplyr::sql_query_save()`
dbplyr,190,This makes them easier to test and is an important part of the process of moving all database generics in dbplyr (#284).
dbplyr,191,A number of other generics have been renamed to facilitate the move from dplyr to dbplyr:
dbplyr,191,• `dplyr::sql_select()` -\> `dbplyr::sql_query_select()`
dbplyr,191,• `dplyr::sql_join()` -\> `dbplyr::sql_query_join()`
dbplyr,191,• `dplyr::sql_semi_join()` -\> `dbplyr::sql_query_semi_join()`
dbplyr,191,• `dplyr::sql_set_op()` -\> `dbplyr::sql_query_set_op()`
dbplyr,191,• `dplyr::sql_subquery()` -\> `dbplyr::sql_query_wrap()`
dbplyr,191,• `dplyr::db_desc()` -\> `dbplyr::db_connection_describe()`
dbplyr,198,New `db_temporary_table()` generic makes it easier to work with databases that require temporary tables to be specially named.
dbplyr,199,"New `sql_expr_matches()` generic allows databases to use more efficient alternatives when determine if two values ""match"" (i.e. like equality but a pair of `NULL`s will also match). For more details, see <https://modern-sql.com/feature/is-distinct-from>"
dbplyr,200,New `sql_join_suffix()` allows backends to control the default suffixes used (#254).
dbplyr,201,All old lazy eval shims have been removed. These have been deprecated for some time.
dbplyr,202,Date-time escaping methods for Athena and Presto have moved to the packages where they belong.
dbplyr,203,Attempting to embed a Shiny reactive in a query now gives a helpful error (#439).
dbplyr,204,`copy_lahman()` and `copy_nycflights13()` (and hence `nycflights13_sqlite()`) and friends now return DBI connections rather than the now deprecated `src_dbi()` (#440).
dbplyr,205,"`copy_to()` can now `overwrite` when table is specified with schema (#489), and gains an `in_transaction` argument used to optionally suppress the transaction wrapper (#368)."
dbplyr,206,`distinct()` no longer duplicates column if grouped (#354).
dbplyr,207,`transmute()` now correctly tracks variables it needs when creating subqueries (#313).
dbplyr,208,`mutate()` grouping variables no longer generates a downstream error (#396)
dbplyr,209,`mutate()` correctly generates subqueries when you re-use the same variable three or more times (#412).
dbplyr,210,"`window_order()` overrides ordering, rather than appending to it."
dbplyr,211,"Internally `DBI::dbExecute()` now uses `immediate = TRUE`; this improves support for session-scoped temporary tables in MS SQL (@​krlmlr, #438)."
dbplyr,212,"Subqueries with `ORDER BY` use `TOP 9223372036854775807` instead of `TOP 100 PERCENT` on SQL Server for compatibility with Azure Data Warehouse (#337, @​alexkyllo)."
dbplyr,213,"`escape()` now supports `blob` vectors using new `sql_escape_raw()` generic. It enables using [blob](https://blob.tidyverse.org/) variables in dplyr verbs, for example to filter nvarchar values by UTF-16 blobs (see https://github.com/r-dbi/DBI/issues/215#issuecomment-356376133). (@​okhoma, #433)"
dbplyr,214,"Added `setOldClass()` calls for `""ident""` and `""ident_q""` classes for compatibility with dplyr 1.0.0 (#448, @​krlmlr)."
dbplyr,215,"Postgres `str_detect()` translation uses same argument names as stringr, and gains a `negate` argument (#444)."
dbplyr,216,"`semi_join()` and `anti_join()` now correctly support the `sql_on` argument (#443, @​krlmlr)."
dbplyr,217,dbplyr now uses RPostgres (instead of RPostgreSQL) and RMariaDB (instead of RMySQL) for its internal tests and data functions (#427).
dbplyr,218,"The Date and POSIXt methods for `escape()` now use exported `sql_escape_date()` and `sql_escape_datetime()` generics to allow backend specific formatting of date and datetime literals. These are used to provide methods for Athena and Presto backends (@​OssiLehtinen, #384, #391)."
dbplyr,219,"`first()`, `last()`, `nth()`, `lead()` and `lag()` now respect the `window_frame()` (@​krlmlr, #366)."
dbplyr,220,"SQL server: new translations for `str_flatten()` (@​PauloJhonny, #405)."
dbplyr,221,"SQL server: temporary datasets are now session-local, not global (#401)."
dbplyr,222,"Postgres: correct `str_detect()`, `str_replace()` and `str_replace_all()` translation (@​shosaco, #362)."
dbplyr,223,Fix bug when partially evaluating unquoting quosure containing a single symbol (#317)
dbplyr,224,Fixes for rlang and dpylr compatibility.
dbplyr,225,`x %in% y` strips names of `y` (#269).
dbplyr,226,"Enhancements for scoped verbs (`mutate_all()`, `summarise_if()`, `filter_at()` etc) (#296, #306)."
dbplyr,227,MS SQL use `TOP 100 PERCENT` as stop-gap to allow subqueries with `ORDER BY` (#277).
dbplyr,228,"Window functions now translated correctly for Hive (#293, @​cderv)."
dbplyr,229,"`` Error: `con` must not be NULL ``: If you see this error, it probably means that you have forgotten to pass `con` down to a dbplyr function. Previously, dbplyr defaulted to using `simulate_dbi()` which introduced subtle escaping bugs. (It's also possible I have forgotten to pass it somewhere that the dbplyr tests don't pick up, so if you can't figure it out, please let me know)."
dbplyr,230,"Subsetting (`[[`, `$`, and `[`) functions are no longer evaluated locally. This makes the translation more consistent and enables useful new idioms for modern databases (#200)."
dbplyr,231,"MySQL/MariaDB (https://mariadb.com/kb/en/library/window-functions/) and SQLite (https://www.sqlite.org/windowfunctions.html) translations gain support for window functions, available in Maria DB 10.2, MySQL 8.0, and SQLite 3.25 (#191)."
dbplyr,232,"Overall, dplyr generates many fewer subqueries:"
dbplyr,232,• Joins and semi-joins no longer add an unneeded subquery (#236). This is facilitated by the new `bare_identifier_ok` argument to `sql_render()`; the previous argument was called `root` and confused me.
dbplyr,232,"• Many sequences of `select()`, `rename()`, `mutate()`, and `transmute()` can be collapsed into a single query, instead of always generating a subquery (#213)."
dbplyr,235,"New `vignette(""sql"")` describes some advantages of dbplyr over SQL (#205) and gives some advice about writing literal SQL inside of dplyr, when you need to (#196)."
dbplyr,236,"New `vignette(""reprex"")` gives some hints on creating reprexes that work anywhere (#117). This is supported by a new `tbl_memdb()` that matches the existing `tbl_lazy()`."
dbplyr,237,"All `..._join()` functions gain an `sql_on` argument that allows specifying arbitrary join predicates in SQL code (#146, @​krlmlr)."
dbplyr,238,"New translations for some lubridate functions: `today()`, `now()`, `year()`, `month()`, `day()`, `hour()`, `minute()`, `second()`, `quarter()`, `yday()` (@​colearendt, @​derekmorr). Also added new translation for `as.POSIXct()`."
dbplyr,239,"New translations for stringr functions: `str_c()`, `str_sub()`, `str_length()`, `str_to_upper()`, `str_to_lower()`, and `str_to_title()` (@​colearendt). Non-translated stringr functions throw a clear error."
dbplyr,240,"New translations for bitwise operations: `bitwNot()`, `bitwAnd()`, `bitwOr()`, `bitwXor()`, `bitwShiftL()`, and `bitwShiftR()`. Unlike the base R functions, the translations do not coerce arguments to integers (@​davidchall, #235)."
dbplyr,241,New translation for `x[y]` to `CASE WHEN y THEN x END`. This enables `sum(a[b == 0])` to work as you expect from R (#202). `y` needs to be a logical expression; if not you will likely get a type error from your database.
dbplyr,242,"New translations for `x$y` and `x[[""y""]]` to `x.y`, enabling you to index into nested fields in databases that provide them (#158)."
dbplyr,243,The `.data` and `.env` pronouns of tidy evaluation are correctly translated (#132).
dbplyr,244,"New translation for `median()` and `quantile()`. Works for all ANSI compliant databases (SQL Server, Postgres, MariaDB, Teradata) and has custom translations for Hive. Thanks to @​edavidaja for researching the SQL variants! (#169)"
dbplyr,245,`na_if()` is correct translated to `NULLIF()` (rather than `NULL_IF`) (#211).
dbplyr,246,"`n_distinct()` translation throws an error when given more than one argument. (#101, #133)."
dbplyr,247,"New default translations for `paste()`, `paste0()`, and the hyperbolic functions (these previously were only available for ODBC databases)."
dbplyr,248,"Corrected translations of `pmin()` and `pmax()` to `LEAST()` and `GREATEST()` for ANSI compliant databases (#118), to `MIN()` and `MAX()` for SQLite, and to an error for SQL server."
dbplyr,249,New translation for `switch()` to the simple form of `CASE WHEN` (#192).
dbplyr,250,"SQL simulation has been overhauled. It now works reliably, is better documented, and always uses ANSI escaping (i.e. `` ` `` for field names and `'` for strings)."
dbplyr,251,"`tbl_lazy()` now actually puts a `dbplyr::src` in the `$src` field. This shouldn't affect any downstream code unless you were previously working around this weird difference between `tbl_lazy` and `tbl_sql` classes. It also includes the `src` class in its class, and when printed, shows the generated SQL (#111)."
dbplyr,252,MySQL/MariaDB
dbplyr,252,"• Translations also applied to connections via the odbc package (@​colearendt, #238)"
dbplyr,252,"• Basic support for regular expressions via `str_detect()` and\ `str_replace_all()` (@​colearendt, #168)."
dbplyr,252,"• Improved translation for `as.logical(x)` to `IF(x, TRUE, FALSE)`."
dbplyr,256,Oracle
dbplyr,256,"• New custom translation for `paste()` and `paste0()` (@​cderv, #221)"
dbplyr,258,Postgres
dbplyr,258,"• Basic support for regular expressions via `str_detect()` and\ `str_replace_all()` (@​colearendt, #168)."
dbplyr,260,SQLite
dbplyr,260,"• `explain()` translation now generates `EXPLAIN QUERY PLAN` which generates a higher-level, more human friendly explanation."
dbplyr,262,SQL server
dbplyr,262,• Improved translation for `as.logical(x)` to `CAST(x as BIT)` (#250).
dbplyr,262,"• Translates `paste()`, `paste0()`, and `str_c()` to `+`."
dbplyr,262,• `copy_to()` method applies temporary table name transformation earlier so that you can now overwrite temporary tables (#258).
dbplyr,262,• `db_write_table()` method uses correct argument name for passing along field types (#251).
dbplyr,267,Aggregation functions only warn once per session about the use of `na.rm = TRUE` (#216).
dbplyr,268,"table names generated by `random_table_name()` have the prefix ""dbplyr\_"", which makes it easier to find them programmatically (@​mattle24, #111)"
dbplyr,269,Functions that are only available in a windowed (`mutate()`) query now throw an error when called in a aggregate (`summarise()`) query (#129)
dbplyr,270,"`arrange()` understands the `.by_group` argument, making it possible sort by groups if desired. The default is `FALSE` (#115)"
dbplyr,271,"`distinct()` now handles computed variables like `distinct(df, y = x + y)` (#154)."
dbplyr,272,"`escape()`, `sql_expr()` and `build_sql()` no longer accept `con = NULL` as a shortcut for `con = simulate_dbi()`. This made it too easy to forget to pass `con` along, introducing extremely subtle escaping bugs. `win_over()` gains a `con` argument for the same reason."
dbplyr,273,New `escape_ansi()` always uses ANSI SQL 92 standard escaping (for use in examples and documentation).
dbplyr,274,"`mutate(df, x = NULL)` drops `x` from the output, just like when working with local data frames (#194)."
dbplyr,275,"`partial_eval()` processes inlined functions (including rlang lambda functions). This makes dbplyr work with more forms of scoped verbs like `df %>% summarise_all(~ mean(.))`, `df %>% summarise_all(list(mean))` (#134)."
dbplyr,276,"`sql_aggregate()` now takes an optional argument `f_r` for passing to `check_na_rm()`. This allows the warning to show the R function name rather than the SQL function name (@​sverchkov, #153)."
dbplyr,277,`sql_infix()` gains a `pad` argument for the rare operator that doesn't need to be surrounded by spaces.
dbplyr,278,"`sql_prefix()` no longer turns SQL functions into uppercase, allowing for correct translation of case-sensitive SQL functions (#181, @​mtoto)."
dbplyr,279,`summarise()` gives a clear error message if you refer to a variable created in that same `summarise()` (#114).
dbplyr,280,New `sql_call2()` which is to `rlang::call2()` as `sql_expr()` is to `rlang::expr()`.
dbplyr,281,`show_query()` and `explain()` use `cat()` rather than message.
dbplyr,282,"`union()`, `union_all()`, `setdiff()` and `intersect()` do a better job of matching columns across backends (#183)."
dbplyr,283,Now supports for dplyr 0.8.0 (#190) and R 3.1.0
dbplyr,284,"Calls of the form `dplyr::foo()` are now evaluated in the database, rather than locally (#197)."
dbplyr,285,`vars` argument to `tbl_sql()` has been formally deprecated; it hasn't actually done anything for a while (#3254).
dbplyr,286,"`src` and `tbl` objects now include a class generated from the class of the underlying connection object. This makes it possible for dplyr backends to implement different behaviour at the dplyr level, when needed. (#2293)"
dbplyr,287,"`x %in% y` is now translated to `FALSE` if `y` is empty (@​mgirlich, #160)."
dbplyr,288,New `as.integer64(x)` translation to `CAST(x AS BIGINT)` (#3305)
dbplyr,289,"`case_when` now translates with a ELSE clause if a formula of the form `TRUE~<RHS>` is provided . (@​cderv, #112)"
dbplyr,290,`cummean()` now generates `AVG()` not `MEAN()` (#157)
dbplyr,291,`str_detect()` now uses correct parameter order (#3397)
dbplyr,292,MS SQL
dbplyr,292,• Cumulative summary functions now work (#157)
dbplyr,292,"• `ifelse()` uses `CASE WHEN` instead of `IIF`; this allows more complex operations, such as `%in%`, to work properly (#93)"
dbplyr,295,Oracle
dbplyr,295,• Custom `db_drop_table()` now only drops tables if they exist (#3306)
dbplyr,295,• Custom `setdiff()` translation (#3493)
dbplyr,295,• Custom `db_explain()` translation (#3471)
dbplyr,299,SQLite
dbplyr,299,"• Correct translation for `as.numeric()`/`as.double()` (@​chris-park, #171)."
dbplyr,301,Redshift
dbplyr,301,• `substr()` translation improved (#3339)
dbplyr,303,"`copy_to()` will only remove existing table when `overwrite = TRUE` and the table already exists, eliminating a confusing ""NOTICE"" from PostgreSQL (#3197)."
dbplyr,304,`partial_eval()` handles unevaluated formulas (#184).
dbplyr,305,`pull.tbl_sql()` now extracts correctly from grouped tables (#3562).
dbplyr,306,"`sql_render.op()` now correctly forwards the `con` argument (@​kevinykuo, #73)."
dbplyr,307,R CMD check fixes
dbplyr,308,Forward compatibility fixes for rlang 0.2.0
dbplyr,309,New translations for
dbplyr,309,• MS Access (#2946) (@​DavisVaughan)
dbplyr,309,"• Oracle, via odbc or ROracle (#2928, #2732, @​edgararuiz)"
dbplyr,309,• Teradata.
dbplyr,309,• Redshift.
dbplyr,314,dbplyr now supplies appropriate translations for the RMariaDB and RPostgres packages (#3154). We generally recommend using these packages in favour of the older RMySQL and RPostgreSQL packages as they are fully DBI compliant and tested with DBItest.
dbplyr,315,"`copy_to()` can now ""copy"" tbl_sql in the same src, providing another way to cache a query into a temporary table (#3064). You can also `copy_to` tbl_sqls from another source, and `copy_to()` will automatically collect then copy."
dbplyr,316,"Initial support for stringr functions: `str_length()`, `str_to_upper()`, `str_to_lower()`, `str_replace_all()`, `str_detect()`, `str_trim()`. Regular expression support varies from database to database, but most simple regular expressions should be ok."
dbplyr,317,`db_compute()` gains an `analyze` argument to match `db_copy_to()`.
dbplyr,318,"New `remote_name()`, `remote_con()`, `remote_src()`, `remote_query()` and `remote_query_plan()` provide a standard API for get metadata about a remote tbl (#3130, #2923, #2824)."
dbplyr,319,New `sql_expr()` is a more convenient building block for low-level SQL translation (#3169).
dbplyr,320,"New `sql_aggregate()` and `win_aggregate()` for generating SQL and windowed SQL functions for aggregates. These take one argument, `x`, and warn if `na.rm` is not `TRUE` (#3155). `win_recycled()` is equivalent to `win_aggregate()` and has been soft-deprecated."
dbplyr,321,`db_write_table` now needs to return the table name
dbplyr,322,Multiple `head()` calls in a row now collapse to a single call. This avoids a printing problem with MS SQL (#3084).
dbplyr,323,`escape()` now works with integer64 values from the bit64 package (#3230)
dbplyr,324,"`if`, `ifelse()`, and `if_else()` now correctly scope the false condition so that it only applies to non-NULL conditions (#3157)"
dbplyr,325,"`ident()` and `ident_q()` handle 0-length inputs better, and should be easier to use with S3 (#3212)"
dbplyr,326,"`in_schema()` should now work in more places, particularly in `copy_to()` (#3013, @​baileych)"
dbplyr,327,SQL generation for joins no longer gets stuck in a endless loop if you request an empty suffix (#3220).
dbplyr,328,`mutate()` has better logic for splitting a single mutate into multiple subqueries (#3095).
dbplyr,329,"Improved `paste()` and `paste0()` support in MySQL, PostgreSQL (#3168), and RSQLite (#3176). MySQL and PostgreSQL gain support for `str_flatten()` which behaves like `paste(x, collapse = ""-"")` (but for technical reasons can't be implemented as a straightforward translation of `paste()`)."
dbplyr,330,`same_src.tbl_sql()` now performs correct comparison instead of always returning `TRUE`. This means that `copy = TRUE` once again allows you to perform cross-database joins (#3002).
dbplyr,331,"`select()` queries no longer alias column names unnecessarily (#2968, @​DavisVaughan)."
dbplyr,332,"`select()` and `rename()` are now powered by tidyselect, fixing a few renaming bugs (#3132, #2943, #2860)."
dbplyr,333,`summarise()` once again performs partial evaluation before database submission (#3148).
dbplyr,334,`test_src()` makes it easier to access a single test source.
dbplyr,335,MS SQL
dbplyr,335,• Better support for temporary tables (@​Hong-Revo)
dbplyr,335,"• Different translations for filter/mutate contexts for: `NULL` evaluation (`is.na()`, `is.null()`), logical operators (`!`, `&`, `&&`, `|`, `||`), and comparison operators (`==`, `!=`, `<`, `>`, `>=`, `<=`)"
dbplyr,338,MySQL: `copy_to()` (via `db_write_table()`) correctly translates logical variables to integers (#3151).
dbplyr,339,odbc: improved `n()` translation in windowed context.
dbplyr,340,SQLite: improved `na_if` translation (@​cwarden)
dbplyr,341,PostgreSQL: translation for `grepl()` added (@​zozlak)
dbplyr,342,"Oracle: changed VARVHAR to VARCHAR2 datatype (@​washcycle, #66)"
dbplyr,343,`full_join()` over non-overlapping columns `by = character()` translated to `CROSS JOIN` (#2924).
dbplyr,344,"`case_when()` now translates to SQL ""CASE WHEN"" (#2894)"
dbplyr,345,`x %in% c(1)` now generates the same SQL as `x %in% 1` (#2898).
dbplyr,346,"New `window_order()` and `window_frame()` give you finer control over the window functions that dplyr creates (#2874, #2593)."
dbplyr,347,Added SQL translations for Oracle (@​edgararuiz).
dbplyr,348,`x %in% c(1)` now generates the same SQL as `x %in% 1` (#2898).
dbplyr,349,"`head(tbl, 0)` is now supported (#2863)."
dbplyr,350,`select()`ing zero columns gives a more information error message (#2863).
dbplyr,351,"Variables created in a join are now disambiguated against other variables in the same table, not just variables in the other table (#2823)."
dbplyr,352,PostgreSQL gains a better translation for `round()` (#60).
dbplyr,353,"Added custom `db_analyze_table()` for MS SQL, Oracle, Hive and Impala (@​edgararuiz)"
dbplyr,354,Added support for `sd()` for aggregate and window functions (#2887) (@​edgararuiz)
dbplyr,355,"You can now use the magrittr pipe within expressions, e.g. `mutate(mtcars, cyl %>% as.character())`."
dbplyr,356,"If a translation was supplied for a summarise function, but not for the equivalent windowed variant, the expression would be translated to `NULL` with a warning. Now `sql_variant()` checks that all aggregate functions have matching window functions so that correct translations or clean errors will be generated (#2887)"
dbplyr,357,"`tbl()` and `copy_to()` now work directly with DBI connections (#2423, #2576), so there is no longer a need to generate a dplyr src."
dbplyr,357,"```
library(dplyr)

con <- DBI::dbConnect(RSQLite::SQLite(), "":memory:"")
copy_to(con, mtcars)

mtcars2 <- tbl(con, ""mtcars"")
mtcars2
```"
dbplyr,358,`glimpse()` now works with remote tables (#2665)
dbplyr,359,"dplyr has gained a basic SQL optimiser, which collapses certain nested SELECT queries into a single query (#1979). This will improve query execution performance for databases with less sophisticated query optimisers, and fixes certain problems with ordering and limits in subqueries (#1979). A big thanks goes to @​hhoeflin for figuring out this optimisation."
dbplyr,360,"`compute()` and `collapse()` now preserve the ""ordering"" of rows. This only affects the computation of window functions, as the rest of SQL does not care about row order (#2281)."
dbplyr,361,`copy_to()` gains an `overwrite` argument which allows you to overwrite an existing table. Use with care! (#2296)
dbplyr,362,"New `in_schema()` function makes it easy to refer to tables in schema: `in_schema(""my_schema_name"", ""my_table_name"")`."
dbplyr,363,`query()` is no longer exported. It hasn't been useful for a while so this shouldn't break any code.
dbplyr,364,Partial evaluation occurs immediately when you execute a verb (like `filter()` or `mutate()`) rather than happening when the query is executed (#2370).
dbplyr,365,"`mutate.tbl_sql()` will now generate as many subqueries as necessary so that you can refer to variables that you just created (like in mutate with regular dataframes) (#2481, #2483)."
dbplyr,366,SQL joins have been improved:
dbplyr,366,"• SQL joins always use the `ON ...` syntax, avoiding `USING ...` even for natural joins. Improved handling of tables with columns of the same name (#1997, @​javierluraschi). They now generate SQL more similar to what you'd write by hand, eliminating a layer or two of subqueries (#2333)"
dbplyr,366,"• \[API\] They now follow the same rules for including duplicated key variables that the data frame methods do, namely that key variables are only kept from `x`, and never from `y` (#2410)"
dbplyr,366,"• \[API\] The `sql_join()` generic now gains a `vars` argument which lists the variables taken from the left and right sides of the join. If you have a custom `sql_join()` method, you'll need to update how your code generates joins, following the template in `sql_join.generic()`."
dbplyr,366,• `full_join()` throws a clear error when you attempt to use it with a MySQL backend (#2045)
dbplyr,366,"• `right_join()` and `full_join()` now return results consistent with local data frame sources when there are records in the right table with no match in the left table. `right_join()` returns values of `by` columns from the right table. `full_join()` returns coalesced values of `by` columns from the left and right tables (#2578, @​ianmcook)"
dbplyr,372,`group_by()` can now perform an inline mutate for database backends (#2422).
dbplyr,373,"The SQL generation set operations (`intersect()`, `setdiff()`, `union()`, and `union_all()`) have been considerably improved. By default, the component SELECT are surrounded with parentheses, except on SQLite. The SQLite backend will now throw an error if you attempt a set operation on a query that contains a LIMIT, as that is not supported in SQLite (#2270). All set operations match column names across inputs, filling in non-matching variables with NULL (#2556)."
dbplyr,374,`rename()` and `group_by()` now combine correctly (#1962)
dbplyr,375,`tbl_lazy()` and `lazy_tbl()` have been exported. These help you test generated SQL with out an active database connection.
dbplyr,376,`ungroup()` correctly resets grouping variables (#2704).
dbplyr,377,New `as.sql()` safely coerces an input to SQL.
dbplyr,378,"More translators for `as.character()`, `as.integer()` and `as.double()` (#2775)."
dbplyr,379,New `ident_q()` makes it possible to specifier identifiers that do not need to be quoted.
dbplyr,380,Translation of inline scalars:
dbplyr,380,"• Logical values are now translated differently depending on the backend. The default is to use ""true"" and ""false"" which is the SQL-99 standard, but not widely support. SQLite translates to ""0"" and ""1"" (#2052)."
dbplyr,380,• `Inf` and `-Inf` are correctly escaped
dbplyr,380,• Better test for whether or not a double is similar to an integer and hence needs a trailing 0.0 added (#2004).
dbplyr,380,• Quoting defaults to `DBI::dbEscapeString()` and `DBI::dbQuoteIdentifier()` respectively.
dbplyr,385,`::` and `:::` are handled correctly (#2321)
dbplyr,386,`x %in% 1` is now correctly translated to `x IN (1)` (#511).
dbplyr,387,`ifelse()` and `if_else()` use correct argument names in SQL translation (#2225).
dbplyr,388,"`ident()` now returns an object with class `c(""ident"", ""character"")`. It no longer contains ""sql"" to indicate that this is not already escaped."
dbplyr,389,`is.na()` and `is.null()` gain extra parens in SQL translation to preserve correct precedence (#2302).
dbplyr,390,"\[API\] `log(x, b)` is now correctly translated to the SQL `log(b, x)` (#2288). SQLite does not support the 2-argument log function so it is translated to `log(x) / log(b)`."
dbplyr,391,"`nth(x, i)` is now correctly translated to `nth_value(x, i)`."
dbplyr,392,`n_distinct()` now accepts multiple variables (#2148).
dbplyr,393,"\[API\] `substr()` is now translated to SQL, correcting for the difference in the third argument. In R, it's the position of the last character, in SQL it's the length of the string (#2536)."
dbplyr,394,`win_over()` escapes expression using current database rules.
dbplyr,395,`copy_to()` now uses `db_write_table()` instead of `db_create_table()` and `db_insert_into()`. `db_write_table.DBIConnection()` uses `dbWriteTable()`.
dbplyr,396,"New `db_copy_to()`, `db_compute()` and `db_collect()` allow backends to override the entire database process behind `copy_to()`, `compute()` and `collect()`. `db_sql_render()` allow additional control over the SQL rendering process."
dbplyr,397,All generics whose behaviour can vary from database to database now provide a DBIConnection method. That means that you can easily scan the NAMESPACE to see the extension points.
dbplyr,398,`sql_escape_logical()` allows you to control the translation of literal logicals (#2614).
dbplyr,399,"`src_desc()` has been replaced by `db_desc()` and now dispatches on the connection, eliminating the last method that required dispatch on the class of the src."
dbplyr,400,"`win_over()`, `win_rank()`, `win_recycled()`, `win_cumulative()`, `win_current_group()` and `win_current_order()` are now exported. This should make it easier to provide customised SQL for window functions (#2051, #2126)."
dbplyr,401,SQL translation for Microsoft SQL Server (@​edgararuiz)
dbplyr,402,SQL translation for Apache Hive (@​edgararuiz)
dbplyr,403,SQL translation for Apache Impala (@​edgararuiz)
dbplyr,404,`collect()` once again defaults to return all rows in the data (#1968). This makes it behave the same as `as.data.frame()` and `as_tibble()`.
dbplyr,405,`collect()` only regroups by variables present in the data (#2156)
dbplyr,406,"`collect()` will automatically LIMIT the result to the `n`, the number of rows requested. This will provide the query planner with more information that it may be able to use to improve execution time (#2083)."
dbplyr,407,`common_by()` gets a better error message for unexpected inputs (#2091)
dbplyr,408,"`copy_to()` no longer checks that the table doesn't exist before creation, instead preferring to fall back on the database for error messages. This should reduce both false positives and false negative (#1470)"
dbplyr,409,"`copy_to()` now succeeds for MySQL if a character column contains `NA` (#1975, #2256, #2263, #2381, @​demorenoc, @​eduardgrebe)."
dbplyr,410,`copy_to()` now returns it's output invisibly (since you're often just calling for the side-effect).
dbplyr,411,`distinct()` reports improved variable information for SQL backends. This means that it is more likely to work in the middle of a pipeline (#2359).
dbplyr,412,Ungrouped `do()` on database backends now collects all data locally first (#2392).
dbplyr,413,Call `dbFetch()` instead of the deprecated `fetch()` (#2134). Use `DBI::dbExecute()` for non-query SQL commands (#1912)
dbplyr,414,"`explain()` and `show_query()` now invisibly return the first argument, making them easier to use inside a pipeline."
dbplyr,415,"`print.tbl_sql()` displays ordering (#2287) and prints table name, if known."
dbplyr,416,"`print(df, n = Inf)` and `head(df, n = Inf)` now work with remote tables (#2580)."
dbplyr,417,`db_desc()` and `sql_translate_env()` get defaults for DBIConnection.
dbplyr,418,"Formatting now works by overriding the `tbl_sum()` generic instead of `print()`. This means that the output is more consistent with tibble, and that `format()` is now supported also for SQL sources (tidyverse/dbplyr#14)."
dbplyr,419,"\[API\] The signature of `op_base` has changed to `op_base(x, vars, class)`"
dbplyr,420,\[API\] `translate_sql()` and `partial_eval()` have been refined:
dbplyr,420,• `translate_sql()` no longer takes a vars argument; instead call `partial_eval()` yourself.
dbplyr,420,"• Because it no longer needs the environment `translate_sql()_` now works with a list of dots, rather than a `lazy_dots`."
dbplyr,420,• `partial_eval()` now takes a character vector of variable names rather than a tbl.
dbplyr,420,• This leads to a simplification of the `op` data structure: dots is now a list of expressions rather than a `lazy_dots`.
dbplyr,425,\[API\] `op_vars()` now returns a list of quoted expressions. This enables escaping to happen at the correct time (i.e. when the connection is known).
dplyr,1,"[`.by`/`by`](https://dplyr.tidyverse.org/dev/reference/dplyr_by.html) is an experimental alternative to `group_by()` that supports per-operation grouping for `mutate()`, `summarise()`, `filter()`, and the `slice()` family (#6528). Rather than:"
dplyr,1,"```
starwars %>%
  group_by(species, homeworld) %>%
  summarise(mean_height = mean(height))
```"
dplyr,1,You can now write:
dplyr,1,"```
starwars %>%
  summarise(
    mean_height = mean(height),
    .by = c(species, homeworld)
  )
```"
dplyr,1,"The most useful reason to do this is because `.by` only affects a single operation. In the example above, an ungrouped data frame went into the `summarise()` call, so an ungrouped data frame will come out; with `.by`, you never need to remember to `ungroup()` afterwards and you never need to use the `.groups` argument. Additionally, using `summarise()` with `.by` will never sort the results by the group key, unlike with `group_by()`. Instead, the results are returned using the existing ordering of the groups from the original data. We feel this is more predictable, better maintains any ordering you might have already applied with a previous call to `arrange()`, and provides a way to maintain the current ordering without having to resort to factors. This feature was inspired by [data.table](https://CRAN.R-project.org/package=data.table), where the equivalent syntax looks like:"
dplyr,1,"```
starwars[, .(mean_height = mean(height)), by = .(species, homeworld)]
```"
dplyr,1,`with_groups()` is superseded in favor of `.by` (#6582).
dplyr,2,"`reframe()` is a new experimental verb that creates a new data frame by applying functions to columns of an existing data frame. It is very similar to `summarise()`, with two big differences:"
dplyr,2,"• `reframe()` can return an arbitrary number of rows per group, while `summarise()` reduces each group down to a single row."
dplyr,2,"• `reframe()` always returns an ungrouped data frame, while `summarise()` might return a grouped or rowwise data frame, depending on the scenario."
dplyr,4,"`reframe()` has been added in response to valid concern from the community that allowing `summarise()` to return any number of rows per group increases the chance for accidental bugs. We still feel that this is a powerful technique, and is a principled replacement for `do()`, so we have moved these features to `reframe()` (#6382)."
dplyr,5,"`group_by()` now uses a new algorithm for computing groups. It is often faster than the previous approach (especially when there are many groups), and in most cases there should be no changes. The one exception is with character vectors, see the C locale news bullet below for more details (#4406, #6297)."
dplyr,6,"`arrange()` now uses a faster algorithm for sorting character vectors, which is heavily inspired by data.table's `forder()`. See the C locale news bullet below for more details (#4962)."
dplyr,7,"Joins have been completely overhauled to enable more flexible join operations and provide more tools for quality control. Many of these changes are inspired by data.table's join syntax (#5914, #5661, #5413, #2240)."
dplyr,7,"• A *join specification* can now be created through `join_by()`. This allows you to specify both the left and right hand side of a join using unquoted column names, such as `join_by(sale_date == commercial_date)`. Join specifications can be supplied to any `*_join()` function as the `by` argument."
dplyr,7,• Join specifications allow for new types of joins:
dplyr,7,"‣ Equality joins: The most common join, specified by `==`. For example, `join_by(sale_date == commercial_date)`."
dplyr,7,"‣ Inequality joins: For joining on inequalities, i.e.`>=`, `>`, `<`, and `<=`. For example, use `join_by(sale_date >= commercial_date)` to find every commercial that aired before a particular sale."
dplyr,7,"‣ Rolling joins: For ""rolling"" the closest match forward or backwards when there isn't an exact match, specified by using the rolling helper, `closest()`. For example, `join_by(closest(sale_date >= commercial_date))` to find only the most recent commercial that aired before a particular sale."
dplyr,7,"‣ Overlap joins: For detecting overlaps between sets of columns, specified by using one of the overlap helpers: `between()`, `within()`, or `overlaps()`. For example, use `join_by(between(commercial_date, sale_date_lower, sale_date))` to find commercials that aired before a particular sale, as long as they occurred after some lower bound, such as 40 days before the sale was made."
dplyr,7,"Note that you cannot use arbitrary expressions in the join conditions, like `join_by(sale_date - 40 >= commercial_date)`. Instead, use `mutate()` to create a new column containing the result of `sale_date - 40` and refer to that by name in `join_by()`."
dplyr,7,"• `multiple` is a new argument for controlling what happens when a row in `x` matches multiple rows in `y`. For equality joins and rolling joins, where this is usually surprising, this defaults to signalling a `""warning""`, but still returns all of the matches. For inequality joins, where multiple matches are usually expected, this defaults to returning `""all""` of the matches. You can also return only the `""first""` or `""last""` match, `""any""` of the matches, or you can `""error""`."
dplyr,7,"• `keep` now defaults to `NULL` rather than `FALSE`. `NULL` implies `keep = FALSE` for equality conditions, but `keep = TRUE` for inequality conditions, since you generally want to preserve both sides of an inequality join."
dplyr,7,"• `unmatched` is a new argument for controlling what happens when a row would be dropped because it doesn't have a match. For backwards compatibility, the default is `""drop""`, but you can also choose to `""error""` if dropped rows would be surprising."
dplyr,17,"`across()` gains an experimental `.unpack` argument to optionally unpack (as in, `tidyr::unpack()`) data frames returned by functions in `.fns` (#6360)."
dplyr,18,"`consecutive_id()` for creating groups based on contiguous runs of the same values, like `data.table::rleid()` (#1534)."
dplyr,19,"`case_match()` is a ""vectorised switch"" variant of `case_when()` that matches on values rather than logical expressions. It is like a SQL ""simple"" `CASE WHEN` statement, whereas `case_when()` is like a SQL ""searched"" `CASE WHEN` statement (#6328)."
dplyr,20,`cross_join()` is a more explicit and slightly more correct replacement for using `by = character()` during a join (#6604).
dplyr,21,"`pick()` makes it easy to access a subset of columns from the current group. `pick()` is intended as a replacement for `across(.fns = NULL)`, `cur_data()`, and `cur_data_all()`. We feel that `pick()` is a much more evocative name when you are just trying to select a subset of columns from your data (#6204)."
dplyr,22,`symdiff()` computes the symmetric difference (#4811).
dplyr,23,"`arrange()` and `group_by()` now use the C locale, not the system locale, when ordering or grouping character vectors. This brings *substantial* performance improvements, increases reproducibility across R sessions, makes dplyr more consistent with data.table, and we believe it should affect little existing code. If it does affect your code, you can use `options(dplyr.legacy_locale = TRUE)` to quickly revert to the previous behavior. However, in general, we instead recommend that you use the new `.locale` argument to precisely specify the desired locale. For a full explanation please read the associated [grouping](https://github.com/tidyverse/tidyups/blob/main/006-dplyr-group-by-ordering.md) and [ordering](https://github.com/tidyverse/tidyups/blob/main/003-dplyr-radix-ordering.md) tidyups."
dplyr,24,"`bench_tbls()`, `compare_tbls()`, `compare_tbls2()`, `eval_tbls()`, `eval_tbls2()`, `location()` and `changes()`, deprecated in 1.0.0, are now defunct (#6387)."
dplyr,25,"`frame_data()`, `data_frame_()`, `lst_()` and `tbl_sum()` are no longer re-exported from tibble (#6276, #6277, #6278, #6284)."
dplyr,26,"`select_vars()`, `rename_vars()`, `select_var()` and `current_vars()`, deprecated in 0.8.4, are now defunct (#6387)."
dplyr,27,"`across()`, `c_across()`, `if_any()`, and `if_all()` now require the `.cols` and `.fns` arguments. In general, we now recommend that you use `pick()` instead of an empty `across()` call or `across()` with no `.fns` (e.g. `across(c(x, y))`. (#6523)."
dplyr,27,"• Relying on the previous default of `.cols = everything()` is deprecated. We have skipped the soft-deprecation stage in this case, because indirect usage of `across()` and friends in this way is rare."
dplyr,27,"• Relying on the previous default of `.fns = NULL` is not yet formally soft-deprecated, because there was no good alternative until now, but it is discouraged and will be soft-deprecated in the next minor release."
dplyr,30,"Passing `...` to `across()` is soft-deprecated because it's ambiguous when those arguments are evaluated. Now, instead of (e.g.) `across(a:b, mean, na.rm = TRUE)` you should write `across(a:b, ~ mean(.x, na.rm = TRUE))` (#6073)."
dplyr,31,"`all_equal()` is deprecated. We've advised against it for some time, and we explicitly recommend you use `all.equal()`, manually reordering the rows and columns as needed (#6324)."
dplyr,32,`cur_data()` and `cur_data_all()` are soft-deprecated in favour of `pick()` (#6204).
dplyr,33,Using `by = character()` to perform a cross join is now soft-deprecated in favor of `cross_join()` (#6604).
dplyr,34,`filter()`ing with a 1-column matrix is deprecated (#6091).
dplyr,35,`progress_estimate()` is deprecated for all uses (#6387).
dplyr,36,"Using `summarise()` to produce a 0 or \>1 row ""summary"" is deprecated in favor of the new `reframe()`. See the NEWS bullet about `reframe()` for more details (#6382)."
dplyr,37,"All functions deprecated in 1.0.0 (released April 2020) and earlier now warn every time you use them (#6387). This includes `combine()`, `src_local()`, `src_mysql()`, `src_postgres()`, `src_sqlite()`, `rename_vars_()`, `select_vars_()`, `summarise_each_()`, `mutate_each_()`, `as.tbl()`, `tbl_df()`, and a handful of older arguments. They are likely to be made defunct in the next major version (but not before mid 2024)."
dplyr,38,`slice()`ing with a 1-column matrix is deprecated.
dplyr,39,`recode()` is superseded in favour of `case_match()` (#6433).
dplyr,40,"`recode_factor()` is superseded. We don't have a direct replacement for it yet, but we plan to add one to forcats. In the meantime you can often use `case_match(.ptype = factor(levels = ))` instead (#6433)."
dplyr,41,"`transmute()` is superseded in favour of `mutate(.keep = ""none"")` (#6414)."
dplyr,42,"The `.keep`, `.before`, and `.after` arguments to `mutate()` have moved from experimental to stable."
dplyr,43,The `rows_*()` family of functions have moved from experimental to stable.
dplyr,44,"`between()` can now work with all vector types, not just numeric and date-time. Additionally, `left` and `right` can now also be vectors (with the same length as `x`), and `x`, `left`, and `right` are cast to the common type before the comparison is made (#6183, #6260, #6478)."
dplyr,45,`case_when()` (#5106):
dplyr,45,"• Has a new `.default` argument that is intended to replace usage of `TRUE ~ default_value` as a more explicit and readable way to specify a default value. In the future, we will deprecate the unsafe recycling of the LHS inputs that allows `TRUE ~` to work, so we encourage you to switch to using `.default`."
dplyr,45,"• No longer requires exact matching of the types of RHS values. For example, the following no longer requires you to use `NA_character_`."
dplyr,45,"```
x <- c(""little"", ""unknown"", ""small"", ""missing"", ""large"")

case_when(
  x %in% c(""little"", ""small"") ~ ""one"",
  x %in% c(""big"", ""large"") ~ ""two"",
  x %in% c(""missing"", ""unknown"") ~ NA
)
```"
dplyr,45,"• Supports a larger variety of RHS value types. For example, you can use a data frame to create multiple columns at once."
dplyr,45,• Has new `.ptype` and `.size` arguments which allow you to enforce a particular output type and size.
dplyr,45,"• Has a better error when types or lengths were incompatible (#6261, #6206)."
dplyr,51,`coalesce()` (#6265):
dplyr,51,• Discards `NULL` inputs up front.
dplyr,51,"• No longer iterates over the columns of data frame input. Instead, a row is now only coalesced if it is entirely missing, which is consistent with `vctrs::vec_detect_missing()` and greatly simplifies the implementation."
dplyr,51,• Has new `.ptype` and `.size` arguments which allow you to enforce a particular output type and size.
dplyr,55,"`first()`, `last()`, and `nth()` (#6331):"
dplyr,55,"• When used on a data frame, these functions now return a single row rather than a single column. This is more consistent with the vctrs principle that a data frame is generally treated as a vector of rows."
dplyr,55,"• The `default` is no longer ""guessed"", and will always automatically be set to a missing value appropriate for the type of `x`."
dplyr,55,"• Error if `n` is not an integer. `nth(x, n = 2)` is fine, but `nth(x, n = 2.5)` is now an error."
dplyr,58,"Additionally, they have all gained an `na_rm` argument since they are summary functions (#6242, with contributions from @​tnederlof)."
dplyr,59,"`if_else()` gains most of the same benefits as `case_when()`. In particular,\ `if_else()` now takes the common type of `true`, `false`, and `missing` to determine the output type, meaning that you can now reliably use `NA`, rather than `NA_character_` and friends (#6243)."
dplyr,60,"`na_if()` (#6329) now casts `y` to the type of `x` before comparison, which makes it clearer that this function is type and size stable on `x`. In particular, this means that you can no longer do `na_if(<tibble>, 0)`, which previously accidentally allowed you to replace any instance of `0` across every column of the tibble with `NA`. `na_if()` was never intended to work this way, and this is considered off-label usage. You can also now replace `NaN` values in `x` with `na_if(x, NaN)`."
dplyr,61,"`lag()` and `lead()` now cast `default` to the type of `x`, rather than taking the common type. This ensures that these functions are type stable on `x` (#6330)."
dplyr,62,"`row_number()`, `min_rank()`, `dense_rank()`, `ntile()`, `cume_dist()`, and `percent_rank()` are faster and work for more types. You can now rank by multiple columns by supplying a data frame (#6428)."
dplyr,63,"`with_order()` now checks that the size of `order_by` is the same size as `x`, and now works correctly when `order_by` is a data frame (#6334)."
dplyr,64,Fixed an issue with latest rlang that caused internal tools (such as `mask$eval_all_summarise()`) to be mentioned in error messages (#6308).
dplyr,65,Warnings are enriched with contextualised information in `summarise()` and `filter()` just like they have been in `mutate()` and `arrange()`.
dplyr,66,Joins now reference the correct column in `y` when a type error is thrown while joining on two columns with different names (#6465).
dplyr,67,Joins on very wide tables are no longer bottlenecked by the application of `suffix` (#6642).
dplyr,68,`*_join()` now error if you supply them with additional arguments that aren't used (#6228).
dplyr,69,`across()` used without functions inside a rowwise-data frame no longer generates an invalid data frame (#6264).
dplyr,70,"Anonymous functions supplied with `function()` and `\()` are now inlined by `across()` if possible, which slightly improves performance and makes possible further optimisations in the future."
dplyr,71,"Functions supplied to `across()` are no longer masked by columns (#6545). For instance, `across(1:2, mean)` will now work as expected even if there is a column called `mean`."
dplyr,72,`across()` will now error when supplied `...` without a `.fns` argument (#6638).
dplyr,73,`arrange()` now correctly ignores `NULL` inputs (#6193).
dplyr,74,`arrange()` now works correctly when `across()` calls are used as the 2nd (or more) ordering expression (#6495).
dplyr,75,"`arrange(df, mydesc::desc(x))` works correctly when mydesc re-exports `dplyr::desc()` (#6231)."
dplyr,76,`c_across()` now evaluates `all_of()` correctly and no longer allows you to accidentally select grouping variables (#6522).
dplyr,77,`c_across()` now throws a more informative error if you try to rename during column selection (#6522).
dplyr,78,"dplyr no longer provides `count()` and `tally()` methods for `tbl_sql`. These methods have been accidentally overriding the `tbl_lazy` methods that dbplyr provides, which has resulted in issues with the grouping structure of the output (#6338, tidyverse/dbplyr#940)."
dplyr,79,`cur_group()` now works correctly with zero row grouped data frames (#6304).
dplyr,80,`desc()` gives a useful error message if you give it a non-vector (#6028).
dplyr,81,`distinct()` now retains attributes of bare data frames (#6318).
dplyr,82,"`distinct()` returns columns ordered the way you request, not the same as the input data (#6156)."
dplyr,83,"Error messages in `group_by()`, `distinct()`, `tally()`, and `count()` are now more relevant (#6139)."
dplyr,84,`group_by_prepare()` loses the `caller_env` argument. It was rarely used and it is no longer needed (#6444).
dplyr,85,`group_walk()` gains an explict `.keep` argument (#6530).
dplyr,86,"Warnings emitted inside `mutate()` and variants are now collected and stashed away. Run the new `last_dplyr_warnings()` function to see the warnings emitted within dplyr verbs during the last top-level command. This fixes performance issues when thousands of warnings are emitted with rowwise and grouped data frames (#6005, #6236)."
dplyr,87,`mutate()` behaves a little better with 0-row rowwise inputs (#6303).
dplyr,88,A rowwise `mutate()` now automatically unlists list-columns containing length 1 vectors (#6302).
dplyr,89,`nest_join()` has gained the `na_matches` argument that all other joins have.
dplyr,90,`nest_join()` now preserves the type of `y` (#6295).
dplyr,91,`n_distinct()` now errors if you don't give it any input (#6535).
dplyr,92,"`nth()`, `first()`, `last()`, and `with_order()` now sort character `order_by` vectors in the C locale. Using character vectors for `order_by` is rare, so we expect this to have little practical impact (#6451)."
dplyr,93,`ntile()` now requires `n` to be a single positive integer.
dplyr,94,`relocate()` now works correctly with empty data frames and when `.before` or `.after` result in empty selections (#6167).
dplyr,95,`relocate()` no longer drops attributes of bare data frames (#6341).
dplyr,96,"`relocate()` now retains the last name change when a single column is renamed multiple times while it is being moved. This better matches the behavior of `rename()` (#6209, with help from @​eutwt)."
dplyr,97,`rename()` now contains examples of using `all_of()` and `any_of()` to rename using a named character vector (#6644).
dplyr,98,`rename_with()` now disallows renaming in the `.cols` tidy-selection (#6561).
dplyr,99,`rename_with()` now checks that the result of `.fn` is the right type and size (#6561).
dplyr,100,`rows_insert()` now checks that `y` contains the `by` columns (#6652).
dplyr,101,`setequal()` ignores differences between freely coercible types (e.g. integer and double) (#6114) and ignores duplicated rows (#6057).
dplyr,102,"`slice()` helpers again produce output equivalent to `slice(.data, 0)` when the `n` or `prop` argument is 0, fixing a bug introduced in the previous version (@​eutwt, #6184)."
dplyr,103,`slice()` with no inputs now returns 0 rows. This is mostly for theoretical consistency (#6573).
dplyr,104,"`slice()` now errors if any expressions in `...` are named. This helps avoid accidentally misspelling an optional argument, such as `.by` (#6554)."
dplyr,105,`slice_*()` now requires `n` to be an integer.
dplyr,106,`slice_*()` generics now perform argument validation. This should make methods more consistent and simpler to implement (#6361).
dplyr,107,`slice_min()` and `slice_max()` can `order_by` multiple variables if you supply them as a data.frame or tibble (#6176).
dplyr,108,"`slice_min()` and `slice_max()` now consistently include missing values in the result if necessary (i.e. there aren't enough non-missing values to reach the `n` or `prop` you have selected). If you don't want missing values to be included at all, set `na_rm = TRUE` (#6177)."
dplyr,109,`slice_sample()` now accepts negative `n` and `prop` values (#6402).
dplyr,110,"`slice_sample()` returns a data frame or group with the same number of rows as the input when `replace = FALSE` and `n` is larger than the number of rows or `prop` is larger than 1. This reverts a change made in 1.0.8, returning to the behavior of 1.0.7 (#6185)"
dplyr,111,`slice_sample()` now gives a more informative error when `replace = FALSE` and the number of rows requested in the sample exceeds the number of rows in the data (#6271).
dplyr,112,"`storms` has been updated to include 2021 data and some missing storms that were omitted due to an error (@​steveharoz, #6320)."
dplyr,113,`summarise()` now correctly recycles named 0-column data frames (#6509).
dplyr,114,"`union_all()`, like `union()`, now requires that data frames be compatible: i.e. they have the same columns, and the columns have compatible types."
dplyr,115,`where()` is re-exported from tidyselect (#6597).
dplyr,116,"New `rows_append()` which works like `rows_insert()` but ignores keys and allows you to insert arbitrary rows with a guarantee that the type of `x` won't change (#6249, thanks to @​krlmlr for the implementation and @​mgirlich for the idea)."
dplyr,117,"The `rows_*()` functions no longer require that the key values in `x` uniquely identify each row. Additionally, `rows_insert()` and `rows_delete()` no longer require that the key values in `y` uniquely identify each row. Relaxing this restriction should make these functions more practically useful for data frames, and alternative backends can enforce this in other ways as needed (i.e. through primary keys) (#5553)."
dplyr,118,"`rows_insert()` gained a new `conflict` argument allowing you greater control over rows in `y` with keys that conflict with keys in `x`. A conflict arises if a key in `y` already exists in `x`. By default, a conflict results in an error, but you can now also `""ignore""` these `y` rows. This is very similar to the `ON CONFLICT DO NOTHING` command from SQL (#5588, with helpful additions from @​mgirlich and @​krlmlr)."
dplyr,119,"`rows_update()`, `rows_patch()`, and `rows_delete()` gained a new `unmatched` argument allowing you greater control over rows in `y` with keys that are unmatched by the keys in `x`. By default, an unmatched key results in an error, but you can now also `""ignore""` these `y` rows (#5984, #5699)."
dplyr,120,"`rows_delete()` no longer requires that the columns of `y` be a strict subset of `x`. Only the columns specified through `by` will be utilized from `y`, all others will be dropped with a message."
dplyr,121,"The `rows_*()` functions now always retain the column types of `x`. This behavior was documented, but previously wasn't being applied correctly (#6240)."
dplyr,122,The `rows_*()` functions now fail elegantly if `y` is a zero column data frame and `by` isn't specified (#6179).
dplyr,123,Better display of error messages thanks to rlang 1.0.0.
dplyr,124,"`mutate(.keep = ""none"")` is no longer identical to `transmute()`. `transmute()` has not been changed, and completely ignores the column ordering of the existing data, instead relying on the ordering of expressions supplied through `...`. `mutate(.keep = ""none"")` has been changed to ensure that pre-existing columns are never moved, which aligns more closely with the other `.keep` options (#6086)."
dplyr,125,"`filter()` forbids matrix results (#5973) and warns about data frame results, especially data frames created from `across()` with a hint to use `if_any()` or `if_all()`."
dplyr,126,"`slice()` helpers (`slice_head()`, `slice_tail()`, `slice_min()`, `slice_max()`) now accept negative values for `n` and `prop` (#5961)."
dplyr,127,`slice()` now indicates which group produces an error (#5931).
dplyr,128,`cur_data()` and `cur_data_all()` don't simplify list columns in rowwise data frames (#5901).
dplyr,129,dplyr now uses `rlang::check_installed()` to prompt you whether to install required packages that are missing.
dplyr,130,"`storms` data updated to 2020 (@​steveharoz, #5899)."
dplyr,131,`coalesce()` accepts 1-D arrays (#5557).
dplyr,132,The deprecated `trunc_mat()` is no longer reexported from dplyr (#6141).
dplyr,133,`across()` uses the formula environment when inlining them (#5886).
dplyr,134,`summarise.rowwise_df()` is quiet when the result is ungrouped (#5875).
dplyr,135,`c_across()` and `across()` key deparsing not confused by long calls (#5883).
dplyr,136,`across()` handles named selections (#5207).
dplyr,137,`add_count()` is now generic (#5837).
dplyr,138,`if_any()` and `if_all()` abort when a predicate is mistakingly used as `.cols=` (#5732).
dplyr,139,Multiple calls to `if_any()` and/or `if_all()` in the same expression are now properly disambiguated (#5782).
dplyr,140,`filter()` now inlines `if_any()` and `if_all()` expressions. This greatly improves performance with grouped data frames.
dplyr,141,"Fixed behaviour of `...` in top-level `across()` calls (#5813, #5832)."
dplyr,142,`across()` now inlines lambda-formulas. This is slightly more performant and will allow more optimisations in the future.
dplyr,143,"Fixed issue in `bind_rows()` causing lists to be incorrectly transformed as data frames (#5417, #5749)."
dplyr,144,`select()` no longer creates duplicate variables when renaming a variable to the same name as a grouping variable (#5841).
dplyr,145,"`dplyr_col_select()` keeps attributes for bare data frames (#5294, #5831)."
dplyr,146,Fixed quosure handling in `dplyr::group_by()` that caused issues with extra arguments (tidyverse/lubridate#959).
dplyr,147,"Removed the `name` argument from the `compute()` generic (@​ianmcook, #5783)."
dplyr,148,row-wise data frames of 0 rows and list columns are supported again (#5804).
dplyr,149,Fixed edge case of `slice_sample()` when `weight_by=` is used and there 0 rows (#5729).
dplyr,150,`across()` can again use columns in functions defined inline (#5734).
dplyr,151,Using testthat 3rd edition.
dplyr,152,Fixed bugs introduced in `across()` in previous version (#5765).
dplyr,153,`group_by()` keeps attributes unrelated to the grouping (#5760).
dplyr,154,The `.cols=` argument of `if_any()` and `if_all()` defaults to `everything()`.
dplyr,155,Improved performance for `across()`. This makes `summarise(across())` and `mutate(across())` perform as well as the superseded colwise equivalents (#5697).
dplyr,156,"New functions `if_any()` and `if_all()` (#4770, #5713)."
dplyr,157,`summarise()` silently ignores NULL results (#5708).
dplyr,158,Fixed a performance regression in `mutate()` when warnings occur once per group (#5675). We no longer instrument warnings with debugging information when `mutate()` is called within `suppressWarnings()`.
dplyr,159,`summarise()` no longer informs when the result is ungrouped (#5633).
dplyr,160,"`group_by(.drop = FALSE)` preserves ordered factors (@​brianrice2, #5545)."
dplyr,161,`count()` and `tally()` are now generic.
dplyr,162,"Removed default fallbacks to lazyeval methods; this will yield better error messages when you call a dplyr function with the wrong input, and is part of our long term plan to remove the deprecated lazyeval interface."
dplyr,163,"`inner_join()` gains a `keep` parameter for consistency with the other mutating joins (@​patrickbarks, #5581)."
dplyr,164,"Improved performance with many columns, with a dynamic data mask using active bindings and lazy chops (#5017)."
dplyr,165,`mutate()` and friends preserves row names in data frames once more (#5418).
dplyr,166,"`group_by()` uses the ungrouped data for the implicit mutate step (#5598). You might have to define an `ungroup()` method for custom classes. For example, see https://github.com/hadley/cubelyr/pull/3."
dplyr,167,`relocate()` can rename columns it relocates (#5569).
dplyr,168,`distinct()` and `group_by()` have better error messages when the mutate step fails (#5060).
dplyr,169,Clarify that `between()` is not vectorised (#5493).
dplyr,170,Fixed `across()` issue where data frame columns would could not be referred to with `all_of()` in the nested case (`mutate()` within `mutate()`) (#5498).
dplyr,171,`across()` handles data frames with 0 columns (#5523).
dplyr,172,"`mutate()` always keeps grouping variables, unconditional to `.keep=` (#5582)."
dplyr,173,dplyr now depends on R 3.3.0
dplyr,174,Fixed `across()` issue where data frame columns would mask objects referred to from `all_of()` (#5460).
dplyr,175,"`bind_cols()` gains a `.name_repair` argument, passed to `vctrs::vec_cbind()` (#5451)"
dplyr,176,"`summarise(.groups = ""rowwise"")` makes a rowwise data frame even if the input data is not grouped (#5422)."
dplyr,177,New function `cur_data_all()` similar to `cur_data()` but includes the grouping variables (#5342).
dplyr,178,"`count()` and `tally()` no longer automatically weights by column `n` if present (#5298). dplyr 1.0.0 introduced this behaviour because of Hadley's faulty memory. Historically `tally()` automatically weighted and `count()` did not, but this behaviour was accidentally changed in 0.8.2 (#4408) so that neither automatically weighted by `n`. Since 0.8.2 is almost a year old, and the automatically weighting behaviour was a little confusing anyway, we've removed it from both `count()` and `tally()`. Use of `wt = n()` is now deprecated; now just omit the `wt` argument."
dplyr,179,`coalesce()` now supports data frames correctly (#5326).
dplyr,180,"`cummean()` no longer has off-by-one indexing problem (@​cropgen, #5287)."
dplyr,181,The call stack is preserved on error. This makes it possible to `recover()` into problematic code called from dplyr verbs (#5308).
dplyr,182,"`bind_cols()` no longer converts to a tibble, returns a data frame if the input is a data frame."
dplyr,183,"`bind_rows()`, `*_join()`, `summarise()` and `mutate()` use vctrs coercion rules. There are two main user facing changes:"
dplyr,183,• Combining factor and character vectors silently creates a character vector; previously it created a character vector with a warning.
dplyr,183,• Combining multiple factors creates a factor with combined levels; previously it created a character vector with a warning.
dplyr,186,"`bind_rows()` and other functions use vctrs name repair, see `?vctrs::vec_as_names`."
dplyr,187,`all.equal.tbl_df()` removed.
dplyr,187,"• Data frames, tibbles and grouped data frames are no longer considered equal, even if the data is the same."
dplyr,187,• Equality checks for data frames no longer ignore row order or groupings.
dplyr,187,"• `expect_equal()` uses `all.equal()` internally. When comparing data frames, tests that used to pass may now fail."
dplyr,191,`distinct()` keeps the original column order.
dplyr,192,"`distinct()` on missing columns now raises an error, it has been a compatibility warning for a long time."
dplyr,193,`group_modify()` puts the grouping variable to the front.
dplyr,194,"`n()` and `row_number()` can no longer be called directly when dplyr is not loaded, and this now generates an error: `dplyr::mutate(mtcars, x = n())`. Fix by prefixing with `dplyr::` as in `dplyr::mutate(mtcars, x = dplyr::n())`"
dplyr,195,"The old data format for `grouped_df` is no longer supported. This may affect you if you have serialized grouped data frames to disk, e.g. with `saveRDS()` or when using knitr caching."
dplyr,196,`lead()` and `lag()` are stricter about their inputs.
dplyr,197,"Extending data frames requires that the extra class or classes are added first, not last. Having the extra class at the end causes some vctrs operations to fail with a message like:"
dplyr,197,"```
Input must be a vector, not a `<data.frame/...>` object
```"
dplyr,198,`right_join()` no longer sorts the rows of the resulting tibble according to the order of the RHS `by` argument in tibble `y`.
dplyr,199,"The `cur_` functions (`cur_data()`, `cur_group()`, `cur_group_id()`, `cur_group_rows()`) provide a full set of options to you access information about the ""current"" group in dplyr verbs. They are inspired by data.table's `.SD`, `.GRP`, `.BY`, and `.I`."
dplyr,200,"The `rows_` functions (`rows_insert()`, `rows_update()`, `rows_upsert()`, `rows_patch()`, `rows_delete()`) provide a new API to insert and delete rows from a second data frame or table. Support for updating mutable backends is planned (#4654)."
dplyr,201,`mutate()` and `summarise()` create multiple columns from a single expression if you return a data frame (#2326).
dplyr,202,"`select()` and `rename()` use the latest version of the tidyselect interface. Practically, this means that you can now combine selections using Boolean logic (i.e. `!`, `&` and `|`), and use predicate functions with `where()` (e.g. `where(is.character)`) to select variables by type (#4680). It also makes it possible to use `select()` and `rename()` to repair data frames with duplicated names (#4615) and prevents you from accidentally introducing duplicate names (#4643). This also means that dplyr now re-exports `any_of()` and `all_of()` (#5036)."
dplyr,203,`slice()` gains a new set of helpers:
dplyr,203,"• `slice_head()` and `slice_tail()` select the first and last rows, like `head()` and `tail()`, but return `n` rows *per group*."
dplyr,203,"• `slice_sample()` randomly selects rows, taking over from `sample_frac()` and `sample_n()`."
dplyr,203,"• `slice_min()` and `slice_max()` select the rows with the minimum or maximum values of a variable, taking over from the confusing `top_n()`."
dplyr,207,`summarise()` can create summaries of greater than length 1 if you use a summary function that returns multiple values.
dplyr,208,`summarise()` gains a `.groups=` argument to control the grouping structure.
dplyr,209,New `relocate()` verb makes it easy to move columns around within a data frame (#4598).
dplyr,210,New `rename_with()` is designed specifically for the purpose of renaming selected columns with a function (#4771).
dplyr,211,`ungroup()` can now selectively remove grouping variables (#3760).
dplyr,212,"`pull()` can now return named vectors by specifying an additional column name (@​ilarischeinin, #4102)."
dplyr,213,"`mutate()` (for data frames only), gains experimental new arguments `.before` and `.after` that allow you to control where the new columns are placed (#2047)."
dplyr,214,"`mutate()` (for data frames only), gains an experimental new argument called `.keep` that allows you to control which variables are kept from the input `.data`. `.keep = ""all""` is the default; it keeps all variables. `.keep = ""none""` retains no input variables (except for grouping keys), so behaves like `transmute()`. `.keep = ""unused""` keeps only variables not used to make new columns. `.keep = ""used""` keeps only the input variables used to create new columns; it's useful for double checking your work (#3721)."
dplyr,215,"New, experimental, `with_groups()` makes it easy to temporarily group or ungroup (#4711)."
dplyr,216,"New function `across()` that can be used inside `summarise()`, `mutate()`, and other verbs to apply a function (or a set of functions) to a selection of columns. See `vignette(""colwise"")` for more details."
dplyr,217,"New function `c_across()` that can be used inside `summarise()` and `mutate()` in row-wise data frames to easily (e.g.) compute a row-wise mean of all numeric variables. See `vignette(""rowwise"")` for more details."
dplyr,218,`rowwise()` is no longer questioning; we now understand that it's an important tool when you don't have vectorised code. It now also allows you to specify additional variables that should be preserved in the output when summarising (#4723). The rowwise-ness is preserved by all operations; you need to explicit drop it with `as_tibble()` or `group_by()`.
dplyr,219,"New, experimental, `nest_by()`. It has the same interface as `group_by()`, but returns a rowwise data frame of grouping keys, supplemental with a list-column of data frames containing the rest of the data."
dplyr,220,"The implementation of all dplyr verbs have been changed to use primitives provided by the vctrs package. This makes it easier to add support for new types of vector, radically simplifies the implementation, and makes all dplyr verbs more consistent."
dplyr,221,"The place where you are mostly likely to be impacted by the coercion changes is when working with factors in joins or grouped mutates: now when combining factors with different levels, dplyr creates a new factor with the union of the levels. This matches base R more closely, and while perhaps strictly less correct, is much more convenient."
dplyr,222,dplyr dropped its two heaviest dependencies: Rcpp and BH. This should make it considerably easier and faster to build from source.
dplyr,223,"The implementation of all verbs has been carefully thought through. This mostly makes implementation simpler but should hopefully increase consistency, and also makes it easier to adapt to dplyr to new data structures in the new future. Pragmatically, the biggest difference for most people will be that each verb documents its return value in terms of rows, columns, groups, and data frame attributes."
dplyr,224,Row names are now preserved when working with data frames.
dplyr,225,`group_by()` uses hashing from the `vctrs` package.
dplyr,226,"Grouped data frames now have `names<-`, `[[<-`, `[<-` and `$<-` methods that re-generate the underlying grouping. Note that modifying grouping variables in multiple steps (i.e. `df$grp1 <- 1; df$grp2 <- 1`) will be inefficient since the data frame will be regrouped after each modification."
dplyr,227,`[.grouped_df` now regroups to respect any grouping columns that have been removed (#4708).
dplyr,228,`mutate()` and `summarise()` can now modify grouping variables (#4709).
dplyr,229,"`group_modify()` works with additional arguments (@​billdenney and @​cderv, #4509)"
dplyr,230,`group_by()` does not create an arbitrary NA group when grouping by factors with `drop = TRUE` (#4460).
dplyr,231,"All deprecations now use the [lifecycle](https://lifecycle.r-lib.org), that means by default you'll only see a deprecation warning once per session, and you can control with `options(lifecycle_verbosity = x)` where `x` is one of NULL, ""quiet"", ""warning"", and ""error""."
dplyr,232,"`id()`, deprecated in dplyr 0.5.0, is now defunct."
dplyr,233,"`failwith()`, deprecated in dplyr 0.7.0, is now defunct."
dplyr,234,`tbl_cube()` and `nasa` have been pulled out into a separate cubelyr package (#4429).
dplyr,235,"`rbind_all()` and `rbind_list()` have been removed (@​bjungbogati, #4430)."
dplyr,236,"`dr_dplyr()` has been removed as it is no longer needed (#4433, @​smwindecker)."
dplyr,237,"Use of pkgconfig for setting `na_matches` argument to join functions is now deprecated (#4914). This was rarely used, and I'm now confident that the default is correct for R."
dplyr,238,"In `add_count()`, the `drop` argument has been deprecated because it didn't actually affect the output."
dplyr,239,`add_rownames()`: please use `tibble::rownames_to_column()` instead.
dplyr,240,`as.tbl()` and `tbl_df()`: please use `as_tibble()` instead.
dplyr,241,"`bench_tbls()`, `compare_tbls()`, `compare_tbls2()`, `eval_tbls()` and `eval_tbls2()` are now deprecated. That were only used in a handful of packages, and we now believe that you're better off performing comparisons more directly (#4675)."
dplyr,242,`combine()`: please use `vctrs::vec_c()` instead.
dplyr,243,`funs()`: please use `list()` instead.
dplyr,244,`group_by(add = )`: please use `.add` instead.
dplyr,245,`group_by(.dots = )`/`group_by_prepare(.dots = )`: please use `!!!` instead (#4734).
dplyr,246,"The use of zero-arg `group_indices()` to retrieve the group id for the ""current"" group is deprecated; instead use `cur_group_id()`."
dplyr,247,"Passing arguments to `group_keys()` or `group_indices()` to change the grouping has been deprecated, instead do grouping first yourself."
dplyr,248,`location()` and `changes()`: please use `lobstr::ref()` instead.
dplyr,249,`progress_estimated()` is soft deprecated; it's not the responsibility of dplyr to provide progress bars (#4935).
dplyr,250,`src_local()` has been deprecated; it was part of an approach to testing dplyr backends that didn't pan out.
dplyr,251,"`src_mysql()`, `src_postgres()`, and `src_sqlite()` has been deprecated. We've recommended against them for some time. Instead please use the approach described at <https://dbplyr.tidyverse.org/>."
dplyr,252,"`select_vars()`, `rename_vars()`, `select_var()`, `current_vars()` are now deprecated (@​perezp44, #4432)"
dplyr,253,"The scoped helpers (all functions ending in `_if`, `_at`, or `_all`) have been superseded by `across()`. This dramatically reduces the API surface for dplyr, while at the same providing providing a more flexible and less error-prone interface (#4769). `rename_*()` and `select_*()` have been superseded by `rename_with()`."
dplyr,254,`do()` is superseded in favour of `summarise()`.
dplyr,255,"`sample_n()` and `sample_frac()` have been superseded by `slice_sample()`. See `?sample_n` for details about why, and for examples converting from old to new usage."
dplyr,256,"`top_n()` has been superseded by`slice_min()`/`slice_max()`. See `?top_n` for details about why, and how to convert old to new usage (#4494)."
dplyr,257,`all_equal()` is questioning; it solves a problem that no longer seems important.
dplyr,258,`rowwise()` is no longer questioning.
dplyr,259,"New `vignette(""base"")` which describes how dplyr verbs relate to the base R equivalents (@​sastoudt, #4755)"
dplyr,260,"New `vignette(""grouping"")` gives more details about how dplyr verbs change when applied to grouped data frames (#4779, @​MikeKSmith)."
dplyr,261,"`vignette(""programming"")` has been completely rewritten to reflect our latest vocabulary, the most recent rlang features, and our current recommendations. It should now be substantially easier to program with dplyr."
dplyr,262,"dplyr now has a rudimentary, experimental, and stop-gap, extension mechanism documented in `?dplyr_extending`"
dplyr,263,"dplyr no longer provides a `all.equal.tbl_df()` method. It never should have done so in the first place because it owns neither the generic nor the class. It also provided a problematic implementation because, by default, it ignored the order of the rows and the columns which is usually important. This is likely to cause new test failures in downstream packages; but on the whole we believe those failures to either reflect unexpected behaviour or tests that need to be strengthened (#2751)."
dplyr,264,`coalesce()` now uses vctrs recycling and common type coercion rules (#5186).
dplyr,265,`count()` and `add_count()` do a better job of preserving input class and attributes (#4086).
dplyr,266,`distinct()` errors if you request it use variables that don't exist (this was previously a warning) (#4656).
dplyr,267,"`filter()`, `mutate()` and `summarise()` get better error messages."
dplyr,268,`filter()` handles data frame results when all columns are logical vectors by reducing them with `&` (#4678). In particular this means `across()` can be used in `filter()`.
dplyr,269,"`left_join()`, `right_join()`, and `full_join()` gain a `keep` argument so that you can optionally choose to keep both sets of join keys (#4589). This is useful when you want to figure out which rows were missing from either side."
dplyr,270,Join functions can now perform a cross-join by specifying `by = character()` (#4206.)
dplyr,271,`groups()` now returns `list()` for ungrouped data; previously it returned `NULL` which was type-unstable (when there are groups it returns a list of symbols).
dplyr,272,"The first argument of `group_map()`, `group_modify()` and `group_walk()` has been changed to `.data` for consistency with other generics."
dplyr,273,`group_keys.rowwise_df()` gives a 0 column data frame with `n()` rows.
dplyr,274,`group_map()` is now a generic (#4576).
dplyr,275,"`group_by(..., .add = TRUE)` replaces `group_by(..., add = TRUE)`, with a deprecation message. The old argument name was a mistake because it prevents you from creating a new grouping var called `add` and it violates our naming conventions (#4137)."
dplyr,276,"`intersect()`, `union()`, `setdiff()` and `setequal()` generics are now imported from the generics package. This reduces a conflict with lubridate."
dplyr,277,`order_by()` gives an informative hint if you accidentally call it instead of `arrange()` #3357.
dplyr,278,"`tally()` and `count()` now message if the default output `name` (n), already exists in the data frame. To quiet the message, you'll need to supply an explicit `name` (#4284). You can override the default weighting to using a constant by setting `wt = 1`."
dplyr,279,"`starwars` dataset now does a better job of separating biological sex from gender identity. The previous `gender` column has been renamed to `sex`, since it actually describes the individual's biological sex. A new `gender` column encodes the actual gender identity using other information about the Star Wars universe (@​MeganBeckett, #4456)."
dplyr,280,"`src_tbls()` accepts `...` arguments (#4485, @​ianmcook). This could be a breaking change for some dplyr backend packages that implement `src_tbls()`."
dplyr,281,Better performance for extracting slices of factors and ordered factors (#4501).
dplyr,282,"`rename_at()` and `rename_all()` call the function with a simple character vector, not a `dplyr_sel_vars` (#4459)."
dplyr,283,`ntile()` is now more consistent with database implementations if the buckets have irregular size (#4495).
dplyr,284,Maintenance release for compatibility with R-devel.
dplyr,285,Adapt tests to changes in dependent packages.
dplyr,286,Fixed performance regression introduced in version 0.8.2 (#4458).
dplyr,287,"`top_frac(data, proportion)` is a shorthand for `top_n(data, proportion * n())` (#4017)."
dplyr,288,Using quosures in colwise verbs is deprecated (#4330).
dplyr,289,"Updated `distinct_if()`, `distinct_at()` and `distinct_all()` to include `.keep_all` argument (@​beansrowning, #4343)."
dplyr,290,`rename_at()` handles empty selection (#4324).
dplyr,291,`*_if()` functions correctly handle columns with special names (#4380).
dplyr,292,colwise functions support constants in formulas (#4374).
dplyr,293,hybrid rank functions correctly handle NA (#4427).
dplyr,294,"`first()`, `last()` and `nth()` hybrid version handles factors (#4295)."
dplyr,295,"`top_n()` quotes its `n` argument, `n` no longer needs to be constant for all groups (#4017)."
dplyr,296,`tbl_vars()` keeps information on grouping columns by returning a `dplyr_sel_vars` object (#4106).
dplyr,297,"`group_split()` always sets the `ptype` attribute, which make it more robust in the case where there are 0 groups."
dplyr,298,`group_map()` and `group_modify()` work in the 0 group edge case (#4421)
dplyr,299,`select.list()` method added so that `select()` does not dispatch on lists (#4279).
dplyr,300,`view()` is reexported from tibble (#4423).
dplyr,301,`group_by()` puts NA groups last in character vectors (#4227).
dplyr,302,`arrange()` handles integer64 objects (#4366).
dplyr,303,`summarise()` correctly resolves summarised list columns (#4349).
dplyr,304,`group_modify()` is the new name of the function previously known as `group_map()`
dplyr,305,`group_map()` now only calls the function on each group and return a list.
dplyr,306,"`group_by_drop_default()`, previously known as `dplyr:::group_drops()` is exported (#4245)."
dplyr,307,Lists of formulas passed to colwise verbs are now automatically named.
dplyr,308,`group_by()` does a shallow copy even in the no groups case (#4221).
dplyr,309,Fixed `mutate()` on rowwise data frames with 0 rows (#4224).
dplyr,310,Fixed handling of bare formulas in colwise verbs (#4183).
dplyr,311,Fixed performance of `n_distinct()` (#4202).
dplyr,312,"`group_indices()` now ignores empty groups by default for `data.frame`, which is consistent with the default of `group_by()` (@​yutannihilation, #4208)."
dplyr,313,Fixed integer overflow in hybrid `ntile()` (#4186).
dplyr,314,colwise functions `summarise_at()` ... can rename vars in the case of multiple functions (#4180).
dplyr,315,`select_if()` and `rename_if()` handle logical vector predicate (#4213).
dplyr,316,hybrid `min()` and `max()` cast to integer when possible (#4258).
dplyr,317,`bind_rows()` correctly handles the cases where there are multiple consecutive `NULL` (#4296).
dplyr,318,Support for R 3.1.\* has been dropped. The minimal R version supported is now 3.2.0. https://www.tidyverse.org/articles/2019/04/r-version-support/
dplyr,319,`rename_at()` handles empty selection (#4324).
dplyr,320,"Fixed integer C/C++ division, forced released by CRAN (#4185)."
dplyr,321,"The error `could not find function ""n""` or the warning `` Calling `n()` without importing or prefixing it is deprecated, use `dplyr::n()` `` indicates when functions like `n()`, `row_number()`, ... are not imported or prefixed. The easiest fix is to import dplyr with `import(dplyr)` in your `NAMESPACE` or `#' @​import dplyr` in a roxygen comment, alternatively such functions can be imported selectively as any other function with `importFrom(dplyr, n)` in the `NAMESPACE` or `#' @​importFrom dplyr n` in a roxygen comment. The third option is to prefix them, i.e. use `dplyr::n()`"
dplyr,322,"If you see `checking S3 generic/method consistency` in R CMD check for your package, note that :"
dplyr,322,• `sample_n()` and `sample_frac()` have gained `...`
dplyr,322,• `filter()` and `slice()` have gained `.preserve`
dplyr,322,• `group_by()` has gained `.drop`
dplyr,326,"`` Error: `.data` is a corrupt grouped_df, ... `` signals code that makes wrong assumptions about the internals of a grouped data frame."
dplyr,327,New selection helpers `group_cols()`. It can be called in selection contexts such as `select()` and matches the grouping variables of grouped tibbles.
dplyr,328,`last_col()` is re-exported from tidyselect (#3584).
dplyr,329,`group_trim()` drops unused levels of factors that are used as grouping variables.
dplyr,330,`nest_join()` creates a list column of the matching rows. `nest_join()` + `tidyr::unnest()` is equivalent to `inner_join` (#3570).
dplyr,330,"```
band_members %>% 
  nest_join(band_instruments)
```"
dplyr,331,`group_nest()` is similar to `tidyr::nest()` but focusing on the variables to nest by instead of the nested columns.
dplyr,331,"```
starwars %>%
  group_by(species, homeworld) %>% 
  group_nest()

starwars %>%
  group_nest(species, homeworld)
```"
dplyr,332,"`group_split()` is similar to `base::split()` but operating on existing groups when applied to a grouped data frame, or subject to the data mask on ungrouped data frames"
dplyr,332,"```
starwars %>%
  group_by(species, homeworld) %>%   
  group_split()

starwars %>%
  group_split(species, homeworld)
```"
dplyr,333,"`group_map()` and `group_walk()` are purrr-like functions to iterate on groups of a grouped data frame, jointly identified by the data subset (exposed as `.x`) and the data key (a one row tibble, exposed as `.y`). `group_map()` returns a grouped data frame that combines the results of the function, `group_walk()` is only used for side effects and returns its input invisibly."
dplyr,333,"```
mtcars %>%
  group_by(cyl) %>%
  group_map(~ head(.x, 2L))
```"
dplyr,334,"`distinct_prepare()`, previously known as `distinct_vars()` is exported. This is mostly useful for alternative backends (e.g. `dbplyr`)."
dplyr,335,"`group_by()` gains the `.drop` argument. When set to `FALSE` the groups are generated based on factor levels, hence some groups may be empty (#341)."
dplyr,335,"```
# 3 groups
tibble(
  x = 1:2, 
  f = factor(c(""a"", ""b""), levels = c(""a"", ""b"", ""c""))
) %>% 
  group_by(f, .drop = FALSE)

# the order of the grouping variables matter
df <- tibble(
  x = c(1,2,1,2), 
  f = factor(c(""a"", ""b"", ""a"", ""b""), levels = c(""a"", ""b"", ""c""))
)
df %>% group_by(f, x, .drop = FALSE)
df %>% group_by(x, f, .drop = FALSE)
```"
dplyr,335,The default behaviour drops the empty groups as in the previous versions.
dplyr,335,"```
tibble(
    x = 1:2, 
    f = factor(c(""a"", ""b""), levels = c(""a"", ""b"", ""c""))
  ) %>% 
    group_by(f)
```"
dplyr,336,"`filter()` and `slice()` gain a `.preserve` argument to control which groups it should keep. The default `filter(.preserve = FALSE)` recalculates the grouping structure based on the resulting data, otherwise it is kept as is."
dplyr,336,"```
df <- tibble(
  x = c(1,2,1,2), 
  f = factor(c(""a"", ""b"", ""a"", ""b""), levels = c(""a"", ""b"", ""c""))
) %>% 
  group_by(x, f, .drop = FALSE)

df %>% filter(x == 1)
df %>% filter(x == 1, .preserve = TRUE)
```"
dplyr,337,"The notion of lazily grouped data frames have disappeared. All dplyr verbs now recalculate immediately the grouping structure, and respect the levels of factors."
dplyr,338,"Subsets of columns now properly dispatch to the `[` or `[[` method when the column is an object (a vector with a class) instead of making assumptions on how the column should be handled. The `[` method must handle integer indices, including `NA_integer_`, i.e. `x[NA_integer_]` should produce a vector of the same class as `x` with whatever represents a missing value."
dplyr,339,`tally()` works correctly on non-data frame table sources such as `tbl_sql` (#3075).
dplyr,340,`sample_n()` and `sample_frac()` can use `n()` (#3527)
dplyr,341,"`distinct()` respects the order of the variables provided (#3195, @​foo-bar-baz-qux) and handles the 0 rows and 0 columns special case (#2954)."
dplyr,342,`combine()` uses tidy dots (#3407).
dplyr,343,`group_indices()` can be used without argument in expressions in verbs (#1185).
dplyr,344,"Using `mutate_all()`, `transmute_all()`, `mutate_if()` and `transmute_if()` with grouped tibbles now informs you that the grouping variables are ignored. In the case of the `_all()` verbs, the message invites you to use `mutate_at(df, vars(-group_cols()))` (or the equivalent `transmute_at()` call) instead if you'd like to make it explicit in your code that the operation is not applied on the grouping variables."
dplyr,345,Scoped variants of `arrange()` respect the `.by_group` argument (#3504).
dplyr,346,`first()` and `last()` hybrid functions fall back to R evaluation when given no arguments (#3589).
dplyr,347,`mutate()` removes a column when the expression evaluates to `NULL` for all groups (#2945).
dplyr,348,"grouped data frames support `[, drop = TRUE]` (#3714)."
dplyr,349,New low-level constructor `new_grouped_df()` and validator `validate_grouped_df` (#3837).
dplyr,350,`glimpse()` prints group information on grouped tibbles (#3384).
dplyr,351,`sample_n()` and `sample_frac()` gain `...` (#2888).
dplyr,352,Scoped filter variants now support functions and purrr-like lambdas:
dplyr,352,"```
mtcars %>% filter_at(vars(hp, vs), ~ . %% 2 == 0)
```"
dplyr,353,"`do()`, `rowwise()` and `combine()` are questioning (#3494)."
dplyr,354,`funs()` is soft-deprecated and will start issuing warnings in a future version.
dplyr,355,"Scoped variants for `distinct()`: `distinct_at()`, `distinct_if()`, `distinct_all()` (#2948)."
dplyr,356,`summarise_at()` excludes the grouping variables (#3613).
dplyr,357,"`mutate_all()`, `mutate_at()`, `summarise_all()` and `summarise_at()` handle utf-8 names (#2967)."
dplyr,358,"R expressions that cannot be handled with native code are now evaluated with unwind-protection when available (on R 3.5 and later). This improves the performance of dplyr on data frames with many groups (and hence many expressions to evaluate). We benchmarked that computing a grouped average is consistently twice as fast with unwind-protection enabled. Unwind-protection also makes dplyr more robust in corner cases because it ensures the C++ destructors are correctly called in all circumstances (debugger exit, captured condition, restart invokation)."
dplyr,359,`sample_n()` and `sample_frac()` gain `...` (#2888).
dplyr,360,Improved performance for wide tibbles (#3335).
dplyr,361,"Faster hybrid `sum()`, `mean()`, `var()` and `sd()` for logical vectors (#3189)."
dplyr,362,Hybrid version of `sum(na.rm = FALSE)` exits early when there are missing values. This considerably improves performance when there are missing values early in the vector (#3288).
dplyr,363,`group_by()` does not trigger the additional `mutate()` on simple uses of the `.data` pronoun (#3533).
dplyr,364,"The grouping metadata of grouped data frame has been reorganized in a single tidy tibble, that can be accessed with the new `group_data()` function. The grouping tibble consists of one column per grouping variable, followed by a list column of the (1-based) indices of the groups. The new `group_rows()` function retrieves that list of indices (#3489)."
dplyr,364,"```
# the grouping metadata, as a tibble
group_by(starwars, homeworld) %>% 
  group_data()

# the indices
group_by(starwars, homeworld) %>% 
  group_data() %>% 
  pull(.rows)

group_by(starwars, homeworld) %>% 
  group_rows()
```"
dplyr,365,Hybrid evaluation has been completely redesigned for better performance and stability.
dplyr,366,Add documentation example for moving variable to back in `?select` (#3051).
dplyr,367,"column wise functions are better documented, in particular explaining when grouping variables are included as part of the selection."
dplyr,368,`mutate_each()` and `summarise_each()` are deprecated.
dplyr,369,`exprs()` is no longer exported to avoid conflicts with `Biobase::exprs()` (#3638).
dplyr,370,The MASS package is explicitly suggested to fix CRAN warnings on R-devel (#3657).
dplyr,371,Set operations like `intersect()` and `setdiff()` reconstruct groups metadata (#3587) and keep the order of the rows (#3839).
dplyr,372,Using namespaced calls to `base::sort()` and `base::unique()` from C++ code to avoid ambiguities when these functions are overridden (#3644).
dplyr,373,Fix rchk errors (#3693).
dplyr,374,"The major change in this version is that dplyr now depends on the selecting backend of the tidyselect package. If you have been linking to `dplyr::select_helpers` documentation topic, you should update the link to point to `tidyselect::select_helpers`."
dplyr,375,"Another change that causes warnings in packages is that dplyr now exports the `exprs()` function. This causes a collision with `Biobase::exprs()`. Either import functions from dplyr selectively rather than in bulk, or do not import `Biobase::exprs()` and refer to it with a namespace qualifier."
dplyr,376,"`distinct(data, ""string"")` now returns a one-row data frame again. (The previous behavior was to return the data unchanged.)"
dplyr,377,`do()` operations with more than one named argument can access `.` (#2998).
dplyr,378,"Reindexing grouped data frames (e.g. after `filter()` or `..._join()`) never updates the `""class""` attribute. This also avoids unintended updates to the original object (#3438)."
dplyr,379,Fixed rare column name clash in `..._join()` with non-join columns of the same name in both tables (#3266).
dplyr,380,"Fix `ntile()` and `row_number()` ordering to use the locale-dependent ordering functions in R when dealing with character vectors, rather than always using the C-locale ordering function in C (#2792, @​foo-bar-baz-qux)."
dplyr,381,"Summaries of summaries (such as `summarise(b = sum(a), c = sum(b))`) are now computed using standard evaluation for simplicity and correctness, but slightly slower (#3233)."
dplyr,382,Fixed `summarise()` for empty data frames with zero columns (#3071).
dplyr,383,"`enexpr()`, `expr()`, `exprs()`, `sym()` and `syms()` are now exported. `sym()` and `syms()` construct symbols from strings or character vectors. The `expr()` variants are equivalent to `quo()`, `quos()` and `enquo()` but return simple expressions rather than quosures. They support quasiquotation."
dplyr,384,"dplyr now depends on the new tidyselect package to power `select()`, `rename()`, `pull()` and their variants (#2896). Consequently `select_vars()`, `select_var()` and `rename_vars()` are soft-deprecated and will start issuing warnings in a future version. Following the switch to tidyselect, `select()` and `rename()` fully support character vectors. You can now unquote variables like this:"
dplyr,384,"```
vars <- c(""disp"", ""cyl"")
select(mtcars, !! vars)
select(mtcars, -(!! vars))
```"
dplyr,384,"Note that this only works in selecting functions because in other contexts strings and character vectors are ambiguous. For instance strings are a valid input in mutating operations and `mutate(df, ""foo"")` creates a new column by recycling ""foo"" to the number of rows."
dplyr,385,"Support for raw vector columns in `arrange()`, `group_by()`, `mutate()`, `summarise()` and `..._join()` (minimal `raw` x `raw` support initially) (#1803)."
dplyr,386,`bind_cols()` handles unnamed list (#3402).
dplyr,387,`bind_rows()` works around corrupt columns that have the object bit set while having no class attribute (#3349).
dplyr,388,"`combine()` returns `logical()` when all inputs are `NULL` (or when there are no inputs) (#3365, @​zeehio)."
dplyr,389,`distinct()` now supports renaming columns (#3234).
dplyr,390,Hybrid evaluation simplifies `dplyr::foo()` to `foo()` (#3309). Hybrid functions can now be masked by regular R functions to turn off hybrid evaluation (#3255). The hybrid evaluator finds functions from dplyr even if dplyr is not attached (#3456).
dplyr,391,In `mutate()` it is now illegal to use `data.frame` in the rhs (#3298).
dplyr,392,Support `!!!` in `recode_factor()` (#3390).
dplyr,393,`row_number()` works on empty subsets (#3454).
dplyr,394,`select()` and `vars()` now treat `NULL` as empty inputs (#3023).
dplyr,395,"Scoped select and rename functions (`select_all()`, `rename_if()` etc.) now work with grouped data frames, adapting the grouping as necessary (#2947, #3410). `group_by_at()` can group by an existing grouping variable (#3351). `arrange_at()` can use grouping variables (#3332)."
dplyr,396,"`slice()` no longer enforce tibble classes when input is a simple `data.frame`, and ignores 0 (#3297, #3313)."
dplyr,397,`transmute()` no longer prints a message when including a group variable.
dplyr,398,"Improved documentation for `funs()` (#3094) and set operations (e.g. `union()`) (#3238, @​edublancas)."
dplyr,399,Better error message if dbplyr is not installed when accessing database backends (#3225).
dplyr,400,`arrange()` fails gracefully on `data.frame` columns (#3153).
dplyr,401,Corrected error message when calling `cbind()` with an object of wrong length (#3085).
dplyr,402,"Add warning with explanation to `distinct()` if any of the selected columns are of type `list` (#3088, @​foo-bar-baz-qux), or when used on unknown columns (#2867, @​foo-bar-baz-qux)."
dplyr,403,Show clear error message for bad arguments to `funs()` (#3368).
dplyr,404,"Better error message in `..._join()` when joining data frames with duplicate or `NA` column names. Joining such data frames with a semi- or anti-join now gives a warning, which may be converted to an error in future versions (#3243, #3417)."
dplyr,405,Dedicated error message when trying to use columns of the `Interval` or `Period` classes (#2568).
dplyr,406,"Added an `.onDetach()` hook that allows for plyr to be loaded and attached without the warning message that says functions in dplyr will be masked, since dplyr is no longer attached (#3359, @​jwnorman)."
dplyr,407,"`sample_n()` and `sample_frac()` on grouped data frame are now faster especially for those with large number of groups (#3193, @​saurfang)."
dplyr,408,Compute variable names for joins in R (#3430).
dplyr,409,Bumped Rcpp dependency to 0.12.15 to avoid imperfect detection of `NA` values in hybrid evaluation fixed in RcppCore/Rcpp#790 (#2919).
dplyr,410,"Avoid cleaning the data mask, a temporary environment used to evaluate expressions. If the environment, in which e.g. a `mutate()` expression is evaluated, is preserved until after the operation, accessing variables from that environment now gives a warning but still returns `NULL` (#3318)."
dplyr,411,Fix recent Fedora and ASAN check errors (#3098).
dplyr,412,Avoid dependency on Rcpp 0.12.10 (#3106).
dplyr,413,Fixed protection error that occurred when creating a character column using grouped `mutate()` (#2971).
dplyr,414,Fixed a rare problem with accessing variable values in `summarise()` when all groups have size one (#3050).
dplyr,415,"`distinct()` now throws an error when used on unknown columns (#2867, @​foo-bar-baz-qux)."
dplyr,416,Fixed rare out-of-bounds memory write in `slice()` when negative indices beyond the number of rows were involved (#3073).
dplyr,417,"`select()`, `rename()` and `summarise()` no longer change the grouped vars of the original data (#3038)."
dplyr,418,"`nth(default = var)`, `first(default = var)` and `last(default = var)` fall back to standard evaluation in a grouped operation instead of triggering an error (#3045)."
dplyr,419,"`case_when()` now works if all LHS are atomic (#2909), or when LHS or RHS values are zero-length vectors (#3048)."
dplyr,420,`case_when()` accepts `NA` on the LHS (#2927).
dplyr,421,Semi- and anti-joins now preserve the order of left-hand-side data frame (#3089).
dplyr,422,Improved error message for invalid list arguments to `bind_rows()` (#3068).
dplyr,423,Grouping by character vectors is now faster (#2204).
dplyr,424,Fixed a crash that occurred when an unexpected input was supplied to the `call` argument of `order_by()` (#3065).
dplyr,425,Move build-time vs. run-time checks out of `.onLoad()` and into `dr_dplyr()`.
dplyr,426,Use new versions of bindrcpp and glue to avoid protection problems. Avoid wrapping arguments to internal error functions (#2877). Fix two protection mistakes found by rchk (#2868).
dplyr,427,Fix C++ error that caused compilation to fail on mac cran (#2862)
dplyr,428,"Fix undefined behaviour in `between()`, where `NA_REAL` were assigned instead of `NA_LOGICAL`. (#2855, @​zeehio)"
dplyr,429,`top_n()` now executes operations lazily for compatibility with database backends (#2848).
dplyr,430,"Reuse of new variables created in ungrouped `mutate()` possible again, regression introduced in dplyr 0.7.0 (#2869)."
dplyr,431,Quosured symbols do not prevent hybrid handling anymore. This should fix many performance issues introduced with tidyeval (#2822).
dplyr,432,Five new datasets provide some interesting built-in datasets to demonstrate dplyr verbs (#2094):
dplyr,432,• `starwars` dataset about starwars characters; has list columns
dplyr,432,• `storms` has the trajectories of \~200 tropical storms
dplyr,432,"• `band_members`, `band_instruments` and `band_instruments2` has some simple data to demonstrate joins."
dplyr,436,"New `add_count()` and `add_tally()` for adding an `n` column within groups (#2078, @​dgrtwo)."
dplyr,437,`arrange()` for grouped data frames gains a `.by_group` argument so you can choose to sort by groups if you want to (defaults to `FALSE`) (#2318)
dplyr,438,"New `pull()` generic for extracting a single column either by name or position (either from the left or the right). Thanks to @​paulponcet for the idea (#2054). This verb is powered with the new `select_var()` internal helper, which is exported as well. It is like `select_vars()` but returns a single variable."
dplyr,439,"`as_tibble()` is re-exported from tibble. This is the recommend way to create tibbles from existing data frames. `tbl_df()` has been softly deprecated. `tribble()` is now imported from tibble (#2336, @​chrMongeau); this is now preferred to `frame_data()`."
dplyr,440,dplyr no longer messages that you need dtplyr to work with data.table (#2489).
dplyr,441,"Long deprecated `regroup()`, `mutate_each_q()` and `summarise_each_q()` functions have been removed."
dplyr,442,Deprecated `failwith()`. I'm not even sure why it was here.
dplyr,443,"Soft-deprecated `mutate_each()` and `summarise_each()`, these functions print a message which will be changed to a warning in the next release."
dplyr,444,"The `.env` argument to `sample_n()` and `sample_frac()` is defunct, passing a value to this argument print a message which will be changed to a warning in the next release."
dplyr,445,"Almost all database related code has been moved out of dplyr and into a new package, [dbplyr](https://github.com/tidyverse/dbplyr/). This makes dplyr simpler, and will make it easier to release fixes for bugs that only affect databases. `src_mysql()`, `src_postgres()`, and `src_sqlite()` will still live dplyr so your existing code continues to work."
dplyr,446,"It is no longer necessary to create a remote ""src"". Instead you can work directly with the database connection returned by DBI. This reflects the maturity of the DBI ecosystem. Thanks largely to the work of Kirill Muller (funded by the R Consortium) DBI backends are now much more consistent, comprehensive, and easier to use. That means that there's no longer a need for a layer in between you and DBI."
dplyr,447,"Internally, column names are always represented as character vectors, and not as language symbols, to avoid encoding problems on Windows (#1950, #2387, #2388)."
dplyr,448,"Error messages and explanations of data frame inequality are now encoded in UTF-8, also on Windows (#2441)."
dplyr,449,"Joins now always reencode character columns to UTF-8 if necessary. This gives a nice speedup, because now pointer comparison can be used instead of string comparison, but relies on a proper encoding tag for all strings (#2514)."
dplyr,450,"Fixed problems when joining factor or character encodings with a mix of native and UTF-8 encoded values (#1885, #2118, #2271, #2451)."
dplyr,451,"Fix `group_by()` for data frames that have UTF-8 encoded names (#2284, #2382)."
dplyr,452,"New `group_vars()` generic that returns the grouping as character vector, to avoid the potentially lossy conversion to language symbols. The list returned by `group_by_prepare()` now has a new `group_names` component (#1950, #2384)."
dplyr,453,"`rename()`, `select()`, `group_by()`, `filter()`, `arrange()` and `transmute()` now have scoped variants (verbs suffixed with `_if()`, `_at()` and `_all()`). Like `mutate_all()`, `summarise_if()`, etc, these variants apply an operation to a selection of variables."
dplyr,454,"The scoped verbs taking predicates (`mutate_if()`, `summarise_if()`, etc) now support S3 objects and lazy tables. S3 objects should implement methods for `length()`, `[[` and `tbl_vars()`. For lazy tables, the first 100 rows are collected and the predicate is applied on this subset of the data. This is robust for the common case of checking the type of a column (#2129)."
dplyr,455,Summarise and mutate colwise functions pass `...` on the the manipulation functions.
dplyr,456,The performance of colwise verbs like `mutate_all()` is now back to where it was in `mutate_each()`.
dplyr,457,`funs()` has better handling of namespaced functions (#2089).
dplyr,458,"Fix issue with `mutate_if()` and `summarise_if()` when a predicate function returns a vector of `FALSE` (#1989, #2009, #2011)."
dplyr,459,"`order_by()`, `top_n()`, `sample_n()` and `sample_frac()` now use tidyeval to capture their arguments by expression. This makes it possible to use unquoting idioms (see `vignette(""programming"")`) and fixes scoping issues (#2297)."
dplyr,460,Most verbs taking dots now ignore the last argument if empty. This makes it easier to copy lines of code without having to worry about deleting trailing commas (#1039).
dplyr,461,"\[API\] The new `.data` and `.env` environments can be used inside all verbs that operate on data: `.data$column_name` accesses the column `column_name`, whereas `.env$var` accesses the external variable `var`. Columns or external variables named `.data` or `.env` are shadowed, use `.data$...` and/or `.env$...` to access them. (`.data` implements strict matching also for the `$` operator (#2591).) The `column()` and `global()` functions have been removed. They were never documented officially. Use the new `.data` and `.env` environments instead."
dplyr,462,"Expressions in verbs are now interpreted correctly in many cases that failed before (e.g., use of `$`, `case_when()`, nonstandard evaluation, ...). These expressions are now evaluated in a specially constructed temporary environment that retrieves column data on demand with the help of the `bindrcpp` package (#2190). This temporary environment poses restrictions on assignments using `<-` inside verbs. To prevent leaking of broken bindings, the temporary environment is cleared after the evaluation (#2435)."
dplyr,463,"\[API\] `xxx_join.tbl_df(na_matches = ""never"")` treats all `NA` values as different from each other (and from any other value), so that they never match. This corresponds to the behavior of joins for database sources, and of database joins in general. To match `NA` values, pass `na_matches = ""na""` to the join verbs; this is only supported for data frames. The default is `na_matches = ""na""`, kept for the sake of compatibility to v0.5.0. It can be tweaked by calling `pkgconfig::set_config(""dplyr::na_matches"", ""na"")` (#2033)."
dplyr,464,`common_by()` gets a better error message for unexpected inputs (#2091)
dplyr,465,"Fix groups when joining grouped data frames with duplicate columns (#2330, #2334, @​davidkretch)."
dplyr,466,"One of the two join suffixes can now be an empty string, dplyr no longer hangs (#2228, #2445)."
dplyr,467,Anti- and semi-joins warn if factor levels are inconsistent (#2741).
dplyr,468,Warnings about join column inconsistencies now contain the column names (#2728).
dplyr,469,"For selecting variables, the first selector decides if it's an inclusive selection (i.e., the initial column list is empty), or an exclusive selection (i.e., the initial column list contains all columns). This means that `select(mtcars, contains(""am""), contains(""FOO""), contains(""vs""))` now returns again both `am` and `vs` columns like in dplyr 0.4.3 (#2275, #2289, @​r2evans)."
dplyr,470,Select helpers now throw an error if called when no variables have been set (#2452)
dplyr,471,Helper functions in `select()` (and related verbs) are now evaluated in a context where column names do not exist (#2184).
dplyr,472,"`select()` (and the internal function `select_vars()`) now support column names in addition to column positions. As a result, expressions like `select(mtcars, ""cyl"")` are now allowed."
dplyr,473,"`recode()`, `case_when()` and `coalesce()` now support splicing of arguments with rlang's `!!!` operator."
dplyr,474,`count()` now preserves the grouping of its input (#2021).
dplyr,475,`distinct()` no longer duplicates variables (#2001).
dplyr,476,"Empty `distinct()` with a grouped data frame works the same way as an empty `distinct()` on an ungrouped data frame, namely it uses all variables (#2476)."
dplyr,477,`copy_to()` now returns it's output invisibly (since you're often just calling for the side-effect).
dplyr,478,`filter()` and `lag()` throw informative error if used with ts objects (#2219)
dplyr,479,`mutate()` recycles list columns of length 1 (#2171).
dplyr,480,"`mutate()` gives better error message when attempting to add a non-vector column (#2319), or attempting to remove a column with `NULL` (#2187, #2439)."
dplyr,481,"`summarise()` now correctly evaluates newly created factors (#2217), and can create ordered factors (#2200)."
dplyr,482,"Ungrouped `summarise()` uses summary variables correctly (#2404, #2453)."
dplyr,483,Grouped `summarise()` no longer converts character `NA` to empty strings (#1839).
dplyr,484,"`all_equal()` now reports multiple problems as a character vector (#1819, #2442)."
dplyr,485,"`all_equal()` checks that factor levels are equal (#2440, #2442)."
dplyr,486,`bind_rows()` and `bind_cols()` give an error for database tables (#2373).
dplyr,487,"`bind_rows()` works correctly with `NULL` arguments and an `.id` argument (#2056), and also for zero-column data frames (#2175)."
dplyr,488,"Breaking change: `bind_rows()` and `combine()` are more strict when coercing. Logical values are no longer coerced to integer and numeric. Date, POSIXct and other integer or double-based classes are no longer coerced to integer or double as there is chance of attributes or information being lost (#2209, @​zeehio)."
dplyr,489,`bind_cols()` now calls `tibble::repair_names()` to ensure that all names are unique (#2248).
dplyr,490,`bind_cols()` handles empty argument list (#2048).
dplyr,491,"`bind_cols()` better handles `NULL` inputs (#2303, #2443)."
dplyr,492,"`bind_rows()` explicitly rejects columns containing data frames (#2015, #2446)."
dplyr,493,"`bind_rows()` and `bind_cols()` now accept vectors. They are treated as rows by the former and columns by the latter. Rows require inner names like `c(col1 = 1, col2 = 2)`, while columns require outer names: `col1 = c(1, 2)`. Lists are still treated as data frames but can be spliced explicitly with `!!!`, e.g. `bind_rows(!!! x)` (#1676)."
dplyr,494,"`rbind_list()` and `rbind_all()` now call `.Deprecated()`, they will be removed in the next CRAN release. Please use `bind_rows()` instead."
dplyr,495,"`combine()` accepts `NA` values (#2203, @​zeehio)"
dplyr,496,"`combine()` and `bind_rows()` with character and factor types now always warn about the coercion to character (#2317, @​zeehio)"
dplyr,497,`combine()` and `bind_rows()` accept `difftime` objects.
dplyr,498,"`mutate` coerces results from grouped dataframes accepting combinable data types (such as `integer` and `numeric`). (#1892, @​zeehio)"
dplyr,499,`%in%` gets new hybrid handler (#126).
dplyr,500,`between()` returns NA if `left` or `right` is `NA` (fixes #2562).
dplyr,501,"`case_when()` supports `NA` values (#2000, @​tjmahr)."
dplyr,502,"`first()`, `last()`, and `nth()` have better default values for factor, Dates, POSIXct, and data frame inputs (#2029)."
dplyr,503,"Fixed segmentation faults in hybrid evaluation of `first()`, `last()`, `nth()`, `lead()`, and `lag()`. These functions now always fall back to the R implementation if called with arguments that the hybrid evaluator cannot handle (#948, #1980)."
dplyr,504,`n_distinct()` gets larger hash tables given slightly better performance (#977).
dplyr,505,`nth()` and `ntile()` are more careful about proper data types of their return values (#2306).
dplyr,506,`ntile()` ignores `NA` when computing group membership (#2564).
dplyr,507,"`lag()` enforces integer `n` (#2162, @​kevinushey)."
dplyr,508,"hybrid `min()` and `max()` now always return a `numeric` and work correctly in edge cases (empty input, all `NA`, ...) (#2305, #2436)."
dplyr,509,"`min_rank(""string"")` no longer segfaults in hybrid evaluation (#2279, #2444)."
dplyr,510,`recode()` can now recode a factor to other types (#2268)
dplyr,511,"`recode()` gains `.dots` argument to support passing replacements as list (#2110, @​jlegewie)."
dplyr,512,Many error messages are more helpful by referring to a column name or a position in the argument list (#2448).
dplyr,513,New `is_grouped_df()` alias to `is.grouped_df()`.
dplyr,514,"`tbl_vars()` now has a `group_vars` argument set to `TRUE` by default. If `FALSE`, group variables are not returned."
dplyr,515,Fixed segmentation fault after calling `rename()` on an invalid grouped data frame (#2031).
dplyr,516,`rename_vars()` gains a `strict` argument to control if an error is thrown when you try and rename a variable that doesn't exist.
dplyr,517,Fixed undefined behavior for `slice()` on a zero-column data frame (#2490).
dplyr,518,Fixed very rare case of false match during join (#2515).
dplyr,519,Restricted workaround for `match()` to R 3.3.0. (#1858).
dplyr,520,dplyr now warns on load when the version of R or Rcpp during installation is different to the currently installed version (#2514).
dplyr,521,Fixed improper reuse of attributes when creating a list column in `summarise()` and perhaps `mutate()` (#2231).
dplyr,522,"`mutate()` and `summarise()` always strip the `names` attribute from new or updated columns, even for ungrouped operations (#1689)."
dplyr,523,Fixed rare error that could lead to a segmentation fault in `all_equal(ignore_col_order = FALSE)` (#2502).
dplyr,524,"The ""dim"" and ""dimnames"" attributes are always stripped when copying a vector (#1918, #2049)."
dplyr,525,"`grouped_df` and `rowwise` are registered officially as S3 classes. This makes them easier to use with S4 (#2276, @​joranE, #2789)."
dplyr,526,"All operations that return tibbles now include the `""tbl""` class. This is important for correct printing with tibble 1.3.1 (#2789)."
dplyr,527,Makeflags uses PKG_CPPFLAGS for defining preprocessor macros.
dplyr,528,"astyle formatting for C++ code, tested but not changed as part of the tests (#2086, #2103)."
dplyr,529,Update RStudio project settings to install tests (#1952).
dplyr,530,"Using `Rcpp::interfaces()` to register C callable interfaces, and registering all native exported functions via `R_registerRoutines()` and `useDynLib(.registration = TRUE)` (#2146)."
dplyr,531,"Formatting of grouped data frames now works by overriding the `tbl_sum()` generic instead of `print()`. This means that the output is more consistent with tibble, and that `format()` is now supported also for SQL sources (#2781)."
dplyr,532,`arrange()` once again ignores grouping (#1206).
dplyr,533,"`distinct()` now only keeps the distinct variables. If you want to return all variables (using the first row for non-distinct values) use `.keep_all = TRUE` (#1110). For SQL sources, `.keep_all = FALSE` is implemented using `GROUP BY`, and `.keep_all = TRUE` raises an error (#1937, #1942, @​krlmlr). (The default behaviour of using all variables when none are specified remains - this note only applies if you select some variables)."
dplyr,534,"The select helper functions `starts_with()`, `ends_with()` etc are now real exported functions. This means that you'll need to import those functions if you're using from a package where dplyr is not attached. i.e. `dplyr::select(mtcars, starts_with(""m""))` used to work, but now you'll need `dplyr::select(mtcars, dplyr::starts_with(""m""))`."
dplyr,535,"The long deprecated `chain()`, `chain_q()` and `%.%` have been removed. Please use `%>%` instead."
dplyr,536,`id()` has been deprecated. Please use `group_indices()` instead (#808).
dplyr,537,`rbind_all()` and `rbind_list()` are formally deprecated. Please use `bind_rows()` instead (#803).
dplyr,538,Outdated benchmarking demos have been removed (#1487).
dplyr,539,Code related to starting and signalling clusters has been moved out to [multidplyr](https://github.com/tidyverse/multidplyr).
dplyr,540,"`coalesce()` finds the first non-missing value from a set of vectors. (#1666, thanks to @​krlmlr for initial implementation)."
dplyr,541,`case_when()` is a general vectorised if + else if (#631).
dplyr,542,"`if_else()` is a vectorised if statement: it's a stricter (type-safe), faster, and more predictable version of `ifelse()`. In SQL it is translated to a `CASE` statement."
dplyr,543,`na_if()` makes it easy to replace a certain value with an `NA` (#1707). In SQL it is translated to `NULL_IF`.
dplyr,544,"`near(x, y)` is a helper for `abs(x - y) < tol` (#1607)."
dplyr,545,`recode()` is vectorised equivalent to `switch()` (#1710).
dplyr,546,"`union_all()` method. Maps to `UNION ALL` for SQL sources, `bind_rows()` for data frames/tbl_dfs, and `combine()` for vectors (#1045)."
dplyr,547,"A new family of functions replace `summarise_each()` and `mutate_each()` (which will thus be deprecated in a future release). `summarise_all()` and `mutate_all()` apply a function to all columns while `summarise_at()` and `mutate_at()` operate on a subset of columns. These columns are selected with either a character vector of columns names, a numeric vector of column positions, or a column specification with `select()` semantics generated by the new `columns()` helper. In addition, `summarise_if()` and `mutate_if()` take a predicate function or a logical vector (these verbs currently require local sources). All these functions can now take ordinary functions instead of a list of functions generated by `funs()` (though this is only useful for local sources). (#1845, @​lionel-)"
dplyr,548,"`select_if()` lets you select columns with a predicate function. Only compatible with local sources. (#497, #1569, @​lionel-)"
dplyr,549,"`$` and `[[` methods that never do partial matching (#1504), and throw an error if the variable does not exist."
dplyr,550,"`all_equal()` allows to compare data frames ignoring row and column order, and optionally ignoring minor differences in type (e.g. int vs. double) (#821). The test handles the case where the df has 0 columns (#1506). The test fails fails when convert is `FALSE` and types don't match (#1484)."
dplyr,551,"`all_equal()` shows better error message when comparing raw values or when types are incompatible and `convert = TRUE` (#1820, @​krlmlr)."
dplyr,552,`add_row()` makes it easy to add a new row to data frame (#1021)
dplyr,553,"`as_data_frame()` is now an S3 generic with methods for lists (the old `as_data_frame()`), data frames (trivial), and matrices (with efficient C++ implementation) (#876). It no longer strips subclasses."
dplyr,554,"The internals of `data_frame()` and `as_data_frame()` have been aligned, so `as_data_frame()` will now automatically recycle length-1 vectors. Both functions give more informative error messages if you attempting to create an invalid data frame. You can no longer create a data frame with duplicated names (#820). Both check for `POSIXlt` columns, and tell you to use `POSIXct` instead (#813)."
dplyr,555,"`frame_data()` properly constructs rectangular tables (#1377, @​kevinushey), and supports list-cols."
dplyr,556,`glimpse()` is now a generic. The default method dispatches to `str()` (#1325). It now (invisibly) returns its first argument (#1570).
dplyr,557,`lst()` and `lst_()` which create lists in the same way that `data_frame()` and `data_frame_()` create data frames (#1290).
dplyr,558,`print.tbl_df()` is considerably faster if you have very wide data frames. It will now also only list the first 100 additional variables not already on screen - control this with the new `n_extra` parameter to `print()` (#1161). When printing a grouped data frame the number of groups is now printed with thousands separators (#1398). The type of list columns is correctly printed (#1379)
dplyr,559,"Package includes `setOldClass(c(""tbl_df"", ""tbl"", ""data.frame""))` to help with S4 dispatch (#969)."
dplyr,560,`tbl_df` automatically generates column names (#1606).
dplyr,561,"new `as_data_frame.tbl_cube()` (#1563, @​krlmlr)."
dplyr,562,"`tbl_cube`s are now constructed correctly from data frames, duplicate dimension values are detected, missing dimension values are filled with `NA`. The construction from data frames now guesses the measure variables by default, and allows specification of dimension and/or measure variables (#1568, @​krlmlr)."
dplyr,563,"Swap order of `dim_names` and `met_name` arguments in `as.tbl_cube` (for `array`, `table` and `matrix`) for consistency with `tbl_cube` and `as.tbl_cube.data.frame`. Also, the `met_name` argument to `as.tbl_cube.table` now defaults to `""Freq""` for consistency with `as.data.frame.table` (@​krlmlr, #1374)."
dplyr,564,"`as_data_frame()` on SQL sources now returns all rows (#1752, #1821, @​krlmlr)."
dplyr,565,"`compute()` gets new parameters `indexes` and `unique_indexes` that make it easier to add indexes (#1499, @​krlmlr)."
dplyr,566,`db_explain()` gains a default method for DBIConnections (#1177).
dplyr,567,"The backend testing system has been improved. This lead to the removal of `temp_srcs()`. In the unlikely event that you were using this function, you can instead use `test_register_src()`, `test_load()`, and `test_frame()`."
dplyr,568,You can now use `right_join()` and `full_join()` with remote tables (#1172).
dplyr,569,"`src_memdb()` is a session-local in-memory SQLite database. `memdb_frame()` works like `data_frame()`, but creates a new table in that database."
dplyr,570,"`src_sqlite()` now uses a stricter quoting character, `` ` ``, instead of `""`. SQLite ""helpfully"" will convert `""x""` into a string if there is no identifier called x in the current scope (#1426)."
dplyr,571,`src_sqlite()` throws errors if you try and use it with window functions (#907).
dplyr,572,`filter.tbl_sql()` now puts parens around each argument (#934).
dplyr,573,Unary `-` is better translated (#1002).
dplyr,574,"`escape.POSIXt()` method makes it easier to use date times. The date is rendered in ISO 8601 format in UTC, which should work in most databases (#857)."
dplyr,575,`is.na()` gets a missing space (#1695).
dplyr,576,"`if`, `is.na()`, and `is.null()` get extra parens to make precedence more clear (#1695)."
dplyr,577,`pmin()` and `pmax()` are translated to `MIN()` and `MAX()` (#1711).
dplyr,578,Window functions:
dplyr,578,• Work on ungrouped data (#1061).
dplyr,578,• Warning if order is not set on cumulative window functions.
dplyr,578,"• Multiple partitions or ordering variables in windowed functions no longer generate extra parentheses, so should work for more databases (#1060)"
dplyr,582,"`sql_join()` has been considerably simplified - it is now only responsible for generating the join query, not for generating the intermediate selects that rename the variable. Similarly for `sql_semi_join()`. If you've provided new methods in your backend, you'll need to rewrite."
dplyr,583,`select_query()` gains a distinct argument which is used for generating queries for `distinct()`. It loses the `offset` argument which was never used (and hence never tested).
dplyr,584,`src_translate_env()` has been replaced by `sql_translate_env()` which should have methods for the connection object.
dplyr,585,"`translate_sql()` and `partial_eval()` got a new API: now use connection + variable names, rather than a `tbl`. This makes testing considerably easier. `translate_sql_q()` has been renamed to `translate_sql_()`."
dplyr,586,"Also note that the sql generation generics now have a default method, instead methods for DBIConnection and NULL."
dplyr,587,"Avoiding segfaults in presence of `raw` columns (#1803, #1817, @​krlmlr)."
dplyr,588,"`arrange()` fails gracefully on list columns (#1489) and matrices (#1870, #1945, @​krlmlr)."
dplyr,589,"`count()` now adds additional grouping variables, rather than overriding existing (#1703). `tally()` and `count()` can now count a variable called `n` (#1633). Weighted `count()`/`tally()` ignore `NA`s (#1145)."
dplyr,590,"The progress bar in `do()` is now updated at most 20 times per second, avoiding unnecessary redraws (#1734, @​mkuhn)"
dplyr,591,`distinct()` doesn't crash when given a 0-column data frame (#1437).
dplyr,592,"`filter()` throws an error if you supply an named arguments. This is usually a type: `filter(df, x = 1)` instead of `filter(df, x == 1)` (#1529)."
dplyr,593,"`summarise()` correctly coerces factors with different levels (#1678), handles min/max of already summarised variable (#1622), and supports data frames as columns (#1425)."
dplyr,594,"`select()` now informs you that it adds missing grouping variables (#1511). It works even if the grouping variable has a non-syntactic name (#1138). Negating a failed match (e.g. `select(mtcars, -contains(""x""))`) returns all columns, instead of no columns (#1176) The `select()` helpers are now exported and have their own documentation (#1410). `one_of()` gives a useful error message if variables names are not found in data frame (#1407)."
dplyr,595,"The naming behaviour of `summarise_each()` and `mutate_each()` has been tweaked so that you can force inclusion of both the function and the variable name: `summarise_each(mtcars, funs(mean = mean), everything())` (#442)."
dplyr,596,"`mutate()` handles factors that are all `NA` (#1645), or have different levels in different groups (#1414). It disambiguates `NA` and `NaN` (#1448), and silently promotes groups that only contain `NA` (#1463). It deep copies data in list columns (#1643), and correctly fails on incompatible columns (#1641). `mutate()` on a grouped data no longer groups grouping attributes (#1120). `rowwise()` mutate gives expected results (#1381)."
dplyr,597,"`one_of()` tolerates unknown variables in `vars`, but warns (#1848, @​jennybc)."
dplyr,598,`print.grouped_df()` passes on `...` to `print()` (#1893).
dplyr,599,`slice()` correctly handles grouped attributes (#1405).
dplyr,600,`ungroup()` generic gains `...` (#922).
dplyr,601,`bind_cols()` matches the behaviour of `bind_rows()` and ignores `NULL` inputs (#1148). It also handles `POSIXct`s with integer base type (#1402).
dplyr,602,"`bind_rows()` handles 0-length named lists (#1515), promotes factors to characters (#1538), and warns when binding factor and character (#1485). bind_rows()\` is more flexible in the way it can accept data frames, lists, list of data frames, and list of lists (#1389)."
dplyr,603,"`bind_rows()` rejects `POSIXlt` columns (#1875, @​krlmlr)."
dplyr,604,Both `bind_cols()` and `bind_rows()` infer classes and grouping information from the first data frame (#1692).
dplyr,605,`rbind()` and `cbind()` get `grouped_df()` methods that make it harder to create corrupt data frames (#1385). You should still prefer `bind_rows()` and `bind_cols()`.
dplyr,606,"Joins now use correct class when joining on `POSIXct` columns (#1582, @​joel23888), and consider time zones (#819). Joins handle a `by` that is empty (#1496), or has duplicates (#1192). Suffixes grow progressively to avoid creating repeated column names (#1460). Joins on string columns should be substantially faster (#1386). Extra attributes are ok if they are identical (#1636). Joins work correct when factor levels not equal (#1712, #1559). Anti- and semi-joins give correct result when by variable is a factor (#1571), but warn if factor levels are inconsistent (#2741). A clear error message is given for joins where an explicit `by` contains unavailable columns (#1928, #1932). Warnings about join column inconsistencies now contain the column names (#2728)."
dplyr,607,"`inner_join()`, `left_join()`, `right_join()`, and `full_join()` gain a `suffix` argument which allows you to control what suffix duplicated variable names receive (#1296)."
dplyr,608,"Set operations (`intersect()`, `union()` etc) respect coercion rules (#799). `setdiff()` handles factors with `NA` levels (#1526)."
dplyr,609,"There were a number of fixes to enable joining of data frames that don't have the same encoding of column names (#1513), including working around bug 16885 regarding `match()` in R 3.3.0 (#1806, #1810, @​krlmlr)."
dplyr,610,`combine()` silently drops `NULL` inputs (#1596).
dplyr,611,Hybrid `cummean()` is more stable against floating point errors (#1387).
dplyr,612,"Hybrid `lead()` and `lag()` received a considerable overhaul. They are more careful about more complicated expressions (#1588), and falls back more readily to pure R evaluation (#1411). They behave correctly in `summarise()` (#1434). and handle default values for string columns."
dplyr,613,Hybrid `min()` and `max()` handle empty sets (#1481).
dplyr,614,"`n_distinct()` uses multiple arguments for data frames (#1084), falls back to R evaluation when needed (#1657), reverting decision made in (#567). Passing no arguments gives an error (#1957, #1959, @​krlmlr)."
dplyr,615,"`nth()` now supports negative indices to select from end, e.g. `nth(x, -2)` selects the 2nd value from the end of `x` (#1584)."
dplyr,616,"`top_n()` can now also select bottom `n` values by passing a negative value to `n` (#1008, #1352)."
dplyr,617,Hybrid evaluation leaves formulas untouched (#1447).
dplyr,618,"`frame_data()` provides a means for constructing `data_frame`s using a simple row-wise language. (#1358, @​kevinushey)"
dplyr,619,`all.equal()` no longer runs all outputs together (#1130).
dplyr,620,`as_data_frame()` gives better error message with NA column names (#1101).
dplyr,621,`[.tbl_df` is more careful about subsetting column names (#1245).
dplyr,622,`arrange()` and `mutate()` work on empty data frames (#1142).
dplyr,623,"`arrange()`, `filter()`, `slice()`, and `summarise()` preserve data frame meta attributes (#1064)."
dplyr,624,"`bind_rows()` and `bind_cols()` accept lists (#1104): during initial data cleaning you no longer need to convert lists to data frames, but can instead feed them to `bind_rows()` directly."
dplyr,625,"`bind_rows()` gains a `.id` argument. When supplied, it creates a new column that gives the name of each data frame (#1337, @​lionel-)."
dplyr,626,"`bind_rows()` respects the `ordered` attribute of factors (#1112), and does better at comparing `POSIXct`s (#1125). The `tz` attribute is ignored when determining if two `POSIXct` vectors are comparable. If the `tz` of all inputs is the same, it's used, otherwise its set to `UTC`."
dplyr,627,"`data_frame()` always produces a `tbl_df` (#1151, @​kevinushey)"
dplyr,628,"`filter(x, TRUE, TRUE)` now just returns `x` (#1210), it doesn't internally modify the first argument (#971), and it now works with rowwise data (#1099). It once again works with data tables (#906)."
dplyr,629,"`glimpse()` also prints out the number of variables in addition to the number of observations (@​ilarischeinin, #988)."
dplyr,630,"Joins handles matrix columns better (#1230), and can join `Date` objects with heterogenous representations (some `Date`s are integers, while other are numeric). This also improves `all.equal()` (#1204)."
dplyr,631,Fixed `percent_rank()` and `cume_dist()` so that missing values no longer affect denominator (#1132).
dplyr,632,"`print.tbl_df()` now displays the class for all variables, not just those that don't fit on the screen (#1276). It also displays duplicated column names correctly (#1159)."
dplyr,633,`print.grouped_df()` now tells you how many groups there are.
dplyr,634,"`mutate()` can set to `NULL` the first column (used to segfault, #1329) and it better protects intermediary results (avoiding random segfaults, #1231)."
dplyr,635,"`mutate()` on grouped data handles the special case where for the first few groups, the result consists of a `logical` vector with only `NA`. This can happen when the condition of an `ifelse` is an all `NA` logical vector (#958)."
dplyr,636,`mutate.rowwise_df()` handles factors (#886) and correctly handles 0-row inputs (#1300).
dplyr,637,`n_distinct()` gains an `na_rm` argument (#1052).
dplyr,638,"The `Progress` bar used by `do()` now respects global option `dplyr.show_progress` (default is TRUE) so you can turn it off globally (@​jimhester #1264, #1226)."
dplyr,639,"`summarise()` handles expressions that returning heterogenous outputs, e.g. `median()`, which that sometimes returns an integer, and other times a numeric (#893)."
dplyr,640,`slice()` silently drops columns corresponding to an NA (#1235).
dplyr,641,`ungroup.rowwise_df()` gives a `tbl_df` (#936).
dplyr,642,More explicit duplicated column name error message (#996).
dplyr,643,"When "","" is already being used as the decimal point (`getOption(""OutDec"")`), use ""."" as the thousands separator when printing out formatted numbers (@​ilarischeinin, #988)."
dplyr,644,"`db_query_fields.SQLiteConnection` uses `build_sql` rather than `paste0` (#926, @​NikNakk)"
dplyr,645,Improved handling of `log()` (#1330).
dplyr,646,"`n_distinct(x)` is translated to `COUNT(DISTINCT(x))` (@​skparkes, #873)."
dplyr,647,`print(n = Inf)` now works for remote sources (#1310).
dplyr,648,Hybrid evaluation does not take place for objects with a class (#1237).
dplyr,649,Improved `$` handling (#1134).
dplyr,650,Simplified code for `lead()` and `lag()` and make sure they work properly on factors (#955). Both respect the `default` argument (#915).
dplyr,651,"`mutate` can set to `NULL` the first column (used to segfault, #1329)."
dplyr,652,`filter` on grouped data handles indices correctly (#880).
dplyr,653,`sum()` issues a warning about integer overflow (#1108).
dplyr,654,"`lag()` and `lead()` for grouped data were confused about indices and therefore produced wrong results (#925, #937). `lag()` once again overrides `lag()` instead of just the default method `lag.default()`. This is necessary due to changes in R CMD check. To use the lag function provided by another package, use `pkg::lag`."
dplyr,655,Fixed a number of memory issues identified by valgrind.
dplyr,656,Improved performance when working with large number of columns (#879).
dplyr,657,Lists-cols that contain data frames now print a slightly nicer summary (#1147)
dplyr,658,Set operations give more useful error message on incompatible data frames (#903).
dplyr,659,`all.equal()` gives the correct result when `ignore_row_order` is `TRUE` (#1065) and `all.equal()` correctly handles character missing values (#1095).
dplyr,660,`bind_cols()` always produces a `tbl_df` (#779).
dplyr,661,`bind_rows()` gains a test for a form of data frame corruption (#1074).
dplyr,662,`bind_rows()` and `summarise()` now handles complex columns (#933).
dplyr,663,Workaround for using the constructor of `DataFrame` on an unprotected object (#998)
dplyr,664,Improved performance when working with large number of columns (#879).
dplyr,665,Don't assume that RPostgreSQL is available.
dplyr,666,`add_rownames()` turns row names into an explicit variable (#639).
dplyr,667,`as_data_frame()` efficiently coerces a list into a data frame (#749).
dplyr,668,`bind_rows()` and `bind_cols()` efficiently bind a list of data frames by row or column. `combine()` applies the same coercion rules to vectors (it works like `c()` or `unlist()` but is consistent with the `bind_rows()` rules).
dplyr,669,"`right_join()` (include all rows in `y`, and matching rows in `x`) and `full_join()` (include all rows in `x` and `y`) complete the family of mutating joins (#96)."
dplyr,670,`group_indices()` computes a unique integer id for each group (#771). It can be called on a grouped_df without any arguments or on a data frame with same arguments as `group_by()`.
dplyr,671,"`vignette(""data_frames"")` describes dplyr functions that make it easier and faster to create and coerce data frames. It subsumes the old `memory` vignette."
dplyr,672,"`vignette(""two-table"")` describes how two-table verbs work in dplyr."
dplyr,673,`data_frame()` (and `as_data_frame()` & `tbl_df()`) now explicitly forbid columns that are data frames or matrices (#775). All columns must be either a 1d atomic vector or a 1d list.
dplyr,674,"`do()` uses lazyeval to correctly evaluate its arguments in the correct environment (#744), and new `do_()` is the SE equivalent of `do()` (#718). You can modify grouped data in place: this is probably a bad idea but it's sometimes convenient (#737). `do()` on grouped data tables now passes in all columns (not all columns except grouping vars) (#735, thanks to @​kismsu). `do()` with database tables no longer potentially includes grouping variables twice (#673). Finally, `do()` gives more consistent outputs when there are no rows or no groups (#625)."
dplyr,675,"`first()` and `last()` preserve factors, dates and times (#509)."
dplyr,676,Overhaul of single table verbs for data.table backend. They now all use a consistent (and simpler) code base. This ensures that (e.g.) `n()` now works in all verbs (#579).
dplyr,677,"In `*_join()`, you can now name only those variables that are different between the two tables, e.g. `inner_join(x, y, c(""a"", ""b"", ""c"" = ""d""))` (#682). If non-join columns are the same, dplyr will add `.x` and `.y` suffixes to distinguish the source (#655)."
dplyr,678,`mutate()` handles complex vectors (#436) and forbids `POSIXlt` results (instead of crashing) (#670).
dplyr,679,"`select()` now implements a more sophisticated algorithm so if you're doing multiples includes and excludes with and without names, you're more likely to get what you expect (#644). You'll also get a better error message if you supply an input that doesn't resolve to an integer column position (#643)."
dplyr,680,"Printing has received a number of small tweaks. All `print()` methods invisibly return their input so you can interleave `print()` statements into a pipeline to see interim results. `print()` will column names of 0 row data frames (#652), and will never print more 20 rows (i.e. `options(dplyr.print_max)` is now 20), not 100 (#710). Row names are no never printed since no dplyr method is guaranteed to preserve them (#669). `glimpse()` prints the number of observations (#692) `type_sum()` gains a data frame method."
dplyr,681,`summarise()` handles list output columns (#832)
dplyr,682,"`slice()` works for data tables (#717). Documentation clarifies that slice can't work with relational databases, and the examples show how to achieve the same results using `filter()` (#720)."
dplyr,683,dplyr now requires RSQLite \>= 1.0. This shouldn't affect your code in any way (except that RSQLite now doesn't need to be attached) but does simplify the internals (#622).
dplyr,684,"Functions that need to combine multiple results into a single column (e.g. `join()`, `bind_rows()` and `summarise()`) are more careful about coercion. Joining factors with the same levels in the same order preserves the original levels (#675). Joining factors with non-identical levels generates a warning and coerces to character (#684). Joining a character to a factor (or vice versa) generates a warning and coerces to character. Avoid these warnings by ensuring your data is compatible before joining. `rbind_list()` will throw an error if you attempt to combine an integer and factor (#751). `rbind()`ing a column full of `NA`s is allowed and just collects the appropriate missing value for the column type being collected (#493). `summarise()` is more careful about `NA`, e.g. the decision on the result type will be delayed until the first non NA value is returned (#599). It will complain about loss of precision coercions, which can happen for expressions that return integers for some groups and a doubles for others (#599)."
dplyr,685,"A number of functions gained new or improved hybrid handlers: `first()`, `last()`, `nth()` (#626), `lead()` & `lag()` (#683), `%in%` (#126). That means when you use these functions in a dplyr verb, we handle them in C++, rather than calling back to R, and hence improving performance. Hybrid `min_rank()` correctly handles `NaN` values (#726). Hybrid implementation of `nth()` falls back to R evaluation when `n` is not a length one integer or numeric, e.g. when it's an expression (#734). Hybrid `dense_rank()`, `min_rank()`, `cume_dist()`, `ntile()`, `row_number()` and `percent_rank()` now preserve NAs (#774)"
dplyr,686,`filter` returns its input when it has no rows or no columns (#782).
dplyr,687,"Join functions keep attributes (e.g. time zone information) from the left argument for `POSIXct` and `Date` objects (#819), and only only warn once about each incompatibility (#798)."
dplyr,688,"`[.tbl_df` correctly computes row names for 0-column data frames, avoiding problems with xtable (#656). `[.grouped_df` will silently drop grouping if you don't include the grouping columns (#733)."
dplyr,689,`data_frame()` now acts correctly if the first argument is a vector to be recycled. (#680 thanks @​jimhester)
dplyr,690,"`filter.data.table()` works if the table has a variable called ""V1"" (#615)."
dplyr,691,"`*_join()` keeps columns in original order (#684). Joining a factor to a character vector doesn't segfault (#688). `*_join` functions can now deal with multiple encodings (#769), and correctly name results (#855)."
dplyr,692,`*_join.data.table()` works when data.table isn't attached (#786).
dplyr,693,`group_by()` on a data table preserves original order of the rows (#623). `group_by()` supports variables with more than 39 characters thanks to a fix in lazyeval (#705). It gives meaningful error message when a variable is not found in the data frame (#716).
dplyr,694,`grouped_df()` requires `vars` to be a list of symbols (#665).
dplyr,695,"`min(.,na.rm = TRUE)` works with `Date`s built on numeric vectors (#755)."
dplyr,696,`rename_()` generic gets missing `.dots` argument (#708).
dplyr,697,"`row_number()`, `min_rank()`, `percent_rank()`, `dense_rank()`, `ntile()` and `cume_dist()` handle data frames with 0 rows (#762). They all preserve missing values (#774). `row_number()` doesn't segfault when giving an external variable with the wrong number of variables (#781)."
dplyr,698,`group_indices` handles the edge case when there are no variables (#867).
dplyr,699,Removed bogus `NAs introduced by coercion to integer range` on 32-bit Windows (#2708).
dplyr,700,Fixed problem with test script on Windows.
dplyr,701,"`between()` vector function efficiently determines if numeric values fall in a range, and is translated to special form for SQL (#503)."
dplyr,702,`count()` makes it even easier to do (weighted) counts (#358).
dplyr,703,"`data_frame()` by @​kevinushey is a nicer way of creating data frames. It never coerces column types (no more `stringsAsFactors = FALSE`!), never munges column names, and never adds row names. You can use previously defined columns to compute new columns (#376)."
dplyr,704,`distinct()` returns distinct (unique) rows of a tbl (#97). Supply additional variables to return the first row for each unique combination of variables.
dplyr,705,"Set operations, `intersect()`, `union()` and `setdiff()` now have methods for data frames, data tables and SQL database tables (#93). They pass their arguments down to the base functions, which will ensure they raise errors if you pass in two many arguments."
dplyr,706,"Joins (e.g. `left_join()`, `inner_join()`, `semi_join()`, `anti_join()`) now allow you to join on different variables in `x` and `y` tables by supplying a named vector to `by`. For example, `by = c(""a"" = ""b"")` joins `x.a` to `y.b`."
dplyr,707,`n_groups()` function tells you how many groups in a tbl. It returns 1 for ungrouped data. (#477)
dplyr,708,`transmute()` works like `mutate()` but drops all variables that you didn't explicitly refer to (#302).
dplyr,709,`rename()` makes it easy to rename variables - it works similarly to `select()` but it preserves columns that you didn't otherwise touch.
dplyr,710,"`slice()` allows you to selecting rows by position (#226). It includes positive integers, drops negative integers and you can use expression like `n()`."
dplyr,711,You can now program with dplyr - every function that does non-standard evaluation (NSE) has a standard evaluation (SE) version ending in `_`. This is powered by the new lazyeval package which provides all the tools needed to implement NSE consistently and correctly.
dplyr,712,"See `vignette(""nse"")` for full details."
dplyr,713,`regroup()` is deprecated. Please use the more flexible `group_by_()` instead.
dplyr,714,`summarise_each_q()` and `mutate_each_q()` are deprecated. Please use `summarise_each_()` and `mutate_each_()` instead.
dplyr,715,`funs_q` has been replaced with `funs_`.
dplyr,716,`%.%` has been deprecated: please use `%>%` instead. `chain()` is defunct. (#518)
dplyr,717,`filter.numeric()` removed. Need to figure out how to reimplement with new lazy eval system.
dplyr,718,The `Progress` refclass is no longer exported to avoid conflicts with shiny. Instead use `progress_estimated()` (#535).
dplyr,719,"`src_monetdb()` is now implemented in MonetDB.R, not dplyr."
dplyr,720,`show_sql()` and `explain_sql()` and matching global options `dplyr.show_sql` and `dplyr.explain_sql` have been removed. Instead use `show_query()` and `explain()`.
dplyr,721,Main verbs now have individual documentation pages (#519).
dplyr,722,"`%>%` is simply re-exported from magrittr, instead of creating a local copy (#496, thanks to @​jimhester)"
dplyr,723,"Examples now use `nycflights13` instead of `hflights` because it the variables have better names and there are a few interlinked tables (#562). `Lahman` and `nycflights13` are (once again) suggested packages. This means many examples will not work unless you explicitly install them with `install.packages(c(""Lahman"", ""nycflights13""))` (#508). dplyr now depends on Lahman 3.0.1. A number of examples have been updated to reflect modified field names (#586)."
dplyr,724,"`do()` now displays the progress bar only when used in interactive prompts and not when knitting (#428, @​jimhester)."
dplyr,725,`glimpse()` now prints a trailing new line (#590).
dplyr,726,`group_by()` has more consistent behaviour when grouping by constants: it creates a new column with that value (#410). It renames grouping variables (#410). The first argument is now `.data` so you can create new groups with name x (#534).
dplyr,727,"Now instead of overriding `lag()`, dplyr overrides `lag.default()`, which should avoid clobbering lag methods added by other packages. (#277)."
dplyr,728,"`mutate(data, a = NULL)` removes the variable `a` from the returned dataset (#462)."
dplyr,729,`trunc_mat()` and hence `print.tbl_df()` and friends gets a `width` argument to control the default output width. Set `options(dplyr.width = Inf)` to always show all columns (#589).
dplyr,730,"`select()` gains `one_of()` selector: this allows you to select variables provided by a character vector (#396). It fails immediately if you give an empty pattern to `starts_with()`, `ends_with()`, `contains()` or `matches()` (#481, @​leondutoit). Fixed buglet in `select()` so that you can now create variables called `val` (#564)."
dplyr,731,Switched from RC to R6.
dplyr,732,"`tally()` and `top_n()` work consistently: neither accidentally evaluates the the `wt` param. (#426, @​mnel)"
dplyr,733,`rename` handles grouped data (#640).
dplyr,734,"Correct SQL generation for `paste()` when used with the collapse parameter targeting a Postgres database. (@​rbdixon, #1357)"
dplyr,735,"The db backend system has been completely overhauled in order to make it possible to add backends in other packages, and to support a much wider range of databases. See `vignette(""new-sql-backend"")` for instruction on how to create your own (#568)."
dplyr,736,`src_mysql()` gains a method for `explain()`.
dplyr,737,"When `mutate()` creates a new variable that uses a window function, automatically wrap the result in a subquery (#484)."
dplyr,738,Correct SQL generation for `first()` and `last()` (#531).
dplyr,739,`order_by()` now works in conjunction with window functions in databases that support them.
dplyr,740,"All verbs now understand how to work with `difftime()` (#390) and `AsIs` (#453) objects. They all check that colnames are unique (#483), and are more robust when columns are not present (#348, #569, #600)."
dplyr,741,Hybrid evaluation bugs fixed:
dplyr,741,• Call substitution stopped too early when a sub expression contained a `$` (#502).
dplyr,741,• Handle `::` and `:::` (#412).
dplyr,741,• `cumany()` and `cumall()` properly handle `NA` (#408).
dplyr,741,"• `nth()` now correctly preserve the class when using dates, times and factors (#509)."
dplyr,741,• no longer substitutes within `order_by()` because `order_by()` needs to do its own NSE (#169).
dplyr,747,"`[.tbl_df` always returns a tbl_df (i.e. `drop = FALSE` is the default) (#587, #610). `[.grouped_df` preserves important output attributes (#398)."
dplyr,748,"`arrange()` keeps the grouping structure of grouped data (#491, #605), and preserves input classes (#563)."
dplyr,749,"`contains()` accidentally matched regular expressions, now it passes `fixed = TRUE` to `grep()` (#608)."
dplyr,750,`filter()` asserts all variables are white listed (#566).
dplyr,751,`mutate()` makes a `rowwise_df` when given a `rowwise_df` (#463).
dplyr,752,`rbind_all()` creates `tbl_df` objects instead of raw `data.frame`s.
dplyr,753,"If `select()` doesn't match any variables, it returns a 0-column data frame, instead of the original (#498). It no longer fails when if some columns are not named (#492)"
dplyr,754,"`sample_n()` and `sample_frac()` methods for data.frames exported. (#405, @​alyst)"
dplyr,755,"A grouped data frame may have 0 groups (#486). Grouped df objects gain some basic validity checking, which should prevent some crashes related to corrupt `grouped_df` objects made by `rbind()` (#606)."
dplyr,756,"More coherence when joining columns of compatible but different types, e.g. when joining a character vector and a factor (#455), or a numeric and integer (#450)"
dplyr,757,"`mutate()` works for on zero-row grouped data frame, and with list columns (#555)."
dplyr,758,`LazySubset` was confused about input data size (#452).
dplyr,759,Internal `n_distinct()` is stricter about it's inputs: it requires one symbol which must be from the data frame (#567).
dplyr,760,`rbind_*()` handle data frames with 0 rows (#597). They fill character vector columns with `NA` instead of blanks (#595). They work with list columns (#463).
dplyr,761,Improved handling of encoding for column names (#636).
dplyr,762,Improved handling of hybrid evaluation re \$ and @​ (#645).
dplyr,763,Fix major omission in `tbl_dt()` and `grouped_dt()` methods - I was accidentally doing a deep copy on every result :(
dplyr,764,"`summarise()` and `group_by()` now retain over-allocation when working with data.tables (#475, @​arunsrinivasan)."
dplyr,765,"joining two data.tables now correctly dispatches to data table methods, and result is a data table (#470)"
dplyr,766,`summarise.tbl_cube()` works with single grouping variable (#480).
dplyr,767,"`glimpse()` makes it possible to see all the columns in a tbl, displaying as much data for each variable as can be fit on a single line."
dplyr,768,`sample_n()` randomly samples a fixed number of rows from a tbl; `sample_frac()` randomly samples a fixed fraction of rows. Only works for local data frames and data tables (#202).
dplyr,769,`summarise_each()` and `mutate_each()` make it easy to apply one or more functions to multiple columns in a tbl (#178).
dplyr,770,"If you load plyr after dplyr, you'll get a message suggesting that you load plyr first (#347)."
dplyr,771,"`as.tbl_cube()` gains a method for matrices (#359, @​paulstaab)"
dplyr,772,"`compute()` gains `temporary` argument so you can control whether the results are temporary or permanent (#382, @​cpsievert)"
dplyr,773,"`group_by()` now defaults to `add = FALSE` so that it sets the grouping variables rather than adding to the existing list. I think this is how most people expected `group_by` to work anyway, so it's unlikely to cause problems (#385)."
dplyr,774,"Support for [MonetDB](http://www.monetdb.org) tables with `src_monetdb()` (#8, thanks to @​hannesmuehleisen)."
dplyr,775,New vignettes:
dplyr,775,• `memory` vignette which discusses how dplyr minimises memory usage for local data frames (#198).
dplyr,775,• `new-sql-backend` vignette which discusses how to add a new SQL backend/source to dplyr.
dplyr,778,`changes()` output more clearly distinguishes which columns were added or deleted.
dplyr,779,`explain()` is now generic.
dplyr,780,"dplyr is more careful when setting the keys of data tables, so it never accidentally modifies an object that it doesn't own. It also avoids unnecessary key setting which negatively affected performance. (#193, #255)."
dplyr,781,"`print()` methods for `tbl_df`, `tbl_dt` and `tbl_sql` gain `n` argument to control the number of rows printed (#362). They also works better when you have columns containing lists of complex objects."
dplyr,782,"`row_number()` can be called without arguments, in which case it returns the same as `1:n()` (#303)."
dplyr,783,"`""comment""` attribute is allowed (white listed) as well as names (#346)."
dplyr,784,"hybrid versions of `min`, `max`, `mean`, `var`, `sd` and `sum` handle the `na.rm` argument (#168). This should yield substantial performance improvements for those functions."
dplyr,785,Special case for call to `arrange()` on a grouped data frame with no arguments. (#369)
dplyr,786,Code adapted to Rcpp \> 0.11.1
dplyr,787,"internal `DataDots` class protects against missing variables in verbs (#314), including the case where `...` is missing. (#338)"
dplyr,788,`all.equal.data.frame` from base is no longer bypassed. we now have `all.equal.tbl_df` and `all.equal.tbl_dt` methods (#332).
dplyr,789,`arrange()` correctly handles NA in numeric vectors (#331) and 0 row data frames (#289).
dplyr,790,`copy_to.src_mysql()` now works on windows (#323)
dplyr,791,`*_join()` doesn't reorder column names (#324).
dplyr,792,`rbind_all()` is stricter and only accepts list of data frames (#288)
dplyr,793,`rbind_*` propagates time zone information for `POSIXct` columns (#298).
dplyr,794,`rbind_*` is less strict about type promotion. The numeric `Collecter` allows collection of integer and logical vectors. The integer `Collecter` also collects logical values (#321).
dplyr,795,internal `sum` correctly handles integer (under/over)flow (#308).
dplyr,796,`summarise()` checks consistency of outputs (#300) and drops `names` attribute of output columns (#357).
dplyr,797,"join functions throw error instead of crashing when there are no common variables between the data frames, and also give a better error message when only one data frame has a by variable (#371)."
dplyr,798,"`top_n()` returns `n` rows instead of `n - 1` (@​leondutoit, #367)."
dplyr,799,"SQL translation always evaluates subsetting operators (`$`, `[`, `[[`) locally. (#318)."
dplyr,800,`select()` now renames variables in remote sql tbls (#317) and implicitly adds grouping variables (#170).
dplyr,801,internal `grouped_df_impl` function errors if there are no variables to group by (#398).
dplyr,802,`n_distinct` did not treat NA correctly in the numeric case #384.
dplyr,803,Some compiler warnings triggered by -Wall or -pedantic have been eliminated.
dplyr,804,`group_by` only creates one group for NA (#401).
dplyr,805,Hybrid evaluator did not evaluate expression in correct environment (#403).
dplyr,806,`select()` actually renames columns in a data table (#284).
dplyr,807,`rbind_all()` and `rbind_list()` now handle missing values in factors (#279).
dplyr,808,SQL joins now work better if names duplicated in both x and y tables (#310).
dplyr,809,Builds against Rcpp 0.11.1
dplyr,810,`select()` correctly works with the vars attribute (#309).
dplyr,811,Internal code is stricter when deciding if a data frame is grouped (#308): this avoids a number of situations which previously caused problems.
dplyr,812,More data frame joins work with missing values in keys (#306).
dplyr,813,"`select()` is substantially more powerful. You can use named arguments to rename existing variables, and new functions `starts_with()`, `ends_with()`, `contains()`, `matches()` and `num_range()` to select variables based on their names. It now also makes a shallow copy, substantially reducing its memory impact (#158, #172, #192, #232)."
dplyr,814,`summarize()` added as alias for `summarise()` for people from countries that don't don't spell things correctly ;) (#245)
dplyr,815,"`filter()` now fails when given anything other than a logical vector, and correctly handles missing values (#249). `filter.numeric()` proxies `stats::filter()` so you can continue to use `filter()` function with numeric inputs (#264)."
dplyr,816,`summarise()` correctly uses newly created variables (#259).
dplyr,817,`mutate()` correctly propagates attributes (#265) and `mutate.data.frame()` correctly mutates the same variable repeatedly (#243).
dplyr,818,"`lead()` and `lag()` preserve attributes, so they now work with dates, times and factors (#166)."
dplyr,819,`n()` never accepts arguments (#223).
dplyr,820,`row_number()` gives correct results (#227).
dplyr,821,`rbind_all()` silently ignores data frames with 0 rows or 0 columns (#274).
dplyr,822,"`group_by()` orders the result (#242). It also checks that columns are of supported types (#233, #276)."
dplyr,823,"The hybrid evaluator did not handle some expressions correctly, for example in `if(n() > 5) 1 else 2` the subexpression `n()` was not substituted correctly. It also correctly processes `$` (#278)."
dplyr,824,`arrange()` checks that all columns are of supported types (#266). It also handles list columns (#282).
dplyr,825,Working towards Solaris compatibility.
dplyr,826,Benchmarking vignette temporarily disabled due to microbenchmark problems reported by BDR.
dplyr,827,new `location()` and `changes()` functions which provide more information about how data frames are stored in memory so that you can see what gets copied.
dplyr,828,renamed `explain_tbl()` to `explain()` (#182).
dplyr,829,`tally()` gains `sort` argument to sort output so highest counts come first (#173).
dplyr,830,"`ungroup.grouped_df()`, `tbl_df()`, `as.data.frame.tbl_df()` now only make shallow copies of their inputs (#191)."
dplyr,831,The `benchmark-baseball` vignette now contains fairer (including grouping times) comparisons with `data.table`. (#222)
dplyr,832,`filter()` (#221) and `summarise()` (#194) correctly propagate attributes.
dplyr,833,`summarise()` throws an error when asked to summarise an unknown variable instead of crashing (#208).
dplyr,834,`group_by()` handles factors with missing values (#183).
dplyr,835,"`filter()` handles scalar results (#217) and better handles scoping, e.g. `filter(., variable)` where `variable` is defined in the function that calls `filter`. It also handles `T` and `F` as aliases to `TRUE` and `FALSE` if there are no `T` or `F` variables in the data or in the scope."
dplyr,836,`select.grouped_df` fails when the grouping variables are not included in the selected variables (#170)
dplyr,837,`all.equal.data.frame()` handles a corner case where the data frame has `NULL` names (#217)
dplyr,838,`mutate()` gives informative error message on unsupported types (#179)
dplyr,839,"dplyr source package no longer includes pandas benchmark, reducing download size from 2.8 MB to 0.5 MB."
dtplyr,1,"`min_rank()`, `dense_rank()`, `percent_rank()`, & `cume_dist()` are now translated to their `data.table` equivalents (#396)"
dtplyr,2,`pick()` is now translated (#341)
dtplyr,3,`across()` output can now be used as a data frame (#341)
dtplyr,4,`names_glue` now works in `pivot_wider()` when `names_from` contains `NA`s (#394)
dtplyr,5,`full_join()` now produces output with correctly named columns when a non-default value for `suffix` is supplied. Previously the `suffix` argument was ignored (#382).
dtplyr,6,Chained operations properly prevent modify-by-reference (#210)
dtplyr,7,`dplyr` and `tidyr` verbs no longer dispatch to `dtplyr` translations when used directly on `data.table` objects. `lazy_dt()` must now explicitly be called by the user. (#312)
dtplyr,8,An error now occurs when `where()` is used for selection (#271)
dtplyr,9,Anonymous functions are translated correctly in `mutate`/`summarize` (#362)
dtplyr,10,Custom functions can pass a quosure to `col` arg in `separate()` (#359)
dtplyr,11,`glue::glue()` and `stringr::str_glue()` now work inside `mutate()`/`transmute()` without needing to specify `.envir`
dtplyr,12,Can use `.data` pronoun inside `desc()` in `arrange()` (#346)
dtplyr,13,New translations:
dtplyr,13,• `add_count()`
dtplyr,13,• `unite()`
dtplyr,16,"`if_any()` and `if_all()` now work for a list of functions specified in the `.fns` argument(@​mgirlich, #335)."
dtplyr,17,"In `semi_join()` the `y` table is again coerced to a lazy table if `copy = TRUE` (@​mgirlich, #322)."
dtplyr,18,"The `.cols` argument of `across()`, `if_any()`, and `if_all()` is evaluated in the environment from which `across` was called."
dtplyr,19,"`if_any()` and `if_all()` now work without specifying the `.fns` argument (@​mgirlich, #325)."
dtplyr,20,`mutate()` can now use `.keep`
dtplyr,21,`dtplyr` no longer directly depends on `ellipsis`
dtplyr,22,`count()` properly handles grouping variables (#356)
dtplyr,23,`select()` now drops columns by reference when possible for improved performance (#367)
dtplyr,24,`arrange()` now utilizes `setorder()` when possible for improved performance (#364)
dtplyr,25,`slice()` uses an intermediate variable to reduce computation time of row selection (#377)
dtplyr,26,Hot patch release to resolve R CMD check failures.
dtplyr,27,Fix for upcoming rlang release.
dtplyr,28,dtplyr gains translations for many more tidyr verbs:
dtplyr,28,"• `drop_na()` (@​markfairbanks, #194)"
dtplyr,28,"• `complete()` (@​markfairbanks, #225)"
dtplyr,28,"• `expand()` (@​markfairbanks, #225)"
dtplyr,28,"• `fill()` (@​markfairbanks, #197)"
dtplyr,28,"• `pivot_longer()` (@​markfairbanks, #204)"
dtplyr,28,"• `replace_na()` (@​markfairbanks, #202)"
dtplyr,28,"• `nest()` (@​mgirlich, #251)"
dtplyr,28,"• `separate()` (@​markfairbanks, #269)"
dtplyr,37,"`tally()` gains a translation (@​mgirlich, #201)."
dtplyr,38,"`ifelse()` is mapped to `fifelse()` (@​markfairbanks, #220)."
dtplyr,39,"`slice()` helpers (`slice_head()`, `slice_tail()`, `slice_min()`, `slice_max()` and `slice_sample()`) now accept negative values for `n` and `prop`."
dtplyr,40,"`across()` defaults to `everything()` when `.cols` isn't provided (@​markfairbanks, #231), and handles named selections (@​eutwt #293). It ˜ow handles `.fns` arguments in more forms (@​eutwt #288):"
dtplyr,40,"• Anonymous functions, such as `function(x) x + 1`"
dtplyr,40,"• Formulas which don't require a function call, such as `~ 1`"
dtplyr,43,"`arrange(dt, desc(col))` is translated to `dt[order(-col)]` in order to take advantage of data.table's fast order (@​markfairbanks, #227)."
dtplyr,44,"`count()` applied to data.tables no longer breaks when dtplyr is loaded (@​mgirlich, #201)."
dtplyr,45,`case_when()` supports use of `T` to specify the default (#272).
dtplyr,46,"`filter()` errors for named input, e.g. `filter(dt, x = 1)` (@​mgirlich, #267) and works for negated logical columns (@​mgirlich, @​211)."
dtplyr,47,"`group_by()` ungroups when no grouping variables are specified (@​mgirlich, #248), and supports inline mutation like `group_by(dt, y = x)` (@​mgirlich, #246)."
dtplyr,48,"`if_else()` named arguments are translated to the correct arguments in `data.table::fifelse()` (@​markfairbanks, #234). `if_else()` supports `.data` and `.env` pronouns (@​markfairbanks, #220)."
dtplyr,49,"`if_any()` and `if_all()` default to `everything()` when `.cols` isn't provided (@​eutwt, #294)."
dtplyr,50,`intersect()`/`union()`/`union_all()`/`setdiff()` convert data.table inputs to `lazy_dt()` (#278).
dtplyr,51,`lag()`/`lead()` are translated to `shift()`.
dtplyr,52,"`lazy_dt()` keeps groups (@​mgirlich, #206)."
dtplyr,53,"`left_join()` produces the same column order as dplyr (@​markfairbanks, #139)."
dtplyr,54,"`left_join()`, `right_join()`, `full_join()`, and `inner_join()` perform a cross join for `by = character()` (@​mgirlich, #242)."
dtplyr,55,"`left_join()`, `right_join()`, and `inner_join()` are always translated to the `[.data.table` equivalent. For simple merges the translation gets a bit longer but thanks to the simpler code base it helps to better handle names in `by` and duplicated variables names produced in the data.table join (@​mgirlich, #222)."
dtplyr,56,"`mutate()` and `transmute()` work when called without variables (@​mgirlich, #248)."
dtplyr,57,`mutate()` gains new experimental arguments `.before` and `.after` that allow you to control where the new columns are placed (to match dplyr 1.0.0) (@​eutwt #291).
dtplyr,58,"`mutate()` can modify grouping columns (instead of creating another column with the same name) (@​mgirlich, #246)."
dtplyr,59,`n_distinct()` is translated to `uniqueN()`.
dtplyr,60,"`tally()` and `count()` follow the dplyr convention of creating a unique name if the default output `name` (n) already exists (@​eutwt, #295)."
dtplyr,61,"`pivot_wider()` names the columns correctly when `names_from` is a numeric column (@​mgirlich, #214)."
dtplyr,62,"`pull()` supports the `name` argument (@​mgirlich, #263)."
dtplyr,63,`slice()` no longer returns excess rows (#10).
dtplyr,64,"`slice_*()` functions after `group_by()` are faster (@​mgirlich, #216)."
dtplyr,65,"`slice_max()` works when ordering by a character column (@​mgirlich, #218)."
dtplyr,66,"`summarise()` supports the `.groups` argument (@​mgirlich, #245)."
dtplyr,67,"`summarise()`, `tally()`, and `count()` can change the value of a grouping variables (@​eutwt, #295)."
dtplyr,68,"`transmute()` doesn't produce duplicate columns when assigning to the same variable (@​mgirlich, #249). It correctly flags grouping variables so they selected (@​mgirlich, #246)."
dtplyr,69,"`ungroup()` removes variables in `...` from grouping (@​mgirlich, #253)."
dtplyr,70,"All verbs now have (very basic) documentation pointing back to the dplyr generic, and providing a (very rough) description of the translation accompanied with a few examples."
dtplyr,71,"Passing a data.table to a dplyr generic now converts it to a `lazy_dt()`, making it a little easier to move between data.table and dplyr syntax."
dtplyr,72,dtplyr has been bought up to compatibility with dplyr 1.0.0. This includes new translations for:
dtplyr,72,"• `across()`, `if_any()`, `if_all()` (#154)."
dtplyr,72,• `count()` (#159).
dtplyr,72,"• `relocate()` (@​smingerson, #162)."
dtplyr,72,• `rename_with()` (#160)
dtplyr,72,"• `slice_min()`, `slice_max()`, `slice_head()`, `slice_tail()`, and `slice_sample()` (#174)."
dtplyr,77,And `rename()` and `select()` now support dplyr 1.0.0 tidyselect syntax (apart from predicate functions which can't easily work on lazily evaluated data tables).
dtplyr,78,"We have begun the process of adding translations for tidyr verbs beginning with `pivot_wider()` (@​markfairbanks, #189)."
dtplyr,79,`compute()` now creates an intermediate assignment within the translation. This will generally have little impact on performance but it allows you to use intermediate variables to simplify complex translations.
dtplyr,80,`case_when()` is now translated to `fcase()` (#190).
dtplyr,81,"`cur_data()` (`.SD`), `cur_group()` (`.BY`), `cur_group_id()` (`.GRP`), and `cur_group_rows() (`.I\`) are now tranlsated to their data.table equivalents (#166)."
dtplyr,82,`filter()` on grouped data nows use a much faster translation using on `.I` rather than `.SD` (and requiring an intermediate assignment) (#176). Thanks to suggestion from @​myoung3 and @​ColeMiller1.
dtplyr,83,Translation of individual expressions:
dtplyr,83,• `x[[1]]` is now translated correctly.
dtplyr,83,"• Anonymous functions are now preserved (@​smingerson, #155)"
dtplyr,83,• Environment variables used in the `i` argument of `[.data.table` are now correctly inlined when not in the global environment (#164).
dtplyr,83,• `T` and `F` are correctly translated to `TRUE` and `FALSE` (#140).
dtplyr,88,"Grouped filter, mutate, and slice no longer affect ordering of output (#178)."
dtplyr,89,`as_tibble()` gains a `.name_repair` argument (@​markfairbanks).
dtplyr,90,`as.data.table()` always calls `[]` so that the result will print (#146).
dtplyr,91,"`print.lazy_dt()` shows total rows, and grouping, if present."
dtplyr,92,`group_map()` and `group_walk()` are now translated (#108).
dtplyr,93,Better handling for `.data` and `.env` pronouns (#138).
dtplyr,94,dplyr verbs now work with `NULL` inputs (#129).
dtplyr,95,"joins do better job at determining output variables in the presence of duplicated outputs (#128). When joining based on different variables in `x` and `y`, joins consistently preserve column from `x`, not `y` (#137)."
dtplyr,96,`lazy_dt()` objects now have a useful `glimpse()` method (#132).
dtplyr,97,"`group_by()` now has an `arrange` parameter which, if set to `FALSE`, sets the data.table translation to use `by` rather than `keyby` (#85)."
dtplyr,98,"`rename()` now works without `data.table` attached, as intended (@​michaelchirico, #123)."
dtplyr,99,dtplyr has been re-licensed as MIT (#165).
dtplyr,100,"Converted from eager approach to lazy approach. You now must use `lazy_dt()` to begin a translation pipeline, and must use `collect()`, `as.data.table()`, `as.data.frame()`, or `as_tibble()` to finish the translation and actually perform the computation (#38). This represents a complete overhaul of the package replacing the eager evaluation used in the previous releases. This unfortunately breaks all existing code that used dtplyr, but frankly the previous version was extremely inefficient so offered little of data.table's impressive speed, and was used by very few people."
dtplyr,101,dtplyr provides methods for data.tables that warning you that they use the data frame implementation and you should use `lazy_dt()` (#77)
dtplyr,102,Joins now pass `...` on to data.table's merge method (#41).
dtplyr,103,"`ungroup()` now copies its input (@​christophsax, #54)."
dtplyr,104,"`mutate()` preserves grouping (@​christophsax, #17)."
dtplyr,105,"`if_else()` and `coalesce()` are mapped to data.table's `fifelse()` and `fcoalesce()` respectively (@​michaelchirico, #112)."
dtplyr,106,Maintenance release for CRAN checks.
dtplyr,107,"`inner_join()`, `left_join()`, `right_join()`, and `full_join()`: new `suffix` argument which allows you to control what suffix duplicated variable names receive, as introduced in dplyr 0.5 (#40, @​christophsax)."
dtplyr,108,"Joins use extended `merge.data.table()` and the `on` argument, introduced in data.table 1.9.6. Avoids copy and allows joins by different keys (#20, #21, @​christophsax)."
dtplyr,109,This is a compatibility release. It makes dtplyr compatible with dplyr 0.6.0 in addition to dplyr 0.5.0.
dtplyr,110,"`distinct()` gains `.keep_all` argument (#30, #31)."
dtplyr,111,Slightly improve test coverage (#6).
dtplyr,112,Install `devtools` from GitHub on Travis (#32).
dtplyr,113,"Joins return `data.table`. Right and full join are now implemented (#16, #19)."
dtplyr,114,Remove warnings from tests (#4).
dtplyr,115,Extracted from `dplyr` at revision e5f2952923028803.
forcats,1,New `fct_na_value_to_level()` and `fct_na_level_to_value()` to convert NA values to NA levels and vice versa (#337).
forcats,2,"All functions now validate their inputs, giving more useful errors if you accidentally misspecify an input."
forcats,3,`fct_collapse()` can now use `other_level = NA` (#291).
forcats,4,`fct_count()` works with factors that contain `NA`s in levels.
forcats,5,`fct_explicit_na()` is deprecated in favour of `fct_na_value_to_level()`.
forcats,6,`fct_expand()` gains an `after` argument so that you can choose where the new levels are placed (#138).
forcats,7,`fct_infreq()` gains the ability to weight by another variable using the `w` argument (#261).
forcats,8,`fct_inorder()` now works when not all levels appear in the data (#262).
forcats,9,`fct_lump_prop()` and friends now work correctly if you supply weights and have empty levels (#292).
forcats,10,"`fct_lump_n()` and `fct_lump_prop()` will now create an ""Other"" level even if it only consists of a single level. This makes them consistent with the other `fct_lump_*` functions (#274)."
forcats,11,`fct_other()` no longer generates a warning if no levels are replaced with other (#265).
forcats,12,"`fct_relevel()`, `fct_cross()`, and `fct_expand()` now error if you name the arguments in `...` since those names are ignored and your code probably doesn't do what you think it does (#319)."
forcats,13,`fct_reorder()` and `fct_reorder2()` now remove `NA` values in `.x` with a warning (like `ggplot2::geom_point()` and friends). You can suppress the warning by setting `.na_rm = TRUE` (#315).
forcats,14,`fct_reorder()` and `fct_reorder2()` gain a new `.default` argument that controls the placement of empty levels (including levels that might become empty after removing missing values in `.x`) (#266).
forcats,15,`fct_unique()` now captures implicit missing values if present (#293).
forcats,16,New `fct()` which works like `factor()` but errors if values of `x` are not included in the levels specification (#299)
forcats,17,`first2()` and `last2()` now ignore missing values in both `x` and `y` (#303).
forcats,18,Error messages are more informative.
forcats,19,Re-license as MIT (#277).
forcats,20,"`fct_lump_n()` no longer uses a partial argument name (@​malcolmbarrett, #276)."
forcats,21,"`as_factor()` gains a logical method that always returns a factor with levels ""FALSE"" and ""TRUE"" (#185)."
forcats,22,"`fct_c()`, `fct_collapse()` and `fct_recode()` are now explicitly documented as using [dynamic dots](https://rlang.r-lib.org/reference/dyn-dots.html) (@​labouz, #234)."
forcats,23,"`fct_collapse()` now accepts a `other_level` argument, to allow a user-specified `Other` level (@​gtm19, #194). It now correctly collapses factors when `other_level` is not `NULL` (#172), and makes `""Other""` the last level (#202) (@​gtm19, #172 & #202)"
forcats,24,`fct_count()` no longer converts implicit NAs into explicit NAs (#151).
forcats,25,`fct_inseq()` behaves more robustly when factor levels aren't all numbers (#221).
forcats,26,"`fct_lump()` has been split up into three new functions: `fct_lump_prop()`, `fct_lump_n()`, and `fct_lump_lowfreq()`. (@​jonocarroll, #167, #142). All `fct_lump_()` functions check their inputs more carefully (@​robinson_es, #169)"
forcats,27,"`fct_reorder2()` gains a helper function `first2()`, that sorts `.y` by the first value of `.x` (@​jtr13)."
forcats,28,"`fct_collapse()` gains a `group_other` argument to allow you to group all un-named levels into `""Other""`. (#100, @​AmeliaMN)"
forcats,29,"`fct_cross()` creates a new factor containing the combined levels from two or more input factors, similar to `base::interaction` (@​tslumley, #136)"
forcats,30,"`fct_inseq()` reorders labels in numeric order, if possible (#145, @​kbodwin)."
forcats,31,"`fct_lump_min()` preserves levels that appear at least `min` times (can also be used with the `w` weighted argument) (@​robinsones, #142)."
forcats,32,"`fct_match()` performs validated matching, providing a safer alternative to `f %in% c(""x"", ""y"")` which silently returns `FALSE` if `""x""` or `""y""` are not levels of `f` (e.g. because of a typo) (#126, @​jonocarroll)."
forcats,33,`fct_relevel()` can now level factors using a function that is passed the current levels (#117).
forcats,34,"`as_factor()` now has a numeric method. By default, orders factors in numeric order, unlike the other methods which default to order of appearance. (#145, @​kbodwin)"
forcats,35,"`fct_count()` gains a parameter to also compute the proportion (@​zhiiiyang, #146)."
forcats,36,"`fct_lump()` now does not change the label if no lumping occurs (@​zhiiiyang, #130)."
forcats,37,`fct_relabel()` now accepts character input.
forcats,38,`fct_reorder()` and `fct_reorder2()` no longer require that the summary function return a numeric vector of length 1; instead it can return any orderable vector of length 1 (#147).
forcats,39,"`fct_reorder()`, `fct_reorder2()` and `as_factor()` now use the ellipsis package to warn if you pass in named components to `...` (#174)."
forcats,40,`fct_c()` now requires explicit splicing with `!!!` if you have a list of factors that you want to combine. This is consistent with an emerging standards for handling `...` throughout the tidyverse.
forcats,41,`fct_reorder()` and `fct_reorder2()` have renamed `fun` to `.fun` to avoid spurious matching of named arguments.
forcats,42,"All functions that take `...` use ""tidy"" dots: this means that you use can `!!!` to splice in a list of values, and trailing empty arguments are automatically removed. Additionally, all other arguments gain a `.` prefix in order to avoid unhelpful matching of named arguments (#110)."
forcats,43,"`fct_lump()` gains `w` argument (#70, @​wilkox) to weight value frequencies before lumping them together (#68)."
forcats,44,`as_factor()` and `fct_inorder()` accept NA levels (#98).
forcats,45,`fct_explicit_na()` also replaces NAs encoded in levels.
forcats,46,`fct_lump()` correctly accounts for `NA` values in input (#41)
forcats,47,`lvls_revalue()` preserves NA levels.
forcats,48,Test coverage increased from 80% to 99%.
forcats,49,`fct_drop()` now preserves attributes (#83).
forcats,50,`fct_expand()` and `lvls_expand()` now also take character vectors (#99).
forcats,51,"`fct_relabel()` now accepts objects coercible to functions by `rlang::as_function` (#91, @​alistaire47)"
forcats,52,`as_factor()` which works like `as.factor()` but orders levels by appearance to avoid differences between locales (#39).
forcats,53,"`fct_other()` makes it easier to convert selected levels to ""other"" (#40)"
forcats,54,"`fct_relabel()` allows programmatic relabeling of levels (#50, @​krlmlr)."
forcats,55,`fct_c()` can take either a list of factors or individual factors (#42).
forcats,56,`fct_drop()` gains `only` argument to restrict which levels are dropped (#69) and no longer adds `NA` level if not present (#52).
forcats,57,`fct_recode()` is now checks that each new value is of length 1 (#56).
forcats,58,`fct_relevel()` gains `after` argument so you can also move levels to the end (or any other position you like) (#29).
forcats,59,"`lvls_reorder()`, `fct_inorder()`, and `fct_infreq()` gain an `ordered` argument, allowing you to override the existing ""ordered"" status (#54)."
forcats,60,Minor fixes for R CMD check
forcats,61,Add package docs
ggplot2,1,"`geom_text()` drops observations where `angle = NA` instead of throwing an error (@​teunbrand, #2757)."
ggplot2,2,"Using two ordered factors as facetting variables in `facet_grid(..., as.table = FALSE)` now throws a warning instead of an error (@​teunbrand, #5109)."
ggplot2,3,"Added `scale_linewidth_manual()` and `scale_linewidth_identity()` to support the `linewidth` aesthetic (@​teunbrand, #5050)."
ggplot2,4,"Automatic breaks in `scale_*_binned()` should no longer be out-of-bounds, and automatic limits expand to include these (@​teunbrand, #5095, #5100)."
ggplot2,5,"Renamed computed aesthetic in `stat_ecdf()` to `ecdf`, to prevent incorrect scale transformations (@​teunbrand, #5113 and #5112)."
ggplot2,6,"Fixed misbehaviour of `draw_key_boxplot()` and `draw_key_crossbar()` with skewed key aspect ratio (@​teunbrand, #5082)."
ggplot2,7,"`scale_*_binned()` handles zero-range limits more gracefully (@​teunbrand, #5066)"
ggplot2,8,"Binned scales are now compatible with `trans = ""date""` and `trans = ""time""` (@​teunbrand, #4217)."
ggplot2,9,"`ggsave()` warns when multiple `filename`s are given, and only writes to the first file (@​teunbrand, #5114)"
ggplot2,10,"Fixed a regression in `geom_hex()` where aesthetics were replicated across bins (@​thomasp85, #5037 and #5044)"
ggplot2,11,"Fixed spurious warning when `weight` aesthetic was used in `stat_smooth()` (@​teunbrand based on @​clauswilke's suggestion, #5053)."
ggplot2,12,The `lwd` alias now correctly replaced by `linewidth` instead of `size` (@​teunbrand based on @​clauswilke's suggestion #5051).
ggplot2,13,"Fixed a regression in `Coord$train_panel_guides()` where names of guides were dropped (@​maxsutton, #5063)"
ggplot2,14,"`update_geom_defaults()` and `update_stat_defaults()` now return properly classed objects and have updated docs (@​dkahle, #5146)"
ggplot2,15,"A `linewidth` aesthetic has been introduced and supersedes the `size` aesthetic for scaling the width of lines in line based geoms. `size` will remain functioning but deprecated for these geoms and it is recommended to update all code to reflect the new aesthetic. For geoms that have *both* point sizing and linewidth sizing (`geom_pointrange()` and `geom_sf`) `size` now **only** refers to sizing of points which can leads to a visual change in old code (@​thomasp85, #3672)"
ggplot2,16,The default line width for polygons in `geom_sf()` have been decreased to 0.2 to reflect that this is usually used for demarking borders where a thinner line is better suited. This change was made since we already induced a visual change in `geom_sf()` with the introduction of the `linewidth` aesthetic.
ggplot2,17,"The dot-dot notation (`..var..`) and `stat()`, which have been superseded by `after_stat()`, are now formally deprecated (@​yutannihilation, #3693)."
ggplot2,18,"`qplot()` is now formally deprecated (@​yutannihilation, #3956)."
ggplot2,19,"`stage()` now properly refers to the values without scale transformations for the stage of `after_stat`. If your code requires the scaled version of the values for some reason, you have to apply the same transformation by yourself, e.g. `sqrt()` for `scale_{x,y}_sqrt()` (@​yutannihilation and @​teunbrand, #4155)."
ggplot2,20,"Use `rlang::hash()` instead of `digest::digest()`. This update may lead to changes in the automatic sorting of legends. In order to enforce a specific legend order use the `order` argument in the guide. (@​thomasp85, #4458)"
ggplot2,21,referring to `x` in backquoted expressions with `label_bquote()` is no longer possible.
ggplot2,22,The `ticks.linewidth` and `frame.linewidth` parameters of `guide_colourbar()` are now multiplied with `.pt` like elsewhere in ggplot2. It can cause visual changes when these arguments are not the defaults and these changes can be restored to their previous behaviour by adding `/ .pt` (@​teunbrand #4314).
ggplot2,23,"`scale_*_viridis_b()` now uses the full range of the viridis scales (@​gregleleu, #4737)"
ggplot2,24,"`geom_col()` and `geom_bar()` gain a new `just` argument. This is set to `0.5` by default; use `just = 0`/`just = 1` to place columns on the left/right of the axis breaks. (@​wurli, #4899)"
ggplot2,25,"`geom_density()` and `stat_density()` now support `bounds` argument to estimate density with boundary correction (@​echasnovski, #4013)."
ggplot2,26,"ggplot now checks during statistical transformations whether any data columns were dropped and warns about this. If stats intend to drop data columns they can declare them in the new field `dropped_aes`. (@​clauswilke, #3250)"
ggplot2,27,"`...` supports `rlang::list2` dynamic dots in all public functions. (@​mone27, #4764)"
ggplot2,28,"`theme()` now has a `strip.clip` argument, that can be set to `""off""` to prevent the clipping of strip text and background borders (@​teunbrand, #4118)"
ggplot2,29,"`geom_contour()` now accepts a function in the `breaks` argument (@​eliocamp, #4652)."
ggplot2,30,"Fix a bug in `position_jitter()` where infinity values were dropped (@​javlon, #4790)."
ggplot2,31,"`geom_linerange()` now respects the `na.rm` argument (#4927, @​thomasp85)"
ggplot2,32,"Improve the support for `guide_axis()` on `coord_trans()` (@​yutannihilation, #3959)"
ggplot2,33,"Added `stat_align()` to align data without common x-coordinates prior to stacking. This is now the default stat for `geom_area()` (@​thomasp85, #4850)"
ggplot2,34,"Fix a bug in `stat_contour_filled()` where break value differences below a certain number of digits would cause the computations to fail (@​thomasp85, #4874)"
ggplot2,35,"Secondary axis ticks are now positioned more precisely, removing small visual artefacts with alignment between grid and ticks (@​thomasp85, #3576)"
ggplot2,36,"Improve `stat_function` documentation regarding `xlim` argument. (@​92amartins, #4474)"
ggplot2,37,"Fix various issues with how `labels`, `breaks`, `limits`, and `show.limits` interact in the different binning guides (@​thomasp85, #4831)"
ggplot2,38,"Automatic break calculation now squishes the scale limits to the domain of the transformation. This allows `scale_{x/y}_sqrt()` to find breaks at 0\ when appropriate (@​teunbrand, #980)."
ggplot2,39,"Using multiple modified aesthetics correctly will no longer trigger warnings. If used incorrectly, the warning will now report the duplicated aesthetic instead of `NA` (@​teunbrand, #4707)."
ggplot2,40,`aes()` now supports the `!!!` operator in its first two arguments (#2675). Thanks to @​yutannihilation and @​teunbrand for draft implementations.
ggplot2,41,"Require rlang \>= 1.0.0 (@​billybarc, #4797)"
ggplot2,42,"`geom_violin()` no longer issues ""collapsing to unique 'x' values"" warning (@​bersbersbers, #4455)"
ggplot2,43,"`annotate()` now documents unsupported geoms (`geom_abline()`, `geom_hline()` and `geom_vline()`), and warns when they are requested (@​mikmart, #4719)"
ggplot2,44,"`presidential` dataset now includes Trump's presidency (@​bkmgit, #4703)."
ggplot2,45,"`position_stack()` now works fully with `geom_text()` (@​thomasp85, #4367)"
ggplot2,46,"`geom_tile()` now correctly recognises missing data in `xmin`, `xmax`, `ymin`, and `ymax` (@​thomasp85 and @​sigmapi, #4495)"
ggplot2,47,"`geom_hex()` will now use the binwidth from `stat_bin_hex()` if present, instead of deriving it (@​thomasp85, #4580)"
ggplot2,48,`geom_hex()` now works on non-linear coordinate systems (@​thomasp85)
ggplot2,49,"Fixed a bug throwing errors when trying to render an empty plot with secondary axes (@​thomasp85, #4509)"
ggplot2,50,"Axes are now added correctly in `facet_wrap()` when `as.table = FALSE` (@​thomasp85, #4553)"
ggplot2,51,"Better compatibility of custom device functions in `ggsave()` (@​thomasp85, #4539)"
ggplot2,52,"Binning scales are now more resilient to calculated limits that ends up being `NaN` after transformations (@​thomasp85, #4510)"
ggplot2,53,"Strip padding in `facet_grid()` is now only in effect if `strip.placement = ""outside""` *and* an axis is present between the strip and the panel (@​thomasp85, #4610)"
ggplot2,54,"Aesthetics of length 1 are now recycled to 0 if the length of the data is 0 (@​thomasp85, #4588)"
ggplot2,55,"Setting `size = NA` will no longer cause `guide_legend()` to error (@​thomasp85, #4559)"
ggplot2,56,"Setting `stroke` to `NA` in `geom_point()` will no longer impair the sizing of the points (@​thomasp85, #4624)"
ggplot2,57,"`stat_bin_2d()` now correctly recognises the `weight` aesthetic (@​thomasp85, #4646)"
ggplot2,58,"All geoms now have consistent exposure of linejoin and lineend parameters, and the guide keys will now respect these settings (@​thomasp85, #4653)"
ggplot2,59,"`geom_sf()` now respects `arrow` parameter for lines (@​jakeruss, #4659)"
ggplot2,60,"Updated documentation for `print.ggplot` to reflect that it returns the original plot, not the result of `ggplot_build()`. (@​r2evans, #4390)"
ggplot2,61,"`scale_*_manual()` no longer displays extra legend keys, or changes their order, when a named `values` argument has more items than the data. To display all `values` on the legend instead, use `scale_*_manual(values = vals, limits = names(vals))`. (@​teunbrand, @​banfai, #4511, #4534)"
ggplot2,62,"Updated documentation for `geom_contour()` to correctly reflect argument precedence between `bins` and `binwidth`. (@​eliocamp, #4651)"
ggplot2,63,"Dots in `geom_dotplot()` are now correctly aligned to the baseline when `stackratio != 1` and `stackdir != ""up""` (@​mjskay, #4614)"
ggplot2,64,"Key glyphs for `geom_boxplot()`, `geom_crossbar()`, `geom_pointrange()`, and `geom_linerange()` are now orientation-aware (@​mjskay, #4732)"
ggplot2,65,"Updated documentation for `geom_smooth()` to more clearly describe effects of the `fullrange` parameter (@​thoolihan, #4399)."
ggplot2,66,"Revert changes made in #4434 (apply transform to intercept in `geom_abline()`) as it introduced undesirable issues far worse than the bug it fixed (@​thomasp85, #4514)"
ggplot2,67,"Fixes an issue in `ggsave()` when producing emf/wmf files (@​yutannihilation, #4521)"
ggplot2,68,"Warn when grDevices specific arguments are passed to ragg devices (@​thomasp85, #4524)"
ggplot2,69,"Fix an issue where `coord_sf()` was reporting that it is non-linear even when data is provided in projected coordinates (@​clauswilke, #4527)"
ggplot2,70,"Alt-text can now be added to a plot using the `alt` label, i.e `+ labs(alt = ...)`. Currently this alt text is not automatically propagated, but we plan to integrate into Shiny, RMarkdown, and other tools in the future. (@​thomasp85, #4477)"
ggplot2,71,"Add support for the BrailleR package for creating descriptions of the plot when rendered (@​thomasp85, #4459)"
ggplot2,72,"`coord_sf()` now has an argument `default_crs` that specifies the coordinate reference system (CRS) for non-sf layers and scale/coord limits. This argument defaults to `NULL`, which means non-sf layers are assumed to be in projected coordinates, as in prior ggplot2 versions. Setting `default_crs = sf::st_crs(4326)` provides a simple way to interpret x and y positions as longitude and latitude, regardless of the CRS used by `coord_sf()`. Authors of extension packages implementing `stat_sf()`-like functionality are encouraged to look at the source code of `stat_sf()`'s `compute_group()` function to see how to provide scale-limit hints to `coord_sf()` (@​clauswilke, #3659)."
ggplot2,73,"`ggsave()` now uses ragg to render raster output if ragg is available. It also handles custom devices that sets a default unit (e.g. `ragg::agg_png`) correctly (@​thomasp85, #4388)"
ggplot2,74,"`ggsave()` now returns the saved file location invisibly (#3379, @​eliocamp). Note that, as a side effect, an unofficial hack `<ggplot object> + ggsave()` no longer works (#4513)."
ggplot2,75,"The scale arguments `limits`, `breaks`, `minor_breaks`, `labels`, `rescaler` and `oob` now accept purrr style lambda notation (@​teunbrand, #4427). The same is true for `as_labeller()` (and therefore also `labeller()`) (@​netique, #4188)."
ggplot2,76,"Manual scales now allow named vectors passed to `values` to contain fewer elements than existing in the data. Elements not present in values will be set to `NA` (@​thomasp85, #3451)"
ggplot2,77,"Date and datetime position scales support out-of-bounds (oob) arguments to control how limits affect data outside those limits (@​teunbrand, #4199)."
ggplot2,78,"Fix a bug that `after_stat()` and `after_scale()` cannot refer to aesthetics if it's specified in the plot-global mapping (@​yutannihilation, #4260)."
ggplot2,79,"Fix bug in `annotate_logticks()` that would cause an error when used together with `coord_flip()` (@​thomasp85, #3954)"
ggplot2,80,"Fix a bug in `geom_abline()` that resulted in `intercept` not being subjected to the transformation of the y scale (@​thomasp85, #3741)"
ggplot2,81,"Extent the range of the line created by `geom_abline()` so that line ending is not visible for large linewidths (@​thomasp85, #4024)"
ggplot2,82,"Fix bug in `geom_dotplot()` where dots would be positioned wrong with `stackgroups = TRUE` (@​thomasp85, #1745)"
ggplot2,83,"Fix calculation of confidence interval for locfit smoothing in `geom_smooth()` (@​topepo, #3806)"
ggplot2,84,"Fix bug in `geom_text()` where `""outward""` and `""inward""` justification for some `angle` values was reversed (@​aphalo, #4169, #4447)"
ggplot2,85,"`ggsave()` now sets the default background to match the fill value of the `plot.background` theme element (@​karawoo, #4057)"
ggplot2,86,"It is now deprecated to specify `guides(<scale> = FALSE)` or `scale_*(guide = FALSE)` to remove a guide. Please use `guides(<scale> = ""none"")` or `scale_*(guide = ""none"")` instead (@​yutannihilation, #4097)"
ggplot2,87,"Fix a bug in `guide_bins()` where keys would disappear if the guide was reversed (@​thomasp85, #4210)"
ggplot2,88,"Fix bug in `guide_coloursteps()` that would repeat the terminal bins if the breaks coincided with the limits of the scale (@​thomasp85, #4019)"
ggplot2,89,"Make sure that default labels from default mappings doesn't overwrite default labels from explicit mappings (@​thomasp85, #2406)"
ggplot2,90,"Fix bug in `labeller()` where parsing was turned off if `.multiline = FALSE` (@​thomasp85, #4084)"
ggplot2,91,"Make sure `label_bquote()` has access to the calling environment when evaluating the labels (@​thomasp85, #4141)"
ggplot2,92,"Fix a bug in the layer implementation that introduced a new state after the first render which could lead to a different look when rendered the second time (@​thomasp85, #4204)"
ggplot2,93,"Fix a bug in legend justification where justification was lost of the legend dimensions exceeded the available size (@​thomasp85, #3635)"
ggplot2,94,"Fix a bug in `position_dodge2()` where `NA` values in thee data would cause an error (@​thomasp85, #2905)"
ggplot2,95,"Make sure `position_jitter()` creates the same jittering independent of whether it is called by name or with constructor (@​thomasp85, #2507)"
ggplot2,96,"Fix a bug in `position_jitter()` where different jitters would be applied to different position aesthetics of the same axis (@​thomasp85, #2941)"
ggplot2,97,"Fix a bug in `qplot()` when supplying `c(NA, NA)` as axis limits (@​thomasp85, #4027)"
ggplot2,98,"Remove cross-inheritance of default discrete colour/fill scales and check the type and aesthetic of function output if `type` is a function (@​thomasp85, #4149)"
ggplot2,99,"Fix bug in `scale_[x|y]_date()` where custom breaks functions that resulted in fracional dates would get misaligned (@​thomasp85, #3965)"
ggplot2,100,"Fix bug in `scale_[x|y]_datetime()` where a specified timezone would be ignored by the scale (@​thomasp85, #4007)"
ggplot2,101,"Fix issue in `sec_axis()` that would throw warnings in the absence of any secondary breaks (@​thomasp85, #4368)"
ggplot2,102,`stat_bin()`'s computed variable `width` is now documented (#3522).
ggplot2,103,"`stat_count()` now computes width based on the full dataset instead of per group (@​thomasp85, #2047)"
ggplot2,104,"Extended `stat_ecdf()` to calculate the cdf from either x or y instead from y only (@​jgjl, #4005)"
ggplot2,105,"Fix a bug in `stat_summary_bin()` where one more than the requested number of bins would be created (@​thomasp85, #3824)"
ggplot2,106,"Only drop groups in `stat_ydensity()` when there are fewer than two data points and throw a warning (@​andrewwbutler, #4111)."
ggplot2,107,"Fixed a bug in strip assembly when theme has `strip.text = element_blank()` and plots are faceted with multi-layered strips (@​teunbrand, #4384)."
ggplot2,108,"Using `theme(aspect.ratio = ...)` together with free space in `facet_grid()` now crrectly throws an error (@​thomasp85, #3834)"
ggplot2,109,"Fixed a bug in `labeller()` so that `.default` is passed to `as_labeller()` when labellers are specified by naming faceting variables. (@​waltersom, #4031)"
ggplot2,110,"Updated style for example code (@​rjake, #4092)"
ggplot2,111,ggplot2 now requires R \>= 3.3 (#4247).
ggplot2,112,"ggplot2 now uses `rlang::check_installed()` to check if a suggested package is installed, which will offer to install the package before continuing (#4375, 1)"
ggplot2,113,"Improved error with hint when piping a `ggplot` object into a facet function (#4379, @​mitchelloharawild)."
ggplot2,114,"Update the ggplot2 licence to an MIT license (#4231, #4232, #4233, and #4281)"
ggplot2,115,Use vdiffr conditionally so ggplot2 can be tested on systems without vdiffr
ggplot2,116,Update tests to work with the new `all.equal()` defaults in R \>4.0.3
ggplot2,117,"Fixed a bug that `guide_bins()` mistakenly ignore `override.aes` argument (@​yutannihilation, #4085)."
ggplot2,118,"Added an `outside` option to `annotation_logticks()` that places tick marks outside of the plot bounds. (#3783, @​kbodwin)"
ggplot2,119,"`annotation_raster()` adds support for native rasters. For large rasters, native rasters render significantly faster than arrays (@​kent37, #3388)"
ggplot2,120,"Facet strips now have dedicated position-dependent theme elements (`strip.text.x.top`, `strip.text.x.bottom`, `strip.text.y.left`, `strip.text.y.right`) that inherit from `strip.text.x` and `strip.text.y`, respectively. As a consequence, some theme stylings now need to be applied to the position-dependent elements rather than to the parent elements. This change was already introduced in ggplot2 3.3.0 but not listed in the changelog. (@​thomasp85, #3683)"
ggplot2,121,"Facets now handle layers containing no data (@​yutannihilation, #3853)."
ggplot2,122,"A newly added geom `geom_density_2d_filled()` and associated stat `stat_density_2d_filled()` can draw filled density contours (@​clauswilke, #3846)."
ggplot2,123,"A newly added `geom_function()` is now recommended to use in conjunction with/instead of `stat_function()`. In addition, `stat_function()` now works with transformed y axes, e.g. `scale_y_log10()`, and in plots containing no other data or layers (@​clauswilke, #3611, #3905, #3983)."
ggplot2,124,"Fixed a bug in `geom_sf()` that caused problems with legend-type autodetection (@​clauswilke, #3963)."
ggplot2,125,"Support graphics devices that use the `file` argument instead of `fileneame` in `ggsave()` (@​bwiernik, #3810)"
ggplot2,126,"Default discrete color scales are now configurable through the `options()` of `ggplot2.discrete.colour` and `ggplot2.discrete.fill`. When set to a character vector of colour codes (or list of character vectors) with sufficient length, these colours are used for the default scale. See `help(scale_colour_discrete)` for more details and examples (@​cpsievert, #3833)."
ggplot2,127,"Default continuous colour scales (i.e., the `options()` `ggplot2.continuous.colour` and `ggplot2.continuous.fill`, which inform the `type` argument of `scale_fill_continuous()` and `scale_colour_continuous()`) now accept a function, which allows more control over these default `continuous_scale()`s (@​cpsievert, #3827)."
ggplot2,128,"A bug was fixed in `stat_contour()` when calculating breaks based on the `bins` argument (@​clauswilke, #3879, #4004)."
ggplot2,129,"Data columns can now contain `Vector` S4 objects, which are widely used in the Bioconductor project. (@​teunbrand, #3837)"
ggplot2,130,"The `panel_params` field in the `Layout` now contains a list of list of `ViewScale` objects, describing the trained coordinate system scales, instead of the list object used before. Any extensions that use this field will likely break, as will unit tests that checks aspects of this."
ggplot2,131,"`element_text()` now issues a warning when vectorized arguments are provided, as in `colour = c(""red"", ""green"", ""blue"")`. Such use is discouraged and not officially supported (@​clauswilke, #3492)."
ggplot2,132,"Changed `theme_grey()` setting for legend key so that it creates no border (`NA`) rather than drawing a white one. (@​annennenne, #3180)"
ggplot2,133,"`geom_ribbon()` now draws separate lines for the upper and lower intervals if `colour` is mapped. Similarly, `geom_area()` and `geom_density()` now draw the upper lines only in the same case by default. If you want old-style full stroking, use `outline.type = ""full""` (@​yutannihilation, #3503 / @​thomasp85, #3708)."
ggplot2,134,"The evaluation time of aesthetics can now be controlled to a finer degree. `after_stat()` supersedes the use of `stat()` and `..var..`-notation, and is joined by `after_scale()` to allow for mapping to scaled aesthetic values. Remapping of the same aesthetic is now supported with `stage()`, so you can map a data variable to a stat aesthetic, and remap the same aesthetic to something else after statistical transformation (@​thomasp85, #3534)"
ggplot2,135,"All `coord_*()` functions with `xlim` and `ylim` arguments now accept vectors with `NA` as a placeholder for the minimum or maximum value (e.g., `ylim = c(0, NA)` would zoom the y-axis from 0 to the maximum value observed in the data). This mimics the behaviour of the `limits` argument in continuous scale functions (@​paleolimbot, #2907)."
ggplot2,136,"Allowed reversing of discrete scales by re-writing `get_limits()` (@​AnneLyng, #3115)"
ggplot2,137,"All geoms and stats that had a direction (i.e. where the x and y axes had different interpretation), can now freely choose their direction, instead of relying on `coord_flip()`. The direction is deduced from the aesthetic mapping, but can also be specified directly with the new `orientation` argument (@​thomasp85, #3506)."
ggplot2,138,"Position guides can now be customized using the new `guide_axis()`, which can be passed to position `scale_*()` functions or via `guides()`. The new axis guide (`guide_axis()`) comes with arguments `check.overlap` (automatic removal of overlapping labels), `angle` (easy rotation of axis labels), and `n.dodge` (dodge labels into multiple rows/columns) (@​paleolimbot, #3322)."
ggplot2,139,"A new scale type has been added, that allows binning of aesthetics at the scale level. It has versions for both position and non-position aesthetics and comes with two new guides (`guide_bins` and `guide_coloursteps`) (@​thomasp85, #3096)"
ggplot2,140,"`scale_x_continuous()` and `scale_y_continuous()` gains an `n.breaks` argument guiding the number of automatic generated breaks (@​thomasp85, #3102)"
ggplot2,141,"Added `stat_contour_filled()` and `geom_contour_filled()`, which compute and draw filled contours of gridded data (@​paleolimbot, #3044). `geom_contour()` and `stat_contour()` now use the isoband package to compute contour lines. The `complete` parameter (which was undocumented and has been unused for at least four years) was removed (@​paleolimbot, #3044)."
ggplot2,142,"Themes have gained two new parameters, `plot.title.position` and `plot.caption.position`, that can be used to customize how plot title/subtitle and plot caption are positioned relative to the overall plot (@​clauswilke, #3252)."
ggplot2,143,"`Geom` now gains a `setup_params()` method in line with the other ggproto classes (@​thomasp85, #3509)"
ggplot2,144,"The newly added function `register_theme_elements()` now allows developers of extension packages to define their own new theme elements and place them into the ggplot2 element tree (@​clauswilke, #2540)."
ggplot2,145,"`coord_trans()` now draws second axes and accepts `xlim`, `ylim`, and `expand` arguments to bring it up to feature parity with `coord_cartesian()`. The `xtrans` and `ytrans` arguments that were deprecated in version 1.0.1 in favour of `x` and `y` were removed (@​paleolimbot, #2990)."
ggplot2,146,"`coord_trans()` now calculates breaks using the expanded range (previously these were calculated using the unexpanded range, which resulted in differences between plots made with `coord_trans()` and those made with `coord_cartesian()`). The expansion for discrete axes in `coord_trans()` was also updated such that it behaves identically to that in `coord_cartesian()` (@​paleolimbot, #3338)."
ggplot2,147,`expand_scale()` was deprecated in favour of `expansion()` for setting the `expand` argument of `x` and `y` scales (@​paleolimbot).
ggplot2,148,"`geom_abline()`, `geom_hline()`, and `geom_vline()` now issue more informative warnings when supplied with set aesthetics (i.e., `slope`, `intercept`, `yintercept`, and/or `xintercept`) and mapped aesthetics (i.e., `data` and/or `mapping`)."
ggplot2,149,"Fix a bug in `geom_raster()` that squeezed the image when it went outside scale limits (#3539, @​thomasp85)"
ggplot2,150,"`geom_sf()` now determines the legend type automatically (@​microly, #3646)."
ggplot2,151,"`geom_sf()` now removes rows that can't be plotted due to `NA` aesthetics (#3546, @​thomasp85)"
ggplot2,152,"`geom_sf()` now applies alpha to linestring geometries (#3589, @​yutannihilation)."
ggplot2,153,"`gg_dep()` was deprecated (@​perezp44, #3382)."
ggplot2,154,"Added function `ggplot_add.by()` for lists created with `by()`, allowing such lists to be added to ggplot objects (#2734, @​Maschette)"
ggplot2,155,"ggplot2 no longer depends on reshape2, which means that it no longer (recursively) needs plyr, stringr, or stringi packages."
ggplot2,156,"Increase the default `nbin` of `guide_colourbar()` to place the ticks more precisely (#3508, @​yutannihilation)."
ggplot2,157,"`manual_scale()` now matches `values` with the order of `breaks` whenever `values` is an unnamed vector. Previously, unnamed `values` would match with the limits of the scale and ignore the order of any `breaks` provided. Note that this may change the appearance of plots that previously relied on the unordered behaviour (#2429, @​idno0001)."
ggplot2,158,"`scale_manual_*(limits = ...)` now actually limits the scale (#3262, @​yutannihilation)."
ggplot2,159,"Fix a bug when `show.legend` is a named logical vector (#3461, @​yutannihilation)."
ggplot2,160,"Added weight aesthetic option to `stat_density()` and made scaling of weights the default (@​annennenne, #2902)"
ggplot2,161,"`stat_density2d()` can now take an `adjust` parameter to scale the default bandwidth. (#2860, @​haleyjeppson)"
ggplot2,162,"`stat_smooth()` uses `REML` by default, if `method = ""gam""` and `gam`'s method is not specified (@​ikosmidis, #2630)."
ggplot2,163,"stacking text when calculating the labels and the y axis with `stat_summary()` now works (@​ikosmidis, #2709)"
ggplot2,164,"`stat_summary()` and related functions now support rlang-style lambda functions (#3568, @​dkahle)."
ggplot2,165,"The data mask pronoun, `.data`, is now stripped from default labels."
ggplot2,166,"Addition of partial themes to plots has been made more predictable; stepwise addition of individual partial themes is now equivalent to addition of multple theme elements at once (@​clauswilke, #3039)."
ggplot2,167,"Facets now don't fail even when some variable in the spec are not available in all layers (@​yutannihilation, #2963)."
ggplot2,168,`position_stack()` no longer changes the order of the input data. Changes to the internal behaviour of `geom_ribbon()` made this reordering problematic with ribbons that spanned `y = 0` (#3471)
ggplot2,169,"Using `qplot()` with a single positional aesthetic will no longer title the non-specified scale as `""NULL""` (#3473)"
ggplot2,170,Fixes unit tests for sf graticule labels caused by chages to sf
ggplot2,171,"Two patches (#2996 and #3050) fixed minor rendering problems. In most cases, the visual changes are so subtle that they are difficult to see with the naked eye. However, these changes are detected by the vdiffr package, and therefore any package developers who use vdiffr to test for visual correctness of ggplot2 plots will have to regenerate all reference images."
ggplot2,172,"In some cases, ggplot2 now produces a warning or an error for code that previously produced plot output. In all these cases, the previous plot output was accidental, and the plotting code uses the ggplot2 API in a way that would lead to undefined behavior. Examples include a missing `group` aesthetic in `geom_boxplot()` (#3316), annotations across multiple facets (#3305), and not using aesthetic mappings when drawing ribbons with `geom_ribbon()` (#3318)."
ggplot2,173,"This release includes a range of internal changes that speeds up plot generation. None of the changes are user facing and will not break any code, but in general ggplot2 should feel much faster. The changes includes, but are not limited to:"
ggplot2,173,• Caching ascent and descent dimensions of text to avoid recalculating it for every title.
ggplot2,173,• Using a faster data.frame constructor as well as faster indexing into data.frames
ggplot2,173,"• Removing the plyr dependency, replacing plyr functions with faster equivalents."
ggplot2,177,"`geom_polygon()` can now draw polygons with holes using the new `subgroup` aesthetic. This functionality requires R 3.6.0 (@​thomasp85, #3128)"
ggplot2,178,"Aesthetic mappings now accept functions that return `NULL` (@​yutannihilation, #2997)."
ggplot2,179,"`stat_function()` now accepts rlang/purrr style anonymous functions for the `fun` parameter (@​dkahle, #3159)."
ggplot2,180,"`geom_rug()` gains an ""outside"" option to allow for moving the rug tassels to outside the plot area (@​njtierney, #3085) and a `length` option to allow for changing the length of the rug lines (@​daniel-wells, #3109)."
ggplot2,181,"All geoms now take a `key_glyph` paramter that allows users to customize how legend keys are drawn (@​clauswilke, #3145). In addition, a new key glyph `timeseries` is provided to draw nice legends for time series (@​mitchelloharawild, #3145)."
ggplot2,182,"Layers now have a new member function `setup_layer()` which is called at the very beginning of the plot building process and which has access to the original input data and the plot object being built. This function allows the creation of custom layers that autogenerate aesthetic mappings based on the input data or that filter the input data in some form. For the time being, this feature is not exported, but it has enabled the development of a new layer type, `layer_sf()` (see next item). Other special-purpose layer types may be added in the future (@​clauswilke, #2872)."
ggplot2,183,"A new layer type `layer_sf()` can auto-detect and auto-map sf geometry columns in the data. It should be used by extension developers who are writing new sf-based geoms or stats (@​clauswilke, #3232)."
ggplot2,184,"`x0` and `y0` are now recognized positional aesthetics so they will get scaled if used in extension geoms and stats (@​thomasp85, #3168)"
ggplot2,185,"Continuous scale limits now accept functions which accept the default limits and return adjusted limits. This makes it possible to write a function that e.g. ensures the limits are always a multiple of 100, regardless of the data (@​econandrew, #2307)."
ggplot2,186,"`cut_width()` now accepts `...` to pass further arguments to `base::cut.default()` like `cut_number()` and `cut_interval()` already did (@​cderv, #3055)"
ggplot2,187,"`coord_map()` now can have axes on the top and right (@​karawoo, #3042)."
ggplot2,188,"`coord_polar()` now correctly rescales the secondary axis (@​linzi-sg, #3278)"
ggplot2,189,"`coord_sf()`, `coord_map()`, and `coord_polar()` now squash `-Inf` and `Inf` into the min and max of the plot (@​yutannihilation, #2972)."
ggplot2,190,"`coord_sf()` graticule lines are now drawn in the same thickness as panel grid lines in `coord_cartesian()`, and seting panel grid lines to `element_blank()` now also works in `coord_sf()` (@​clauswilke, #2991, #2525)."
ggplot2,191,"`economics` data has been regenerated. This leads to some changes in the values of all columns (especially in `psavert`), but more importantly, strips the grouping attributes from `economics_long`."
ggplot2,192,"`element_line()` now fills closed arrows (@​yutannihilation, #2924)."
ggplot2,193,"Facet strips on the left side of plots now have clipping turned on, preventing text from running out of the strip and borders from looking thicker than for other strips (@​karawoo, #2772 and #3061)."
ggplot2,194,"ggplot2 now works in Turkish locale (@​yutannihilation, #3011)."
ggplot2,195,"Clearer error messages for inappropriate aesthetics (@​clairemcwhite, #3060)."
ggplot2,196,"ggplot2 no longer attaches any external packages when using functions that depend on packages that are suggested but not imported by ggplot2. The affected functions include `geom_hex()`, `stat_binhex()`, `stat_summary_hex()`, `geom_quantile()`, `stat_quantile()`, and `map_data()` (@​clauswilke, #3126)."
ggplot2,197,"`geom_area()` and `geom_ribbon()` now sort the data along the x-axis in the `setup_data()` method rather than as part of `draw_group()` (@​thomasp85, #3023)"
ggplot2,198,"`geom_hline()`, `geom_vline()`, and `geom_abline()` now throw a warning if the user supplies both an `xintercept`, `yintercept`, or `slope` value and a mapping (@​RichardJActon, #2950)."
ggplot2,199,"`geom_rug()` now works with `coord_flip()` (@​has2k1, #2987)."
ggplot2,200,"`geom_violin()` no longer throws an error when quantile lines fall outside the violin polygon (@​thomasp85, #3254)."
ggplot2,201,"`guide_legend()` and `guide_colorbar()` now use appropriate spacing between legend key glyphs and legend text even if the legend title is missing (@​clauswilke, #2943)."
ggplot2,202,"Default labels are now generated more consistently; e.g., symbols no longer get backticks, and long expressions are abbreviated with `...` (@​yutannihilation, #2981)."
ggplot2,203,"All-`Inf` layers are now ignored for picking the scale (@​yutannihilation, #3184)."
ggplot2,204,"Diverging Brewer colour palette now use the correct mid-point colour (@​dariyasydykova, #3072)."
ggplot2,205,"`scale_color_continuous()` now points to `scale_colour_continuous()` so that it will handle `type = ""viridis""` as the documentation states (@​hlendway, #3079)."
ggplot2,206,"`scale_shape_identity()` now works correctly with `guide = ""legend""` (1, #3029)"
ggplot2,207,"`scale_continuous` will now draw axis line even if the length of breaks is 0 (@​thomasp85, #3257)"
ggplot2,208,`stat_bin()` will now error when the number of bins exceeds 1e6 to avoid accidentally freezing the user session (@​thomasp85).
ggplot2,209,"`sec_axis()` now places ticks accurately when using nonlinear transformations (@​dpseidel, #2978)."
ggplot2,210,"`facet_wrap()` and `facet_grid()` now automatically remove NULL from facet specs, and accept empty specs (@​yutannihilation, #3070, #2986)."
ggplot2,211,`stat_bin()` now handles data with only one unique value (@​yutannihilation #3047).
ggplot2,212,"`sec_axis()` now accepts functions as well as formulas (@​yutannihilation, #3031)."
ggplot2,213,"New theme elements allowing different ticks lengths for each axis. For instance, this can be used to have inwards ticks on the x-axis (`axis.ticks.length.x`) and outwards ticks on the y-axis (`axis.ticks.length.y`) (@​pank, #2935)."
ggplot2,214,"The arguments of `Stat*$compute_layer()` and `Position*$compute_layer()` are now renamed to always match the ones of `Stat$compute_layer()` and `Position$compute_layer()` (@​yutannihilation, #3202)."
ggplot2,215,"`geom_*()` and `stat_*()` now accepts purrr-style lambda notation (@​yutannihilation, #3138)."
ggplot2,216,"`geom_tile()` and `geom_rect()` now draw rectangles without notches at the corners. The style of the corner can be controlled by `linejoin` parameters (@​yutannihilation, #3050)."
ggplot2,217,"In non-user-facing internal code (specifically in the `aes()` function and in the `aesthetics` argument of scale functions), ggplot2 now always uses the British spelling for aesthetics containing the word ""colour"". When users specify a ""color"" aesthetic it is automatically renamed to ""colour"". This renaming is also applied to non-standard aesthetics that contain the word ""color"". For example, ""point_color"" is renamed to ""point_colour"". This convention makes it easier to support both British and American spelling for novel, non-standard aesthetics, but it may require some adjustment for packages that have previously introduced non-standard color aesthetics using American spelling. A new function `standardise_aes_names()` is provided in case extension writers need to perform this renaming in their own code (@​clauswilke, #2649)."
ggplot2,218,"Functions that generate other functions (closures) now force the arguments that are used from the generated functions, to avoid hard-to-catch errors. This may affect some users of manual scales (such as `scale_colour_manual()`, `scale_fill_manual()`, etc.) who depend on incorrect behavior (@​krlmlr, #2807)."
ggplot2,219,"`Coord` objects now have a function `backtransform_range()` that returns the panel range in data coordinates. This change may affect developers of custom coords, who now should implement this function. It may also affect developers of custom geoms that use the `range()` function. In some applications, `backtransform_range()` may be more appropriate (@​clauswilke, #2821)."
ggplot2,220,"`coord_sf()` has much improved customization of axis tick labels. Labels can now be set manually, and there are two new parameters, `label_graticule` and `label_axes`, that can be used to specify which graticules to label on which side of the plot (@​clauswilke, #2846, #2857, #2881)."
ggplot2,221,"Two new geoms `geom_sf_label()` and `geom_sf_text()` can draw labels and text on sf objects. Under the hood, a new `stat_sf_coordinates()` calculates the x and y coordinates from the coordinates of the sf geometries. You can customize the calculation method via `fun.geometry` argument (@​yutannihilation, #2761)."
ggplot2,222,"`benchplot()` now uses tidy evaluation (@​dpseidel, #2699)."
ggplot2,223,"The error message in `compute_aesthetics()` now only provides the names of aesthetics with mismatched lengths, rather than all aesthetics (@​karawoo, #2853)."
ggplot2,224,"For faceted plots, data is no longer internally reordered. This makes it safer to feed data columns into `aes()` or into parameters of geoms or stats. However, doing so remains discouraged (@​clauswilke, #2694)."
ggplot2,225,"`coord_sf()` now also understands the `clip` argument, just like the other coords (@​clauswilke, #2938)."
ggplot2,226,"`fortify()` now displays a more informative error message for `grouped_df()` objects when dplyr is not installed (@​jimhester, #2822)."
ggplot2,227,"All `geom_*()` now display an informative error message when required aesthetics are missing (@​dpseidel, #2637 and #2706)."
ggplot2,228,"`geom_boxplot()` now understands the `width` parameter even when used with a non-standard stat, such as `stat_identity()` (@​clauswilke, #2893)."
ggplot2,229,"`geom_hex()` now understands the `size` and `linetype` aesthetics (@​mikmart, #2488)."
ggplot2,230,"`geom_hline()`, `geom_vline()`, and `geom_abline()` now work properly with `coord_trans()` (@​clauswilke, #2149, #2812)."
ggplot2,231,"`geom_text(..., parse = TRUE)` now correctly renders the expected number of items instead of silently dropping items that are empty expressions, e.g. the empty string """". If an expression spans multiple lines, we take just the first line and drop the rest. This same issue is also fixed for `geom_label()` and the axis labels for `geom_sf()` (@​slowkow, #2867)."
ggplot2,232,"`geom_sf()` now respects `lineend`, `linejoin`, and `linemitre` parameters for lines and polygons (@​alistaire47, #2826)."
ggplot2,233,"`ggsave()` now exits without creating a new graphics device if previously none was open (@​clauswilke, #2363)."
ggplot2,234,"`labs()` now has named arguments `title`, `subtitle`, `caption`, and `tag`. Also, `labs()` now accepts tidyeval (@​yutannihilation, #2669)."
ggplot2,235,"`position_nudge()` is now more robust and nudges only in the direction requested. This enables, for example, the horizontal nudging of boxplots (@​clauswilke, #2733)."
ggplot2,236,"`sec_axis()` and `dup_axis()` now return appropriate breaks for the secondary axis when applied to log transformed scales (@​dpseidel, #2729)."
ggplot2,237,"`sec_axis()` now works as expected when used in combination with tidy eval (@​dpseidel, #2788)."
ggplot2,238,"`scale_*_date()`, `scale_*_time()` and `scale_*_datetime()` can now display a secondary axis that is a **one-to-one** transformation of the primary axis, implemented using the `sec.axis` argument to the scale constructor (@​dpseidel, #2244)."
ggplot2,239,"`stat_contour()`, `stat_density2d()`, `stat_bin2d()`, `stat_binhex()` now calculate normalized statistics including `nlevel`, `ndensity`, and `ncount`. Also, `stat_density()` now includes the calculated statistic `nlevel`, an alias for `scaled`, to better match the syntax of `stat_bin()` (@​bjreisman, #2679)."
ggplot2,240,"ggplot2 now supports/uses tidy evaluation (as described below). This is a major change and breaks a number of packages; we made this breaking change because it is important to make ggplot2 more programmable, and to be more consistent with the rest of the tidyverse. The best general (and detailed) introduction to tidy evaluation can be found in the meta programming chapters in [Advanced R](https://adv-r.hadley.nz). The primary developer facing change is that `aes()` now contains quosures (expression + environment pairs) rather than symbols, and you'll need to take a different approach to extracting the information you need. A common symptom of this change are errors ""undefined columns selected"" or ""invalid 'type' (list) of argument"" (#2610). As in the previous version, constants (like `aes(x = 1)` or `aes(colour = ""smoothed"")`) are stored as is. In this version of ggplot2, if you need to describe a mapping in a string, use `quo_name()` (to generate single-line strings; longer expressions may be abbreviated) or `quo_text()` (to generate non-abbreviated strings that may span multiple lines). If you do need to extract the value of a variable instead use `rlang::eval_tidy()`. You may want to condition on `(packageVersion(""ggplot2"") <= ""2.2.1"")` so that your code can work with both released and development versions of ggplot2. We recognise that this is a big change and if you're not already familiar with rlang, there's a lot to learn. If you are stuck, or need any help, please reach out on <https://community.rstudio.com>."
ggplot2,241,"Error: Column `y` must be a 1d atomic vector or a list Internally, ggplot2 now uses `as.data.frame(tibble::as_tibble(x))` to convert a list into a data frame. This improves ggplot2's support for list-columns (needed for sf support), at a small cost: you can no longer use matrix-columns. Note that unlike tibble we still allow column vectors such as returned by `base::scale()` because of their widespread use."
ggplot2,242,"Error: More than one expression parsed Previously `aes_string(x = c(""a"", ""b"", ""c""))` silently returned `aes(x = a)`. Now this is a clear error."
ggplot2,243,"Error: `data` must be uniquely named but has duplicate columns If layer data contains columns with identical names an error will be thrown. In earlier versions the first occuring column was chosen silently, potentially masking that the wrong data was chosen."
ggplot2,244,Error: Aesthetics must be either length 1 or the same as the data Layers are stricter about the columns they will combine into a single data frame. Each aesthetic now must be either the same length as the data frame or a single value. This makes silent recycling errors much less likely.
ggplot2,245,Error: `coord_*` doesn't support free scales Free scales only work with selected coordinate systems; previously you'd get an incorrect plot.
ggplot2,246,"Error in f(...) : unused argument (range = c(0, 1)) This is because the `oob` argument to scale has been set to a function that only takes a single argument; it needs to take two arguments (`x`, and `range`)."
ggplot2,247,"Error: unused argument (output) The function `guide_train()` now has an optional parameter `aesthetic` that allows you to override the `aesthetic` setting in the scale. To make your code work with the both released and development versions of ggplot2 appropriate, add `aesthetic = NULL` to the `guide_train()` method signature."
ggplot2,247,"```
# old
guide_train.legend <- function(guide, scale) {...}

# new 
guide_train.legend <- function(guide, scale, aesthetic = NULL) {...}
```"
ggplot2,247,"Then, inside the function, replace `scale$aesthetics[1]`, `aesthetic %||% scale$aesthetics[1]`. (The %\|\|% operator is defined in the rlang package)."
ggplot2,247,"```
# old
setNames(list(scale$map(breaks)), scale$aesthetics[1])

# new
setNames(list(scale$map(breaks)), aesthetic %||% scale$aesthetics[1])
```"
ggplot2,248,The long-deprecated `subset` argument to `layer()` has been removed.
ggplot2,249,"`aes()` now supports quasiquotation so that you can use `!!`, `!!!`, and `:=`. This replaces `aes_()` and `aes_string()` which are now soft-deprecated (but will remain around for a long time)."
ggplot2,250,"`facet_wrap()` and `facet_grid()` now support `vars()` inputs. Like `dplyr::vars()`, this helper quotes its inputs and supports quasiquotation. For instance, you can now supply faceting variables like this: `facet_wrap(vars(am, cyl))` instead of `facet_wrap(~am + cyl)`. Note that the formula interface is not going away and will not be deprecated. `vars()` is simply meant to make it easier to create functions around `facet_wrap()` and `facet_grid()`. The first two arguments of `facet_grid()` become `rows` and `cols` and now support `vars()` inputs. Note however that we took special care to ensure complete backward compatibility. With this change `facet_grid(vars(cyl), vars(am, vs))` is equivalent to `facet_grid(cyl ~ am + vs)`, and `facet_grid(cols = vars(am, vs))` is equivalent to `facet_grid(. ~ am + vs)`. One nice aspect of the new interface is that you can now easily supply names: `facet_grid(vars(Cylinder = cyl), labeller = label_both)` will give nice label titles to the facets. Of course, those names can be unquoted with the usual tidy eval syntax."
ggplot2,251,ggplot2 now has full support for sf with `geom_sf()` and `coord_sf()`:
ggplot2,251,"```
nc <- sf::st_read(system.file(""shape/nc.shp"", package = ""sf""), quiet = TRUE)
ggplot(nc) +
  geom_sf(aes(fill = AREA))
```"
ggplot2,251,"It supports all simple features, automatically aligns CRS across layers, sets up the correct aspect ratio, and draws a graticule."
ggplot2,252,"ggplot2 now works on R 3.1 onwards, and uses the [vdiffr](https://github.com/r-lib/vdiffr) package for visual testing."
ggplot2,253,"In most cases, accidentally using `%>%` instead of `+` will generate an informative error (#2400)."
ggplot2,254,"New syntax for calculated aesthetics. Instead of using `aes(y = ..count..)` you can (and should!) use `aes(y = stat(count))`. `stat()` is a real function with documentation which hopefully will make this part of ggplot2 less confusing (#2059). `stat()` is particularly nice for more complex calculations because you only need to specify it once: `aes(y = stat(count / max(count)))`, rather than `aes(y = ..count.. / max(..count..))`"
ggplot2,255,"New `tag` label for adding identification tags to plots, typically used for labelling a subplot with a letter. Add a tag with `labs(tag = ""A"")`, style it with the `plot.tag` theme element, and control position with the `plot.tag.position` theme setting (@​thomasp85)."
ggplot2,256,"`geom_segment()` and `geom_curve()` have a new `arrow.fill` parameter which allows you to specify a separate fill colour for closed arrowheads (@​hrbrmstr and @​clauswilke, #2375)."
ggplot2,257,"`geom_point()` and friends can now take shapes as strings instead of integers, e.g. `geom_point(shape = ""diamond"")` (@​daniel-barnett, #2075)."
ggplot2,258,"`position_dodge()` gains a `preserve` argument that allows you to control whether the `total` width at each `x` value is preserved (the current default), or ensure that the width of a `single` element is preserved (what many people want) (#1935)."
ggplot2,259,"New `position_dodge2()` provides enhanced dodging for boxplots. Compared to `position_dodge()`, `position_dodge2()` compares `xmin` and `xmax` values\ to determine which elements overlap, and spreads overlapping elements evenly within the region of overlap. `position_dodge2()` is now the default position adjustment for `geom_boxplot()`, because it handles `varwidth = TRUE`, and will be considered for other geoms in the future. The `padding` parameter adds a small amount of padding between elements (@​karawoo, #2143) and a `reverse` parameter allows you to reverse the order of placement (@​karawoo, #2171)."
ggplot2,260,"New `stat_qq_line()` makes it easy to add a simple line to a Q-Q plot, which makes it easier to judge the fit of the theoretical distribution (@​nicksolomon)."
ggplot2,261,"Improved support for mapping date/time variables to `alpha`, `size`, `colour`, and `fill` aesthetics, including `date_breaks` and `date_labels` arguments (@​karawoo, #1526), and new `scale_alpha()` variants (@​karawoo, #1526)."
ggplot2,262,"Improved support for ordered factors. Ordered factors throw a warning when mapped to shape (unordered factors do not), and do not throw warnings when mapped to size or alpha (unordered factors do). Viridis is used as the default colour and fill scale for ordered factors (@​karawoo, #1526)."
ggplot2,263,"The `expand` argument of `scale_*_continuous()` and `scale_*_discrete()` now accepts separate expansion values for the lower and upper range limits. The expansion limits can be specified using the convenience function `expand_scale()`. Separate expansion limits may be useful for bar charts, e.g. if one wants the bottom of the bars to be flush with the x axis but still leave some (automatically calculated amount of) space above them:"
ggplot2,263,"```
ggplot(mtcars) +
    geom_bar(aes(x = factor(cyl))) +
    scale_y_continuous(expand = expand_scale(mult = c(0, .1)))
```"
ggplot2,263,"It can also be useful for line charts, e.g. for counts over time, where one wants to have a 'hard' lower limit of y = 0 but leave the upper limit unspecified (and perhaps differing between panels), with some extra space above the highest point on the line (with symmetrical limits, the extra space above the highest point could in some cases cause the lower limit to be negative). The old syntax for the `expand` argument will, of course, continue to work (@​huftis, #1669)."
ggplot2,264,"`scale_colour_continuous()` and `scale_colour_gradient()` are now controlled by global options `ggplot2.continuous.colour` and `ggplot2.continuous.fill`. These can be set to `""gradient""` (the default) or `""viridis""` (@​karawoo)."
ggplot2,265,"New `scale_colour_viridis_c()`/`scale_fill_viridis_c()` (continuous) and `scale_colour_viridis_d()`/`scale_fill_viridis_d()` (discrete) make it easy to use Viridis colour scales (@​karawoo, #1526)."
ggplot2,266,"Guides for `geom_text()` now accept custom labels with `guide_legend(override.aes = list(label = ""foo""))` (@​brianwdavis, #2458)."
ggplot2,267,"Strips gain margins on all sides by default. This means that to fully justify text to the edge of a strip, you will need to also set the margins to 0 (@​karawoo)."
ggplot2,268,Rotated strip labels now correctly understand `hjust` and `vjust` parameters at all angles (@​karawoo).
ggplot2,269,"Strip labels now understand justification relative to the direction of the text, meaning that in y facets, the strip text can be placed at either end of the strip using `hjust` (@​karawoo)."
ggplot2,270,"Legend titles and labels get a little extra space around them, which prevents legend titles from overlapping the legend at large font sizes (@​karawoo, #1881)."
ggplot2,271,"New `autolayer()` S3 generic (@​mitchelloharawild, #1974). This is similar to `autoplot()` but produces layers rather than complete plots."
ggplot2,272,Custom objects can now be added using `+` if a `ggplot_add` method has been defined for the class of the object (@​thomasp85).
ggplot2,273,"Theme elements can now be subclassed. Add a `merge_element` method to control how properties are inherited from the parent element. Add an `element_grob` method to define how elements are rendered into grobs (@​thomasp85, #1981)."
ggplot2,274,"Coords have gained new extension mechanisms. If you have an existing coord extension, you will need to revise the specification of the `train()` method. It is now called `setup_panel_params()` (better reflecting what it actually does) and now has arguments `scale_x`, and `scale_y` (the x and y scales respectively) and `param`, a list of plot specific parameters generated by `setup_params()`. What was formerly called `scale_details` (in coords), `panel_ranges` (in layout) and `panel_scales` (in geoms) are now consistently called `panel_params` (#1311). These are parameters of the coord that vary from panel to panel."
ggplot2,275,"`ggplot_build()` and `ggplot_gtable()` are now generics, so ggplot-subclasses can define additional behavior during the build stage."
ggplot2,276,"`guide_train()`, `guide_merge()`, `guide_geom()`, and `guide_gengrob()` are now exported as they are needed if you want to design your own guide. They are not currently documented; use at your own risk (#2528)."
ggplot2,277,`scale_type()` generic is now exported and documented. Use this if you want to extend ggplot2 to work with a new type of vector.
ggplot2,278,`facet_grid()` gives a more informative error message if you try to use a variable in both rows and cols (#1928).
ggplot2,279,`facet_grid()` and `facet_wrap()` both give better error messages if you attempt to use an unsupported coord with free scales (#2049).
ggplot2,280,`label_parsed()` works once again (#2279).
ggplot2,281,You can now style the background of horizontal and vertical strips independently with `strip.background.x` and `strip.background.y` theme settings (#2249).
ggplot2,282,"`discrete_scale()` documentation now inherits shared definitions from `continuous_scale()` (@​alistaire47, #2052)."
ggplot2,283,"`guide_colorbar()` shows all colours of the scale (@​has2k1, #2343)."
ggplot2,284,`scale_identity()` once again produces legends by default (#2112).
ggplot2,285,"Tick marks for secondary axes with strong transformations are more accurately placed (@​thomasp85, #1992)."
ggplot2,286,Missing line types now reliably generate missing lines (with standard warning) (#2206).
ggplot2,287,Legends now ignore set aesthetics that are not length one (#1932).
ggplot2,288,"All colour and fill scales now have an `aesthetics` argument that can be used to set the aesthetic(s) the scale works with. This makes it possible to apply a colour scale to both colour and fill aesthetics at the same time, via `aesthetics = c(""colour"", ""fill"")` (@​clauswilke)."
ggplot2,289,"Three new generic scales work with any aesthetic or set of aesthetics: `scale_continuous_identity()`, `scale_discrete_identity()`, and `scale_discrete_manual()` (@​clauswilke)."
ggplot2,290,"`scale_*_gradient2()` now consistently omits points outside limits by rescaling after the limits are enforced (@​foo-bar-baz-qux, #2230)."
ggplot2,291,"`geom_label()` now correctly produces unbordered labels when `label.size` is 0, even when saving to PDF (@​bfgray3, #2407)."
ggplot2,292,"`layer()` gives considerably better error messages for incorrectly specified `geom`, `stat`, or `position` (#2401)."
ggplot2,293,"In all layers that use it, `linemitre` now defaults to 10 (instead of 1) to better match base R."
ggplot2,294,"`geom_boxplot()` now supplies a default value if no `x` aesthetic is present (@​foo-bar-baz-qux, #2110)."
ggplot2,295,"`geom_density()` drops groups with fewer than two data points and throws a warning. For groups with two data points, density values are now calculated with `stats::density` (@​karawoo, #2127)."
ggplot2,296,"`geom_segment()` now also takes a `linejoin` parameter. This allows more control over the appearance of the segments, which is especially useful for plotting thick arrows (@​Ax3man, #774)."
ggplot2,297,"`geom_smooth()` now reports the formula used when `method = ""auto""` (@​davharris #1951). `geom_smooth()` now orders by the `x` aesthetic, making it easier to pass pre-computed values without manual ordering (@​izahn, #2028). It also now knows it has `ymin` and `ymax` aesthetics (#1939). The legend correctly reflects the status of the `se` argument when used with stats other than the default (@​clauswilke, #1546)."
ggplot2,298,"`geom_tile()` now once again interprets `width` and `height` correctly (1, #2510)."
ggplot2,299,"`position_jitter()` and `position_jitterdodge()` gain a `seed` argument that allows the specification of a random seed for reproducible jittering (@​krlmlr, #1996 and @​slowkow, #2445)."
ggplot2,300,`stat_density()` has better behaviour if all groups are dropped because they are too small (#2282).
ggplot2,301,"`stat_summary_bin()` now understands the `breaks` parameter (@​karawoo, #2214)."
ggplot2,302,`stat_bin()` now accepts functions for `binwidth`. This allows better binning when faceting along variables with different ranges (@​botanize).
ggplot2,303,"`stat_bin()` and `geom_histogram()` now sum correctly when using the `weight` aesthetic (@​jiho, #1921)."
ggplot2,304,"`stat_bin()` again uses correct scaling for the computed variable `ndensity` (@​timgoodman, #2324)."
ggplot2,305,"`stat_bin()` and `stat_bin_2d()` now properly handle the `breaks` parameter when the scales are transformed (@​has2k1, #2366)."
ggplot2,306,"`update_geom_defaults()` and `update_stat_defaults()` allow American spelling of aesthetic parameters (@​foo-bar-baz-qux, #2299)."
ggplot2,307,"The `show.legend` parameter now accepts a named logical vector to hide/show only some aesthetics in the legend (@​tutuchan, #1798)."
ggplot2,308,Layers now silently ignore unknown aesthetics with value `NULL` (#1909).
ggplot2,309,"Clipping to the plot panel is now configurable, through a `clip` argument to coordinate systems, e.g. `coord_cartesian(clip = ""off"")` (@​clauswilke, #2536)."
ggplot2,310,"Like scales, coordinate systems now give you a message when you're replacing an existing coordinate system (#2264)."
ggplot2,311,"`coord_polar()` now draws secondary axis ticks and labels (@​dylan-stark, #2072), and can draw the radius axis on the right (@​thomasp85, #2005)."
ggplot2,312,"`coord_trans()` now generates a warning when a transformation generates non-finite values (@​foo-bar-baz-qux, #2147)."
ggplot2,313,"Complete themes now always override all elements of the default theme (@​has2k1, #2058, #2079)."
ggplot2,314,Themes now set default grid colour in `panel.grid` rather than individually in `panel.grid.major` and `panel.grid.minor` individually. This makes it slightly easier to customise the theme (#2352).
ggplot2,315,Fixed bug when setting strips to `element_blank()` (@​thomasp85).
ggplot2,316,"Axes positioned on the top and to the right can now customize their ticks and lines separately (@​thomasp85, #1899)."
ggplot2,317,"Built-in themes gain parameters `base_line_size` and `base_rect_size` which control the default sizes of line and rectangle elements (@​karawoo, #2176)."
ggplot2,318,Default themes use `rel()` to set line widths (@​baptiste).
ggplot2,319,Themes were tweaked for visual consistency and more graceful behavior when changing the base font size. All absolute heights or widths were replaced with heights or widths that are proportional to the base font size. One relative font size was eliminated (@​clauswilke).
ggplot2,320,"The height of descenders is now calculated solely on font metrics and doesn't change with the specific letters in the string. This fixes minor alignment issues with plot titles, subtitles, and legend titles (#2288, @​clauswilke)."
ggplot2,321,"`guide_colorbar()` is more configurable: tick marks and color bar frame can now by styled with arguments `ticks.colour`, `ticks.linewidth`, `frame.colour`, `frame.linewidth`, and `frame.linetype` (@​clauswilke)."
ggplot2,322,"`guide_colorbar()` now uses `legend.spacing.x` and `legend.spacing.y` correctly, and it can handle multi-line titles. Minor tweaks were made to `guide_legend()` to make sure the two legend functions behave as similarly as possible (@​clauswilke, #2397 and #2398)."
ggplot2,323,"The theme elements `legend.title` and `legend.text` now respect the settings of `margin`, `hjust`, and `vjust` (@​clauswilke, #2465, #1502)."
ggplot2,324,"Non-angle parameters of `label.theme` or `title.theme` can now be set in `guide_legend()` and `guide_colorbar()` (@​clauswilke, #2544)."
ggplot2,325,"`fortify()` gains a method for tbls (@​karawoo, #2218)."
ggplot2,326,"`ggplot` gains a method for `grouped_df`s that adds a `.group` variable, which computes a unique value for each group. Use it with `aes(group = .group)` (#2351)."
ggplot2,327,"`ggproto()` produces objects with class `c(""ggproto"", ""gg"")`, allowing for a more informative error message when adding layers, scales, or other ggproto objects (@​jrnold, #2056)."
ggplot2,328,"`ggsave()`'s DPI argument now supports 3 string options: ""retina"" (320 DPI), ""print"" (300 DPI), and ""screen"" (72 DPI) (@​foo-bar-baz-qux, #2156). `ggsave()` now uses full argument names to avoid partial match warnings (#2355), and correctly restores the previous graphics device when several graphics devices are open (#2363)."
ggplot2,329,"`print.ggplot()` now returns the original ggplot object, instead of the output from `ggplot_build()`. Also, the object returned from `ggplot_build()` now has the class `""ggplot_built""` (#2034)."
ggplot2,330,`map_data()` now works even when purrr is loaded (tidyverse#66).
ggplot2,331,"New functions `summarise_layout()`, `summarise_coord()`, and `summarise_layers()` summarise the layout, coordinate systems, and layers of a built ggplot object (#2034, @​wch). This provides a tested API that (e.g.) shiny can depend on."
ggplot2,332,"Updated startup messages reflect new resources (#2410, @​mine-cetinkaya-rundel)."
ggplot2,333,Fix usage of `structure(NULL)` for R-devel compatibility (#1968).
ggplot2,334,"`facet_grid()` and `facet_wrap()` now allow expressions in their faceting formulas (@​DanRuderman, #1596)."
ggplot2,335,"When `facet_wrap()` results in an uneven number of panels, axes will now be drawn underneath the hanging panels (fixes #1607)"
ggplot2,336,Strips can now be freely positioned in `facet_wrap()` using the `strip.position` argument (deprecates `switch`).
ggplot2,337,"The relative order of panel, strip, and axis can now be controlled with the theme setting `strip.placement` that takes either `inside` (strip between panel and axis) or `outside` (strip after axis)."
ggplot2,338,The theme option `panel.margin` has been deprecated in favour of `panel.spacing` to more clearly communicate intent.
ggplot2,339,"The position of x and y axes can now be changed using the `position` argument in `scale_x_*`and `scale_y_*` which can take `top` and `bottom`, and `left` and `right` respectively. The themes of top and right axes can be modified using the `.top` and `.right` modifiers to `axis.text.*` and `axis.title.*`."
ggplot2,340,`scale_x_continuous()` and `scale_y_continuous()` can now display a secondary axis that is a **one-to-one** transformation of the primary axis (e.g. degrees Celcius to degrees Fahrenheit). The secondary axis will be positioned opposite to the primary axis and can be controlled with the `sec.axis` argument to the scale constructor.
ggplot2,341,"Scales worry less about having breaks. If no breaks can be computed, the plot will work instead of throwing an uninformative error (#791). This is particularly helpful when you have facets with free scales, and not all panels contain data."
ggplot2,342,Scales now warn when transformation introduces infinite values (#1696).
ggplot2,343,"`scale_*_datetime()` now supports time zones. It will use the timezone attached to the varaible by default, but can be overridden with the `timezone` argument."
ggplot2,344,New `scale_x_time()` and `scale_y_time()` generate reasonable default breaks and labels for hms vectors (#1752).
ggplot2,345,character vectors
ggplot2,346,factors with implicit NA
ggplot2,347,factors with explicit NA
ggplot2,348,Correctly use scale expansion factors.
ggplot2,349,Don't preserve space for dropped levels (#1638).
ggplot2,350,Only issue one warning when when asking for too many levels (#1674).
ggplot2,351,Unicode labels work better on Windows (#1827).
ggplot2,352,Warn when used with only continuous data (#1589)
ggplot2,353,The `theme()` constructor now has named arguments rather than ellipses. This should make autocomplete substantially more useful. The documentation (including examples) has been considerably improved.
ggplot2,354,"Built-in themes are more visually homogeneous, and match `theme_grey` better. (@​jiho, #1679)"
ggplot2,355,"When computing the height of titles, ggplot2 now includes the height of the descenders (i.e. the bits of `g` and `y` that hang beneath the baseline). This improves the margins around titles, particularly the y axis label (#1712). I have also very slightly increased the inner margins of axis titles, and removed the outer margins."
ggplot2,356,"Theme element inheritance is now easier to work with as modification now overrides default `element_blank` elements (#1555, #1557, #1565, #1567)"
ggplot2,357,"Horizontal legends (i.e. legends on the top or bottom) are horizontally aligned by default (#1842). Use `legend.box = ""vertical""` to switch back to the previous behaviour."
ggplot2,358,`element_line()` now takes an `arrow` argument to specify arrows at the end of lines (#1740)
ggplot2,359,"`legend.justification` now controls appearance will plotting the legend outside of the plot area. For example, you can use `theme(legend.justification = ""top"")` to make the legend align with the top of the plot."
ggplot2,360,"`panel.margin` and `legend.margin` have been renamed to `panel.spacing` and `legend.spacing` respectively, to better communicate intent (they only affect spacing between legends and panels, not the margins around them)"
ggplot2,361,`legend.margin` now controls margin around individual legends.
ggplot2,362,"New `legend.box.background`, `legend.box.spacing`, and `legend.box.margin` control the background, spacing, and margin of the legend box (the region that contains all legends)."
ggplot2,363,ggplot2 now imports tibble. This ensures that all built-in datasets print compactly even if you haven't explicitly loaded tibble or dplyr (#1677).
ggplot2,364,Class of aesthetic mapping is preserved when adding `aes()` objects (#1624).
ggplot2,365,`+.gg` now works for lists that include data frames.
ggplot2,366,`annotation_x()` now works in the absense of global data (#1655)
ggplot2,367,`geom_*(show.legend = FALSE)` now works for `guide_colorbar`.
ggplot2,368,"`geom_boxplot()` gains new `outlier.alpha` (@​jonathan-g) and `outlier.fill` (@​schloerke, #1787) parameters to control the alpha/fill of outlier points independently of the alpha of the boxes."
ggplot2,369,"`position_jitter()` (and hence `geom_jitter()`) now correctly computes the jitter width/jitter when supplied by the user (#1775, @​has2k1)."
ggplot2,370,`geom_contour()` more clearly describes what inputs it needs (#1577).
ggplot2,371,`geom_curve()` respects the `lineend` paramater (#1852).
ggplot2,372,`geom_histogram()` and `stat_bin()` understand the `breaks` parameter once more. (#1665). The floating point adjustment for histogram bins is now actually used - it was previously inadvertently ignored (#1651).
ggplot2,373,"`geom_violin()` no longer transforms quantile lines with the alpha aesthetic (@​mnbram, #1714). It no longer errors when quantiles are requested but data have zero range (#1687). When `trim = FALSE` it once again has a nice range that allows the density to reach zero (by extending the range 3 bandwidths to either side of the data) (#1700)."
ggplot2,374,"`geom_dotplot()` works better when faceting and binning on the y-axis. (#1618, @​has2k1)."
ggplot2,375,"`geom_hexbin()` once again supports `..density..` (@​mikebirdgeneau, #1688)."
ggplot2,376,`geom_step()` gives useful warning if only one data point in layer (#1645).
ggplot2,377,`layer()` gains new `check.aes` and `check.param` arguments. These allow geom/stat authors to optional suppress checks for known aesthetics/parameters. Currently this is used only in `geom_blank()` which powers `expand_limits()` (#1795).
ggplot2,378,All `stat_*()` display a better error message when required aesthetics are missing.
ggplot2,379,`stat_bin()` and `stat_summary_hex()` now accept length 1 `binwidth` (#1610)
ggplot2,380,"`stat_density()` gains new argument `n`, which is passed to underlying function `stats::density` (""number of equally spaced points at which the density is to be estimated""). (@​hbuschme)"
ggplot2,381,`stat_binhex()` now again returns `count` rather than `value` (#1747)
ggplot2,382,`stat_ecdf()` respects `pad` argument (#1646).
ggplot2,383,`stat_smooth()` once again informs you about the method it has chosen. It also correctly calculates the size of the largest group within facets.
ggplot2,384,"`x` and `y` scales are now symmetric regarding the list of aesthetics they accept: `xmin_final`, `xmax_final`, `xlower`, `xmiddle` and `xupper` are now valid `x` aesthetics."
ggplot2,385,`Scale` extensions can now override the `make_title` and `make_sec_title` methods to let the scale modify the axis/legend titles.
ggplot2,386,The random stream is now reset after calling `.onAttach()` (#2409).
ggplot2,387,"When mapping an aesthetic to a constant (e.g. `geom_smooth(aes(colour = ""loess"")))`), the default guide title is the name of the aesthetic (i.e. ""colour""), not the value (i.e. ""loess"") (#1431)."
ggplot2,388,"`layer()` now accepts a function as the data argument. The function will be applied to the data passed to the `ggplot()` function and must return a data.frame (#1527, @​thomasp85). This is a more general version of the deprecated `subset` argument."
ggplot2,389,"`theme_update()` now uses the `+` operator instead of `%+replace%`, so that unspecified values will no longer be `NULL`ed out. `theme_replace()` preserves the old behaviour if desired (@​oneillkza, #1519)."
ggplot2,390,"`stat_bin()` has been overhauled to use the same algorithm as ggvis, which has been considerably improved thanks to the advice of Randy Prium (@​rpruim). This includes:"
ggplot2,390,• Better arguments and a better algorithm for determining the origin. You can now specify either `boundary` or the `center` of a bin. `origin` has been deprecated in favour of these arguments.
ggplot2,390,"• `drop` is deprecated in favour of `pad`, which adds extra 0-count bins at either end (needed for frequency polygons). `geom_histogram()` defaults to `pad = FALSE` which considerably improves the default limits for the histogram, especially when the bins are big (#1477)."
ggplot2,390,• The default algorithm does a (somewhat) better job at picking nice widths and origins across a wider range of input data.
ggplot2,390,"• `bins = n` now gives a histogram with `n` bins, not `n + 1` (#1487)."
ggplot2,395,All `\donttest{}` examples run.
ggplot2,396,"All `geom_()` and `stat_()` functions now have consistent argument order: data + mapping, then geom/stat/position, then `...`, then specific arguments, then arguments common to all layers (#1305). This may break code if you were previously relying on partial name matching, but in the long-term should make ggplot2 easier to use. In particular, you can now set the `n` parameter in `geom_density2d()` without it partially matching `na.rm` (#1485)."
ggplot2,397,"For geoms with both `colour` and `fill`, `alpha` once again only affects fill (Reverts #1371, #1523). This was causing problems for people."
ggplot2,398,`facet_wrap()`/`facet_grid()` works with multiple empty panels of data (#1445).
ggplot2,399,`facet_wrap()` correctly swaps `nrow` and `ncol` when faceting vertically (#1417).
ggplot2,400,"`ggsave(""x.svg"")` now uses svglite to produce the svg (#1432)."
ggplot2,401,`geom_boxplot()` now understands `outlier.color` (#1455).
ggplot2,402,"`geom_path()` knows that ""solid"" (not just 1) represents a solid line (#1534)."
ggplot2,403,`geom_ribbon()` preserves missing values so they correctly generate a gap in the ribbon (#1549).
ggplot2,404,"`geom_tile()` once again accepts `width` and `height` parameters (#1513). It uses `draw_key_polygon()` for better a legend, including a coloured outline (#1484)."
ggplot2,405,`layer()` now automatically adds a `na.rm` parameter if none is explicitly supplied.
ggplot2,406,"`position_jitterdodge()` now works on all possible dodge aesthetics, e.g. `color`, `linetype` etc. instead of only based on `fill` (@​bleutner)"
ggplot2,407,"`position = ""nudge""` now works (although it doesn't do anything useful) (#1428)."
ggplot2,408,"The default scale for columns of class ""AsIs"" is now ""identity"" (#1518)."
ggplot2,409,`scale_*_discrete()` has better defaults when used with purely continuous data (#1542).
ggplot2,410,`scale_size()` warns when used with categorical data.
ggplot2,411,"`scale_size()`, `scale_colour()`, and `scale_fill()` gain date and date-time variants (#1526)."
ggplot2,412,"`stat_bin_hex()` and `stat_bin_summary()` now use the same underlying algorithm so results are consistent (#1383). `stat_bin_hex()` now accepts a `weight` aesthetic. To be consistent with related stats, the output variable from `stat_bin_hex()` is now value instead of count."
ggplot2,413,`stat_density()` gains a `bw` parameter which makes it easy to get consistent smoothing between facets (@​jiho)
ggplot2,414,"`stat-density-2d()` no longer ignores the `h` parameter, and now accepts `bins` and `binwidth` parameters to control the number of contours (#1448, @​has2k1)."
ggplot2,415,"`stat_ecdf()` does a better job of adding padding to -Inf/Inf, and gains an argument `pad` to suppress the padding if not needed (#1467)."
ggplot2,416,`stat_function()` gains an `xlim` parameter (#1528). It once again works with discrete x values (#1509).
ggplot2,417,`stat_summary()` preserves sorted x order which avoids artefacts when display results with `geom_smooth()` (#1520).
ggplot2,418,"All elements should now inherit correctly for all themes except `theme_void()`. (@​Katiedaisey, #1555)"
ggplot2,419,`theme_void()` was completely void of text but facets and legends still need labels. They are now visible (@​jiho).
ggplot2,420,"You can once again set legend key and height width to unit arithmetic objects (like `2 * unit(1, ""cm"")`) (#1437)."
ggplot2,421,Eliminate spurious warning if you have a layer with no data and no aesthetics (#1451).
ggplot2,422,Removed a superfluous comma in `theme-defaults.r` code (@​jschoeley)
ggplot2,423,Fixed a compatibility issue with `ggproto` and R versions prior to 3.1.2. (#1444)
ggplot2,424,"Fixed issue where `coord_map()` fails when given an explicit `parameters` argument (@​tdmcarthur, #1729)"
ggplot2,425,Fixed issue where `geom_errorbarh()` had a required `x` aesthetic (#1933)
ggplot2,426,ggplot no longer throws an error if your plot has no layers. Instead it automatically adds `geom_blank()` (#1246).
ggplot2,427,"New `cut_width()` is a convenient replacement for the verbose `plyr::round_any()`, with the additional benefit of offering finer control."
ggplot2,428,New `geom_count()` is a convenient alias to `stat_sum()`. Use it when you have overlapping points on a scatterplot. `stat_sum()` now defaults to using counts instead of proportions.
ggplot2,429,"New `geom_curve()` adds curved lines, with a similar specification to `geom_segment()` (@​veraanadi, #1088)."
ggplot2,430,"Date and datetime scales now have `date_breaks`, `date_minor_breaks` and `date_labels` arguments so that you never need to use the long `scales::date_breaks()` or `scales::date_format()`."
ggplot2,431,"`geom_bar()` now has it's own stat, distinct from `stat_bin()` which was also used by `geom_histogram()`. `geom_bar()` now uses `stat_count()` which counts values at each distinct value of x (i.e. it does not bin the data first). This can be useful when you want to show exactly which values are used in a continuous variable."
ggplot2,432,"`geom_point()` gains a `stroke` aesthetic which controls the border width of shapes 21-25 (#1133, @​SeySayux). `size` and `stroke` are additive so a point with `size = 5` and `stroke = 5` will have a diameter of 10mm. (#1142)"
ggplot2,433,New `position_nudge()` allows you to slightly offset labels (or other geoms) from their corresponding points (#1109).
ggplot2,434,"`scale_size()` now maps values to *area*, not radius. Use `scale_radius()` if you want the old behaviour (not recommended, except perhaps for lines)."
ggplot2,435,"New `stat_summary_bin()` works like `stat_summary()` but on binned data. It's a generalisation of `stat_bin()` that can compute any aggregate, not just counts (#1274). Both default to `mean_se()` if no aggregation functions are supplied (#1386)."
ggplot2,436,"Layers are now much stricter about their arguments - you will get an error if you've supplied an argument that isn't an aesthetic or a parameter. This is likely to cause some short-term pain but in the long-term it will make it much easier to spot spelling mistakes and other errors (#1293). This change does break a handful of geoms/stats that used `...` to pass additional arguments on to the underlying computation. Now `geom_smooth()`/`stat_smooth()` and `geom_quantile()`/`stat_quantile()` use `method.args` instead (#1245, #1289); and `stat_summary()` (#1242), `stat_summary_hex()`, and `stat_summary2d()` use `fun.args`."
ggplot2,437,"All Geoms, Stats and Positions are now exported, so you can inherit from them when making your own objects (#989)."
ggplot2,438,"ggplot2 no longer uses proto or reference classes. Instead, we now use ggproto, a new OO system designed specifically for ggplot2. Unlike proto and RC, ggproto supports clean cross-package inheritance. Creating a new OO system isn't usually the right way to solve a problem, but I'm pretty sure it was necessary here. Read more about it in the vignette."
ggplot2,439,"`aes_()` replaces `aes_q()`. It also supports formulas, so the most concise SE version of `aes(carat, price)` is now `aes_(~carat, ~price)`. You may want to use this form in packages, as it will avoid spurious `R CMD check` warnings about undefined global variables."
ggplot2,440,`geom_text()` has been overhauled to make labelling your data a little easier. It:
ggplot2,440,• `nudge_x` and `nudge_y` arguments let you offset labels from their corresponding points (#1120).
ggplot2,440,• `check_overlap = TRUE` provides a simple way to avoid overplotting of labels: labels that would otherwise overlap are omitted (#1039).
ggplot2,440,"• `hjust` and `vjust` can now be character vectors: ""left"", ""center"", ""right"", ""bottom"", ""middle"", ""top"". New options include ""inward"" and ""outward"" which align text towards and away from the center of the plot respectively."
ggplot2,444,`geom_label()` works like `geom_text()` but draws a rounded rectangle underneath each label (#1039). This is useful when you want to label plots that are dense with data.
ggplot2,445,The little used `aes_auto()` has been deprecated.
ggplot2,446,`aes_q()` has been replaced with `aes_()` to be consistent with SE versions of NSE functions in other packages.
ggplot2,447,"The `order` aesthetic is officially deprecated. It never really worked, and was poorly documented."
ggplot2,448,"The `stat` and `position` arguments to `qplot()` have been deprecated. `qplot()` is designed for quick plots - if you need to specify position or stat, use `ggplot()` instead."
ggplot2,449,The theme setting `axis.ticks.margin` has been deprecated: now use the margin property of `axis.text`.
ggplot2,450,"`stat_abline()`, `stat_hline()` and `stat_vline()` have been removed: these were never suitable for use other than with `geom_abline()` etc and were not documented."
ggplot2,451,"`show_guide` has been renamed to `show.legend`: this more accurately reflects what it does (controls appearance of layer in legend), and uses the same convention as other ggplot2 arguments (i.e. a `.` between names). (Yes, I know that's inconsistent with function names with use `_`, but it's too late to change now.)"
ggplot2,452,"`stat_binhex()` and `stat_bin2d()` have been renamed to `stat_bin_hex()` and `stat_bin_2d()` (#1274). `stat_summary2d()` has been renamed to `stat_summary_2d()`, `geom_density2d()`/`stat_density2d()` has been renamed to `geom_density_2d()`/`stat_density_2d()`."
ggplot2,453,`stat_spoke()` is now `geom_spoke()` since I realised it's a reparameterisation of `geom_segment()`.
ggplot2,454,"`stat_bindot()` has been removed because it's so tightly coupled to `geom_dotplot()`. If you happened to use `stat_bindot()`, just change to `geom_dotplot()` (#1194)."
ggplot2,455,"The default `theme_grey()` background colour has been changed from ""grey90"" to ""grey92"": this makes the background a little less visually prominent."
ggplot2,456,Labels and titles have been tweaked for readability:
ggplot2,456,• Axes labels are darker.
ggplot2,456,• Legend and axis titles are given the same visual treatment.
ggplot2,456,"• The default font size dropped from 12 to 11. You might be surprised that I've made the default text size smaller as it was already hard for many people to read. It turns out there was a bug in RStudio (fixed in 0.99.724), that shrunk the text of all grid based graphics. Once that was resolved the defaults seemed too big to my eyes."
ggplot2,456,• More spacing between titles and borders.
ggplot2,456,"• Default margins scale with the theme font size, so the appearance at larger font sizes should be considerably improved (#1228)."
ggplot2,462,`alpha` now affects both fill and colour aesthetics (#1371).
ggplot2,463,`element_text()` gains a margins argument which allows you to add additional padding around text elements. To help see what's going on use `debug = TRUE` to display the text region and anchors.
ggplot2,464,The default font size in `geom_text()` has been decreased from 5mm (14 pts) to 3.8 mm (11 pts) to match the new default theme sizes.
ggplot2,465,"A diagonal line is no longer drawn on bar and rectangle legends. Instead, the border has been tweaked to be more visible, and more closely match the size of line drawn on the plot."
ggplot2,466,`geom_pointrange()` and `geom_linerange()` get vertical (not horizontal) lines in the legend (#1389).
ggplot2,467,The default line `size` for `geom_smooth()` has been increased from 0.5 to 1 to make it easier to see when overlaid on data.
ggplot2,468,`geom_bar()` and `geom_rect()` use a slightly paler shade of grey so they aren't so visually heavy.
ggplot2,469,`geom_boxplot()` now colours outliers the same way as the boxes.
ggplot2,470,"`geom_point()` now uses shape 19 instead of 16. This looks much better on the default Linux graphics device. (It's very slightly smaller than the old point, but it shouldn't affect any graphics significantly)"
ggplot2,471,"Sizes in ggplot2 are measured in mm. Previously they were converted to pts (for use in grid) by multiplying by 72 / 25.4. However, grid uses printer's points, not Adobe (big pts), so sizes are now correctly multiplied by 72.27 / 25.4. This is unlikely to noticeably affect display, but it's technically correct (<https://youtu.be/hou0lU8WMgo>)."
ggplot2,472,The default legend will now allocate multiple rows (if vertical) or columns (if horizontal) in order to make a legend that is more likely to fit on the screen. You can override with the `nrow`/`ncol` arguments to `guide_legend()`
ggplot2,472,"```
p <- ggplot(mpg, aes(displ,hwy, colour = model)) + geom_point()
p
p + theme(legend.position = ""bottom"")
# Previous behaviour
p + guides(colour = guide_legend(ncol = 1))
```"
ggplot2,473,"New `theme_void()` is completely empty. It's useful for plots with non- standard coordinates or for drawings (@​jiho, #976)."
ggplot2,474,"New `theme_dark()` has a dark background designed to make colours pop out (@​jiho, #1018)"
ggplot2,475,"`theme_minimal()` became slightly more minimal by removing the axis ticks: labels now line up directly beneath grid lines (@​tomschloss, #1084)"
ggplot2,476,"New theme setting `panel.ontop` (logical) make it possible to place background elements (i.e., gridlines) on top of data. Best used with transparent `panel.background` (@​noamross. #551)."
ggplot2,477,`facet_wrap()` gains a `labeller` option (#25).
ggplot2,478,"`facet_grid()` and `facet_wrap()` gain a `switch` argument to display the facet titles near the axes. When switched, the labels become axes subtitles. `switch` can be set to ""x"", ""y"" or ""both"" (the latter only for grids) to control which margin is switched."
ggplot2,479,They now offer the `multi_line` argument to control whether to display composite facets (those specified as `~var1 + var2`) on one or multiple lines.
ggplot2,480,"In `label_bquote()` you now refer directly to the names of variables. With this change, you can create math expressions that depend on more than one variable. This math expression can be specified either for the rows or the columns and you can also provide different expressions to each margin. As a consequence of these changes, referring to `x` in backquoted expressions is deprecated."
ggplot2,481,"Similarly to `label_bquote()`, `labeller()` now take `.rows` and `.cols` arguments. In addition, it also takes `.default`. `labeller()` is useful to customise how particular variables are labelled. The three additional arguments specify how to label the variables are not specifically mentioned, respectively for rows, columns or both. This makes it especially easy to set up a project-wide labeller dispatcher that can be reused across all your plots. See the documentation for an example."
ggplot2,482,"The new labeller `label_context()` adapts to the number of factors facetted over. With a single factor, it displays only the values, just as before. But with multiple factors in a composite margin (e.g. with `~cyl + am`), the labels are passed over to `label_both()`. This way the variables names are displayed with the values to help identifying them."
ggplot2,483,"Previously, a labeller function would take `variable` and `value` arguments and return a character vector. Now, they take a data frame of character vectors and return a list. The input data frame has one column per factor facetted over and each column in the returned list becomes one line in the strip label. See documentation for more details."
ggplot2,484,"The labels received by a labeller now contain metadata: their margin (in the ""type"" attribute) and whether they come from a wrap or a grid facet (in the ""facet"" attribute)."
ggplot2,485,Note that the new `as_labeller()` function operator provides an easy way to transform an existing function to a labeller function. The existing function just needs to take and return a character vector.
ggplot2,486,"Improved documentation for `aes()`, `layer()` and much much more."
ggplot2,487,I've tried to reduce the use of `...` so that you can see all the documentation in one place rather than having to integrate multiple pages. In some cases this has involved adding additional arguments to geoms to make it more clear what you can do:
ggplot2,487,"• `geom_smooth()` gains explicit `method`, `se` and `formula` arguments."
ggplot2,487,"• `geom_histogram()` gains `binwidth`, `bins`, `origin` and `right` arguments."
ggplot2,487,• `geom_jitter()` gains `width` and `height` arguments to make it easier to control the amount of jittering without using the lengthy `position_jitter()` function (#1116)
ggplot2,491,"Use of `qplot()` in examples has been minimised (#1123, @​hrbrmstr). This is inline with the 2nd edition of the ggplot2 box, which minimises the use of `qplot()` in favour of `ggplot()`."
ggplot2,492,"Tighly linked geoms and stats (e.g. `geom_boxplot()` and `stat_boxplot()`) are now documented in the same file so you can see all the arguments in one place. Variations of the same idea (e.g. `geom_path()`, `geom_line()`, and `geom_step()`) are also documented together."
ggplot2,493,"It's now obvious that you can set the `binwidth` parameter for `stat_bin_hex()`, `stat_summary_hex()`, `stat_bin_2d()`, and `stat_summary_2d()`."
ggplot2,494,"The internals of positions have been cleaned up considerably. You're unlikely to notice any external changes, although the documentation should be a little less confusing since positions now don't list parameters they never use."
ggplot2,495,"All datasets have class `tbl_df` so if you also use dplyr, you get a better print method."
ggplot2,496,`economics` has been brought up to date to 2015-04-01.
ggplot2,497,New `economics_long` is the economics data in long form.
ggplot2,498,"New `txhousing` dataset containing information about the Texas housing market. Useful for examples that need multiple time series, and for demonstrating model+vis methods."
ggplot2,499,New `luv_colours` dataset which contains the locations of all built-in `colors()` in Luv space.
ggplot2,500,"`movies` has been moved into its own package, ggplot2movies, because it was large and not terribly useful. If you've used the movies dataset, you'll now need to explicitly load the package with `library(ggplot2movies)`."
ggplot2,501,"All partially matched arguments and `$` have been been replaced with full matches (@​jimhester, #1134)."
ggplot2,502,"ggplot2 now exports `alpha()` from the scales package (#1107), and `arrow()` and `unit()` from grid (#1225). This means you don't need attach scales/grid or do `scales::`/`grid::` for these commonly used functions."
ggplot2,503,`aes_string()` now only parses character inputs. This fixes bugs when using it with numbers and non default `OutDec` settings (#1045).
ggplot2,504,"`annotation_custom()` automatically adds a unique id to each grob name, making it easier to plot multiple grobs with the same name (e.g. grobs of ggplot2 graphics) in the same plot (#1256)."
ggplot2,505,"`borders()` now accepts xlim and ylim arguments for specifying the geographical region of interest (@​markpayneatwork, #1392)."
ggplot2,506,`coord_cartesian()` applies the same expansion factor to limits as for scales. You can suppress with `expand = FALSE` (#1207).
ggplot2,507,`coord_trans()` now works when breaks are suppressed (#1422).
ggplot2,508,`cut_number()` gives error message if the number of requested bins can be created because there are two few unique values (#1046).
ggplot2,509,Character labels in `facet_grid()` are no longer (incorrectly) coerced into factors. This caused problems with custom label functions (#1070).
ggplot2,510,`facet_wrap()` and `facet_grid()` now allow you to use non-standard variable names by surrounding them with backticks (#1067).
ggplot2,511,"`facet_wrap()` more carefully checks its `nrow` and `ncol` arguments to ensure that they're specified correctly (@​richierocks, #962)"
ggplot2,512,"`facet_wrap()` gains a `dir` argument to control the direction the panels are wrapped in. The default is ""h"" for horizontal. Use ""v"" for vertical layout (#1260)."
ggplot2,513,"`geom_abline()`, `geom_hline()` and `geom_vline()` have been rewritten to have simpler behaviour and be more consistent:"
ggplot2,513,"• `stat_abline()`, `stat_hline()` and `stat_vline()` have been removed: these were never suitable for use other than with `geom_abline()` etc and were not documented."
ggplot2,513,"• `geom_abline()`, `geom_vline()` and `geom_hline()` are bound to `stat_identity()` and `position_identity()`"
ggplot2,513,• Intercept parameters can no longer be set to a function.
ggplot2,513,"• They are all documented in one file, since they are so closely related."
ggplot2,518,"`geom_bin2d()` will now let you specify one dimension's breaks exactly, without touching the other dimension's default breaks at all (#1126)."
ggplot2,519,`geom_crossbar()` sets grouping correctly so you can display multiple crossbars on one plot. It also makes the default `fatten` argument a little bigger to make the middle line more obvious (#1125).
ggplot2,520,"`geom_histogram()` and `geom_smooth()` now only inform you about the default values once per layer, rather than once per panel (#1220)."
ggplot2,521,`geom_pointrange()` gains `fatten` argument so you can control the size of the point relative to the size of the line.
ggplot2,522,"`geom_segment()` annotations were not transforming with scales (@​BrianDiggs, #859)."
ggplot2,523,"`geom_smooth()` is no longer so chatty. If you want to know what the deafult smoothing method is, look it up in the documentation! (#1247)"
ggplot2,524,`geom_violin()` now has the ability to draw quantile lines (@​DanRuderman).
ggplot2,525,"`ggplot()` now captures the parent frame to use for evaluation, rather than always defaulting to the global environment. This should make ggplot more suitable to use in more situations (e.g. with knitr)"
ggplot2,526,"`ggsave()` has been simplified a little to make it easier to maintain. It no longer checks that you're printing a ggplot2 object (so now also works with any grid grob) (#970), and always requires a filename. Parameter `device` now supports character argument to specify which supported device to use ('pdf', 'png', 'jpeg', etc.), for when it cannot be correctly inferred from the file extension (for example when a temporary filename is supplied server side in shiny apps) (@​sebkopf, #939). It no longer opens a graphics device if one isn't already open - this is annoying when you're running from a script (#1326)."
ggplot2,527,"`guide_colorbar()` creates correct legend if only one color (@​krlmlr, #943)."
ggplot2,528,`guide_colorbar()` no longer fails when the legend is empty - previously this often masked misspecifications elsewhere in the plot (#967).
ggplot2,529,New `layer_data()` function extracts the data used for plotting for a given layer. It's mostly useful for testing.
ggplot2,530,"User supplied `minor_breaks` can now be supplied on the same scale as the data, and will be automatically transformed with by scale (#1385)."
ggplot2,531,"You can now suppress the appearance of an axis/legend title (and the space that would allocated for it) with `NULL` in the `scale_` function. To use the default lable, use `waiver()` (#1145)."
ggplot2,532,Position adjustments no longer warn about potentially varying ranges because the problem rarely occurs in practice and there are currently a lot of false positives since I don't understand exactly what FP criteria I should be testing.
ggplot2,533,`scale_fill_grey()` now uses red for missing values. This matches `scale_colour_grey()` and makes it obvious where missing values lie. Override with `na.value`.
ggplot2,534,`scale_*_gradient2()` defaults to using Lab colour space.
ggplot2,535,`scale_*_gradientn()` now allows `colours` or `colors` (#1290)
ggplot2,536,"`scale_y_continuous()` now also transforms the `lower`, `middle` and `upper` aesthetics used by `geom_boxplot()`: this only affects `geom_boxplot(stat = ""identity"")` (#1020)."
ggplot2,537,Legends no longer inherit aesthetics if `inherit.aes` is FALSE (#1267).
ggplot2,538,`lims()` makes it easy to set the limits of any axis (#1138).
ggplot2,539,"`labels = NULL` now works with `guide_legend()` and `guide_colorbar()`. (#1175, #1183)."
ggplot2,540,"`override.aes` now works with American aesthetic spelling, e.g. color"
ggplot2,541,Scales no longer round data points to improve performance of colour palettes. Instead the scales package now uses a much faster colour interpolation algorithm (#1022).
ggplot2,542,"`scale_*_brewer()` and `scale_*_distiller()` add new `direction` argument of `scales::brewer_pal`, making it easier to change the order of colours (@​jiho, #1139)."
ggplot2,543,`scale_x_date()` now clips dates outside the limits in the same way as `scale_x_continuous()` (#1090).
ggplot2,544,"`stat_bin()` gains `bins` arguments, which denotes the number of bins. Now you can set `bins=100` instead of `binwidth=0.5`. Note that `breaks` or `binwidth` will override it (@​tmshn, #1158, #102)."
ggplot2,545,"`stat_boxplot()` warns if a continuous variable is used for the `x` aesthetic without also supplying a `group` aesthetic (#992, @​krlmlr)."
ggplot2,546,"`stat_summary_2d()` and `stat_bin_2d()` now share exactly the same code for determining breaks from `bins`, `binwidth`, and `origin`."
ggplot2,547,`stat_summary_2d()` and `stat_bin_2d()` now output in tile/raster compatible form instead of rect compatible form.
ggplot2,548,"Automatically computed breaks do not lead to an error for transformations like ""probit"" where the inverse can map to infinity (#871, @​krlmlr)"
ggplot2,549,"`stat_function()` now always evaluates the function on the original scale. Previously it computed the function on transformed scales, giving incorrect values (@​BrianDiggs, #1011)."
ggplot2,550,"`strip_dots` works with anonymous functions within calculated aesthetics (e.g. `aes(sapply(..density.., function(x) mean(x))))` (#1154, @​NikNakk)"
ggplot2,551,"`theme()` gains `validate = FALSE` parameter to turn off validation, and hence store arbitrary additional data in the themes. (@​tdhock, #1121)"
ggplot2,552,"Improved the calculation of segments needed to draw the curve representing a line when plotted in polar coordinates. In some cases, the last segment of a multi-segment line was not drawn (@​BrianDiggs, #952)"
googledrive,1,[Team Drives is being renamed to shared drives](https://workspaceupdates.googleblog.com/2019/04/shared-drives.html) from Google Workspace blog
googledrive,2,[Upcoming changes to the Google Drive API and Google Picker API](https://cloud.google.com/blog/products/application-development/upcoming-changes-to-the-google-drive-api-and-google-picker-api) from the Google Cloud blog
googledrive,3,`shortcut_create()`: creates a shortcut to a specific Drive file (or folder).
googledrive,4,"`shortcut_resolve()`: resolves a shortcut to its target, i.e. the file it refers to. Works for multiple files at once, i.e. the input can be a mix of shortcuts and non-shortcuts. The non-shortcuts are passed through and the shortcuts are replaced by their targets."
googledrive,5,"Main principle: shortcuts are first-class Drive files that we assume users will need to manipulate with googledrive. In general, there is no automatic resolution to the target file."
googledrive,6,"`drive_reveal(what = ""path"")` returns the canonical path, i.e. there will be no shortcuts among the non-terminal ""folder"" parts of the returned path."
googledrive,7,"`drive_get(path = ""foo/"")` can retrieve a folder named ""foo"" or a shortcut named ""foo"", whose target is a folder."
googledrive,8,"When a shortcut-to-a-folder is specified as the `path`, in a context where it unambiguously specifies a parent folder, the `path` **is** auto-resolved to its target folder. This is the exception to the ""no automatic resolution"" rule. Functions affected:"
googledrive,8,"• `drive_ls(path, ...)`"
googledrive,8,"• `drive_create(name, path, ...)` and its convenience wrappers `drive_mkdir()` and `shortcut_create()`"
googledrive,8,"• `drive_cp(file, path, ...)`"
googledrive,8,"• `drive_mv(file, path, ...)`"
googledrive,8,"• `drive_upload(media, path, ...)` and its close friend `drive_put()`"
googledrive,14,[Simplifying Google Drive's folder structure and sharing models](https://cloud.google.com/blog/products/g-suite/simplifying-google-drives-folder-structure-and-sharing-models)
googledrive,15,[Single-parenting behavior changes](https://developers.google.com/drive/api/v3/ref-single-parent)
googledrive,16,[Create a shortcut to a Drive file](https://developers.google.com/drive/api/v3/shortcuts)
googledrive,17,Find files & folders with Google Drive shortcuts: `https://support.google.com/drive/answer/9700156`
googledrive,18,"We now share a variety of world-readable, persistent example files on Drive, for use in examples and documentation. These remote example files complement the local example files that were already included in googledrive. `drive_example()` is deprecated in favor of these accessors for example files:"
googledrive,18,"• Plural forms:`drive_examples_remote()`, `drive_examples_local()`"
googledrive,18,"• Singular forms: `drive_example_remote()`, `drive_example_local()`"
googledrive,21,"`drive_read_string()` and `drive_read_raw()` are new functions that read the content of a Drive file directly into R, skipping the step of downloading to a local file (#81)."
googledrive,22,"`drive_reveal(what = ""property_name"")` now works for any property found in the file metadata stored in the `drive_resource` column. The new column is also simplified in more cases now, e.g. to `character` or `logical`. If the `property_name` suggests it's a date-time, we return `POSIXct`."
googledrive,23,"We've modernized the mechanisms by which the `dribble` class is (or is not) retained by various data frame operations. This boils down to updating or adding methods used by the base, dplyr, pillar/tibble, and vctrs packages. We focus on compatibility with dplyr \>= 1.0.0, which was released a year ago. googledrive only Suggests dplyr, so all this really means is that `dribble` manipulation via dplyr now works best with dplyr \>= 1.0.0."
googledrive,24,"The `drive_id` S3 class is now implemented more fully, using the vctrs package (#93, #364):"
googledrive,24,"• The `drive_id` class will persist after mundane operations, like subsetting."
googledrive,24,• You can no longer put strings that are obviously invalid into a `drive_id` object.
googledrive,24,• The `id` column of a `dribble` is now an instance of `drive_id`.
googledrive,28,"The overall design of googledrive has survived \~2 years on CRAN, with very little need for change. The API and feature set is fairly stable."
googledrive,29,There are changes in the auth interface that are not backwards compatible.
googledrive,30,Application Default Credentials
googledrive,31,Service account tokens from the metadata server available to VMs running on GCE
googledrive,32,Help for [`drive_auth()`](https://googledrive.tidyverse.org/reference/drive_auth.html) *all that most users need*
googledrive,33,*details for more advanced users*
googledrive,33,• [Bring your own OAuth app or API key](https://googledrive.tidyverse.org/articles/articles/bring-your-own-app.html)
googledrive,33,• [How to get your own API credentials](https://gargle.r-lib.org/articles/get-api-credentials.html)
googledrive,33,• [Non-interactive auth](https://gargle.r-lib.org/articles/non-interactive-auth.html)
googledrive,33,• [Auth when using R in the browser](https://gargle.r-lib.org/articles/auth-from-web.html)
googledrive,33,• [How gargle gets tokens](https://gargle.r-lib.org/articles/how-gargle-gets-tokens.html)
googledrive,33,• [Managing tokens securely](https://gargle.r-lib.org/articles/articles/managing-tokens-securely.html)
googledrive,40,Previous signature (v0.1.3 and earlier)
googledrive,40,"```
drive_auth(
  oauth_token = NULL,                       # use `token` now
  service_token = NULL,                     # use `path` now
  reset = FALSE,                            
  cache = getOption(""httr_oauth_cache""),
  use_oob = getOption(""httr_oob_default""),
  verbose = TRUE
)
```"
googledrive,41,Current signature (\>= v1.0.0)
googledrive,41,"```
drive_auth(
  email = gargle::gargle_oauth_email(),             # NEW!
  path = NULL,                                      # was `service_token`
  scopes = ""https://www.googleapis.com/auth/drive"", # NEW!
  cache = gargle::gargle_oauth_cache(),
  use_oob = gargle::gargle_oob_default(),
  token = NULL                                      # was `oauth_token`
)
```"
googledrive,42,"`drive_auth_configure()` is a variant of the now-deprecated `drive_auth_config()` whose explicit and only job is to *set* aspects of the configuration, i.e. the OAuth app or API key."
googledrive,42,"• Use `drive_oauth_app()` (new) and `drive_api_key()` to *retrieve* a user-configured app or API key, if such exist."
googledrive,42,"• These functions no longer return built-in auth assets, although built-in assets still exist and are used in the absence of user configuration."
googledrive,45,"`drive_deauth()` is how you go into a de-authorized state, i.e. send an API key in lieu of a token."
googledrive,46,`generate_request()` has been renamed to `request_generate()`.
googledrive,47,`make_request()` had been renamed to `request_make()` and is a very thin wrapper around `gargle::request_make()` that only adds googledrive's user agent.
googledrive,48,"`build_request()` has been removed. If you can't do what you need with `request_generate()`, use `gargle::request_develop()` or `gargle::request_build()` directly."
googledrive,49,"`process_response()` has been removed. Instead, use `gargle::response_process(response)`, as we do inside googledrive."
googledrive,50,All functions that create a new item or rename/move an existing item have gained an `overwrite` argument.
googledrive,51,`drive_put()` is a new convenience wrapper that figures out whether to call `drive_upload()` or `drive_update()`.
googledrive,52,`drive_create()` *this whole function is new*
googledrive,53,`drive_cp()`
googledrive,54,`drive_mkdir()`
googledrive,55,`drive_mv()`
googledrive,56,`drive_rename()`
googledrive,57,`drive_upload()`
googledrive,58,Internal usage of `glue::collapse()` modified to call `glue::glue_collapse()` if glue v1.3.0 or later is installed and `glue::collapse()` otherwise. Eliminates a deprecation warning emanating from glue. (#222 @​jimhester)
googledrive,59,initial CRAN release
googlesheets4,1,cli is new in Imports.
googlesheets4,2,"googlesheets4 Suggests testthat \>= 3.0.0 and, specifically, uses third edition features."
googlesheets4,3,"`gs4_`: refers variously to the googlesheets4 package, v4 of the Google Sheets API, or to operations on one or more (spread)Sheets"
googlesheets4,4,`sheet_`: operations on one or more (work)sheets
googlesheets4,5,`range_`: operations on a range of cells
googlesheets4,6,"`gs4_create()` creates a new Google Sheet and, optionally, writes one or more data frames into it (#61)."
googlesheets4,7,"`sheet_write()` (also available as `write_sheet()`) writes a data frame into a new or existing (work)sheet, inside an existing (or new) (spread)Sheet."
googlesheets4,8,`sheet_append()` adds rows to an existing data table.
googlesheets4,9,`range_write()` writes to a cell range.
googlesheets4,10,"`range_flood()` ""floods"" all cells in a range with the same content. `range_clear()` is a wrapper around `range_flood()` for the special case of clearing cell values."
googlesheets4,11,`range_delete()` deletes a range of cells.
googlesheets4,12,(`sheet_write()` and `sheet_append()` are described above.)
googlesheets4,13,`sheet_properties()` returns a tibble of metadata with one row per sheet.
googlesheets4,14,`sheet_names()` returns sheet names.
googlesheets4,15,`sheet_add()` adds one or more sheets.
googlesheets4,16,`sheet_copy()` copies a sheet.
googlesheets4,17,`sheet_delete()` deletes one or more sheets.
googlesheets4,18,`sheet_relocate()` moves sheets around.\
googlesheets4,19,`sheet_rename()` renames one sheet.
googlesheets4,20,`sheet_resize()` changes the number of rows or columns in a sheet.
googlesheets4,21,"`read_sheet()` passes its `na` argument down to the helpers that parse cells, so that `na` actually has the documented effect (#73)."
googlesheets4,22,"Patch release to modify a test fixture, to be compatible with tibble v3.0. Related to tibble's increased type strictness."
googlesheets4,23,Added a `NEWS.md` file to track changes to the package.
haven,1,"The experimental `write_sas()` function has been deprecated (#224). The sas7bdat file format is complex and undocumented, and as such writing SAS files is not officially supported by ReadStat. `write_xpt()` should be used instead - it produces files in the SAS transport format, which has limitations but will be reliably read by SAS."
haven,2,Fix bug in string variable width calculation that treated `NA` values as width 2. `NA` values are now treated as blanks for width calculations (#699).
haven,3,All `labelled()` vectors now have left-aligned column headers when printing in tibbles for better alignment with labels (#676).
haven,4,`write_*()` now accept functions as well as strings in the `.name_repair` argument in line with the documentation. Previously they only supported string values (#684).
haven,5,`write_sav()` variable name validation no longer treats all non-ASCII characters as invalid (#689).
haven,6,@​gorcha is now a haven author in recognition of his significant and sustained contributions.
haven,7,All `write_` functions can now write custom variable widths by setting the `width` attribute (#650).
haven,8,"When writing files, the minimum width for character variables is now 1. This fixes issues with statistical software reading blank character variables with width 0 (#650)."
haven,9,"`write_dta()` now uses strL when strings are too long to be stored in an str# variable (#437). strL is used when strings are longer than 2045 characters by default, which matches Stata's behaviour, but this can be reduced with the `strl_threshold` argument."
haven,10,"`write_xpt()` can now write dataset labels with the `label` argument, which defaults to the `label` attribute of the input data frame, if present (#562)."
haven,11,"`write_sav()` now checks for case-insensitive duplicate variable names (@​juansebastianl, #641) and verifies that variable names are valid SPSS variables."
haven,12,"The `compress` argument for `write_sav()` now supports all 3 SPSS compression modes specified as a character string - ""byte"", ""none"" and ""zsav"" (#614). `TRUE` and `FALSE` can be used for backwards compatibility, and correspond to the ""zsav"" and ""none"" options respectively."
haven,13,`write_sav()` successfully writes user missing values and ranges for `labelled()` integer vectors (#596).
haven,14,"POSIXct and POSIXlt values with no time component (e.g. ""2010-01-01"") were being converted to `NA` when attempting to convert the output timezone to UTC. These now output successfully (#634)."
haven,15,Fix bug in output timezone conversion that was causing variable labels and other variable attributes to disappear (#624).
haven,16,Updated to ReadStat 1.1.8 RC.
haven,16,• Fix bug when writing formats to XPT files (#650).
haven,16,• Fix off by one error in indexing for strL variables (#437).
haven,19,`labelled()` vectors now throw a warning when combining two vectors with conflicting labels (#667).
haven,20,`zap_labels()` gains a `user_na` argument to control whether user-defined missing values are converted to `NA` or left as is (#638).
haven,21,vctrs casting and coercion generics now do less work when working with two identical `labelled()` vectors. This significantly improves performance when working with `labelled()` vectors in grouped data frames (#658).
haven,22,Errors and warnings now use `cli_abort()` and `cli_warning()` (#661).
haven,23,"R 3.4 is now the minimum supported version, in line with [tidyverse policy](https://www.tidyverse.org/blog/2019/04/r-version-support/)."
haven,24,cli \>= 3.0.0 has been added to Imports to support new error messaging.
haven,25,"lifecycle has been added to Imports, and is now used to manage deprecations."
haven,26,Fix build failure on Solaris.
haven,27,Updated to ReadStat 1.1.7 RC (#620).
haven,28,"`read_dta()` no longer crashes if it sees StrL variables with missing values (@​gorcha, #594, #600, #608)."
haven,29,"`write_dta()` now correctly handles ""labelled""-class numeric (double) variables that don't have value labels (@​jmobrien, #606, #609)."
haven,30,"`write_dta()` now allows variable names up to 32 characters (@​sbae, #605)."
haven,31,"Can now correctly combine `labelled_spss()` with identical labels (@​gorcha, #599)."
haven,32,Fix buglet when combining `labelled()` with identical labels.
haven,33,"`labelled_spss()` gains full vctrs support thanks to the hard work of @​gorcha (#527, #534, #538, #557). This means that they should now work seamlessly in dplyr 1.0.0, tidyr 1.0.0 and other packages that use vctrs."
haven,34,"`labelled()` vectors are more permissive when concatenating; output labels will be a combination of the left-hand and the right-hand side, preferring values assigned to the left-hand side (#543)."
haven,35,"Date-times are no longer forced to UTC, but instead converted to the equivalent UTC (#555). This should ensure that you see the same date-time in R and in Stata/SPSS/SAS."
haven,36,Updated to ReadStat 1.1.5. Most importantly this includes support for SAS binary compression.
haven,37,"`as_factor(levels = ""values"")` preserves values of unlabelled elements (#570)."
haven,38,"`labelled_spss()` is a little stricter: it prevents `na_range` and `na_value` from containing missing values, and ensures that `na_range` is in the correct order (#574)."
haven,39,`read_spss()` now reads NA values and ranges of character variables (#409).
haven,40,`write_dta()` now correctly writes tagged NAs (including tagged NAs in labels) (#583) and once again validates length of variables names (#485).
haven,41,"`write_*()` now validate file and variable metadata with ReadStat. This should prevent many invalid files from being written (#408). Additionally, validation failures now provide more details about the source of the problem (e.g. the column name of the problem) (#463)."
haven,42,"`write_sav(compress = FALSE)` now uses SPSS bytecode compression instead of the rarely-used uncompressed mode. `compress = TRUE` continues to use the newer (and not universally supported, but more compact) zlib format (@​oliverbock, #544)."
haven,43,"Add missing methods so `median()`, `quantile()` and `summary()` work once more (#520)."
haven,44,Add missing cast methods (#522).
haven,45,"`labelled()` gains the necessary support to work seemlessly in dplyr 1.0.0, tidyr 1.0.0, and other packages that use vctrs (@​mikmart, #496)."
haven,46,"`labelled()` vectors now explicitly inherit from the corresponding base types (e.g. integer, double, or character) (#509)."
haven,47,"ReadStat update, including `read_sas()` supports for ""any"" encoding (#482), and fixes for compiler warnings."
haven,48,`col_select`: selects columns to read with a tidyselect interface (#248).
haven,49,`skip`: skips rows before reading data (#370).
haven,50,`n_max`: limits the number of rows to read.
haven,51,"`as_factor()` allows non-unique labels when `levels = ""label""`. This fixes a particularly annoying printing bug (#424, @​gergness)"
haven,52,`read_sas()` now supports (IS\|E\|B)8601(DT\|DA\|TM) date/time formats (@​mikmart).
haven,53,All `write_` functions gain a `.name_repair` argument that controls what happens when the input dataset has repeated column names (#436).
haven,54,All `write_` functions can now write labelled vectors with `NULL` labels (#442).
haven,55,"`write_dta()` can now write dataset labels with the `label` argument, which defaults to the `label` attribute of the input data frame, if present (@​gorcha, #449)."
haven,56,"`write_dta()` works better with Stata 15, thanks to updated ReadStat (#461)"
haven,57,Fixes for R CMD check
haven,58,`as_factor()`:
haven,58,• Is faster when input doesn't contain any missing values (@​hughparsonage).
haven,58,• Added `labelled` method for backward compatbility (#414).
haven,58,"• `data.frame` method now correctly passes `...` along (#407, @​zkamvar)."
haven,62,"`write_dta()` now checks that the labelled values are integers, not the values themselves (#401)."
haven,63,Updated to latest ReadStat from @​evanmiller:
haven,63,• `read_por()` can now read files from SPSS 25 (#412)
haven,63,• `read_por()` now uses base-30 instead of base-10 for the exponent (#413)
haven,63,• `read_sas()` can read zero column file (#420)
haven,63,• `read_sav()` reads long strings (#381)
haven,63,• `read_sav()` has greater memory limit allowing it to read more labels (#418)
haven,63,• `read_spss()` reads long variable labels (#422)
haven,63,• `write_sav()` no longer creates incorrect column names when \>10k columns (#410)
haven,63,• `write_sav()` no longer crashes when writing long label names (#395)
haven,72,"`labelled()` and `labelled_spss()` now produce objects with class ""haven_labelled"" and ""haven_labelled_spss"". Previously, the ""labelled"" class name clashed with the labelled class defined by Hmisc (#329). Unfortunately I couldn't come up with a way to fix this problem except to change the class name; it seems reasonable that haven should be the one to change names given that Hmisc has been around much longer. This will require some changes to packages that use haven, but shouldn't affect user code."
haven,73,"`labelled()` and `labelled_spss()` now support adding the `label` attribute to the resulting object. The `label` is a short, human-readable description of the object, and is now also used when printing, and can be easily removed using the new `zap_label()` function. (#362, @​huftis) Previously, the `label` attribute was supported both when reading and writing SPSS files, but it was not possible to actually create objects in R having the `label` attribute using the constructors `labelled()` or `labelled_spss()`."
haven,74,haven can read and write non-ASCII paths in R 3.5 (#371).
haven,75,"`labelled_spss` objects preserve their attributes when subsetted (#360, @​gergness)."
haven,76,`read_sav()` gains an `encoding` argument to override the encoding stored in the file (#305). `read_sav()` can now read `.zsav` files (#338).
haven,77,"`write_*()` functions now invisibly return the input data frame (as documented) (#349, @​austensen)."
haven,78,`write_dta()` allows non-ASCII variable labels for version 14 and above (#383). It also uses a less strict check for integers so that a labelled double containing only integer values can written (#343).
haven,79,`write_sav()` produces `.zsav` files when `compress = TRUE` (#338).
haven,80,"`write_xpt()` can now set the ""member"" name, which defaults to the file name san extension (#328)."
haven,81,Update to latest readstat.
haven,81,• Fixes out of memory error (#342)
haven,81,• Now supports reading and writing stata 15 files (#339)
haven,81,• Negative integer labelled values were tagged as missing (#367)
haven,85,"Fix for when `as_factor()` with option `levels=""labels""` is used on tagged NAs (#340, @​gergness)"
haven,86,Update to latest readstat. Includes:
haven,86,• SPSS: empty charater columns now read as character (#311)
haven,86,• SPSS: now write long strings (#266)
haven,86,• Stata: reorder labelled vectors on write (#327)
haven,86,• State: `encoding` now affects value labels (#325)
haven,86,"• SAS: can now write wide/long rows (#272, #335)."
haven,86,• SAS: can now handle Windows Vietnamese character set (#336)
haven,93,`read_por()` and `read_xpt()` now correctly preserve attributes if output needs to be reallocated (which is typical behaviour) (#313)
haven,94,`read_sas()` recognises date/times format with trailing separator and width specifications (#324)
haven,95,`read_sas()` gains a `catalog_encoding` argument so you can independently specify encoding of data and catalog (#312)
haven,96,"`write_*()` correctly measures lengths of non-ASCII labels (#258): this fixes the cryptic error ""A provided string value was longer than the available storage size of the specified column."""
haven,97,"`write_dta()` now checks for bad labels in all columns, not just the first (#326)."
haven,98,`write_sav()` no longer fails on empty factors or factors with an `NA` level (#301) and writes out more metadata for `labelled_spss` vectors (#334).
haven,99,Update to latest readstat. Includes:
haven,99,• SAS: support Win baltic code page (#231)
haven,99,"• SAS: better error messages instead of crashes (#234, #270)"
haven,99,"• SAS: fix ""unable to read error"" (#271)"
haven,99,• SPSS: support uppercase time stamps (#230)
haven,99,• SPSS: fixes for 252-255 byte strings (#226)
haven,99,• SPSS: fixes for 0 byte strings (#245)
haven,106,Share `as_factor()` with forcats package (#256)
haven,107,`read_sav()` once again correctly returns system defined missings as `NA` (rather than `NaN`) (#223). `read_sav()` and `write_sav()` preserve SPSS's display widths (@​ecortens).
haven,108,`read_sas()` gains experimental `cols_only` argument to only read in specified columns (#248).
haven,109,"tibbles are created with `tibble::as_tibble()`, rather than by ""hand"" (#229)."
haven,110,`write_sav()` checks that factors don't have levels with \>120 characters (#262)
haven,111,`write_dta()` no longer checks that all value labels are at most 32 characters (since this is not a restriction of dta files) (#239).
haven,112,All write methds now check that you're trying to write a data frame (#287).
haven,113,Add support for reading (`read_xpt()`) and writing (`write_xpt()`) SAS transport files.
haven,114,`write_*` functions turn ordered factors into labelled vectors (#285)
haven,115,"The ReadStat library is stored in a subdirectory of `src` (#209, @​krlmlr)."
haven,116,"Import tibble so that tibbles are printed consistently (#154, @​krlmlr)."
haven,117,Update to latest ReadStat (#65). Includes:
haven,117,• Support for binary (aka Ross) compression for SAS (#31).
haven,117,• Support extended ASCII encoding for Stata (#71).
haven,117,"• Support for Stata 14 files (#75, #212)."
haven,117,• Support for SPSS value labels with more than 8 characters (#157).
haven,117,• More likely to get an error when attempting to create an invalid output file (#171).
haven,123,"Added support for reading and writing variable formats. Similarly to to variable labels, formats are stored as an attribute on the vector. Use `zap_formats()` if you want to remove these attributes. (@​gorcha, #119, #123)."
haven,124,"Added support for reading file ""label"" and ""notes"". These are not currently printed, but are stored in the attributes if you need to access them (#186)."
haven,125,"Added support for ""tagged"" missing values (in Stata these are called ""extended"" and in SAS these are called ""special"") which carry an extra byte of information: a character label from ""a"" to ""z"". The downside of this change is that all integer columns are now converted to doubles, to support the encoding of the tag in the payload of a NaN."
haven,126,"New `labelled_spss()` is a subclass of `labelled()` that can model user missing values from SPSS. These can either be a set of distinct values, or for numeric vectors, a range. `zap_labels()` strips labels, and replaces user-defined missing values with `NA`. New `zap_missing()` just replaces user-defined missing values with `NA`. `labelled_spss()` is potentially dangerous to work with in R because base functions don't know about `labelled_spss()` functions so will return the wrong result in the presence of user-defined missing values. For this reason, they will only be created by `read_spss()` when `user_na = TRUE` (normally user-defined missings are converted to NA)."
haven,127,"`as_factor()` no longer drops the `label` attribute (variable label) when used (#177, @​itsdalmo)."
haven,128,"Using `as_factor()` with `levels = ""default` or `levels = ""both""` preserves unused labels (implicit missing) when converting (#172, @​itsdalmo). Labels (and the resulting factor levels) are always sorted by values."
haven,129,"`as_factor()` gains a new `levels = ""default""` mechanism. This uses the labels where present, and otherwise uses the labels. This is now the default, as it seems to map better to the semantics of labelled values in other statistical packages (#81). You can also use `levels = ""both""` to combine the value and the label into a single string (#82). It also gains a method for data frames, so you can easily convert every labelled column to a factor in one function call."
haven,130,"New `vignette(""semantics"", package = ""haven"")` discusses the semantics of missing values and labelling in SAS, SPSS, and Stata, and how they are translated into R."
haven,131,"Support for `hms()` has been moved into the hms package (#162). Time varibles now have class `c(""hms"", ""difftime"")` and a `units` attribute with value ""secs"" (#162)."
haven,132,"`labelled()` is less strict with its checks: you can mix double and integer value and labels (#86, #110, @​lionel-), and `is.labelled()` is now exported (#124). Putting a labelled vector in a data frame now generates the correct column name (#193)."
haven,133,"`read_dta()` now recognises ""%d"" and custom date types (#80, #130). It also gains an encoding parameter which you can use to override the default encoding. This is particularly useful for Stata 13 and below which did not store the encoding used in the file (#163)."
haven,134,`read_por()` now actually works (#35).
haven,135,"`read_sav()` now correctly recognises EDATE and JDATE formats as dates (#72). Variables with format DATE, ADATE, EDATE, JDATE or SDATE are imported as `Date` variables instead of `POSIXct`. You can now set `user_na = TRUE` to preserve user defined missing values: they will be given class `labelled_spss`."
haven,136,"`read_dta()`, `read_sas()`, and `read_sav()` have a better test for missing string values (#79). They can all read from connections and compressed files (@​lionel-, #109)"
haven,137,`read_sas()` gains an encoding parameter to overide the encoding stored in the file if it is incorrect (#176). It gets better argument names (#214).
haven,138,Added `type_sum()` method for labelled objects so they print nicely in tibbles.
haven,139,"`write_dta()` now verifies that variable names are valid Stata variables (#132), and throws an error if you attempt to save a labelled vector that is not an integer (#144). You can choose which `version` of Stata's file format to output (#217)."
haven,140,New `write_sas()` allows you to write data frames out to `sas7bdat` files. This is still somewhat experimental.
haven,141,"`write_sav()` writes hms variables to SPSS time variables, and the ""measure"" type is set for each variable (#133)."
haven,142,"`write_dta()` and `write_sav()` support writing date and date/times (#25, #139, #145). Labelled values are always converted to UTF-8 before being written out (#87). Infinite values are now converted to missing values since SPSS and Stata don't support them (#149). Both use a better test for missing values (#70)."
haven,143,"`zap_labels()` has been completely overhauled. It now works (@​markriseley, #69), and only drops label attributes; it no longer replaces labelled values with `NA`s. It also gains a data frame method that zaps the labels from every column."
haven,144,`print.labelled()` and `print.labelled_spss()` now display the type.
haven,145,"fixed a bug in `as_factor.labelled`, which generated `<NA>`{=html}'s and wrong labels for integer labels."
haven,146,"`zap_labels()` now leaves unlabelled vectors unchanged, making it easier to apply to all columns."
haven,147,`write_dta()` and `write_sav()` take more care to always write output as UTF-8 (#36)
haven,148,"`write_dta()` and `write_sav()` won't crash if you give them invalid paths, and you can now use `~` to refer to your home directory (#37)."
haven,149,"Byte variables are now correctly read into integers (not strings, #45), and missing values are captured correctly (#43)."
haven,150,Added `read_stata()` as alias to `read_dta()` (#52).
haven,151,`read_spss()` uses extension to automatically choose between `read_sav()` and `read_por()` (#53)
haven,152,"Updates from ReadStat. Including fixes for various parsing bugs, more encodings, and better support for large files."
haven,153,hms objects deal better with missings when printing.
haven,154,Fixed bug causing labels for numeric variables to be read in as integers and associated error: `` Error: `x` and `labels` must be same type ``
haven,155,Fixed memory initialisation problems found by valgrind.
hms,1,Internal changes only.
hms,2,Harmonize yaml formatting.
hms,3,Revert changes to matrix section.
hms,4,Merged cran-1.1.2 into main.
hms,5,Internal changes only.
hms,6,Re-rendered documentation for compatibility with R-devel.
hms,7,Avoid blanket import for lifecycle package for compatibility with upcoming rlang.
hms,8,"Establish compatibility with development version of testthat (#101, @​lionel-)."
hms,9,"`""hms""` objects no longer have a common type with `character` and `numeric`. Combining such values previously threw a warning, now throws an error (#94)."
hms,10,`vec_cast()` and `as_hms()` throw error instead of a warning if input can't be parsed (#68).
hms,11,"New `unique.hms()` method (#98, @​joethorley)."
hms,12,`as_hms()` is a generic again (#81).
hms,13,Avoid `LazyData` in `DESCRIPTION`.
hms,14,Bump required versions of ellipsis and vctrs to avoid warning during package load.
hms,15,Using lifecycle package (#94).
hms,16,"hms is now marked as ""stable""."
hms,17,"`""hms""` objects no longer have a common type with `character` and `numeric`. Combining such values previously threw a warning, now throws an error (#94)."
hms,18,`vec_cast()` and `as_hms()` now throw error instead of a warning if input can't be parsed (#68).
hms,19,`as_hms()` is a generic again (#81).
hms,20,"`round_hms()` and `trunc_hms()` gain `digits` argument (#78, @​hglanz)."
hms,21,"`as_hms()` and `vec_cast()` now correctly treat objects of class `""difftime""` with `integer` mode (#84)."
hms,22,Using lifecycle package (#94).
hms,23,hms has been re-licensed as MIT (#86).
hms,24,"Use `vec_default_ptype2()`, remove `vec_ptype2.hms.unspecified()` (#80, @​romainfrancois)."
hms,25,`vec_ptype2.hms.default()` forwards to `vec_default_ptype2()` for compatibility with vctrs 0.2.1.
hms,26,"Remove `as.data.frame.hms()`, handeld by vctrs."
hms,27,Internal changes only.
hms,28,Work around parsing error that occurs on DST changeover dates (https://bugs.r-project.org/bugzilla/show_bug.cgi?id=16764).
hms,29,Lossy casts from `character` vectors to `hms` now also trigger a warning if the cast succeeds in the first element of the vector but fails for other elements.
hms,30,Now based on vctrs \>= 0.2.0 (#61). This adds support for `vec_cast()` and `vec_ptype2()`. Some operations (such as subset assignment) are now stricter. The `new_hms()` constructor permits safe construction of `hms` objects from a numeric vector.
hms,31,The new `is_hms()` deprecates the existing `is.hms()`. `as.hms()` is deprecated in favor of `vec_cast()` or the new `as_hms()` (which is just a thin wrapper around `vec_cast()`).
hms,32,Always show seconds in a pillar if they are different from zero (#54).
hms,33,"Values with nonzero hours, seconds and split-seconds are now displayed correctly in tibbles (#56), even with a very small distance to the full second (#64)."
hms,34,Don't test colored output on CRAN.
hms,35,"Correct reference link on r4ds (#58, @​evanhaldane)."
hms,36,Adapted tests to pillar 1.2.1.
hms,37,"Preserve `NA` when converting to `character` (#51, @​jeroen)."
hms,38,Adapted tests to pillar 1.1.0.
hms,39,"`as.hms.POSIXt()` now defaults to the current time zone, the previous default was `""UTC""` and can be restored by calling `pkgconfig::set_config(""hms::default_tz"", ""UTC"")`."
hms,40,"Pillar support, will display `hms` columns in tibbles in color on terminals that support it (#43)."
hms,41,New `round_hms()` and `trunc_hms()` for rounding or truncating to a given multiple of seconds (#31).
hms,42,"New `parse_hms()` and `parse_hm()` to parse strings in ""HH:MM:SS"" and ""HH:MM"" formats (#30)."
hms,43,"`as.hms.POSIXt()` gains `tz` argument, default `""UTC""` (#28)."
hms,44,`as.hms.character()` and `parse_hms()` accept fractional seconds (#33).
hms,45,"`hms()` now works correctly if all four components (days, hours, minutes, seconds) are passed (#49)."
hms,46,"`hms()` creates a zero-length object of class `hms` that prints as `""hms()""`."
hms,47,`hms(integer())` and `as.hms(integer())` both work and are identical to `hms()`.
hms,48,Values with durations of over 10000 hours are now printed correctly (#48).
hms,49,"`c()` now returns a hms (#41, @​qgeissmann)."
hms,50,Fix and enhance examples in `?hms`.
hms,51,Documentation is in Markdown format now.
hms,52,Improved error message if calling `hms()` with a character argument (#29).
hms,53,"Fix `lubridate` test for compatibility with 1.6.0 (#23, @​vspinu)."
hms,54,NA values are formatted as `NA` (#22).
hms,55,Subsetting keeps `hms` class (#16).
hms,56,"`format.hms()` right-justifies the output by padding with spaces from the left, `as.character.hms()` remains unchanged."
hms,57,"Times larger than 24 hours or with split seconds are now formatted correctly (#12, #13)."
hms,58,"Sub-second part is printed with up to six digits, for even smaller values trailing zeros are shown (#17)."
hms,59,Values are stored as a numeric vector that contains the number of seconds since midnight.
hms,59,• Inherits from `difftime` class.
hms,59,"• Updating units is a no-op, anything different from `""secs""` issues a warning."
hms,62,"Supports construction from time values, coercion to and from various data types, and formatting."
hms,62,• Conversion from numeric treats input as seconds.
hms,62,• Negative times are formatted with a leading `-`.
hms,65,Can be used as a regular column in a data frame.
hms,66,Full test coverage.
hms,66,"• Test for arithmetic with `Date`, `POSIXt` and `hms` classes."
hms,66,• Test basic compatibility with `lubridate` package (#5).
hms,69,Interface:
hms,69,• `hms()` (with rigorous argument checks)
hms,69,"• `as.hms()` for `character`, `numeric`, `POSIXct` and `POSIXlt`"
hms,69,"• `as.xxx.hms()` for `character`, `numeric` (implicitly), `POSIXct` and `POSIXlt`"
hms,69,• `is.hms()`
hms,69,• `as.data.frame.hms()` (forwards to `as.data.frame.difftime()`)
hms,69,• `format.hms()`
hms,69,• `print.hms()` (returns unchanged input invisibly)
httr,1,Fix intermittent failing test.
httr,2,Fix failing test.
httr,3,Fix failing test.
httr,4,"`parse_url()` now refers to RFC3986 for the parsing of the URL's scheme, with a bit more permissive syntax (@​ymarcon, #615)."
httr,5,"Remove the default `cainfo` option on Windows. Providing a CA bundle is not needed anymore because `curl` now uses the native schannel SSL backend. For recent versions of libcurl, overriding the CA bundle actually breaks custom trust certificates on corporate networks. (@​jeroen, #603)"
httr,6,"`http_status()` now throws the correct error message if http status code is not in the list of known codes (@​Javdat, #567)."
httr,7,"`POST()` gains an example on how to use `encode = ""raw""` for specific json string body (@​cderv, #563)"
httr,8,"`RETRY()` now throws the correct error message if an error occurs during the request (@​austin3dickey, #581)."
httr,9,"`VERB()` and `RETRY()` now automatically uppercase methods (@​patr1ckm, #571)."
httr,10,"`init_oauth2.0()` passes `use_basic_auth` onwards, enabling basic authentication for OAuth 2.0 (@​peterhartman, #484)."
httr,11,"`oauth2.0_token()` (and `init_oauth2.0()`) gains a `oob_value` argument that allows arbitrary values to be sent for the `request_uri` parameter during OOB flows (@​ctrombley, #493)."
httr,12,"`oauth2.0_token()` (and `init_oauth2.0()`) gain a new `query_authorize_extra` parameter make it possible to add extra query parameters to the authorization URL. This is needed some APIs (e.g. fitbit) (@​cosmomeese, #503)."
httr,13,"`oauth_endpoints()` contains updated urls for Yahoo (@​ctrombley, #493) and Vimeo (#491)."
httr,14,OAuth 2.0 token refresh gives a more informative error if it fails (#516).
httr,15,"Prior to token retrieval from on-disk cache, scopes are de-duplicated, sorted, and stripped of names before being hashed. This eliminates a source of hash mismatch that causes new tokens to be requested, even when existing tokens had the necessary scope. (@​jennybc, #495)"
httr,16,The Facebook OAuth demo now uses device flow (#510). This allows you to continue using the FB api from R under their new security policy.
httr,17,"A new Noun Project demo shows how to use one-legged OAuth1 (@​cderv, #548)."
httr,18,The Vimeo demo has been updated from OAuth 1.0 to 2.0 (#491).
httr,19,"`cache_info()` now handles un-named flags, as illustrated by ""private"" when the server returns ""private, max-age = 0""."
httr,20,"`parse_http_date()` gets a better default value for the `failure` argument so that reponses with unparseable dates can be printed without error (@​shrektan, #544)."
httr,21,"`POST()` now uses 22 digits of precision for `body` list elements by default (@​jmwerner, #490)"
httr,22,"`RETRY()` now terminates on any successful request, regardless of the value of `terminate_on`. To return to the previous behaviour, set `terminate_on_success = FALSE` (#522)."
httr,23,"In `RETRY()` and `VERB()`, `HEAD` requests now succeed (#478, #499)."
httr,24,Encoding falls back to UTF-8 if not supplied and content-type parsing fails (#500).
httr,25,"Non-http(s) headers are no longer parsed (@​billdenney, #537). This makes it possible to use httr with protocols other than http, although this is not advised, and you're own your own."
httr,26,Re-enable on-disk caching (accidentally disabled in #457) (#475)
httr,27,Deprecated `safe_callback()` has been removed.
httr,28,"`is_interactive` argument to `init_oauth1.0()`, `init_oauth2.0()` and `oauth_listener()` has been deprecated, as the R session does not actually need to be interactive."
httr,29,"New `set_callback()` and `get_callback()` set and query callback functions that are called right before and after performing an HTTP request (@​gaborcsardi, #409)"
httr,30,"`RETRY()` now retries if an error occurs during the request (@​asieira, #404), and gains two new arguments:"
httr,30,"• `terminate_on` gives you greater control over which status codes should it stop retrying. (@​asieira, #404)"
httr,30,• `pause_min` allows for sub-second delays. (Use with caution! Generally the default is preferred.) (@​r2evans)
httr,30,"• If the server returns HTTP status code 429 and specifies a `retry-after` value, that value will now be used instead of exponential backoff with jitter, unless it's smaller than `pause_min`. (@​nielsoledam, #472)"
httr,34,"New oauth cache files are always added to `.gitignore` and, if it exists, `.Rbuildignore`. Specifically, this now happens when option `httr_oauth_cache = TRUE` or user specifies cache file name explicitly. (@​jennybc, #436)"
httr,35,"`oauth_encode()` now handles UTF-8 characters correctly. (@​yutannihilation, #424)"
httr,36,`oauth_app()` allows you to specify the `redirect_url` if you need to customise it.
httr,37,"`oauth_service_token()` gains a `sub` parameter so you can request access on behalf of another user (#410), and accepts a character vector of `scopes` as was described in the documentation (#389)."
httr,38,"`oauth_signature()` now normalises the URL as described in the OAuth1.0a spec (@​leeper, #435)"
httr,39,New `oauth2.0_authorize_url()` and `oauth2.0_access_token()` functions pull out parts of the OAuth process for reuse elsewhere (#457).
httr,40,`oauth2.0_token()` gains three new arguments:
httr,40,"• `config_init` allows you to supply additional config for the initial request. This is needed for some APIs (e.g. reddit) which rate limit based on `user_agent` (@​muschellij2, #363)."
httr,40,"• `client_credentials`, allows you to use the OAauth2 *Client Credential Grant*. See [RFC 6749](https://tools.ietf.org/html/rfc6749#section-4) for details. (@​cderv, #384)"
httr,40,• A `credentials` argument that allows you to customise the auth flow. For advanced used only (#457)
httr,44,"`is_interactive` argument to `init_oauth1.0()`, `init_oauth2.0()` and `oauth_listener()` has been deprecated, as the R session does not need to be interactive."
httr,45,`BROWSER()` prints a message telling you to browse to the URL if called in a non-interactive session.
httr,46,"`find_cert_bundle()` will now correctly find cert bundle in ""R_HOME/etc"" (@​jiwalker-usgs, #386)."
httr,47,"You can now send lists containing `curl::form_data()` in the `body` of requests with \`encoding = ""multipart"". This makes it possible to specify the mime-type of individual components (#430)."
httr,48,"`modify_url()` recognises more forms of empty queries. This eliminates a source of spurious trailing `?` and `?=` (@​jennybc, #452)."
httr,49,The `length()` method of the internal `path` class is no longer exported (#395).
httr,50,Fix bug with new cache creation code: need to check that cache isn't an empty file.
httr,51,"`oauth_signature()` no longer prepends 'oauth\_' to additional parameters. (@​jimhester, #373)"
httr,52,All `print()` methods now invisibly return `x` (#355).
httr,53,`DELETE()` gains a body parameter (#326).
httr,54,"New `encode = ""raw""` allows you to do your own encoding for requests with bodies."
httr,55,"New `http_type()` returns the content/mime type of a request, sans parameters."
httr,56,"No longer uses use custom requests for standard `POST` requests (#356, #357). This has the side-effect of properly following redirects after `POST`, fixing some login issues (eg hadley/rvest#133)."
httr,57,"Long deprecated `multipart` argument to `POST()`, `PUT()` and `PATCH()` has been removed."
httr,58,"The cross-session OAuth cache is now created with permission 0600, and should give a better error if it can't be created (#365)."
httr,59,New `RETRY()` function allows you to retry a request multiple times until it succeeds (#353).
httr,60,"The default user agent string is now computed once and cached. This is a small performance improvement, but important for local connections (#322, @​richfitz)."
httr,61,`oauth_callback()` gains trailing slash for facebook compatibility (#324).
httr,62,`progress()` gains `con` argument to control where progress bar is rendered (#359).
httr,63,"When `use_basic_auth` option is used to obtain a token, token refreshes will now use basic authentication too."
httr,64,"Suppress unhelpful ""No encoding supplied: defaulting to UTF-8."" when printing a response (#327)."
httr,65,All auto parser functions now have consistent arguments. This fixes problem where `...` is pass on to another function (#330).
httr,66,"`parse_media()` can once again parse multiple parameters (#362, #366)."
httr,67,Correctly cast `config` in `POST()`.
httr,68,Fix in readfunction to close connection when done.
httr,69,"`stop_for_status()`, `warn_for_status()` and (new) `message_for_status()` replace `message` argument with new `task` argument that optionally describes the current task. This allows API wrappers to provide more informative error messages on failure (#277, #302). `stop_for_status()` and `warn_for_status()` return the response if there were no errors. This makes them easier to use in pipelines (#278)."
httr,70,"`url_ok()` and `url_successful()` have been deprecated in favour of the more flexible `http_error()`, which works with urls, responses and integer status codes (#299)."
httr,71,"`oauth1.0_token()` gains RSA-SHA1 signature support with the `private_key` argument (@​nathangoulding, #316)."
httr,72,`oauth2.0_token()` throws an error if it fails to get an access token (#250) and gains two new arguments:
httr,72,"• `user_params` allows you to pass arbitrary additional parameters to the token access endpoint when acquiring or refreshing a token (@​cornf4ke, #312)"
httr,72,"• `use_basic_auth` allows you to pick use http authentication when getting a token (#310, @​grahamrp)."
httr,75,"`oauth_service_token()` checks that its arguments are the correct types (#282) and anways returns a `request` object (#313, @​nathangoulding)."
httr,76,"`refresh_oauth2.0()` checks for known OAuth2.0 errors and clears the locally cached token in the presense of any (@​nathangoulding, #315)."
httr,77,"httr no longer bundles `cacert.pem`, and instead it relies on the bundle in openssl. This bundle is only used a last-resort on windows with R \<3.2.0."
httr,78,"Switch to 'openssl' package for hashing, hmac, signatures, and base64."
httr,79,"httr no longer depends on stringr (#285, @​jimhester)."
httr,80,"`build_url()` collapses vector `path` with `/` (#280, @​artemklevtsov)."
httr,81,`content(x)` uses xml2 for XML documents and readr for csv and tsv.
httr,82,"`content(, type = ""text"")` defaults to UTF-8 encoding if not otherwise specified."
httr,83,`has_content()` correctly tests for the presence/absence of body content (#91).
httr,84,`parse_url()` correctly parses urls like `file:///a/b/c` work (#309).
httr,85,"`progress()` returns `TRUE` to fix for 'progress callback must return boolean' warning (@​jeroenooms, #252)."
httr,86,"`upload_file()` supports very large files (\> 2.5 Gb) (@​jeroenooms, #257)."
httr,87,"httr no longer uses the RCurl package. Instead it uses the curl package, a modern binding to libcurl written by Jeroen Ooms (#172). This should make httr more reliable and prevent the ""easy handle already used in multi handle"" error. This change shouldn't affect any code that uses httr - all the changes have happened behind the scenes."
httr,88,"The `oauth_listener` can now listen on a custom IP address and port (the previously hardwired ip:port of `127.0.0.1:1410` is now just the default). This permits authentication to work under other settings, such as inside docker containers (which require localhost uses `0.0.0.0` instead). To configure, set the system environmental variables `HTTR_LOCALHOST` and `HTTR_PORT` respectively (@​cboettig, #211)."
httr,89,"`POST(encode = 'json')` now automatically turns length-1 vectors into json scalars. To prevent this automatic ""unboxing"", wrap the vector in `I()` (#187)."
httr,90,"`POST()`, `PUT()` and `PATCH()` now drop `NULL` body elements. This is convenient and consistent with the behaviour for url query params."
httr,91,`cookies` argument to `handle()` is deprecated - cookies are always turned on by default.
httr,92,`brew_dr()` has been renamed to `httr_dr()` - that's what it should've been in the first place!
httr,93,"`content(type = ""text"")` compares encodings in a case-insensitive manner (#209)."
httr,94,"`context(type = ""auto"")` uses a better strategy for text based formats (#209). This should allow the `encoding` argument to work more reliably."
httr,95,`config()` now cleans up duplicated options (#213).
httr,96,Uses `CURL_CA_BUNDLE` environment variable to look for cert bundle on Windows (#223).
httr,97,`safe_callback()` is deprecated - it's no longer needed with curl.
httr,98,`POST()` and `PUT()` now clean up after themselves when uploading a single file (@​mtmorgan).
httr,99,`proxy()` gains an `auth` argument which allows you to pick the type of http authentication used by the proxy (#216).
httr,100,`VERB()` gains `body` and `encode` arguments so you can generate arbitrary requests with a body.
httr,101,tumblr added as an `oauth_endpoint`.
httr,102,"Correctly parse headers with multiple `:`, thanks to @​mmorgan (#180)."
httr,103,"In `content()`, if no type is provided to function or specified in headers, and we can't guess the type from the extension, we now assume that it's `application/octet-stream` (#181)."
httr,104,Throw error if `timeout()` is less than 1 ms (#175).
httr,105,Improved LinkedIn OAuth demo (#173).
httr,106,New `write_stream()` allows you to process the response from a server as a stream of raw vectors (#143).
httr,107,"Suport for Google OAuth2 [service accounts](https://developers.google.com/identity/protocols/oauth2/service-account). (#119, thanks to help from @​siddharthab)."
httr,108,`VERB()` allows to you use custom http verbs (#169).
httr,109,"New `handle_reset()` to allow you to reset the handle if you get the error ""easy handle already used in multi handle"" (#112)."
httr,110,Uses R6 instead of RC. This makes it possible to extend the OAuth classes from outside of httr (#113).
httr,111,Now only set `capath` on Windows - system defaults on linux and mac ox seem to be adequate (and in some cases better). I've added a couple of tests to ensure that this continues to work in the future.
httr,112,"`vignette(""api-packages"")` gains more detailed instructions on setting environment variables, thanks to @​jennybc."
httr,113,Add `revoke_all()` to revoke all stored tokens (if possible) (#77).
httr,114,"Fix for OAuth 2 process when using `options(httr_oob_default = TRUE)` (#126, @​WillemPaling)."
httr,115,New `brew_dr()` checks for common problems. Currently checks if your libCurl uses NSS. This is unlikely to work so it gives you some advice on how to fix the problem (thanks to @​eddelbuettel for debugging this problem).
httr,116,"`Content-Type` set to title case to avoid errors in servers which do not correctly implement case insensitivity in header names. (#142, #146) thanks to Håkon Malmedal (@​hmalmedal) and Jim Hester (@​jimhester)."
httr,117,Correctly parse http status when it only contains two components (#162).
httr,118,Correctly parse http headers when field name is followed by any amount (including none) of white space.
httr,119,"Default ""Accepts"" header set to `application/json, text/xml, application/xml, */*`: this should slightly increase the likelihood of getting xml back. `application/xml` is correctly converted to text before being parsed to `XML::xmlParse()` (#160)."
httr,120,Make it again possible to override the content type set up by `POST()` when sending data (#140).
httr,121,New `safe_callback()` function operator that makes R functions safe for use as RCurl callbacks (#144).
httr,122,"Added support for passing oauth1 tokens in URL instead of the headers (#145, @​bogstag)."
httr,123,Default to out-of-band credential exchange when `httpuv` isn't installed. (#168)
httr,124,"`new_token()` has been removed - this was always an internal function so you should never have been using it. If you were, switch to creating the tokens directly."
httr,125,"Deprecate `guess_media()`, and instead use `mime::guess_type()` (#148)."
httr,126,You can now save response bodies directly to disk by using the `write_disk()` config. This is useful if you want to capture large files that don't fit in memory (#44).
httr,127,"Default accept header is now ""application/json, text/xml, */*"" - this should encourage servers to send json or xml if they know how."
httr,128,"`httr_options()` allows you to easily filter the options, e.g. `httr_options(""post"")`"
httr,129,`POST()` now specifies Curl options more precisely so that Curl know's that you're doing a POST and can respond appropriately to redirects.
httr,130,Preliminary and experimental support for caching with `cache_info()` and `rerequest()` (#129). Be aware that this API is likely to change in the future.
httr,131,`parse_http_date()` parses http dates according RFC2616 spec.
httr,132,Requests now print the time they were made.
httr,133,Mime type `application/xml` is automatically parsed with \``XML::xmlParse()`. (#128)
httr,134,Now possible to specify both handle and url when making a request.
httr,135,"`content(type = ""text"")` uses `readBin()` instead of `rawToChar()` so that strings with embedded NULLs (e.g. WINDOWS-1252) can be re-encoded to UTF-8."
httr,136,`DELETE()` now returns body of request (#138).
httr,137,`headers()` is now a generic with a method for response objects.
httr,138,"`parse_media()` failed to take into account that media types are case-insenstive - this lead to bad re-encoding for content-types like ""text/html; Charset=UTF-8"""
httr,139,Typo which broke `set_cookies()` fixed by @​hrbrmstr.
httr,140,"`url_ok()` works correctly now, instead of always returning `FALSE`, a bug since version 0.4 (#133)."
httr,141,Remove redundant arguments `simplifyDataFrame` and `simplifyMatrix` for json parser.
httr,142,New `headers()` and `cookies()` functions to extract headers and cookies from responses. Previoulsy internal `status_code()` function now exported to extract `status_code()` from responses.
httr,143,"`POST()`, `PUT()`, and `PATCH()` now use `encode` argument to determine how list inputs are encoded. Valid values are ""multiple"", ""form"" or ""json"". The `multipart` argument is now deprecated (#103). You can stream a single file from disk with `upload_file(""path/"")`. The mime type will be guessed from the extension, or can be supplied explicitly as the second argument to `upload_file()`."
httr,144,"`progress()` will display a progress bar, useful if you're doing large uploads or downloads (#17)."
httr,145,"`verbose()` now uses a custom debug function so that you can see exactly what data is sent to the server. Arguments control exactly what is included, and the defaults have been selected to be more helpful for the most common cases (#102)."
httr,146,`with_verbose()` makes it easier to see verbose information when http requests are made within other functions (#87).
httr,147,New `quickstart` vignette to help you get up and running with httr.
httr,148,New `api-packages` vignette describes how best practices to follow when writing R packages that wrap web APIs.
httr,149,"`httr_options()` lists all known config options, translating between their short R names and the full libcurl names. The `curl_doc()` helper function allows you to jump directly to the online documentation for an option."
httr,150,"`authenticate()` now defaults to `type = ""basic""` which is pretty much the only type of authentication anyone uses."
httr,151,Updated `cacert.pem` to version at 2014-04-22 (#114).
httr,152,"`content_type()`, `content_type_xml()` and `content_type_json()` make it easier to set the content type for `POST` requests (and other requests with a body)."
httr,153,`has_content()` tells you if request has any content associated with it (#91).
httr,154,"Add `is_interactive()` parameter to `oauth_listener()`, `init_oauth1.0()` and `init_oauth2.0()` (#90)."
httr,155,`oauth_signature()` and `oauth_header()` now exported to make it easier to construct custom authentication for APIs that use only some components of the full OAuth process (e.g. 2 legged OAuth).
httr,156,NULL `query` parameters are now dropped automatically.
httr,157,"When `print()`ing a response, httr will only attempt to print the first few lines if it's a text format (i.e. either the main type is text or is application/json). It will also truncate each line so that it fits on screen - this should hopefully make it easier to see a little bit of the content, without filling the screen with gibberish."
httr,158,`new_bin()` has been removed: it's easier to see what's going on in examples with `httpbin.org`.
httr,159,`user_agent()` once again overrides default (closes #97)
httr,160,"`parse(type = ""auto"")` returns NULL if no content associated with request (#91)."
httr,161,Better strategy for resetting Curl handles prevents carry-over of error status and other problems (#112).
httr,162,`set_config()` and `with_config()` now work with `token`s (#111).
httr,163,"The OAuth token objects are now reference classes, which mean they can be updated in place, such as when an access token expires and needs to be refreshed. You can manually refresh by calling `$refresh()` on the object. You can force reinitialisation (to do the complete dance from scratch) by calling `$reinit(force = TRUE)`."
httr,164,"If a signed OAuth2 request fails with a 401 and the credentials have a `refresh_token`, then the OAuth token will be automatically refreshed (#74)."
httr,165,"OAuth tokens are cached locally in a file called `.httr-oauth` (unless you opt out). This file should not be included in source code control, and httr will automatically add to `.gitignore` and `.Rbuildignore`. The caching policy is described in more detail in the help for the `Token` class."
httr,166,"The OAuth2 dance can now be performed without running a local webserver (#33, thanks to @​craigcitro). To make that the default, set `options(httr_oob_default = TRUE)`. This is useful when running R remotely."
httr,167,"Add support for passing oauth2 tokens in headers instead of the URL, and make this the default (#34, thanks to @​craigcitro)."
httr,168,OAuth endpoints can store arbitrary extra urls.
httr,169,"Use the httpuv webserver for the OAuth dance instead of the built-in httpd server (#32, thanks to @​jdeboer). This makes the dance work in Rstudio, and also seems a little faster. Rook is no longer required."
httr,170,`oauth_endpoints()` includes some popular OAuth endpoints.
httr,171,"HTTP verbs (`GET()`, `POST()` etc) now pass unnamed arguments to `config()` and named arguments to `modify_url()` (#81)."
httr,172,"The placement of `...` in `POST()`, `PATCH()` and `PUT()` has been tweaked so that you must always specify `body` and `multipart` arguments with their full name. This has always been recommended practice; now it is enforced."
httr,173,"`httr` includes its own copy of `cacert.pem`, which is more recent than the version included in RCurl (#67)."
httr,174,"Added default user agent which includes versions of Curl, RCurl and httr."
httr,175,Switched to jsonlite from rjson.
httr,176,Content parsers no longer load packages on to search path.
httr,177,`stop_for_status()` now raises errors with useful classes so that you can use `tryCatch()` to take different actions depending on the type of error. See `http_condition()` for more details.
httr,178,httr now imports the methods package so that it works when called with Rscript.
httr,179,New automatic parsers for mime types `text/tab-separated-values` and `text/csv` (#49)
httr,180,"Add support for `fragment` in url building/parsing (#70, thanks to @​craigcitro)."
httr,181,"You can suppress the body entirely in `POST()`, `PATCH()` and `PUT()` with `body = FALSE`."
httr,182,"If you supply multiple headers of the same name, the value of the most recently set header will always be used."
httr,183,Urls with missing query param values (e.g. `http://x.com/?q=`) are now parsed correctly (#27). The names of query params are now also escaped and unescaped correctly when parsing and building urls.
httr,184,Default html parser is now `XML::htmlParse()` which is easier to use with xpath (#66).
httr,185,OAuth now uses custom escaping function which is guaranteed to work on all platforms (Fixes #21)
httr,186,"When concatenating configs, concatenate all the headers. (Fixes #19)"
httr,187,export `hmac_sha1` since so many authentication protocols need this
httr,188,"`content` will automatically guess what type of output (parsed, text or raw) based on the content-type header. It also automatically converts text content to UTF-8 (using the charset in the media type) and can guess at mime type from extension if server doesn't supply one. Media type and encoding can be overridden with the `type` and `encoding` arguments respectively."
httr,189,response objects automatically print content type to aid debugging.
httr,190,"`text_content` has become `context(, ""text"")` and `parsed_content` `content(, ""parsed"")`. The previous calls are deprecated and will be removed in a future version."
httr,191,"In `oauth_listener`, use existing httpd port if help server has already been started. This allows the ouath authentication dance to work if you're in RStudio. (Fixes #15)."
httr,192,"add several functions related to checking the status of an http request. Those are : `status`, `url_ok` and `url_success` as well as `stop_for_status` and `warn_for_status`."
httr,193,`build_url`: correctly add params back into full url.
httr,194,Add new default config: use the standard SSL certificate
httr,195,Add recommendation to use custom handles with `authenticate`
lubridate,1,[#1104](https://github.com/tidyverse/lubridate/issues/1104) Fix incorrect parsing of months when %a format is present.
lubridate,2,"`as_datetime()` accepts multiple formats in format argument, just like `as_date()` does."
lubridate,3,[#1091](https://github.com/tidyverse/lubridate/issues/1091) Fix formatting of numeric inputs to parse_date_time.
lubridate,4,[#1092](https://github.com/tidyverse/lubridate/issues/1092) Fix regression in `ymd_hm` on locales where `p` format is not defined.
lubridate,5,"[#1097](https://github.com/tidyverse/lubridate/issues/1097) Fix `as_date(""character"")` to work correctly with formats that include extra characters."
lubridate,6,[#1098](https://github.com/tidyverse/lubridate/issues/1098) Roll over the month boundary in `make_dateime()` when units exceed their maximal values.
lubridate,7,[#1090](https://github.com/tidyverse/lubridate/issues/1090) timechange has been moved from Depends to Imports.
lubridate,8,`roll` argument to updating and time-zone manipulation functions is deprecated in favor of a new `roll_dst` parameter.
lubridate,9,"[#1042](https://github.com/tidyverse/lubridate/issues/1042) `as_date` with character inputs accepts multiple formats in `format` argument. When `format` is supplied, the input string is parsed with `parse_date_time` instead of the old `strptime`."
lubridate,10,"[#1055](https://github.com/tidyverse/lubridate/issues/1055) Implement `as.integer` method for Duration, Period and Interval classes."
lubridate,11,"[#1061](https://github.com/tidyverse/lubridate/issues/1061) Make `year<-`, `month<-` etc. accessors truly generic. In order to make them work with arbitrary class XYZ, it's enough to define a `reclass_date.XYZ` method."
lubridate,12,"[#1061](https://github.com/tidyverse/lubridate/issues/1061) Add support for `year<-`, `month<-` etc. accessors for `data.table`'s IDate and ITime objects."
lubridate,13,[#1017](https://github.com/tidyverse/lubridate/issues/1017) `week_start` argument in all lubridate functions now accepts full and abbreviated names of the days of the week.
lubridate,14,The assignment value `wday<-` can be a string either in English or as provided by the current locale.
lubridate,15,Date rounding functions accept a date-time `unit` argument for rounding to a vector of date-times.
lubridate,16,[#1005](https://github.com/tidyverse/lubridate/issues/1005) `as.duration` now allows for full roundtrip `duration -> as.character -> as.duration`
lubridate,17,[#911](https://github.com/tidyverse/lubridate/issues/911) C parsers treat multiple spaces as one (just like strptime does)
lubridate,18,`stamp` gained new argument `exact=FALSE` to indicate whether `orders` argument is an exact strptime formats string or not.
lubridate,19,"[#1001](https://github.com/tidyverse/lubridate/issues/1001) Add `%within` method with signature (Interval, list), which was documented but not implemented."
lubridate,20,"[#941](https://github.com/tidyverse/lubridate/issues/941) `format_ISO8601()` gained a new option `usetz=""Z""` to format time zones with a ""Z"" and convert the time to the UTC time zone."
lubridate,21,[#931](https://github.com/tidyverse/lubridate/issues/931) Usage of `Period` objects in rounding functions is explicitly documented.
lubridate,22,[#1036](https://github.com/tidyverse/lubridate/issues/1036) `%within%` now correctly works with flipped intervals
lubridate,23,[#1085](https://github.com/tidyverse/lubridate/issues/1085) `as_datetime()` now preserves the time zone of the POSIXt input.
lubridate,24,[#1072](https://github.com/tidyverse/lubridate/issues/1072) Names are now handled correctly when combining multiple Period or Interval objects.
lubridate,25,[#1003](https://github.com/tidyverse/lubridate/issues/1003) Correctly handle r and R formats in locales which have no p format
lubridate,26,"[#1074](https://github.com/tidyverse/lubridate/issues/1074) Fix concatination of named Period, Interval and Duration vectors."
lubridate,27,[#1044](https://github.com/tidyverse/lubridate/issues/1044) POSIXlt results returned by `fast_strptime()` and `parse_date_time2()` now have a recycled `isdst` field.
lubridate,28,[#1069](https://github.com/tidyverse/lubridate/issues/1069) Internal code handling the addition of period months and years no longer generates partially recycled POSIXlt objects.
lubridate,29,Fix rounding of POSIXlt objects
lubridate,30,[#1007](https://github.com/tidyverse/lubridate/issues/1007) Internal lubridate formats are no longer propagated to stamp formater.
lubridate,31,`train` argument in `parse_date_time` now takes effect. It was previously ignored.
lubridate,32,[#1004](https://github.com/tidyverse/lubridate/issues/1004) Fix `c.POSIXct` and `c.Date` on empty single POSIXct and Date vectors.
lubridate,33,"[#1013](https://github.com/tidyverse/lubridate/issues/1013) Fix c(`POSIXct`,`POSIXlt`) heterogeneous concatenation."
lubridate,34,[#1002](https://github.com/tidyverse/lubridate/issues/1002) Parsing only with format `j` now works on numeric inputs.
lubridate,35,`stamp()` now correctly errors when no formats could be guessed.
lubridate,36,"Updating a date with timezone (e.g. `tzs = ""UTC""`) now returns a POSIXct."
lubridate,37,`lubridate` is now relying on `timechange` package for update and time-zone computation. Google's CCTZ code is no longer part of the package.
lubridate,38,`lubridate`'s updating logic is now built on top of `timechange` package.
lubridate,39,"Change implementation of `c.Period`, `c.Duration` and `c.Interval` from S4 to S3."
lubridate,40,"[#960](https://github.com/tidyverse/lubridate/issues/960) `c.POSIXct` and `c.Date` can deal with heterogeneous object types (e.g `c(date, datetime)` works as expected)"
lubridate,41,[#994](https://github.com/tidyverse/lubridate/issues/994) Subtracting two duration or two period objects no longer results in an ambiguous dispatch note.
lubridate,42,`c.Date` and `c.POSIXct` correctly deal with empty vectors.
lubridate,43,"`as_datetime(date, tz=XYZ)` returns the date-time object with HMS set to 00:00:00 in the corresponding `tz`"
lubridate,44,[#966](https://github.com/tidyverse/lubridate/pull/966) Lubridate is now built with cpp11 (contribution of @​DavisVaughan)
lubridate,45,[#955](https://github.com/tidyverse/lubridate/pull/955) Add `type` argument to `quarter()` for more control over the returned class
lubridate,46,`fast_strptime()` and `parse_date_time2()` now accept multiple formats and apply them in turn
lubridate,47,[#926](https://github.com/tidyverse/lubridate/issues/926) Fix incorrect division of intervals by months involving leap years
lubridate,48,Fix incorrect skipping of digits during parsing of the `%z` format
lubridate,49,[#914](https://github.com/tidyverse/lubridate/issues/914) New `rollforward()` function
lubridate,50,"[#928](https://github.com/tidyverse/lubridate/issues/928) On startup lubridate now resets TZDIR to a proper directory when it is set to non-dir values like ""internal"" or ""macOS"" (a change introduced in R4.0.2)"
lubridate,51,[#630](https://github.com/tidyverse/lubridate/issues/630) New parsing functions `ym()` and `my()`
lubridate,52,[#930](https://github.com/tidyverse/lubridate/issues/930) `as.period()` on intervals now returns valid Periods with double fields (not integers)
lubridate,53,[#871](https://github.com/tidyverse/lubridate/issues/893) Add `vctrs` support
lubridate,54,"[#890](https://github.com/tidyverse/lubridate/issues/890) Correctly compute year in `quarter(..., with_year = TRUE)`"
lubridate,55,[#893](https://github.com/tidyverse/lubridate/issues/893) Fix incorrect parsing of abbreviated months in locales with trailing dot (regression in v1.7.8)
lubridate,56,[#886](https://github.com/tidyverse/lubridate/issues/886) Fix `with_tz()` for POSIXlt objects
lubridate,57,[#887](https://github.com/tidyverse/lubridate/issues/887) Error on invalid numeric input to `month()`
lubridate,58,[#889](https://github.com/tidyverse/lubridate/issues/889) Export new dmonth function
lubridate,59,(breaking) Year and month durations now assume 365.25 days in a year consistently in conversion and constructors. Particularly `dyears(1) == years(1)` is now `TRUE`.
lubridate,60,Format and print methods for 0-length objects are more consistent.
lubridate,61,New duration constructor `dmonths()` to complement other duration constructors.
lubridate,63,`duration()` constructor now accepts `months` and `years` arguments.
lubridate,64,[#629](https://github.com/tidyverse/lubridate/issues/629) Added `format_ISO8601()` methods.
lubridate,65,[#672](https://github.com/tidyverse/lubridate/issues/672) Eliminate all partial argument matches
lubridate,66,[#674](https://github.com/tidyverse/lubridate/issues/674) `as_date()` now ignores the `tz` argument
lubridate,67,"[#675](https://github.com/tidyverse/lubridate/issues/675) `force_tz()`, `with_tz()`, `tz<-` convert dates to date-times"
lubridate,68,[#681](https://github.com/tidyverse/lubridate/issues/681) New constants `NA_Date_` and `NA_POSIXct_` which parallel built-in primitive constants.
lubridate,69,[#681](https://github.com/tidyverse/lubridate/issues/681) New constructors `Date()` and `POSIXct()` which parallel built-in primitive constructors.
lubridate,70,[#695](https://github.com/tidyverse/lubridate/issues/695) Durations can now be compared with numeric vectors.
lubridate,71,[#707](https://github.com/tidyverse/lubridate/issues/707) Constructors return 0-length inputs when called with no arguments
lubridate,72,[#713](https://github.com/tidyverse/lubridate/issues/713) (breaking) `as_datetime()` always returns a `POSIXct()`
lubridate,73,[#717](https://github.com/tidyverse/lubridate/issues/717) Common generics are now defined in `generics` dependency package.
lubridate,74,[#719](https://github.com/tidyverse/lubridate/issues/719) Negative Durations are now displayed with leading `-`.
lubridate,75,[#829](https://github.com/tidyverse/lubridate/issues/829) `%within%` throws more meaningful messages when applied on unsupported classes
lubridate,76,"[#831](https://github.com/tidyverse/lubridate/issues/831) Changing hour, minute or second of Date object now yields POSIXct."
lubridate,77,[#869](https://github.com/tidyverse/lubridate/issues/869) Propagate NAs to all internal components of a Period object
lubridate,78,[#682](https://github.com/tidyverse/lubridate/issues/682) Fix quarter extraction with small `fiscal_start`s.
lubridate,79,[#703](https://github.com/tidyverse/lubridate/issues/703) `leap_year()` works with objects supported by `year()`.
lubridate,80,[#778](https://github.com/tidyverse/lubridate/issues/778) `duration()/period()/make_difftime()` work with repeated units
lubridate,81,`c.Period` concatenation doesn't fail with empty components.
lubridate,82,"Honor `exact = TRUE` argument in `parse_date_time2`, which was so far ignored."
lubridate,83,"[#658](https://github.com/tidyverse/lubridate/issues/658) `%within%` now accepts a list of intervals, in which case an instant is checked if it occurs within any of the supplied intervals."
lubridate,84,[#661](https://github.com/tidyverse/lubridate/issues/661) Throw error on invalid multi-unit rounding.
lubridate,85,[#633](https://github.com/tidyverse/lubridate/issues/633) `%%` on intervals relies on `%m+` arithmetic and doesn't produce NAs when intermediate computations result in non-existent dates.
lubridate,86,"`tz()` always returns ""UTC"" when `tzone` attribute cannot be inferred."
lubridate,87,[#664](https://github.com/tidyverse/lubridate/issues/664) Fix lookup of period functions in `as.period`
lubridate,88,[#649](https://github.com/tidyverse/lubridate/issues/664) Fix system timezone memoization
lubridate,89,"[#643](https://github.com/tidyverse/lubridate/issues/643), [#640](https://github.com/tidyverse/lubridate/issues/640), [#645](https://github.com/tidyverse/lubridate/issues/645) Fix faulty caching of system timezone."
lubridate,90,"Durations, Periods and difftimes are now comparable with each other."
lubridate,91,`interval` constructor accepts start and end character vectors in ISO 8601 format
lubridate,92,[#362](https://github.com/tidyverse/lubridate/issues/362) Add support for ISO 8601 formats in interval constructor
lubridate,93,[#622](https://github.com/tidyverse/lubridate/issues/622) Add support for ISO 8601 formats in periods and durations constructor
lubridate,94,Correct license to the originally intended GPL (\>= 2)
lubridate,95,[#605](https://github.com/tidyverse/lubridate/issues/605) Fix wrong ceiling of days during DST transition.
lubridate,96,[#607](https://github.com/tidyverse/lubridate/issues/607) Re-instate `format` argument to `as_date` and `as_datetime` (regression in v1.7.1)
lubridate,97,Fix intersection of intervals with missing values.
lubridate,98,Fix UBSAN errors in update.cpp
lubridate,99,"[#575](https://github.com/tidyverse/lubridate/issues/598), [#600](https://github.com/tidyverse/lubridate/issues/600), [#602](https://github.com/tidyverse/lubridate/issues/602) Fix zoneinfo lookup on windows and solaris."
lubridate,100,[#598](https://github.com/tidyverse/lubridate/issues/598) Fix broken parsing of `ymd_hms` strings by `as_date`.
lubridate,101,[#597](https://github.com/tidyverse/lubridate/issues/597) Fix broken parsing of `ymd` strings by `as_datetime`.
lubridate,102,Reduced memory footprint on `trunc_multi_unit` so that it overwrites the vector argument `x` versus making a new vector `y`.
lubridate,103,"[#438](https://github.com/tidyverse/lubridate/issues/438) New function `force_tzs` for ""enforcement"" of heterogeneous time zones."
lubridate,104,[#438](https://github.com/tidyverse/lubridate/issues/438) New function `local_time` for the retrieval of local day time in different time zones.
lubridate,105,[#560](https://github.com/tidyverse/lubridate/issues/560) New argument `cutoff_2000` for parsing functions to indicate 20th century cutoff for `y` format.
lubridate,106,[#257](https://github.com/tidyverse/lubridate/issues/257) New `week_start` parameter in `wday` and `wday<-` to set week start.
lubridate,107,[#401](https://github.com/tidyverse/lubridate/issues/401) New parameter `locale` in `wday`. Labels of the returned factors (when `label=TRUE`) now respect current locale.
lubridate,108,[#485](https://github.com/tidyverse/lubridate/pull/485) `quarter` gained a new argument `fiscal_start` to address the issue of different fiscal conventions.
lubridate,109,[#492](https://github.com/tidyverse/lubridate/issues/492) New functions `epiweek` and `epiyear`.
lubridate,110,[#508](https://github.com/tidyverse/lubridate/pull/508) New parameter `locale` in `month`. Labels of the returned factors (when `label=TRUE`) now respect current locale.
lubridate,111,"[#509](https://github.com/tidyverse/lubridate/issues/509) New parameter `week_start` to `floor_date`, `ceiling_date` and `round_date`."
lubridate,112,[#519](https://github.com/tidyverse/lubridate/issues/519) Support fractional units in duration and period string constructors.
lubridate,113,[#502](https://github.com/tidyverse/lubridate/issues/502) Support rounding to fractions of a seconds.
lubridate,114,[#529](https://github.com/tidyverse/lubridate/issues/529) Internal parser now ignores the case of alpha months (B format)
lubridate,115,[#535](https://github.com/tidyverse/lubridate/issues/535) Rounding to `season` is now supported.
lubridate,116,[#536](https://github.com/tidyverse/lubridate/issues/536) `as_date` and `as_datetime` now understand character vectors.
lubridate,117,"New parsing parameters to `parse_date_time` - `train=TRUE` and `drop=FALSE` which allow more refined control of the format guessing. Formats are no longer dropped in the process by default, process which resulted in surprising behavior on several occasions ([#516](https://github.com/tidyverse/lubridate/issues/516),[#308](https://github.com/tidyverse/lubridate/issues/308),[#307](https://github.com/tidyverse/lubridate/issues/307))."
lubridate,118,"[#401](https://github.com/tidyverse/lubridate/issues/401) **\[Breaking Change\]** Labels returned by `wday` and `month` are now in current locale. The abbreviated labels in English locales have been changed to standard abbreviations (Tues -\> Tue, Thurs -\> Thu etc.)."
lubridate,119,[#469](https://github.com/tidyverse/lubridate/issues/469) Throw warning in `with_tz` on invalid timezone.
lubridate,120,"[#572](https://github.com/tidyverse/lubridate/issues/572) `B` and `b` formats no longer match numeric months. This corresponds to the original intent, and was always documented as such."
lubridate,121,"[#314](https://github.com/tidyverse/lubridate/issues/314), [#407](https://github.com/tidyverse/lubridate/issues/407), [#499](https://github.com/tidyverse/lubridate/issues/499) Make `days`, `dhours`, `round_date` work when the methods package is not loaded."
lubridate,122,[#543](https://github.com/tidyverse/lubridate/issues/543) Make `wday` work on character inputs as it is the case with all other day accessors.
lubridate,123,[#566](https://github.com/tidyverse/lubridate/issues/566) Comparing durations and periods no-longer infloops.
lubridate,124,[#556](https://github.com/tidyverse/lubridate/issues/556) Fix incorrect scoring of `y` format when it's the last in format order (as in `mdy`).
lubridate,125,[#584](https://github.com/tidyverse/lubridate/issues/584) Fix interval by period division.
lubridate,126,"[#559](https://github.com/tidyverse/lubridate/issues/559) Parsing of alpha-months in English locales now drops correctly to low level C parsing. Thus, parsing with multiple orders containing `m` and `b` formats now works correctly."
lubridate,127,"[#570](https://github.com/tidyverse/lubridate/issues/570), [#574](https://github.com/tidyverse/lubridate/issues/574) Fix broken `date()` when called with missing argument."
lubridate,128,[#567](https://github.com/tidyverse/lubridate/issues/567) Fix year update and rounding for leap years.
lubridate,129,[#545](https://github.com/tidyverse/lubridate/pull/545) Fix wrong locale selection in stamp.
lubridate,130,[#466](https://github.com/tidyverse/lubridate/pull/466) Fix wrong formats within ymd_h family of functions.
lubridate,131,[#472](https://github.com/tidyverse/lubridate/pull/472) Printing method for duration doesn't throw format error on fractional seconds.
lubridate,132,[#475](https://github.com/tidyverse/lubridate/pull/475) character\<\> comparisons is no longer slow.
lubridate,133,[#483](https://github.com/tidyverse/lubridate/pull/483) Fix add_duration_to_date error when duration first element is NA.
lubridate,134,[#486](https://github.com/tidyverse/lubridate/issues/486) ceiling_date handles `NA` properly.
lubridate,135,[#491](https://github.com/tidyverse/lubridate/issues/491) `make_datetime` respects `tz` argument and is much faster now.
lubridate,136,[#507](https://github.com/tidyverse/lubridate/issues/507) Period and duration parsers now understand 0 units.
lubridate,137,[#524](https://github.com/tidyverse/lubridate/pull/524) Correctly compute length of period in months (issue #490)
lubridate,138,"[#525](https://github.com/tidyverse/lubridate/pull/525) Fix to prevent `day<-`, `minute<-`, etc. from producing an error when length(x) is 0 (issue #517)"
lubridate,139,[#530](https://github.com/tidyverse/lubridate/issues/530) `parse_date_time` now throw warnings only for actual parsing errors (input with all NAs are silent)
lubridate,140,[#534](https://github.com/tidyverse/lubridate/issues/534) Fix arithmetics with large numbers
lubridate,141,[#554](https://github.com/tidyverse/lubridate/pull/554) Fix tests when running in non-English locales
lubridate,142,[#464](https://github.com/tidyverse/lubridate/issues/464) New function `semester` to extract semesters form date-time objects.
lubridate,143,[#459](https://github.com/tidyverse/lubridate/issues/459) Flexible C-level parsing for periods and durations has been implemented; `period` and `duration` constructors now accept string as first argument. Same parsing rules apply to the 'unit' parameter in rounding functions.
lubridate,144,[#459](https://github.com/tidyverse/lubridate/issues/459) Comparison between character vectors and periods/durations is now possible.
lubridate,145,[#287](https://github.com/tidyverse/lubridate/issues/287) C-level and derivative parsers now handle English months (%b and %B formats) irrespective of the current locale.
lubridate,146,[#327](https://github.com/tidyverse/lubridate/issues/327) C-level and derivative parsers now handles English AM/PM indicator irrespective of the current locale.
lubridate,147,"[#417](https://github.com/tidyverse/lubridate/issues/417) `hms`, `hm`, `ms` gained new argument `roll=TRUE` which rolls minutes and seconds bigger than 59 towards higher units."
lubridate,148,[#445](https://github.com/tidyverse/lubridate/issues/445) Division of intervals by periods is now accurate.
lubridate,149,"[#442](https://github.com/tidyverse/lubridate/issues/442) `round_date`, `floor_date` and `ceiling_date` now support rounding to multiple of units."
lubridate,150,[#422](https://github.com/tidyverse/lubridate/issues/422) New parsing function `yq` for parsing most common version of quarter strings.
lubridate,151,[#422](https://github.com/tidyverse/lubridate/issues/422) New format `q` for parsing quarters in all lubridate parsing functions.
lubridate,152,[#441](https://github.com/tidyverse/lubridate/issues/441) Comparison between POSIXt and Date objects is now possible.
lubridate,153,[#437](https://github.com/tidyverse/lubridate/issues/437) New function `as_datetime` to coerce to POSIXct object. A counterpart of `as_date`.
lubridate,154,[#412](https://github.com/tidyverse/lubridate/issues/412) New function `make_date` to produce Date objects. A counterpart of `make_datetime`.
lubridate,155,[#443](https://github.com/tidyverse/lubridate/issues/443) Behavior of `ceiling_date` for `Date` objects was changed to what most of the users expect. Rounding up by months now produces first day of the next months even for first day of the month.
lubridate,156,"[#268](https://github.com/tidyverse/lubridate/issues/268) `round_date`, `ceiling_date`, and `floor_date` now accept ""quarter"", ""bimonth"", and ""halfyear"" as `unit` options."
lubridate,157,[#418](https://github.com/tidyverse/lubridate/issues/418) C level parsing functions understand 24:00:00 in datetime strings.
lubridate,158,"Low letter specs for HMS (hms,hm,ms) in `parse_date_time` and related functions are now deprecated."
lubridate,159,[#445](https://github.com/tidyverse/lubridate/issues/445) No more warning on occasional imprecise period length conversions. Imprecise arithmetics with periods is extensively documented.
lubridate,160,"`pretty.*` family of functions were renamed and are no longer exported. If you need to use them, use `lubridate:::pretty_*` versions."
lubridate,161,`change_on_boundary` argument in `ceiling_date` does not allow for global option anymore.
lubridate,162,"`as.duration`, `as.numeric` don't show ""only estimate"" messages on conversion from periods. The occasional approximate conversion is documented and deemed common knowledge."
lubridate,163,"`as.numeric` with `unit=""month""` now works on duration objects."
lubridate,164,[#403](https://github.com/tidyverse/lubridate/issues/403) Update on `Date` objects now return `POSIXct` instead of `POSIXlt`.
lubridate,165,"[#411](https://github.com/tidyverse/lubridate/issues/411) format `mdy` or `myd` beginning with `""January""` or `""Jan""` now parsing correctly"
lubridate,166,`here` and `olson_time_zones` were deprecated in favor of `new` and base `OlsonNames` respectively.
lubridate,167,"Internally, S4 Compare and Ops generics were cleaned and simplified."
lubridate,168,[#456](https://github.com/tidyverse/lubridate/issues/456) Evaluation output in documentation examples was removed.
lubridate,169,"[#479](https://github.com/tidyverse/lubridate/issues/479) Fix the inconsistent behavior in `ceiling_date` when `unit = ""week""`"
lubridate,170,[#463](https://github.com/tidyverse/lubridate/issues/463) Fix NA subscripting error in %m+% when rollback is involved.
lubridate,171,[#462](https://github.com/tidyverse/lubridate/issues/462) Non-numeric or non-character arguments are disallowed as arguments to `period` and `duration` constructors.
lubridate,172,"[#458](https://github.com/tidyverse/lubridate/issues/458) When year is missing in parsing, return consistently year 0."
lubridate,173,[#448](https://github.com/tidyverse/lubridate/issues/448) Correctly handle missing months and days in C parser.
lubridate,174,[#450](https://github.com/tidyverse/lubridate/issues/450) Fix incorrect handling of DST gaps in `date_decimal` and `decimal_date`.
lubridate,175,[#420](https://github.com/tidyverse/lubridate/issues/420) `as.numeric` correctly converts periods to (aproximate) numeric time lengths.
lubridate,176,[#390](https://github.com/tidyverse/lubridate/issues/390) `ceiling_date` gains new argument `change_on_boundary` to allow ceiling on boundary of date-time objects.
lubridate,177,C parser can now produce a list of date-time components suitable for POSIXlt constructors.
lubridate,178,`parse_date_time2` and `fast_strptime` gain new `lt` argument to control type of output.
lubridate,179,"[#373](https://github.com/tidyverse/lubridate/issues/373) New `date` and `date<-` additions to the `year`, `month` etc family of accessors."
lubridate,180,[#365](https://github.com/tidyverse/lubridate/issues/365) New very fast datetime constructor `make_datetime` (dropin replacement of `ISOdatetime`).
lubridate,181,[#344](https://github.com/tidyverse/lubridate/issues/344) `force_tz` and `with_tz` can handle data.frames component-wise.
lubridate,182,[#355](https://github.com/tidyverse/lubridate/issues/355) New `as_date` replacement of `as.Date` with more intuitive behavior with non-UTC timezones.
lubridate,183,[#333](https://github.com/tidyverse/lubridate/issues/333) `hms` parsers now handle negative components.
lubridate,184,[#391](https://github.com/tidyverse/lubridate/issues/391) `ymd` family of functions return `Date` object when `tz` argument is NULL (new default) and POSIXct otherwise.
lubridate,185,[#364](https://github.com/tidyverse/lubridate/issues/364) Remove epoch functions.
lubridate,186,"For consistency with `base:strptime` `fast_strptime` now returns `POSIXlt` object. That is, its `lt` argument defaults to `TRUE`."
lubridate,187,`interval` constructor treats timezones correctly and works with UTC whenever meaningful.
lubridate,188,[#371](https://github.com/tidyverse/lubridate/issues/371) `as.period` correctly computes months with intervals spanning multiple years.
lubridate,189,[#388](https://github.com/tidyverse/lubridate/issues/388) `time_length` and `add_with_rollback` now work correctly with missing intervals.
lubridate,190,[#394](https://github.com/tidyverse/lubridate/issues/394) `fast_strptime` and `parse_date_time2` correctly treat non-UTC time zones.
lubridate,191,[#399](https://github.com/tidyverse/lubridate/issues/399) `floor_date` and `round_date` are not preserving tz component for larger than day units
lubridate,192,New `time_length` method.
lubridate,193,Added `isoyear` function to line up with `isoweek`.
lubridate,194,[#326](https://github.com/tidyverse/lubridate/issues/326) Added `exact = TRUE` option to `parse_date_time` for faster and much more flexible specification of formats.
lubridate,195,New `simple` argument to `fit_to_timeline` and `update` methods mostly intended for internal use.
lubridate,196,[#315](https://github.com/tidyverse/lubridate/issues/315) Implement `unique` method for `interval` class.
lubridate,197,[#295](https://github.com/tidyverse/lubridate/issues/295) New args `preserve_hms` and `roll_to_first` in `rollback` function.
lubridate,198,[#303](https://github.com/tidyverse/lubridate/issues/303) New `quarter` option in `floor_date` and friends.
lubridate,199,[#348](https://github.com/tidyverse/lubridate/issues/348) New `as.list.Interval` S3 method.
lubridate,200,[#278](https://github.com/tidyverse/lubridate/issues/278) Added settors and accessors for `qday` (quarter day).
lubridate,201,New maintainer Vitalie Spinu (@​vspinu)
lubridate,202,"Time span constructors were re-factored; `new_interval`, `new_period`, `new_duration`, `new_difftime` were deprecated in favour of the more powerful `interval`, `period`, `duration` and `make_difftime` functions."
lubridate,203,"`eseconds`, `eminutes` etc. were deprecated in favour of `dsecons`, `dminutes` etc."
lubridate,204,Many documentation improvements.
lubridate,205,New testthat conventions are adopted. Tests are now in `test/testthat`.
lubridate,206,Internally `isodate` was replaced with a much faster `parse_date_time2(paste(...))` alternative
lubridate,207,"[#325](https://github.com/tidyverse/lubridate/issues/325) `Lubridate`'s `trunc`, `ceiling` and `floor` functions have been optimised and now are relying on R's `trunc.POSIXct` whenever possible."
lubridate,208,[#285](https://github.com/tidyverse/lubridate/issues/285) Algebraic computations with negative periods are behaving asymmetrically with respect to their positive counterparts.
lubridate,209,Made necessary changes to accommodate new zoo-based `fst` objects.
lubridate,210,[#360](https://github.com/tidyverse/lubridate/issues/360) Fix c parser for Z (zulu) indicator.
lubridate,211,[#322](https://github.com/tidyverse/lubridate/issues/322) Explicitly encode formatted string with `enc2utf8`.
lubridate,212,[#302](https://github.com/tidyverse/lubridate/issues/302) Allow parsing long numbers such as 20140911000000 as date+time.
lubridate,213,[#349](https://github.com/tidyverse/lubridate/issues/349) Fix broken interval -\> period conversion.
lubridate,214,[#336](https://github.com/tidyverse/lubridate/issues/336) Fix broken interval-\> period conversion with negative diffs.
lubridate,215,"[#227](https://github.com/tidyverse/lubridate/issues/227) Treat ""days"" and ""years"" units specially for pretty.point."
lubridate,216,[#286](https://github.com/tidyverse/lubridate/issues/286) %m+-% correctly handles dHMS period components.
lubridate,217,[#323](https://github.com/tidyverse/lubridate/issues/323) Implement coercion methods for Duration class.
lubridate,218,[#226](https://github.com/tidyverse/lubridate/issues/226) Propagate NAs in `int_standardize`
lubridate,219,[#235](https://github.com/tidyverse/lubridate/issues/235) Fix integer division with months and years.
lubridate,220,[#240](https://github.com/tidyverse/lubridate/issues/240) Make `ceiling_date` skip day light gap.
lubridate,221,[#254](https://github.com/tidyverse/lubridate/issues/254) Don't preprocess a/A formats if expressly specified by the user.
lubridate,222,[#289](https://github.com/tidyverse/lubridate/issues/289) Check for valid day-months combinations in C parser.
lubridate,223,[#306](https://github.com/tidyverse/lubridate/issues/306) When needed double guess with `preproc_wday=T`.
lubridate,224,[#308](https://github.com/tidyverse/lubridate/issues/308) Document sparce format guessing in `parse_date_time`.
lubridate,225,[#313](https://github.com/tidyverse/lubridate/issues/313) Fixed and optimized `fit_to_timeline` function.
lubridate,226,[#311](https://github.com/tidyverse/lubridate/issues/311) Always use UTC in `isoweek` computation
lubridate,227,[#294](https://github.com/tidyverse/lubridate/issues/294) Don't use years in `seconds_to_period`.
lubridate,228,Values on `$<-` assignment for periods are now properly recycled.
lubridate,229,Correctly handle NA subscripting in `round_date`.
lubridate,230,[#219](https://github.com/tidyverse/lubridate/issues/219) In `interval` use UTC when tzone is missing.
lubridate,231,[#255](https://github.com/tidyverse/lubridate/issues/255) Parse yy \> 68 as 19yy to comply with `strptime`.
lubridate,232,[#266](https://github.com/tidyverse/lubridate/issues/266) Include `time-zones.R` in `coercion.R`.
lubridate,233,[#251](https://github.com/tidyverse/lubridate/issues/251) Correct computation of weeks.
lubridate,234,[#262](https://github.com/tidyverse/lubridate/issues/262) Document that month boundary is the first second of the month.
lubridate,235,[#270](https://github.com/tidyverse/lubridate/issues/270) Add check for empty unit names in `standardise_lt_names`.
lubridate,236,[#276](https://github.com/tidyverse/lubridate/issues/276) Perform conversion in `as.period.period` if `unit != NULL`.
lubridate,237,[#284](https://github.com/tidyverse/lubridate/issues/284) Compute periods in `as.period.interval` without recurring to modulo arithmetic.
lubridate,238,"[#272](https://github.com/tidyverse/lubridate/issues/272) Update examples for `hms`, `hm` and `ms` for new printing style."
lubridate,239,[#236](https://github.com/tidyverse/lubridate/issues/236) Don't allow zeros in month and day during parsing.
lubridate,240,[#247](https://github.com/tidyverse/lubridate/issues/247) Uninitialized index was mistakenly used in subseting.
lubridate,241,[#229](https://github.com/tidyverse/lubridate/issues/229) `guess_formats` now matches flex regexp first.
lubridate,242,`dmilliseconds` now correctly returns a `Duration` object.
lubridate,243,Fixed setdiff for discontinuous intervals.
lubridate,244,New low level C parser for numeric formats and two new front-end R functions parse_date_time2 and fast_strptime. The achieved speed up is 50-100x as compared to standard as.POSIXct and strptime functions. The user level parser functions of ymd_hms family drop to these C routines whenever plain numeric formats are detected.
lubridate,245,olson_time_zones now supports Solaris OS
lubridate,246,infinite recursion on parsing non-existing leap times was fixed
lubridate,247,"Lubridate's s4 methods no longer use the representation argument, which has been deprecated in R 3.0.0 (see ?setClass). As a result, lubridate is no longer backwards compatible with R \<3.0.0."
lubridate,248,"v1.3.0. treats math with month and year Periods more consistently. If adding or subtracting n months would result in a non-existent date, lubridate will return an NA instead of a day in the following month or year. For example, `ymd(""2013-01-31"") + months(1)` will return `NA` instead of `2013-03-04` as in v1.2.0. `ymd(""2012-02-29"") + years(1)` will also return an `NA`. This rule change helps ensure that date + timespan - timespan = date (or NA). If you'd prefer that such arithmetic just returns the last day of the resulting month, see `%m+%` and `%m-%`."
lubridate,249,"update.POSIXct and update.POSIXlt have been rewritten to be 7x faster than their versions in v1.2.0. The speed gain is felt in `force_tz`, `with_tz`, `floor_date`, `ceiling_date`, `second<-`, `minute<-`, `hour<-`, `day<-`, `month<-`, `year<-`, and other functions that rely on update (such as math with Periods)."
lubridate,250,lubridate includes a Korean translation provided by http://korea.gnu.org/gnustats/
lubridate,251,"lubridate parser and stamp functions now handle ISO8601 date format (e.g., 2013-01-24 19:39:07.880-06:00, 2013-01-24 19:39:07.880Z)"
lubridate,252,"lubridate v1.3.0 comes with a new R vignette. see `browseVignettes(""lubridate"")` to view it."
lubridate,253,"The accessors `second`, `minute`, `hour`, `day`, `month`, `year` and the settors `second<-`, `minute<-`, `hour<-`, `day<-`, `month<-`, `year<-` now work on Period class objects"
lubridate,254,users can control which messages lubridate returns when parsing and estimating with the global option lubridate.verbose. Run `options(lubridate.verbose = TRUE)` to turn parsing messages on. Run `options(lubridate.verbose = FALSE)` to turn estimation and coercion messages off.
lubridate,255,"lubridate parser functions now propagate NA's just as as.POSIXct, strptime and other functions do. Previously lubridate's parse functions would only return an error."
lubridate,256,"added \[\[ and \[\[\<- methods for INterval, Period and Duration class objects"
lubridate,257,added `%m+%` and `%m-%` methods for Interval and Duration class objects that throw useful errors.
lubridate,258,`olson_time_zones` retreives a character vector is Olson-style time zone names to use in lubridate
lubridate,259,"summary methods for Interval, Period, and Duration classes"
lubridate,260,date_decimal converts a date written as a decimal of a year into a POSIXct date-time
lubridate,261,fixed bug in way update.POSIXct and update.POSIXlt handle dates that occur in the fall daylight savings overlap. update will choose the date-time closest to the original date time (on the timeline) when two identical clock times exist due to the DST overlap.
lubridate,262,"fixed bugs that created unintuitive results for `as.interval`, `int_overlaps`, `%within%` and the interval methods of `c`, `intersect`, `union`, `setdiff`, and `summary`."
lubridate,263,"parse functions, `as.interval`, `as.period` and `as.duration` now handlevectors of NA's without returning errors."
lubridate,264,parsers better handle vectors of input that have more than 100 elements and many NAs
lubridate,265,data frames that contain timespan objects with NAs in thme no longer fail toprint
lubridate,266,"`round_date`, `ceiling_date` and `update` now correctly handle input of length zero"
lubridate,267,`decimal_date` no longer returns NaN for first second of the year
lubridate,268,"lubridate 1.2.0 is significantly faster than lubridate 1.1.0. This is largely thanks to a parser rewrite submitted by Vitalie Spinu. Thank you, Vitalie. Some metrics:"
lubridate,268,• parser speed up - 60x faster
lubridate,268,• `with_tz` speed up - 15x faster
lubridate,268,• `force_tz` speed up - 3x faster
lubridate,272,"Development for 1.2.0 has also focused on improving the way we work with months. `rollback` rolls dates back to the last day of the previous month. provides more options for working with months. `days_in_month` finds the number of days in a date's month. And, `%m+%` and `%m-%` provide a new way to \### handle unequal month lengths while doing arithmetic. See NEW FEATURES for more details"
lubridate,273,"date parsing can now parse multiple date formats within the same vector of date-times. Parsing can also recognize a greater variety of date-time formats as well as incomplete (truncated) date-times. Contributed by Vitalie Spinu. Thank you, Vitalie."
lubridate,274,1.2.0 introduces a new display format for periods. The display is more math and international friendly.
lubridate,275,"1.2.0 transforms negative intervals into periods much more gracefully (e.g, - 3 days instead of -1 years, 11 months, and 27 days)"
lubridate,276,S3 update methods are now exported
lubridate,277,"`stamp` allows users to print dates in whatever form they like. Contributed by Vitalie Spinu. Thank you, Vitalie."
lubridate,278,"periods now handle fractional seconds. Contributed by Vitalie Spinu. Thank you, Vitalie."
lubridate,279,"date parsing can now parse multiple date formats within the same vector of date-times. Parsing can also recognize a greater variety of date-time formats as well as incomplete (truncated) date-times. Contributed by Vitalie Spinu. Thank you, Vitalie."
lubridate,280,"`sort`, `order`, `rank` and `xtfrm` now work with periods"
lubridate,281,`as.period.Interval` accepts a unit argument. `as.period` will convert intervals into periods no larger than the supplied unit.
lubridate,282,"`days_in_month` takes a date, returns the number of days in the date's month. Contributed by Richard Cotton. Thank you, Richard."
lubridate,283,"`%m+%` and `%m-%` perform addition and subtraction with months (and years) without rollover at the end of a month. These can be used in place of + and -. These can't be used with periods smaller than a month, which should be handled separately. An example of the new behavior: ymd(""2010-01-31"") %m+% months(1) \# ""2010-02-28 UTC"" ymd(""2010-01-31"") + months(1) \# ""2010-03-03 UTC"" ymd(""2010-03-31"") %m-% months(1) \# ""2010-02-28 UTC"" ymd(""2010-01-31"") - months(1) \# ""2010-03-03 UTC"""
lubridate,284,`rollback` rolls a date back to the last day of the previous month.
lubridate,285,"`quarter` returns the fiscal quarter that a date occurs in. Like `quartes` in base R, but returns a numeric instead of a character string."
lubridate,286,date parsers now handle NAs
lubridate,287,periods now handle NAs
lubridate,288,"`[<-` now correctly updates all elements of a period inside a vector, list, or data.frame"
lubridate,289,"`period()` now works with unit = ""weeks"""
lubridate,290,`ceiling_date` no longer rounds up if a date is already at a ceiling
lubridate,291,"the redundant (i.e, repeated) hour of fall daylight savings time now displays with the correct time zone"
lubridate,292,`update.POSIXct` and `update.POSIXlt` handle vectors that sum to zero in the days argument
lubridate,293,"the format method for periods, intervals and duration now accurately displays objects of length 0."
lubridate,294,"lubridate no longer overwrites base R methods for +, - , \*, /, %%, and %/%. To recreate the previous experience of subtracting two date times to create an interval, we've added the interval creation function %--%."
lubridate,295,"lubridate has moved to an S4 object system. Timespans, Intervals, Durations, and Periods have each been redefined as an S4 class with its own methods."
lubridate,296,"arithmetic operations will no longer perform implicit class changes between timespans. Users must explicitly state how and when they wish class changes to occur with as.period(), as.duration(), and as.interval(). This makes code written with lubridate more robust, as such implicit changes often did not produce consistent behavior across a variety of operations. It also allows lubridate to be less chatty with fewer console messages. lubridate does not need to explain what it is doing, because it no longer attempts to do things whose outcome would not be clear. On the other hand, arithmetic between multiple time classes will produce informative error messages."
lubridate,297,the internal structure of lubridate R code has been reorganized at https://github.com/tidyverse/lubridate to make lubridate more development friendly.
lubridate,298,"intervals are now more useful and lubridate has more ways to manipulate them. Intervals can be created with %--%; modified with int_shift(), int_flip(), and int_standardize(); manipulated with intersect(), union(), and setdiff(); and used in logical tests with int_aligns(), int_overlaps(), and %within%. lubridate will no longer perform arithmetic between two intervals because the correct results of such operations is no more obvious than the correct result of adding two dates. Instead users are encouraged to use the new set operations or to directly modify intervals with int_start() and int_end(), which can also be used as settors. lubridate now supports negative intervals as well as positive intervals. Intervals also now display with a time zone."
lubridate,299,"Modulo methods for timespans have been changed to return a timespan. this allows modulo methods to be used with integer division in an intuitive manner, e.g. `a = a %/% b * b + a %% b`"
lubridate,300,"Periods, durations, and intervals can now all be put into a data frame."
lubridate,301,"Periods, durations, and intervals can be intuitively subset with \$ and \[\]. These operations also can be used as settors with \<-."
lubridate,302,The parsing functions and the as.period method for intervals are now slightly faster.
lubridate,303,month\<- and wday\<- settors accept names as well as numbers
lubridate,304,parsing functions now have a quiet argument to parse without messages and a tz argument to directly parse times into the desired time zone.
lubridate,305,logical comparison methods now work for period objects.
lubridate,306,use `test_package` to avoid incompatibility with current version of `testthat`
lubridate,307,other minor fixes to pass `R CMD check`
lubridate,308,added ymdThms() for parsing ISO 8061 formatted combned dates and times
lubridate,309,"removed bug in parsing dates with ""T"" in them"
lubridate,310,modified as.period.interval() to display periods in positive units
lubridate,311,Add citations to JSS article
lubridate,312,"ymd_hms(), hms(), and ms() functions can now parse dates that include decimal values in the seconds element."
lubridate,313,"milliseconds(), microseconds(), nanoseconds(), and picoseconds() create period objects of the specified lengths. dmilliseconds(), dmicroseconds(), dnanoseconds(), and dpicoseconds() make duration objects of the specified lengths."
lubridate,314,"lubridate no longer overwrites months(), start(), and end() from base R. Start and end have been replaced with int_start() and int_end()."
lubridate,315,"lubridate imports plyr and stringr packages, instead of depending on them."
lubridate,316,"made division, modulo, and integer division operations compatible with difftimes"
lubridate,317,created c() methods for periods and durations
lubridate,318,"fixed bug in division, modulo, and integer operations with timespans"
lubridate,319,"created parsing functions ymd_hm ymd_h dmy_hms dmy_hm dmy_h mdy_hms mdy_hm mdy_h ydm_hms ydm_hm ydm_h, which operate in the same way as ymd_hms()."
lubridate,320,fixed bug in add_dates(). duration objects can now be successfully added to numeric objects.
lubridate,321,"division between timespans: each timespan class (durations, periods, intervals) can be divided by other timespans. For example, how many weeks are there between Halloween and Christmas?: (christmas - halloween) / weeks(1)"
lubridate,322,modulo operations between timespans
lubridate,323,duration objects now have their own class and display format separate from difftimes
lubridate,324,interval objects now use an improved data structure and have a cleaner display format
lubridate,325,lubridate now loads its own namespace
lubridate,326,"math operations now automatically coerce interval objects to duration objects. Allows intervals to be used ""right out of the box"" without error messages."
lubridate,327,created start() and end() functions for accessing and changing the boundary date-times of an interval
lubridate,328,"rep() methods for periods, intervals, and durations"
lubridate,329,added a package help page with functions listed by purpose
lubridate,330,"eseconds(), eminutes(), etc. are aliased to dseconds(), dminutes(), etc. to make it easier to remember they are duration objects."
lubridate,331,changed leap.years() to leap_years() to maintain consistent naming scheme
lubridate,332,rewrote as.period() to create only positive periods.
lubridate,333,fixed rollover bug in update.POSIXct()
lubridate,334,"edited make_diff() to display in days when approporiate, not weeks"
magrittr,1,Fixed a C level protection issue in `%>%` (#256).
magrittr,2,"New eager pipe `%!>%` for sequential evaluation (#247). Consider using `force()` in your functions instead to make them strict, if sequentiality is required. See the examples in `?""pipe-eager""`."
magrittr,3,"Fixed an issue that could cause pipe invocations to fail in versions of R built with `--enable-strict-barrier`. (#239, @​kevinushey)"
magrittr,4,Fixed issue caused by objects with certain names being present in the calling environment (#233).
magrittr,5,Fixed regression in `freduce()` with long lists (kcf-jackson/sketch#5).
magrittr,6,Minimal performance cost.
magrittr,7,Minimal impact on backtraces.
magrittr,8,No impact on reference counts.
magrittr,9,Can now use the placeholder `.` with the splicing operator `!!!` from rlang (#191).
magrittr,10,"Piped arguments are now persistent. They can be evaluated after the pipeline has returned, which fixes subtle issues with function factories (#159, #195)."
magrittr,11,Assignment pipe: `%<>%`
magrittr,12,Tee pipe: `%T>%`
magrittr,13,Exposition pipe: `%$%`
modelr,1,Relax test for R-devel
modelr,2,Redocument to fix HTML issues in .Rd
modelr,3,Eliminate direct dplyr dependency in favour of vctrs.
modelr,4,Reimplement `typical.ordered()` for R-devel compatibility.
modelr,5,Minor documentation fixes and updates for deprecated functions.
modelr,6,R CMD check documentation fix
modelr,7,Fix to `data_grid()` to work with dev tidyr.
modelr,8,"`add_predictions()`, `gather_predictions()`, and `spread_predictions()` more carefully pass along `type` parameter in order to avoid problems with predict methods that don't deal with `type = NULL` (#92)."
modelr,9,"`add_predictions()`, `gather_predictions()`, and `spread_predictions()` gain a `type` parameter which is passed through to `stats::predict()` (#34, @​pmenzel)"
modelr,10,New `crossv_loo()` which implements leave-one-out cross validation (@​pmenzel)
modelr,11,`typical()` no longer ignores missing values in character and factor vectors (#80).
modelr,12,`data_grid()` no longer fails with modern tidyr (#58).
modelr,13,"New `mape()` and `rsae()` model quality statistics (@​paulponcet, #33)."
modelr,14,`rsquare()` use more robust calculation 1 - SS_res / SS_tot rather than SS_reg / SS_tot (#37).
modelr,15,"`typical()` gains `ordered` and `integer` methods (@​jrnold, #44), and `...` argument (@​jrnold, #42)."
modelr,16,Added a `NEWS.md` file to track changes to the package.
modelr,17,Fixed R CMD CHECK note
modelr,18,Updated usage of `reduce()` for upcoming purrr release
modelr,19,More general `permute()` function
modelr,20,"Add `mse()` function to calculate mean squared error. Written by @​bensoltoff, pull request #57"
pillar,1,Internal changes only.
pillar,2,Internal changes only.
pillar,3,"Avoid warning with S4 character classes (tidyverse/tibble#1367, #625)."
pillar,4,"Show colnames() hint only when needed (tidyverse/tibble#1488, #622)."
pillar,5,"Use bullets to format details (#582, #617)."
pillar,6,"The default for `pillar.min_title_chars` has been bumped up to 20 characters so that title truncuation only affects very long variables (#582, #620)."
pillar,7,"Fix printing of very small numbers (#615, #619)."
pillar,8,Use constructors in `vec_cast()` (#587).
pillar,9,Require vctrs \>= 0.5.0
pillar,10,Polish `?pillar_options` (#583).
pillar,11,Internal changes only.
pillar,12,"New `pillar.advice` option to turn off advice in the footer, see `?pillar_options`. Now off by default in non-interactive mode (#577)."
pillar,13,"Column names that are abbreviated in the header gain a footnote and are printed in full in the footer (#483), after the extra columns (#548). If a column name in the header is abbreviated, all backticks are removed (#525). The new `""pillar.superdigit_sep""` option that determines the string used to separate footnote from column name in the footer (#553)."
pillar,14,"The default value of the `pillar.min_title_width` option is changed to 5. This means that effectively the width of a pillar is decided only by the data. Use `options(pillar.min_title_width = 15)` to restore the previous default, see also `?pillar_options` for details (#531)."
pillar,15,Offer advice in the footer on how to print all columns or rows (#567).
pillar,16,Avoid aligning `NA` inside quotes for very short character vectors (#562).
pillar,17,"Pick up `""pillar_focus""` attribute on printing to define focus columns (#549)."
pillar,18,"New `ctl_new_rowid_pillar()` generic and default method for customizing the appearance of row IDs (#260, #550, @​nbenn)."
pillar,19,Fix printing of `Surv` and `Surv2` objects (#561).
pillar,20,Fix wording for corner case `max_extra_cols = 1` (#535).
pillar,21,"Remove excess underlines for `bit64::integer64()` data of different magnitude (#517, #529)."
pillar,22,`ctl_new_pillar_list()` is documented on a separate help page (#516).
pillar,23,"Remove outdated detail in `?tbl_sum` (@​IndrajeetPatil, #565)."
pillar,24,Drop crayon dependency (#559).
pillar,25,Import ellipsis from rlang (#554).
pillar,26,"Skip test that requires lubridate if it's not installed (#505, @​MichaelChirico)."
pillar,27,"Soft-deprecate `colonnade()`, `squeeze()` and `extra_cols()` (#496)."
pillar,28,Require rlang 1.0.1 (#512).
pillar,29,`colonnade()` is now soft-deprecated (#485).
pillar,30,"`expect_known_display()` and `is_vector_s3()` are now deprecated (#460, #501)."
pillar,31,`new_pillar()` deprecates `extra` argument (#497).
pillar,32,"Focus columns specified via the `focus` argument to `tbl_format_setup()` are kept in their original place and shown with the maximum width and with the ""type"" component underlined (#465)."
pillar,33,"Update `s3_register()` to use new implementation from rlang, this fixes CRAN checks related to `scale_type()` (#462)."
pillar,34,Single pillars constructed with `pillar()` use only as much width as required when printing (#484).
pillar,35,"New `ctl_new_pillar_list()`, supersedes `ctl_new_compound_pillar()` (#433)."
pillar,36,"If some but not all sub-columns of a data frame or matrix column are shown, the names and types of the remaining columns are displayed in the footer (#365, #444)."
pillar,37,"`num(fixed_exponent = ...)` is now represented with the fixed exponent in the pillar header, and in the title in ggplot2 (#307)."
pillar,38,`tbl_format_setup()` gains `focus` argument that expects a character vector of column names. Focus columns are moved to the front and separated from the main columns by a subtle vertical line (#384).
pillar,39,"New `scale_x_num()` and `scale_y_num()`. If a column created with `num()` is used in a ggplot, the x and y scale will be formatted automatically according to to the specification (#400, #404)."
pillar,40,List columns omit size information if horizontal space is insufficient (#392).
pillar,41,"If the column title of a backticked column is abbreviated, the trailing backtick is still printed (#391)."
pillar,42,`new_pillar_shaft_simple()` gains `short_formatted` argument that contains the data to be used if horizontal space is insufficient (#389).
pillar,43,Default `obj_sum()` method returns abbreviation in attribute of return value (#390).
pillar,44,Extra columns in footer show backticks again if they are non-syntactic (#393).
pillar,45,"Fixed some cases for combinations of printed width and `getOption(""width"")` (#432)."
pillar,46,"Fix support for `nanotime::nanotime()` classes (#378, #380)."
pillar,47,`?num` and `?char` now point to tibble (#382).
pillar,48,Use eager registration via `NAMESPACE` for own methods for classes from other packages.
pillar,49,"Reworked formatting routine, now using a visitor-based approach with in-order iteration over all pillars. The only visible changes are that usage of free space (in the case of limited space) has slightly improved (#435)."
pillar,50,"Prepared removal of dependency on the crayon package (#233, #406)."
pillar,51,"Use snapshot variants, requires testthat \>= 3.1.1 (#387)."
pillar,52,"Replace internal `""pillar_vertical""` class with `glue::as_glue()` (#279)."
pillar,53,Fix printing for some tibbles where a fixed-width column is followed by a column with variable width (#366).
pillar,54,Avoid nested backtick blocks in vignette.
pillar,55,`num()` requires an integerish `digits` argument (#362).
pillar,56,Link to tibble vignettes and documentation pages.
pillar,57,"Avoid blanket import for lifecycle package for compatibility with upcoming rlang (#368, @​romainfrancois)."
pillar,58,"Options `pillar.print_max`, `pillar.print_min`, `pillar.width` and `pillar.max_extra_cols` are now queried before the corresponding `tibble.` or `dplyr.` options are consulted, the latter will be soft-deprecated in pillar v2.0.0 (#353)."
pillar,59,"New `pillar.bidi` option. When active, control characters are inserted to improve display of data with right-to-left text (#333)."
pillar,60,The new `pillar.max_footer_lines` option (default: 7) allows controlling the maximum number of footer lines shown. It is applied in addition to the existing `tibble.max_extra_cols` option (#263).
pillar,61,"If a column doesn't make use of all horizontal width offered to it, the excess width is distributed over other columns (#331)."
pillar,62,"Improved allocation of free space in multi-tier tables with `getOption(""tibble.width"") > getOption(""width"")` (#344)."
pillar,63,"All pillars are shown with their true horizontal extent, irrespective of the indicated `width`. This simplifies the implementation of custom `pillar_shaft()` methods (#347)."
pillar,64,`num()` gains `extra_sigfig` argument to automatically show more significant figures for numbers of the same magnitude with subtle differences (#97).
pillar,65,`print.tbl()` and `format.tbl()` support the `max_extra_cols` and `max_footer_lines` arguments that override the corresponding options (#360).
pillar,66,`print.tbl()` and `format.tbl()` maps the now deprecated `n_extra` argument to `max_extra_cols` for consistency (#360).
pillar,67,Avoid mangling of duplicate column names in footer (#332).
pillar,68,Fix warning with zero of type `bit64::integer64()` (#319).
pillar,69,All package options are now documented in `?pillar_options` (#339).
pillar,70,"`obj_sum()` no longer calls `type_sum()` for vectors since pillar v1.6.1, this is now documented (#321)."
pillar,71,Fix documentation on usage of `vctrs::vec_proxy()` and `vctrs::vec_restore()` (#322).
pillar,72,Using `attr(exact = TRUE)` everywhere.
pillar,73,`is_vector_s3()` is no longer generic (#181).
pillar,74,Fix internal logic around `vec_proxy()` and `vec_restore()` (#316).
pillar,75,Bump required versions of ellipsis and vctrs to avoid warning during package load.
pillar,76,`obj_sum()` no longer includes shape twice (#315).
pillar,77,"New `num()` and `char()` offer a flexible way to customize the display of numeric and character columns (#191, #84)."
pillar,78,"New `""pillar.max_dec_width""` option (#308)."
pillar,79,New `format_type_sum.AsIs()` avoids the need to implement your own `format_type_sum()` method (#286).
pillar,80,`align()` gains `space` argument to control the character used for filling (#285).
pillar,81,Numbers in scientific and decimal notation are formatted with the same rules regarding significant or decimal digits (#297).
pillar,82,Load the debugme package only if the `DEBUGME` environment variable is set.
pillar,83,"More accurate detection if the decimal dot is necessary, and how many digits to show after the decimal dot (#298)."
pillar,84,Use display width instead of number of characters when truncating character columns.
pillar,85,"New `vignette(""numbers"")` and `vignette(""digits"")` (#308)."
pillar,86,Compatibility with vctrs 0.3.7 (#291).
pillar,87,"`format.pillar_shaft_simple()` requires `""na""` attribute and no longer defaults to `pillar_na()` (#273)."
pillar,88,New `format_glimpse()` (#177).
pillar,89,"Color and formatting can now be reliably turned off by setting the `""cli.num_colors""` option to 1 (#269)."
pillar,90,Add examples for new functions (#264).
pillar,91,Fix lifecycle badges everywhere.
pillar,92,`obj_sum()` now always returns a string. `pillar_shaft.list()` iterates over its elements and calls `obj_sum()` for each (#137).
pillar,93,"Breaking: `print.pillar()` and `print.pillar_ornament()` now show `<pillar>` `<pillar_ornament>` in the first line (#227, #228)."
pillar,94,pillar has been re-licensed as MIT (#215).
pillar,95,New `size_sum()` generic (#239).
pillar,96,"New `ctl_new_pillar()` and `ctl_new_compound_pillar()` used via `print.tbl()`, `format.tbl()` and `tbl_format_setup.tbl()` (#230)."
pillar,97,New `new_pillar()` low-level constructor (#230).
pillar,98,New `new_pillar_component()` and `pillar_component()` (#230).
pillar,99,"New articles `vignette(""extending"")` and `vignette(""printing"")` (#251)."
pillar,100,"All printing code has been moved from tibble to pillar (#179), including `glimpse()` (#234). This concentrates the printing code in one package and allows for better extensibility."
pillar,101,"New experimental generics `tbl_format_setup()`, `tbl_format_header()`, `tbl_format_body()` and `tbl_format_footer()` (#179)."
pillar,102,Move definition of `tbl_sum()` to this package (#179).
pillar,103,"Improve formatting for `""Surv""` and `""Surv2""` classes from the survival package (#199)."
pillar,104,Vectors of the `vctrs_unspecified()` class are formatted better (#256).
pillar,105,Arrays are now formatted by showing only their first slice (#142).
pillar,106,Avoid wrapping extra column names with spaces (#254).
pillar,107,"Now using debugme to simplify understand the complex control flow, see `vignette(""debugme"")` (#248)."
pillar,108,New `format.pillar_ornament()` (#228).
pillar,109,Using testthat 3e (#218).
pillar,110,Avoid pillar.bold option in most tests (#216).
pillar,111,Change internal storage format for `colonnade()` and `extra_cols()` (#204).
pillar,112,Adapt to changed environment on CRAN's Solaris machine.
pillar,113,Restore compatibility with R 3.2.
pillar,114,"New `pillar.min_chars` option allows controlling the minimum number of characters shown for a character column (#178, @​statsmaths)."
pillar,115,`bit64::integer64()` columns are now formatted the same way as numeric columns (#175).
pillar,116,"New `align()` to support easy alignment of strings within a character vector (existing function exported by @​davidchall, #185)."
pillar,117,"`pillar_shaft()`, `format_type_sum()` and `extra_cols()` issue a warning if dots are unused."
pillar,118,`new_pillar_title()` and `new_pillar_type()` warn if `...` is not empty.
pillar,119,Use lifecycle package.
pillar,120,Remove compatibility code for R \< 3.3.
pillar,121,`obj_sum()` uses `vctrs::vec_size()` internally.
pillar,122,`is_vector_s3.default()` is soft-deprecated and no longer used. Please ensure that `vctrs::vec_is()` is `TRUE` for your class.
pillar,123,Rely on vctrs for type abbreviations.
pillar,124,`new_pillar_shaft_simple()` gains `na` argument to control appearance of `NA` values.
pillar,125,String columns are quoted if at least one value needs quotes (#171).
pillar,126,Apply subtle style to `list_of` columns (#172).
pillar,127,Fix formatting if mantissa is very close to 1 (#174).
pillar,128,Use `as.character()` instead of `as_character()`.
pillar,129,Remove compatibility with testthat \< 2.0.0.
pillar,130,"List columns are shown with their perceived dimensions, which may be different from those stored in the `""dim""` attribute. Regression introduced in 1.4.0 (#167)."
pillar,131,Add ellipsis to `vec_ptype_abbr()` method.
pillar,132,More careful specification of minimum package versions for the dependencies (#165).
pillar,133,Fix `type_sum.vctrs_vctr()` that also led to a NOTE in `R CMD check`.
pillar,134,"Resolve `vec_is()` at runtime instead of during `.onLoad()` (#163, @​lionel-)."
pillar,135,Implement methods for vctrs objects.
pillar,136,"`type_sum()` forwards to `vctrs::vec_ptype_abbr()` (#134). This makes sure that `list_of` columns (for values of the same type) are properly displayed. The value returned for `factor` and `complex` remains unchanged, because this will change in vctrs."
pillar,137,The `class` argument to `new_pillar_shaft()` deprecates the existing `subclass` argument. Passing a `subclass` argument leads to a warning once per session (#157).
pillar,138,Removed extra space for pillars with a negative value of lower magnitude than the largest positive value (example: -1 and 23).
pillar,139,"0-col tibble and matrix columns are now formatted with a capital containing `[,0]` and an empty shaft (#149)."
pillar,140,`squeeze()` is now faster (because the width computation in `pillar_shaft.numeric()` now uses more arithmetics instead of string concatenation). Further speedups may require implementation of crucial parts in C (#147).
pillar,141,"Styling output is faster: an expensive check for availability of colored output is carried out only once per call to `colonnade()`, and styling is implemented manually (#133, @​jimhester)."
pillar,142,All internal S3 classes have the `pillar_` prefix (#156).
pillar,143,"Only check native output on Windows, due to subtle differences when running on Linux in a latin1 locale."
pillar,144,Fix off-by-one error in distribution of empty space (#141).
pillar,145,`NA` in names is no longer escaped with backticks.
pillar,146,Don't add quotes for pillars formatted with their `format()` method (tidyverse/tibble#448).
pillar,147,"Update base type abbrevs to rlang 0.3.0 (#140, @​lionel-)."
pillar,148,Tests work again in a 256-color terminal (#129).
pillar,149,"Unknown data types are formatted using `format()`, not `as.character()` (#120)."
pillar,150,"Multi-tier colonnades can always fill the last tier, even if the width isn't a proper multiple of `getOption(""width"")`. (Example: `options(width = 80, tibble.width = 200)` will print a wide tibble in three tiers, each 80 characters wide, with a total width of 240 characters.)"
pillar,151,"Fixed mixed formatting (showing some pillars with maximum, and some with minimum width). If a pillar's minimum width is smaller than `getOption(""width"")`, it is shown nevertheless, abbreviated with dots if necessary."
pillar,152,`format_type_sum()` gains `width` argument (#73).
pillar,153,"Printing large multi-tier colonnades is much faster, the code that distributes pillars over tiers uses a much simpler and much faster algorithm (tidyverse/tibble#422)."
pillar,154,"Printing is now faster overall, because less work is done for formatting in ""subtle"" style (gray of a fixed level), and because `fansi::strip_sgr()` is used instead of `crayon::strip_style()`."
pillar,155,Slightly faster printing of colonnades by reusing an intermediate result.
pillar,156,`pillar()` no longer adds backticks if `title` is non-syntactic.
pillar,157,"`colonnade()` supports data frames and matrices. When printing, each sub-column is shown individually, using a title that resembles the syntax used to access it. Also supports recursively nested data frames (with data frame or matrix columns)."
pillar,158,Added fuzz tests for character colonnades of varying widths.
pillar,159,Use `fansi::substr_ctl()` in favor of `crayon::col_substr()`.
pillar,160,Eliminate CRAN check warning about undeclared withr dependency.
pillar,161,More defensive test to address CRAN check failures on Solaris.
pillar,162,"`colonnade()` now handles pillars named `""sep""` (#115)."
pillar,163,`pillar_shaft.character()` gains `min_width` argument.
pillar,164,"Whole numbers are printed without a decimal dot again. Numbers that are the result of a whole number divided by a power of 10 (subject to a tolerance to account for floating-point imprecision) are shown without trailing decimal zeros, even if these zeros are significant according to the `pillar.sigfig` option (#105)."
pillar,165,New `new_pillar_title()` and `new_pillar_type()` to support consistent output in `glimpse()` (#31).
pillar,166,New `format_type_sum()` generic that allows overriding the formatting of the type summary in the capital (#73).
pillar,167,The `digits.secs` option is respected when computing the width for date-time values (#102).
pillar,168,Turned off using subtle style for digits that are considered insignificant. Negative numbers are shown all red. Set the new option `pillar.subtle_num` to `TRUE` to turn it on again (default: `FALSE`).
pillar,169,The negation sign is printed next to the number again (#91).
pillar,170,Scientific notation uses regular digits again for exponents (#90).
pillar,171,"Groups of three digits are now underlined, starting with the fourth before/after the decimal point. This gives a better idea of the order of magnitude of the numbers (#78)."
pillar,172,Logical columns are displayed as `TRUE` and `FALSE` again (#95).
pillar,173,The decimal dot is now always printed for numbers of type `numeric`. Trailing zeros are not shown anymore if all displayed numbers are whole numbers (#62).
pillar,174,Decimal values longer than 13 characters always print in scientific notation.
pillar,175,"Numeric values with a `""class""` attribute (e.g., `Duration` from lubridate) are now formatted using `format()` if the `pillar_shaft()` method is not implemented for that class (#88)."
pillar,176,Very small numbers (like `1e-310`) are now printed correctly (tidyverse/tibble#377).
pillar,177,"Fix representation of right-hand side for `getOption(""pillar.sigfig"") >= 6` (tidyverse/tibble#380)."
pillar,178,Fix computation of significant figures for numbers with absolute value \>= 1 (#98).
pillar,179,"New styling helper `style_subtle_num()`, formatting depends on the `pillar.subtle_num` option."
pillar,180,"`NA` values are now shown in plain red, without changing the background color (#70)."
pillar,181,"New options to control the output, with defaults that match the current behavior unless stated otherwise:"
pillar,181,"• `pillar.sigfig` to control the number of significant digits, for highlighting and truncation (#72),"
pillar,181,"• `pillar.subtle` to specify if insignificant digits should be printed in gray (#72),"
pillar,181,"• `pillar.neg` to specify if negative digits should be printed in red,"
pillar,181,"• `pillar.bold` to specify if column headers should be printed in bold (default: `FALSE`, #76),"
pillar,181,"• `pillar.min_title_chars` to specify the minimum number of characters to display for each column name (default: 15 characters, #75)."
pillar,187,"Shortened abbreviations for types: complex: cplx -\> cpl, function: fun -\> fn, factor: fctr -\> fct (#71)."
pillar,188,Date columns now show sub-seconds if the `digits.secs` option is set (#74).
pillar,189,Very wide tibbles now print faster (#85).
pillar,190,Work around failing CRAN tests on Windows.
purrr,1,"As of purrr 1.0.0, the `map()` family of functions wraps all errors generated by `.f` inside an wrapper error that tracks the iteration index. As of purrr 1.0.1, this error now has a custom class (`purrr_error_indexed`), `location` and `name` fields, and is documented in `?purrr_error_indexed` (#1027)."
purrr,2,`map()` errors with named inputs also report the name of the element that errored.
purrr,3,Fixed an issue where progress bars weren't being closed when user interrupts or errors were encountered during a `map()` call (#1024).
purrr,4,Fixed an invalid C signature for `pluck()` (#1018).
purrr,5,Set `Biarch: true` to build purrr on 32-bit Windows on R \< 4.2.0 (#1017).
purrr,6,`cross()` and all its variants have been deprecated in favour of `tidyr::expand_grid()`. These functions were slow and buggy and we no longer think they are the right approach to solving this problem. See #768 for more information.
purrr,7,"`update_list()` (#858) and `rerun()` (#877), and the use of tidyselect with `map_at()` and friends (#874) have been deprecated. These functions use some form of non-standard evaluation which we now believe is a poor fit for purrr."
purrr,8,The `lift_*` family of functions has been deprecated. We no longer believe these to be a good fit for purrr because they rely on a style of function manipulation that is very uncommon in R code (#871).
purrr,9,"`prepend()`, `rdunif()`, `rbernoulli()`, `when()`, and `list_along()` have all been deprecated (#925). It's now clear that they don't align with the core purpose of purrr."
purrr,10,`splice()` is deprecated because we no longer believe that automatic splicing makes for good UI. Instead use `list2()` + `!!!` or `list_flatten()` (#869).
purrr,11,"Use of map functions with expressions, calls, and pairlists has been deprecated (#961)."
purrr,12,All map `_raw()` variants have been deprecated because they are of limited use and you can now use `map_vec()` instead (#903).
purrr,13,"In `map_chr()`, automatic conversion from logical, integer, and double to character is now deprecated. Use an explicit `as.character()` if needed (#904)."
purrr,14,Errors from `.f` are now wrapped in an additional class that gives information about where the error occurred (#945).
purrr,15,`as_function()` and the `...f` argument to `partial()` are no longer supported. They have been defunct for quite some time.
purrr,16,"Soft deprecated functions: `%@​%`, `reduce_right()`, `reduce2_right()`, `accumulate_right()` are now fully deprecated. Similarly, the `.lazy`, `.env`, and `.first` arguments to `partial()`, and the `.right` argument to `detect()` and `detect_index()` are fully deprecated. Removing elements with `NULL` in `list_modify()` and `list_merge()` is now fully deprecated."
purrr,17,`is_numeric()` and `is_scalar_numeric()` have been removed. They have been deprecated since purrr 0.2.3 (Sep 2017).
purrr,18,"`invoke_*()` is now deprecated. It was superseded in 0.3.0 (Jan 2019) and 3.5 years later, we have decided to deprecate it as part of the API refinement in the 1.0.0 release."
purrr,19,`map_call()` has been removed. It was made defunct in 0.3.0 (Jan 2019).
purrr,20,`*_at()` can now take a function (or formula) that's passed the vector of element names and returns the elements to select.
purrr,21,"New `map_vec()`, `map2_vec()`, and `pmap_vec()` work on all types of vectors, extending `map_lgl()`, `map_int()`, and friends so that you can easily work with dates, factors, date-times and more (#435)."
purrr,22,New `keep_at()` and `discard_at()` that work like `keep()` and `discard()` but operation on element names rather than element contents (#817).
purrr,23,Some mapping functions have now a `.progress` argument to create a progress bar. See `?progress_bars` (#149).
purrr,24,purrr is now licensed as MIT (#805).
purrr,25,"`modify()`, `modify_if()`, `modify_at()`, and `modify2()` are no longer generics. We have discovered a simple implementation that no longer requires genericity and methods were only provided by a very small number of packages (#894)."
purrr,26,"purrr now uses the base pipe (`|>`) and anonymous function short hand (`\(x)`), in all examples. This means that examples will no longer work in R 4.0 and earlier so in those versions of R, the examples are automatically converted to a regular section with a note that they might not work (#936)."
purrr,27,"When map functions fail, they now report the element they failed at (#945)."
purrr,28,New `modify_tree()` for recursively modifying nested data structures (#720).
purrr,29,"New `list_c()`, `list_rbind()`, and `list_cbind()` make it easy to `c()`, `rbind()`, or `cbind()` all of the elements in a list."
purrr,30,New `list_simplify()` reduces a list of length-1 vectors to a simpler atomic or S3 vector (#900).
purrr,31,New `list_transpose()` which automatically simplifies if possible (#875).
purrr,32,"`accumulate()` and `accumulate2()` now both simplify the output if possible using vctrs. New arguments `simplify` and `ptype` allow you to control the details of simplification (#774, #809)."
purrr,33,"`flatten()` and friends are superseded in favour of `list_flatten()`, `list_c()`, `list_cbind()`, and `list_rbind()`."
purrr,34,`*_dfc()` and `*_dfr()` have been superseded in favour of using the appropriate map function along with `list_rbind()` or `list_cbind()` (#912).
purrr,35,"`simplify()`, `simplify_all()`, and `as_vector()` have been superseded in favour of `list_simplify()`. It provides a more consistent definition of simplification (#900)."
purrr,36,`transpose()` has been superseded in favour of `list_transpose()` (#875). It has built-in simplification.
purrr,37,"`_lgl()`, `_int()`, `_int()`, and `_dbl()` now use the same (strict) coercion methods as vctrs (#904). This means that:"
purrr,37,"• `map_chr(TRUE, identity)`, `map_chr(0L, identity)`, and `map_chr(1L, identity)` are deprecated because we now believe that converting a logical/integer/double to a character vector should require an explicit coercion."
purrr,37,"• `map_int(1.5, identity)` now fails because we believe that silently truncating doubles to integers is dangerous. But note that `map_int(1, identity)` still works since no numeric precision is lost."
purrr,37,"• `map_int(c(TRUE, FALSE), identity)`, `map_dbl(c(TRUE, FALSE), identity)`, `map_lgl(c(1L, 0L), identity)` and `map_lgl(c(1, 0), identity)` now succeed because 1/TRUE and 0/FALSE should be interchangeable."
purrr,41,"`map2()`, `modify2()`, and `pmap()` now use tidyverse recycling rules where vectors of length 1 are recycled to any size but all others must have the same length (#878)."
purrr,42,`map2()` and `pmap()` now recycle names of their first input if needed (#783).
purrr,43,"`modify()`, `modify_if()`, and `modify_at()` have been reimplemented using vctrs principles. This shouldn't have an user facing impact, but it does make the implementation much simpler."
purrr,44,`vec_depth()` is now `pluck_depth()` and works with more types of input (#818).
purrr,45,`pluck()` now requires indices to be length 1 (#813). It also now reports the correct type if you supply an unexpected index.
purrr,46,"`pluck()` now accepts negative integers, indexing from the right (#603)."
purrr,47,`pluck()` and `chuck()` now fail if you provide named inputs to ... (#788).
purrr,48,`pluck()` no longer replaces 0-length vectors with `default`; it now only applies absent and `NULL` components (#480).
purrr,49,`pluck<-`/`assign_in()` can now modify non-existing locations (#704).
purrr,50,`pluck<-`/`assign_in()` now sets elements to `NULL` rather than removing them (#636). Now use the explicit `zap()` if you want to remove elements.
purrr,51,"`modify()`, `modify2()`, and `modify_if()` now correctly handle `NULL`s in replacement values (#655, #746, #753)."
purrr,52,`list_modify()`'s interface has been standardised. Modifying with `NULL` now always creates a `NULL` in the output (#810)
purrr,53,New `list_assign()` which is similar to `list_modify()` but doesn't work recursively (#822).
purrr,54,`list_modify()` no longer recurses into data frames (and other objects built on top of lists that are fundamentally non-list like) (#810). You can revert to the previous behaviour by setting `.is_node = is.list`.
purrr,55,`capture_output()` correctly uses `conditionMessage()` instead of directly interrogating the `message` field (#1010).
purrr,56,`modify()` no longer works with calls or pairlists.
purrr,57,`modify_depth()` is no longer a generic. This makes it more consistent with `map_depth()`.
purrr,58,"`map_depth()` and `modify_depth()` have a new `is_node` argument that allows you to control what counts as a level. The default uses `vec_is_list()` to avoid recursing into rich S3 objects like linear models or data.frames (#958, #920)."
purrr,59,`map_depth()` and `modify_depth()` now correctly recurse at depth 1.
purrr,60,"`as_mapper()` is now around twice as fast when used with character, integer, or list (#820)."
purrr,61,`possibly()` now defaults `otherwise` to NULL.
purrr,62,"`modify_if(.else)` is now actually evaluated for atomic vectors (@​mgirlich, #701)."
purrr,63,`lmap_if()` correctly handles `.else` functions (#847).
purrr,64,"`every()` now correctly propagates missing values using the same rules as `&&` (#751). Internally, it has become a wrapper around `&&`. This makes it consistent with `&&` and also with `some()` which has always been a wrapper around `||` with the same propagation rules."
purrr,65,"`every()` and `some()` now properly check the return value of their predicate function. It must now return a `TRUE`, `FALSE`, or `NA`."
purrr,66,Greatly improved performance of functions created with `partial()` (#715). Their invocation is now as fast as for functions creating manually.
purrr,67,`partial()` no longer inlines the function in the call stack. This fixes issues when `partial()` is used with `lm()` for instance (#707).
purrr,68,Fixes for CRAN checks.
purrr,69,"Fixed issue in `list_modify()` that prevented lists from being removed with `zap()` (@​adamroyjones, #777)."
purrr,70,"Added documentation for exporting functions created with purrr adverb (@​njtierney, #668). See `?faq-adverbs-export`."
purrr,71,"Added `none()`, which tests that a predicate is false for all elements (the opposite of `every()`) (@​AliciaSchep, #735)."
purrr,72,Maintenance release.
purrr,73,"The documentation of `map()` and its variants has been improved by @​surdina as part of the Tidyverse Developer Day (@​surdina, #671)."
purrr,74,purrr now depends on R 3.2 or greater.
purrr,75,Fix protection issues reported by rchk.
purrr,76,`reduce()` now forces arguments (#643).
purrr,77,Fixed an issue in `partial()` with generic functions (#647).
purrr,78,`negate()` now works with generic functions and functions with early returns.
purrr,79,"`compose()` now works with generic functions again (#629, #639). Its set of unit tests was expanded to cover many edge cases."
purrr,80,"`prepend()` now works with empty lists (@​czeildi, #637)"
purrr,81,"`modify()` and variants are now wrapping `[[<-` instead of `[<-`. This change increases the genericity of these functions but might cause different behaviour in some cases. For instance, the `[[<-` for data frames is stricter than the `[<-` method and might throw errors instead of warnings. This is the case when assigning a longer vector than the number of rows. `[<-` truncates the vector with a warning, `[[<-` fails with an error (as is appropriate)."
purrr,82,`modify()` and variants now return the same type as the input when the input is an atomic vector.
purrr,83,"All functionals taking predicate functions (like `keep()`, `detect()`, `some()`) got stricter. Predicate functions must now return a single `TRUE` or `FALSE`. This change is meant to detect problems early with a more meaningful error message."
purrr,84,"New `chuck()` function. This is a strict variant of `pluck()` that throws errors when an element does not exist instead of returning `NULL` (@​daniel-barnett, #482)."
purrr,85,New `assign_in()` and `pluck<-` functions. They modify a data structure at an existing pluck location.
purrr,86,New `modify_in()` function to map a function at a pluck location.
purrr,87,`pluck()` now dispatches properly with S3 vectors. The vector class must implement a `length()` method for numeric indexing and a `names()` method for string indexing.
purrr,88,`pluck()` now supports primitive functions (#404).
purrr,89,New `.else` argument for `map_if()` and `modify_if()`. They take an alternative function that is mapped over elements of the input for which the predicate function returns `FALSE` (#324).
purrr,90,"`reduce()`, `reduce2()`, `accumulate()`, and `accumulate2()` now terminate early when the function returns a value wrapped with `done()` (#253). When an empty `done()` is returned, the value at the last iteration is returned instead."
purrr,91,"Functions taking predicates (`map_if()`, `keep()`, `some()`, `every()`, `keep()`, etc) now fail with an informative message when the return value is not `TRUE` or `FALSE` (#470). This is a breaking change for `every()` and `some()` which were documented to be more liberal in the values they accepted as logical (any vector was considered `TRUE` if not a single `FALSE` value, no matter its length). These functions signal soft-deprecation warnings instead of a hard failure. Edit (purr 0.4.0): `every()` and `some()` never issued deprecation warnings because of a technical issue. We didn't fix the warnings in the end, and using predicates returning `NA` is no longer considered deprecated. If you need to use `every()` and `some()` in contexts where `NA` propagation is unsafe, e.g. in `if ()` conditions, make sure to use safe predicate functions like `is_true()`."
purrr,92,"`modify()` and variants are now implemented using `length()`, `[[`, and `[[<-` methods. This implementation should be compatible with most vector classes."
purrr,93,New `modify2()` and `imodify()` functions. These work like `map()` and `imap()` but preserve the type of `.x` in the return value.
purrr,94,"`pmap()` and `pwalk()` now preserve class for inputs of `factor`, `Date`, `POSIXct` and other atomic S3 classes with an appropriate `[[` method (#358, @​mikmart)."
purrr,95,"`modify()`, `modify_if()` and `modify_at()` now preserve the class of atomic vectors instead of promoting them to lists. New S3 methods are provided for character, logical, double, and integer classes (@​t-kalinowski, #417)."
purrr,96,"By popular request, `at_depth()` has been brought back as `map_depth()`. Like `modify_depth()`, it applies a function at a specified level of a data structure. However, it transforms all traversed vectors up to `.depth` to bare lists (#381)."
purrr,97,"`map_at()`, `modify_at()` and `lmap_at()` accept negative values for `.at`, ignoring elements at those positions."
purrr,98,`map()` and `modify()` now work with calls and pairlists (#412).
purrr,99,"`modify_depth()` now modifies atomic leaves as well. This makes `modify_depth(x, 1, fn)` equivalent to `modify(x, fn)` (#359)."
purrr,100,New `accumulate2()` function which is to `accumulate()` what `reduce2()` is to `reduce()`.
purrr,101,"New `rate_backoff()` and `rate_delay()` functions to create rate objects. You can pass rates to `insistently()`, `slowly()`, or the lower level function `rate_sleep()`. This will cause a function to wait for a given amount of time with exponential backoff (increasingly larger waiting times) or for a constant delay."
purrr,102,"`insistently(f)` modifies a function, `f`, so that it is repeatedly called until it succeeds (@​richierocks, @​ijlyttle). `slowly()` modifies a function so that it waits for a given amount of time between calls."
purrr,103,"`partial()` now supports empty `... =` argument to specify the position of future arguments, relative to partialised ones. This syntax is borrowed from (and implemented with) `rlang::call_modify()`. To prevent partial matching of `...` on `...f`, the latter has been renamed to `.f`, which is more consistent with other purrr function signatures."
purrr,104,"`partial()` now supports quasiquotation. When you unquote an argument, it is evaluated only once at function creation time. This is more flexible than the `.lazy` argument since you can control the timing of evaluation for each argument. Consequently, `.lazy` is soft-deprecated (#457)."
purrr,105,Fixed an infinite loop when partialised function is given the same name as the original function (#387).
purrr,106,`partial()` now calls `as_closure()` on primitive functions to ensure argument matching (#360).
purrr,107,The `.lazy` argument of `partial()` is soft-deprecated in favour of quasiquotation:
purrr,107,"```
# Before
partial(fn, u = runif(1), n = rnorm(1), .lazy = FALSE)

# After
partial(fn, u = !!runif(1), n = !!rnorm(1))  # All constant
partial(fn, u = !!runif(1), n = rnorm(1))    # First constant
```"
purrr,108,The tibble package is now in Suggests rather than Imports. This brings the hard dependency of purrr to just rlang and magrittr.
purrr,109,`compose()` now returns an identity function when called without inputs.
purrr,110,"Functions created with `compose()` now have the same formal parameters as the first function to be called. They also feature a more informative print method that prints all composed functions in turn (@​egnha, #366)."
purrr,111,"New `.dir` argument in `compose()`. When set to `""forward""`, the functions are composed from left to right rather than right to left."
purrr,112,"`list_modify()` now supports the `zap()` sentinel (reexported from rlang) to remove elements from lists. Consequently, removing elements with the ambiguous sentinel `NULL` is soft-deprecated."
purrr,113,"The requirements of `list_modify()` and `list_merge()` have been relaxed. Previously it required both the modified lists and the inputs to be either named or unnamed. This restriction now only applies to inputs in `...`. When inputs are all named, they are matched to the list by name. When they are all unnamed, they are matched positionally. Otherwise, this is an error."
purrr,114,Fixed ordering of names returned by `accumulate_right()` output. They now correspond to the order of inputs.
purrr,115,Fixed names of `accumulate()` output when `.init` is supplied.
purrr,116,"`compose()` now supports composition with lambdas (@​ColinFay, #556)"
purrr,117,Fixed a `pmap()` crash with empty lists on the Win32 platform (#565).
purrr,118,"`modify_depth` now has `.ragged` argument evaluates correctly to `TRUE` by default when `.depth < 0` (@​cderv, #530)."
purrr,119,"`accumulate()` now inherits names from their first input (@​AshesITR, #446)."
purrr,120,"`attr_getter()` no longer uses partial matching. For example, if an `x` object has a `labels` attribute but no `label` attribute, `attr_getter(""label"")(x)` will no longer extract the `labels` attribute (#460, @​huftis)."
purrr,121,`flatten_dfr()` and `flatten_dfc()` now aborts if dplyr is not installed. (#454)
purrr,122,`imap_dfr()` now works with `.id` argument is provided (#429)
purrr,123,"`list_modify()`, `update_list()` and `list_merge()` now handle duplicate duplicate argument names correctly (#441, @​mgirlich)."
purrr,124,"`map_raw`, `imap_raw`, `flatten_raw`, `invoke_map_raw`, `map2_raw` and `pmap_raw` added to support raw vectors. (#455, @​romainfrancois)"
purrr,125,`flatten()` now supports raw and complex elements.
purrr,126,"`array_branch()` and `array_tree()` now retain the `dimnames()` of the input array (#584, @​flying-sheep)"
purrr,127,`pluck()` no longer flattens lists of arguments. You can still do it manually with `!!!`. This change is for consistency with other dots-collecting functions of the tidyverse.
purrr,128,"`map_at()`, `lmap_at()` and `modify_at()` now supports selection using `vars()` and `tidyselect` (@​ColinFay, #608). Note that for now you need to import `vars()` from dplyr or call it qualified like `dplyr::vars()`. It will be reexported from rlang in a future release."
purrr,129,"`detect()` now has a .default argument to specify the value returned when nothing is detected (#622, @​ColinFay)."
purrr,130,`reduce_right()` is soft-deprecated and replaced by a new `.dir` argument of `reduce()`:
purrr,130,"```
# Before:
reduce_right(1:3, f)

# After:
reduce(1:3, f, .dir = ""backward"")
```"
purrr,130,"Note that the details of the computation have changed. Whereas `reduce_right()` computed `f(f(3, 2), 1)`, it now computes `f(1, f(2, 3))`. This is the standard way of reducing from the right. To produce the exact same reduction as `reduce_right()`, simply reverse your vector and use a left reduction:"
purrr,130,"```
# Before:
reduce_right(1:3, f)

# After:
reduce(rev(1:3), f)
```"
purrr,131,`reduce2_right()` is soft-deprecated without replacement. It is not clear what algorithmic properties should a right reduction have in this case. Please reach out if you know about a use case for a right reduction with a ternary function.
purrr,132,"`accumulate_right()` is soft-deprecated and replaced by the new `.dir` argument of `accumulate()`. Note that the algorithm has slightly changed: the accumulated value is passed to the right rather than the left, which is consistent with a right reduction."
purrr,132,"```
# Before:
accumulate_right(1:3, f)

# After:
accumulate(1:3, f, .dir = ""backward"")
```"
purrr,133,The `.right` argument of `detect()` and `detect_index()` is soft-deprecated and renamed to `.dir` for consistency with other functions and clarity of the interface.
purrr,133,"```
# Before
detect(x, f, .right = TRUE)

# After
detect(x, f, .dir = ""backward"")
```"
purrr,134,The `.lazy` argument of `partial()` is soft-deprecated in favour of quasiquotation.
purrr,135,We had to rename `...f` to `.f` in `partial()` in order to support `... =` argument (which would otherwise partial-match on `...f`). This also makes `partial()` more consistent with other purrr function signatures.
purrr,136,"`invoke()` is retired in favour of the `exec()` function, reexported from rlang. `exec()` evaluates a function call built from its inputs and supports tidy dots:"
purrr,136,"```
# Before:
invoke(mean, list(na.rm = TRUE), x = 1:10)

# After
exec(mean, 1:10, !!!list(na.rm = TRUE))
```"
purrr,136,Note that retired functions are not removed from the package and will be maintained undefinitely.
purrr,137,"`invoke_map()` is retired without replacement because it is more complex to understand than the corresponding code using `map()`, `map2()` and `exec()`:"
purrr,137,"```
# Before:
invoke_map(fns, list(args))
invoke_map(fns, list(args1, args2))

# After:
map(fns, exec, !!!args)
map2(fns, list(args1, args2), function(fn, args) exec(fn, !!!args))
```"
purrr,138,"`%@​%` is soft-deprecated, please use the operator exported in rlang instead. The latter features an interface more consistent with `@​` as it uses NSE, supports S4 fields, and has an assignment variant."
purrr,139,Removing elements from lists using `NULL` in `list_modify()` is soft-deprecated. Please use the new `zap()` sentinel reexported from rlang instead:
purrr,139,"```
# Before:
list_modify(x, foo = NULL)

# After:
list_modify(x, foo = zap())
```"
purrr,139,"This change is motivated by the ambiguity of `NULL` as a deletion sentinel because `NULL` is also a valid value in lists. In the future, `NULL` will set an element to `NULL` rather than removing the element."
purrr,140,"`rerun()` is now in the questioning stage because we are no longer convinced NSE functions are a good fit for purrr. Also, `rerun(n, x)` can just as easily be expressed as `map(1:n, ~ x)` (with the added benefit of being passed the current index as argument to the lambda)."
purrr,141,`map_call()` is defunct.
purrr,142,This is a maintenance release following the release of dplyr 0.7.5.
purrr,143,Fixes for R 3.1.
purrr,144,"If `reduce()` fails with this message: `` Error: `.x` is empty, and no `.init` supplied ``, this is because `reduce()` now returns `.init` when `.x` is empty. Fix the problem by supplying an appropriate argument to `.init`, or by providing special behaviour when `.x` has length 0."
purrr,145,"The type predicates have been migrated to rlang. Consequently the `bare-type-predicates` documentation topic is no longer in purrr, which might cause a warning if you cross-reference it."
purrr,146,"`order_by()`, `sort_by()` and `split_by()` have been removed. `order_by()` conflicted with `dplyr::order_by()` and the complete family doesn't feel that useful. Use tibbles instead (#217)."
purrr,147,`contains()` has been renamed to `has_element()` to avoid conflicts with dplyr (#217).
purrr,148,"`as_function()` is now `as_mapper()` because it is a tranformation that makes sense primarily for mapping functions, not in general (#298). `.null` has been renamed to `.default` to better reflect its intent (#298). `.default` is returned whenever an element is absent or empty (#231, #254). `as_mapper()` sanitises primitive functions by transforming them to closures with standardised argument names (using `rlang::as_closure()`). For instance `+` is transformed to `function(.x, .y) .x + .y`. This results in proper argument matching so that `map(1:10, partial(`-`, .x = 5))` produces `list(5 - 1, 5 - 2, ...)`."
purrr,149,"Recursive indexing can now extract objects out of environments (#213) and S4 objects (#200), as well as lists."
purrr,150,"`attr_getter()` makes it possible to extract from attributes like `map(list(iris, mtcars), attr_getter(""row.names""))`."
purrr,151,"The argument list for formula-functions has been tweaked so that you can refer to arguments by position with `..1`, `..2`, and so on. This makes it possible to use the formula shorthand for functions with more than two arguments (#289)."
purrr,152,"`possibly()`, `safely()` and friends no longer capture interrupts: this means that you can now terminate a mapper using one of these with Escape or Ctrl + C (#314)"
purrr,153,"All map functions now treat `NULL` the same way as an empty vector (#199), and return an empty vector if any input is an empty vector."
purrr,154,All `map()` functions now force their arguments in the same way that base R does for `lapply()` (#191). This makes `map()` etc easier to use when generating functions.
purrr,155,"A new family of ""indexed"" map functions, `imap()`, `imap_lgl()` etc, provide a short-hand for `map2(x, names(x))` or `map2(x, seq_along(x))` (#240)."
purrr,156,The data frame suffix `_df` has been (soft) deprecated in favour of `_dfr` to more clearly indicate that it's a row-bind. All variants now also have a `_dfc` for column binding (#167). (These will not be terribly useful until `dplyr::bind_rows()`/`dplyr::bind_cols()` have better semantics for vectors.)
purrr,157,`at_depth()` has been renamed to `modify_depth()`.
purrr,158,"`modify_depth()` gains new `.ragged` argument, and negative depths are now computed relative to the deepest component of the list (#236)."
purrr,159,`auto_browse(f)` returns a new function that automatically calls `browser()` if `f` throws an error (#281).
purrr,160,`vec_depth()` computes the depth (i.e. the number of levels of indexing) or a vector (#243).
purrr,161,"`reduce2()` and `reduce2_right()` make it possible to reduce with a 3 argument function where the first argument is the accumulated value, the second argument is `.x`, and the third argument is `.y` (#163)."
purrr,162,`list_modify()` extends `stats::modifyList()` to replace by position if the list is not named.(#201). `list_merge()` operates similarly to `list_modify()` but combines instead of replacing (#322).
purrr,163,The legacy function `update_list()` is basically a version of `list_modify` that evaluates formulas within the list. It is likely to be deprecated in the future in favour of a tidyeval interface such as a list method for `dplyr::mutate()`.
purrr,164,"Thanks to @​dchiu911, the unit test coverage of purrr is now much greater."
purrr,165,All predicate functions are re-exported from rlang (#124).
purrr,166,`compact()` now works with standard mapper conventions (#282).
purrr,167,"`cross_n()` has been renamed to `cross()`. The `_n` suffix was removed for consistency with `pmap()` (originally called `map_n()` at the start of the project) and `transpose()` (originally called `zip_n()`). Similarly, `cross_d()` has been renamed to `cross_df()` for consistency with `map_df()`."
purrr,168,`every()` and `some()` now return `NA` if present in the input (#174).
purrr,169,`invoke()` uses a more robust approach to generate the argument list (#249) It no longer uses lazyeval to figure out which enviroment a character `f` comes from.
purrr,170,`is_numeric()` and `is_scalar_numeric()` are deprecated because they don't test for what you might expect at first sight.
purrr,171,`reduce()` now throws an error if `.x` is empty and `.init` is not supplied.
purrr,172,"Deprecated functions `flatmap()`, `map3()`, `map_n()`, `walk3()`, `walk_n()`, `zip2()`, `zip3()`, `zip_n()` have been removed."
purrr,173,`pmap()` coerces data frames to lists to avoid the expensive `[.data.frame` which provides security that is unneeded here (#220).
purrr,174,`rdunif()` checks its inputs for validity (#211).
purrr,175,"`set_names()` can now take a function to tranform the names programmatically (#276), and you can supply names in `...` to reduce typing even more more (#316). `set_names()` is now powered by `rlang::set_names()`."
purrr,176,`safely()` now actually uses the `quiet` argument (#296).
purrr,177,`transpose()` now matches by name if available (#164). You can override the default choice with the new `.names` argument.
purrr,178,The function argument of `detect()` and `detect_index()` have been renamed from `.p` to `.f`. This is because they have mapper semantics rather than predicate semantics.
purrr,179,"All data-frame based mappers have been removed in favour of new functions and idioms in the tidyverse. `dmap()`, `dmap_at()`, `dmap_if()`, `invoke_rows()`, `slice_rows()`, `map_rows()`, `by_slice()`, `by_row()`, and `unslice()` have been moved to purrrlyr. This is a bit of an aggresive change but it allows us to make the dependencies much lighter."
purrr,180,Fix for dev tibble support.
purrr,181,`as_function()` now supports list arguments which allow recursive indexing using either names or positions. They now always stop when encountering the first NULL (#173).
purrr,182,`accumulate` and `reduce` correctly pass extra arguments to the worker function.
purrr,183,"`as_function()` gains a `.null` argument that for character and numeric values allows you to specify what to return for null/absent elements (#110). This can be used with any map function, e.g. `map_int(x, 1, .null = NA)`"
purrr,184,`as_function()` is now generic.
purrr,185,New `is_function()` that returns `TRUE` only for regular functions.
purrr,186,Fix crash on GCC triggered by `invoke_rows()`.
purrr,187,There are two handy infix functions:
purrr,187,• `x %||% y` is shorthand for `if (is.null(x)) y else x` (#109).
purrr,187,"• `x %@​% ""a""` is shorthand for `attr(x, ""a"", exact = TRUE)` (#69)."
purrr,190,"`accumulate()` has been added to handle recursive folding. It is shortand for `Reduce(f, .x, accumulate = TRUE)` and follows a similar syntax to `reduce()` (#145). A right-hand version `accumulate_right()` was also added."
purrr,191,`map_df()` row-binds output together. It's the equivalent of `plyr::ldply()` (#127)
purrr,192,"`flatten()` is now type-stable and always returns a list. To return a simpler vector, use `flatten_lgl()`, `flatten_int()`, `flatten_dbl()`, `flatten_chr()`, or `flatten_df()`."
purrr,193,"`invoke()` has been overhauled to be more useful: it now works similarly to `map_call()` when `.x` is NULL, and hence `map_call()` has been deprecated. `invoke_map()` is a vectorised complement to `invoke()` (#125), and comes with typed variants `invoke_map_lgl()`, `invoke_map_int()`, `invoke_map_dbl()`, `invoke_map_chr()`, and `invoke_map_df()`."
purrr,194,"`transpose()` replaces `zip2()`, `zip3()`, and `zip_n()` (#128). The name more clearly reflects the intent (transposing the first and second levels of list). It no longer has fields argument or the `.simplify` argument; instead use the new `simplify_all()` function."
purrr,195,"`safely()`, `quietly()`, and `possibly()` are experimental functions for working with functions with side-effects (e.g. printed output, messages, warnings, and errors) (#120). `safely()` is a version of `try()` that modifies a function (rather than an expression), and always returns a list with two components, `result` and `error`."
purrr,196,`list_along()` and `rep_along()` generalise the idea of `seq_along()`. (#122).
purrr,197,`is_null()` is the snake-case version of `is.null()`.
purrr,198,"`pmap()` (parallel map) replaces `map_n()` (#132), and has typed-variants suffixed `pmap_lgl()`, `pmap_int()`, `pmap_dbl()`, `pmap_chr()`, and `pmap_df()`."
purrr,199,"`set_names()` is a snake-case alternative to `setNames()` with stricter equality checking, and more convenient defaults for pipes: `x %>% set_names()` is equivalent to `setNames(x, x)` (#119)."
purrr,200,"`map()` now always returns a list. Data frame support has been moved to `map_df()` and `dmap()`. The latter supports sliced data frames as a shortcut for the combination of `by_slice()` and `dmap()`: `x %>% by_slice(dmap, fun, .collate = ""rows"")`. The conditional variants `dmap_at()` and `dmap_if()` also support sliced data frames and will recycle scalar results to the slice size."
purrr,201,"`map_rows()` has been renamed to `invoke_rows()`. As other rows-based functionals, it collates results inside lists by default, but with column collation this function is equivalent to `plyr::mdply()`."
purrr,202,"The rows-based functionals gain a `.to` option to name the output column as well as a `.collate` argument. The latter allows to collate the output in lists (by default), on columns or on rows. This makes these functions more flexible and more predictable."
purrr,203,"`as_function()`, which converts formulas etc to functions, is now exported (#123)."
purrr,204,`rerun()` is correctly scoped (#95)
purrr,205,`update_list()` can now modify an element called `x` (#98).
purrr,206,"`map*()` now use custom C code, rather than relying on `lapply()`, `mapply()` etc. The performance characteristcs are very similar, but it allows us greater control over the output (#118)."
purrr,207,"`map_lgl()` now has second argument `.f`, not `.p` (#134)."
purrr,208,`flatmap()` -\> use `map()` followed by the appropriate `flatten()`.
purrr,209,`map_call()` -\> `invoke()`.
purrr,210,`map_n()` -\> `pmap()`; `walk_n()` -\> `pwalk()`.
purrr,211,"`map3(x, y, z)` -\> `map_n(list(x, y, z))`; `walk3(x, y, z) ->`pwalk(list(x, y, z))\`"
readr,1,"Help files below `man/` have been re-generated, so that they give rise to valid HTML5. (This is the impetus for this release, to keep the package safely on CRAN.)"
readr,2,"`mini-gapminder-africa.csv` and friends are new example datasets accessible via `readr_example()`, which have been added to illustrate reading multiple files at once, into a single data frame."
readr,3,"`read_table()`, `read_log()`, and `read_delim_chunked()` (and friends) gain the `show_col_types` argument found elsewhere. All `read_*()` functions now respect the `show_col_types` argument or option, even when using the first edition parsing engine (#1331)."
readr,4,`show_progress()` uses `rlang::is_interactive()` instead of `base::interactive()` (#1356).
readr,5,"`read_builtin()` does more argument checking, so that we catch obviously malformed input before passing along to `utils::data()` (#1361)."
readr,6,`chickens.csv` and `whitespace-sample.txt` are new example datasets accessible via `readr_example()` (#1354).
readr,7,Jenny Bryan is now the maintainer.
readr,8,Fix buffer overflow when trying to parse an integer from a field that is over 64 characters long (#1326)
readr,9,"All readr functions again read eagerly by default. Unfortunately many users experienced frustration from the drawbacks of lazy reading, in particular locking files on Windows, so it was decided to disable lazy reading default. However `options(readr.read_lazy = TRUE)` can be used to set the default to by lazy if desired."
readr,10,New `readr.read_lazy` global option to control if readr reads files lazily or not (#1266)
readr,11,"minor test tweak for compatibility with testthat 3.1.0 (#@​lionel-, #1304)"
readr,12,"`write_rds()` gains a `text=` argument, to control using a text based object representation, like the `ascii=` argument in `saveRDS()` (#1270)"
readr,13,`options(readr.show_col_types = FALSE)` now works as intended (#1250)
readr,14,`read_delim_chunked()` now again correctly respects the `chunk_size` parameter (#1248)
readr,15,"`type_convert()` gains a `guess_integer` argument, passed to `guess_parser()` (@​jmbarbone, #1264)"
readr,16,"`read_tsv()` now correctly passes the `quote` and `na` arguments to `vroom::vroom()` (#1254, #1255)"
readr,17,Avoid spurious byte compilation errors due to the programmatically generated `spec_*()` functions.
readr,18,"`with_edition(1, read_csv(""my_file.csv""))` will read `my_file.csv` with the first edition of readr."
readr,19,`readr::local_edition(1)` placed at the top of your function or script will use the first edition for the rest of the function or script.
readr,20,"`melt_csv()`, `melt_delim()`, `melt_tsv()` and `melt_fwf()` have been superseded by functions in the same name in the meltr package. The versions in readr have been deprecated. These functions rely on the first edition parsing code and would be challenging to update to the new parser. When the first edition parsing code is eventually removed from readr they will be removed."
readr,21,"`read_table2()` has been renamed to `read_table()`, as most users expect `read_table()` to work like `utils::read.table()`. If you want the previous strict behavior of the `read_table()` you can use `read_fwf()` with `fwf_empty()` directly (#717)."
readr,22,"Normalizing newlines in files with just carriage returns `\r` is no longer supported. The last major OS to use only CR as the newline was 'classic' Mac OS, which had its final release in 2001."
readr,23,`read_*_chunked()` functions now include their specification as an attribute (#1143)
readr,24,All `read_*()` functions gain a `col_select` argument to more easily choose which columns to select.
readr,25,All `read_*()` functions gain a `id` argument to optionally store the file paths when reading multiple files.
readr,26,All `read_*()` functions gain a `name_repair` argument to control how column names are repaired.
readr,27,All `read_*()` and `write_*()` functions gain a `num_threads` argument to control the number of processing threads they use (#1201)
readr,28,"All `write_*()` and `format_*()` functions gain `quote` and `escape` arguments, to explicitly control how fields are quoted and how double quotes are escaped. (#653, #759, #844, #993, #1018, #1083)"
readr,29,All `write_*()` functions gain a `progress` argument and display a progress bar when writing (#791).
readr,30,"write_excel_csv() now defaults to `quote = ""all""` (#759)"
readr,31,"write_tsv() now defaults to `quote = ""none""` (#993)"
readr,32,`read_table()` now handles skipped lines with unpaired quotes properly (#1180)
readr,33,"The BH package is no longer a dependency. The boost C++ headers in BH have thousands of files, so can take a long time to extract and compiling them takes a great deal of memory, which made readr difficult to compile on systems with limited memory (#1147)."
readr,34,"readr now uses the tzdb package when parsing date-times (@​DavisVaughan, r-lib/vroom#273)"
readr,35,Chunked readers now support files with more than `INT_MAX` (\~ 2 Billion) number of lines (#1177)
readr,36,Memory no longer inadvertently leaks when reading memory from R connections (#1161)
readr,37,Invalid date formats no longer can potentially crash R (#1151)
readr,38,`col_factor()` now throws a more informative error message if given non-character levels (#1140)
readr,39,`problems()` now takes `.Last.value` as its default argument. This lets you run `problems()` without an argument to see the problems in the previously read dataset.
readr,40,"`read_delim()` fails when sample of parsing problems contains non-ASCII characters (@​hidekoji, #1136)"
readr,41,`read_log()` gains a `trim_ws` argument (#738)
readr,42,"`read_rds()` and `write_rds()` gain a `refhook` argument, to pass functions that handle references objects (#1206)"
readr,43,`read_rds()` can now read .Rds files from URLs (#1186)
readr,44,"`read_*()` functions gain a `show_col_types` argument, if set to `FALSE` this turns off showing the column types unconditionally."
readr,45,`type_convert()` now throws a warning if the input has no character columns (#1020)
readr,46,`write_csv()` now errors if given a matrix column (#1171)
readr,47,`write_csv()` now again is able to write data with duplicated column names (#1169)
readr,48,`write_file()` now forces its argument before opening the output file (#1158)
readr,49,"`write_*()` functions first argument is now `file` instead of `path`, for consistency with the `read_*()` functions. `path` has been deprecated and will be removed in a future version of readr (#1110, @​brianrice2)"
readr,50,"`write_*()` functions now output any NaN values in the same way as NA values, controlled by the `na=` argument. (#1082)."
readr,51,It is now possible to generate a column specification from any tibble (or data.frame) with `as.col_spec()` and convert any column specification to a short representation with `as.character()`
readr,51,"```
s <- as.col_spec(iris)
s
#> cols(
#>   Sepal.Length = col_double(),
#>   Sepal.Width = col_double(),
#>   Petal.Length = col_double(),
#>   Petal.Width = col_double(),
#>   Species = col_factor(levels = c(""setosa"", ""versicolor"", ""virginica""), ordered = FALSE, include_na = FALSE)
#> )
as.character(s)
#> [1] ""ddddf""
```"
readr,52,The cli package is now used for all messages.
readr,53,The runtime performance for tables with an extreme number of columns is greatly improved (#825)
readr,54,Compressed files are now detected by magic numbers rather than by the file extension (#1125)
readr,55,A memory leak when reading files is now fixed (#1092)
readr,56,`write_*()` functions gain a `eol =` argument to control the end of line character used (#857). This allows writing of CSV files with Windows newlines (CRLF) if desired.
readr,57,The Rcpp dependency has been removed in favor of cpp11.
readr,58,The build system has been greatly simplified so should work on more systems.
readr,59,"The full problem field is now displayed in the problems tibble, as intended (#444)."
readr,60,"New `%h` placeholder for parsing unrestricted hours (\<0 and \>23) to support parsing durations (#549, @​krlmlr)."
readr,61,`as.character.col_spec()` now handles logical columns as well (#1127)
readr,62,`fwf_positions(end)` no longer has a default argument and must be specified (#996)
readr,63,`guess_parser()` gains a `na` argument and removes NA values before guessing (#1041).
readr,64,`parse_guess()` now passes the `na` argument to `guess_parser()`
readr,65,"`read_*` functions now close properly all connections, including on errors like HTTP errors when reading from a url (@​cderv, #1050)."
readr,66,`read_delimited()` no longer mistakenly stats literal filenames (#1063)
readr,67,`read_lines()` now ignores quotations when skipping lines (#991).
readr,68,`read_lines(skip_empty_rows = TRUE)` no longer crashes if a file ends with an empty line (#968)
readr,69,"`write_*()` functions now invisibly return the input data frame unchanged, rather than a version with factors and dates converted to strings. (@​jesse-ross, #975)."
readr,70,`write_csv2()` now formats decimal numbers more consistently with `utils::write.csv2()` (#1087)
readr,71,"`write_csv2()` and `format_csv2()` no longer pad number columns with whitespaces (@​keesdeschepper, #1046)."
readr,72,`write_excel_csv()` no longer outputs a byte order mark when appending to a file (#1075).
readr,73,"Uses of `tibble::data_frame` updated to `tibble::tibble` ([tidyverse/dplyr#4069](https://github.com/tidyverse/dplyr/issues/4069), @​thays42, #1124, @​brianrice2)"
readr,74,"`read_delimited()` now returns an empty `tibble::data_frame()` rather than signaling an error when given a connection with an empty file (@​pralitp, #963)."
readr,75,"More helpful error when trying to write out data frames with list columns (@​ellessenne, #938)"
readr,76,"`type_convert()` removes a 'spec' attribute, because the current columns likely have modified data types. The 'spec' attribute is set by functions like `read_delim()` (@​jimhester, @​wibeasley, #1032)."
readr,77,"`write_rds()` now can specify the Rds version to use. The default value is 2 as it's compatible to R versions prior to 3.5.0 (@​shrektan, #1001)."
readr,78,"Fixes for issues related to variable initialization in C++ code (@​michaelquinn32, ##1133)."
readr,79,Column specifications are now coloured when printed. This makes it easy to see at a glance when a column is input as a different type then the rest. Colouring can be disabled by setting `options(crayon.enabled = FALSE)`.
readr,80,"`as.col_spec()` can now use named character vectors, which makes `read_csv(""file.csv"", col_types = c(xyz = ""c""))` equivalent to `read_csv(""file.csv"", col_types = cols(xyz = col_character())`"
readr,81,"Fix skipping when single quotes are embedded in double quoted strings, and single quotes in skipped or commented lines (#944, #945)."
readr,82,Fix for compilation using custom architectures on macOS (#919)
readr,83,Fix for valgrind errors (#941)
readr,84,`hms` objects with NA values are now written without whitespace padding (#930).
readr,85,"`read_*()` functions now return `spec_tbl_df` objects, which differ from regular `tbl_df` objects only in that the `spec` attribute is removed (and they are demoted to regular `tbl_df` objects) as soon as they are subset (#934)."
readr,86,`write_csv2()` now properly respects the `na` argument (#928)
readr,87,Fixes compilation with multiple architectures on linux (#922).
readr,88,Fixes compilation with R \< 3.3.0
readr,89,"`melt_*()` functions added for reading ragged data (#760, @​nacnudus)."
readr,90,"`AccumulateCallback` R6 class added to provide an example of accumulating values in a single result (#689, @​blakeboswell)."
readr,91,"`read_fwf()` can now accept overlapping field specifications (#692, @​gergness)"
readr,92,"`type_convert()` now allows character column specifications and also silently skips non-character columns (#369, #699)"
readr,93,"The `parse_*()` functions and `read_fwf()` gain a `trim_ws` argument to control whether the fields should be trimmed before parsing (#636, #735)."
readr,94,"`parse_number()` now parses numbers in scientific notation using `e` and `E` (#684, @​sambrady3)."
readr,95,"Add `write_excel_csv2()` function to allow writing csv files with comma as a decimal separator and semicolon as a column separator (#753, @​olgamie)."
readr,96,`read_*()` files now support reading from the clipboard by using `clipboard()` (#656).
readr,97,"`write_file()` gains a `sep` argument, to specify the line separator (#665)."
readr,98,"Allow files to be read via FTP over SSH by recognising `sftp` as a URL protocol (#707, @​jdeboer)."
readr,99,"`parse_date*() accepts`%a\` for local day of week (#763, @​tigertoes)."
readr,100,"Added function `read_lines_raw_chunked()` (#710, @​gergness)"
readr,101,"`write_csv2()` added to complement `write_excel_csv2()` and allow writing csv file readable by `read_csv2()` (#870, @​cderv)."
readr,102,`as.col_spec()` is now exported (#517).
readr,103,`write*()` functions gain a `quote_escape` argument to control how quotes are escaped in the output (#854).
readr,104,`read*()` functions now have a more informative error when trying to read a remote bz2 file (#891).
readr,105,"`spec_table2()` function added to correspond to `read_table2()` (#778, @​mawds)."
readr,106,"`parse_factor()` now has `levels = NULL` by default (#862, @​mikmart)."
readr,107,"`""f""` can now be used as a shortcode for `col_factor()` in `cols()` and the `col_types` argument to `read_delim()` and friends (#810, @​mikmart)."
readr,108,"Functions now read connections to a temporary file rather than to an in-memory object (#610, #76)."
readr,109,`standardise_path()` now uses a case-insensitive comparison for the file extensions (#794).
readr,110,`parse_guess()` now guesses logical types when given (lowercase) 'true' and 'false' inputs (#818).
readr,111,`read_*()` now do not print a progress bar when running inside a RStudio notebook chunk (#793)
readr,112,`read_table2()` now skips comments anywhere in the file (#908).
readr,113,"`parse_factor()` now handles the case of empty strings separately, so you can have a factor level that is an empty string (#864)."
readr,114,`read_delim()` now correctly reads quoted headers with embedded newlines (#784).
readr,115,`fwf_positions()` now always returns `col_names` as a character (#797).
readr,116,`format_*()` now explicitly marks it's output encoding as UTF-8 (#697).
readr,117,`read_delim()` now ignores whitespace between the delimiter and quoted fields (#668).
readr,118,`read_table2()` now properly ignores blank lines at the end of a file like `read_table()` and `read_delim()` (#657).
readr,119,"`read_delim()`, `read_table()` and `read_table()` now skip blank lines at the start of a file (#680, #747)."
readr,120,`guess_parser()` now guesses a logical type for columns which are all missing. This is useful when binding multiple files together where some files have missing columns. (#662).
readr,121,"Column guessing will now never guess an integer type. This avoids issues where double columns are incorrectly guessed as integers if they have only integer values in the first 1000 (#645, #652)."
readr,122,"`read_*()` now converts string `file`s to UTF-8 before parsing, which is convenient for non-UTF-8 platforms in most cases (#730, @​yutannihilation)."
readr,123,"`write_csv()` writes integers up to 10\^15 without scientific notation (#765, @​zeehio)"
readr,124,"`read_*()` no longer throws a ""length of NULL cannot be changed"" warning when trying to resize a skipped column (#750, #833)."
readr,125,"`read_*()` now handles non-ASCII paths properly with R \>=3.5.0 on Windows (#838, @​yutannihilation)."
readr,126,`read*()`'s `trim_ws` parameter now trims both spaces and tabs (#767)
readr,127,Point release for test compatibility with tibble v1.3.1.
readr,128,"Fixed undefined behavior in localtime.c when using `locale(tz = """")` after loading a timezone due to incomplete reinitialization of the global locale."
readr,129,"`parse_factor()` gains a `include_na` argument, to include `NA` in the factor levels (#541)."
readr,130,"`parse_factor()` will now can accept `levels = NULL`, which allows one to generate factor levels based on the data (like stringsAsFactors = TRUE) (#497)."
readr,131,`parse_numeric()` now returns the full string if it contains no numbers (#548).
readr,132,`parse_time()` now correctly handles 12 AM/PM (#579).
readr,133,`problems()` now returns the file path in additional to the location of the error in the file (#581).
readr,134,"`read_csv2()` gives a message if it updates the default locale (#443, @​krlmlr)."
readr,135,`read_delim()` now signals an error if given an empty delimiter (#557).
readr,136,`write_*()` functions witting whole number doubles are no longer written with a trailing `.0` (#526).
readr,137,"`fwf_cols()` allows for specifying the `col_positions` argument of `read_fwf()` with named arguments of either column positions or widths (#616, @​jrnold)."
readr,138,"`fwf_empty()` gains an `n` argument to control how many lines are read for whitespace to determine column structure (#518, @​Yeedle)."
readr,139,"`read_fwf()` gives error message if specifications have overlapping columns (#534, @​gergness)"
readr,140,`read_table()` can now handle `pipe()` connections (#552).
readr,141,`read_table()` can now handle files with many lines of leading comments (#563).
readr,142,"`read_table2()` which allows any number of whitespace characters as delimiters, a more exact replacement for `utils::read.table()` (#608)."
readr,143,"`write_*()` functions now support writing to binary connections. In addition output filenames with `.gz`, `.bz2` or `.xz` will automatically open the appropriate connection and to write the compressed file. (#348)"
readr,144,`write_lines()` now accepts a list of raw vectors (#542).
readr,145,"`col_euro_double()`, `parse_euro_double()`, `col_numeric()`, and `parse_numeric()` have been removed."
readr,146,"`guess_encoding()` returns a tibble, and works better with lists of raw vectors (as returned by `read_lines_raw()`)."
readr,147,"`ListCallback` R6 Class to provide a more flexible return type for callback functions (#568, @​mmuurr)"
readr,148,`tibble::as.tibble()` now used to construct tibbles (#538).
readr,149,"`read_csv`, `read_csv2`, and `read_tsv` gain a `quote` argument, (#631, @​noamross)"
readr,150,`parse_factor()` now converts data to UTF-8 based on the supplied locale (#615).
readr,151,`read_*()` functions with the `guess_max` argument now throw errors on inappropriate inputs (#588).
readr,152,`read_*_chunked()` functions now properly end the stream if `FALSE` is returned from the callback.
readr,153,"`read_delim()` and `read_fwf()` when columns are skipped using `col_types` now report the correct column name (#573, @​cb4ds)."
readr,154,`spec()` declarations that are long now print properly (#597).
readr,155,"`read_table()` does not print `spec` when `col_types` is not `NULL` (#630, @​jrnold)."
readr,156,`guess_encoding()` now returns a tibble for all ASCII input as well (#641).
readr,157,New example `extdata/challenge.csv` which is carefully created to cause problems with the default column type guessing heuristics.
readr,158,"Blank lines and lines with only comments are now skipped automatically without warning (#381, #321)."
readr,159,"Single '-' or '.' are now parsed as characters, not numbers (#297)."
readr,160,"Numbers followed by a single trailing character are parsed as character, not numbers (#316)."
readr,161,We now guess at times using the `time_format` specified in the `locale()`.
readr,162,"If `col_types` is too long, it is subsetted correctly (#372, @​jennybc)."
readr,163,"If `col_names` is too short, the added names are numbered correctly (#374, @​jennybc)."
readr,164,"Missing column name names are now given a default name (`X2`, `X7` etc) (#318). Duplicated column names are now deduplicated. Both changes generate a warning; to suppress it supply an explicit `col_names` (setting `skip = 1` if there's an existing ill-formed header)."
readr,165,`col_types()` accepts a named list as input (#401).
readr,166,`%I` for 12 hour time format (#340).
readr,167,"`%AD` and `%AT` are ""automatic"" date and time parsers. They are both slightly less flexible than previous defaults. The automatic date parser requires a four digit year, and only accepts `-` and `/` as separators (#442). The flexible time parser now requires colons between hours and minutes and optional seconds (#424)."
readr,168,`parse_time()` returns `hms` objects rather than a custom `time` class (#409). It now correctly parses missing values (#398).
readr,169,`parse_date()` returns a numeric vector (instead of an integer vector) (#357).
readr,170,"`parse_date()`, `parse_time()` and `parse_datetime()` gain an `na` argument to match all other parsers (#413)."
readr,171,"If the format argument is omitted `parse_date()` or `parse_time()`, date and time formats specified in the locale will be used. These now default to `%AD` and `%AT` respectively."
readr,172,"You can now parse partial dates with `parse_date()` and `parse_datetime()`, e.g. `parse_date(""2001"", ""%Y"")` returns `2001-01-01`."
readr,173,`read_file_raw()` reads a complete file into a single raw vector (#451).
readr,174,`read_*()` functions gain a `quoted_na` argument to control whether missing values within quotes are treated as missing values or as strings (#295).
readr,175,"`write_excel_csv()` can be used to write a csv file with a UTF-8 BOM at the start, which forces Excel to read it as UTF-8 encoded (#375)."
readr,176,`write_lines()` writes a character vector to a file (#302).
readr,177,`write_file()` to write a single character or raw vector to a file (#474).
readr,178,Experimental support for chunked reading a writing (`read_*_chunked()`) functions. The API is unstable and subject to change in the future (#427).
readr,179,"Printing double values now uses an [implementation](https://github.com/juj/MathGeoLib/blob/master/src/Math/grisu3.c) of the [grisu3 algorithm](http://www.cs.tufts.edu/~nr/cs257/archive/florian-loitsch/printf.pdf) which speeds up writing of large numeric data frames by \~10X. (#432) '.0' is appended to whole number doubles, to ensure they will be read as doubles as well. (#483)"
readr,180,"readr imports tibble so that you get consistent `tbl_df` behaviour (#317, #385)."
readr,181,New example `extdata/challenge.csv` which is carefully created to cause problems with the default column type guessing heuristics.
readr,182,`default_locale()` now sets the default locale in `readr.default_locale` rather than regenerating it for each call. (#416).
readr,183,`locale()` now automatically sets decimal mark if you set the grouping mark. It throws an error if you accidentally set decimal and grouping marks to the same character (#450).
readr,184,"All `read_*()` can read into long vectors, substantially increasing the number of rows you can read (#309)."
readr,185,"All `read_*()` functions return empty objects rather than signaling an error when run on an empty file (#356, #441)."
readr,186,"`read_delim()` gains a `trim_ws` argument (#312, noamross)"
readr,187,`read_fwf()` received a number of improvements:
readr,187,"• `read_fwf()` now can now reliably read only a partial set of columns (#322, #353, #469)"
readr,187,"• `fwf_widths()` accepts negative column widths for compatibility with the `widths` argument in `read.fwf()` (#380, @​leeper)."
readr,187,"• You can now read fixed width files with ragged final columns, by setting the final end position in `fwf_positions()` or final width in `fwf_widths()` to `NA` (#353, @​ghaarsma). `fwf_empty()` does this automatically."
readr,187,• `read_fwf()` and `fwf_empty()` can now skip commented lines by setting a `comment` argument (#334).
readr,192,`read_lines()` ignores embedded null's in strings (#338) and gains a `na` argument (#479).
readr,193,`readr_example()` makes it easy to access example files bundled with readr.
readr,194,`type_convert()` now accepts only `NULL` or a `cols` specification for `col_types` (#369).
readr,195,"`write_delim()` and `write_csv()` now invisibly return the input data frame (as documented, #363)."
readr,196,Doubles are parsed with `boost::spirit::qi::long_double` to work around a bug in the spirit library when parsing large numbers (#412).
readr,197,Fix bug when detecting column types for single row files without headers (#333).
readr,198,Fix bug when checking empty values for missingness (caused valgrind issue and random crashes).
readr,199,Fixes so that readr works on Solaris.
readr,200,"`read_csv()`, `read_tsv()`, `read_fwf()`, `read_table()`, `read_lines()`, `read_file()`, `type_convert()`, `parse_vector()` all gain a `locale` argument."
readr,201,`locale()` controls all the input settings that vary from place-to-place.
readr,202,`col_euro_double()` and `parse_euro_double()` have been deprecated. Use the `decimal_mark` parameter to `locale()` instead.
readr,203,"The default encoding is now UTF-8. To load files that are not in UTF-8, set the `encoding` parameter of the `locale()` (#40). New `guess_encoding()` function uses stringi to help you figure out the encoding of a file."
readr,204,"`parse_datetime()` and `parse_date()` with `%B` and `%b` use the month names (full and abbreviate) defined in the locale (#242). They also inherit the tz from the locale, rather than using an explicit `tz` parameter."
readr,205,`cols()` lets you pick the default column type for columns not otherwise explicitly named (#148). You can refer to parsers either with their full name (e.g. `col_character()`) or their one letter abbreviation (e.g. `c`).
readr,206,`cols_only()` allows you to load only named columns. You can also choose to override the default column type in `cols()` (#72).
readr,207,"`read_fwf()` is now much more careful with new lines. If a line is too short, you'll get a warning instead of a silent mistake (#166, #254). Additionally, the last column can now be ragged: the width of the last field is silently extended until it hits the next line break (#146). This appears to be a common feature of ""fixed"" width files in the wild."
readr,208,"In `read_csv()`, `read_tsv()`, `read_delim()` etc:"
readr,208,• `comment` argument allows you to ignore comments (#68).
readr,208,• `trim_ws` argument controls whether leading and trailing whitespace is removed. It defaults to `TRUE` (#137).
readr,208,"• Specifying the wrong number of column names, or having rows with an unexpected number of columns, generates a warning, rather than an error (#189)."
readr,208,"• Multiple NA values can be specified by passing a character vector to `na` (#125). The default has been changed to `na = c("""", ""NA"")`. Specifying `na = """"` now works as expected with character columns (#114)."
readr,213,`parse_character()` gains better support for embedded nulls: any characters after the first null are dropped with a warning (#202).
readr,214,`parse_integer()` and `parse_double()` no longer silently ignore trailing letters after the number (#221).
readr,215,"New `parse_time()` and `col_time()` allows you to parse times (hours, minutes, seconds) into number of seconds since midnight. If the format is omitted, it uses a flexible parser that looks for hours, then optional colon, then minutes, then optional colon, then optional seconds, then optional am/pm (#249)."
readr,216,`parse_date()` and `parse_datetime()`:
readr,216,"• `parse_datetime()` no longer incorrectly reads partial dates (e.g. 19, 1900, 1900-01) (#136). These triggered common false positives and after re-reading the ISO8601 spec, I believe they actually refer to periods of time, and should not be translated in to a specific instant (#228)."
readr,216,"• Compound formats ""%D"", ""%F"", ""%R"", ""%X"", ""%T"", ""%x"" are now parsed correctly, instead of using the ISO8601 parser (#178, @​kmillar)."
readr,216,"• ""%."" now requires a non-digit. New ""%+"" skips one or more non-digits."
readr,216,• You can now use `%p` to refer to AM/PM (and am/pm) (#126).
readr,216,• `%b` and `%B` formats (month and abbreviated month name) ignore case when matching (#219).
readr,216,"• Local (non-UTC) times with and without daylight savings are now parsed correctly (#120, @​andres-s)."
readr,223,`parse_number()` is a somewhat flexible numeric parser designed to read currencies and percentages. It only reads the first number from a string (using the grouping mark defined by the locale).
readr,224,"`parse_numeric()` has been deprecated because the name is confusing - it's a flexible number parser, not a parser of ""numerics"", as R collectively calls doubles and integers. Use `parse_number()` instead."
readr,225,New `parse_guess()` and `col_guess()` to explicitly guess column type.
readr,226,Bumped up row inspection for column typing guessing from 100 to 1000.
readr,227,"The heuristics for guessing `col_integer()` and `col_double()` are stricter. Numbers with leading zeros now default to being parsed as text, rather than as integers/doubles (#266)."
readr,228,A column is guessed as `col_number()` only if it parses as a regular number when you ignoring the grouping marks.
readr,229,"Now use R's platform independent `iconv` wrapper, thanks to BDR (#149)."
readr,230,"Pathological zero row inputs (due to empty input, `skip` or `n_max`) now return zero row data frames (#119)."
readr,231,"When guessing field types, and there's no information to go on, use character instead of logical (#124, #128)."
readr,232,Concise `col_types` specification now understands `?` (guess) and `-` (skip) (#188).
readr,233,"`count_fields()` starts counting from 1, not 0 (#200)."
readr,234,`format_csv()` and `format_delim()` make it easy to render a csv or delimited file into a string.
readr,235,"`fwf_empty()` now works correctly when `col_names` supplied (#186, #222)."
readr,236,`parse_*()` gains a `na` argument that allows you to specify which values should be converted to missing.
readr,237,"`problems()` now reports column names rather than column numbers (#143). Whenever there is a problem, the first five problems are printing out in a warning message, so you can more easily see what's wrong."
readr,238,"`read_*()` throws a warning instead of an error is `col_types` specifies a non-existent column (#145, @​alyst)."
readr,239,`read_*()` can read from a remote gz compressed file (#163).
readr,240,`read_delim()` defaults to `escape_backslash = FALSE` and `escape_double = TRUE` for consistency. `n_max` also affects the number of rows read to guess the column types (#224).
readr,241,"`read_lines()` gains a progress bar. It now also correctly checks for interrupts every 500,000 lines so you can interrupt long running jobs. It also correctly estimates the number of lines in the file, considerably speeding up the reading of large files (60s -\> 15s for a 1.5 Gb file)."
readr,242,"`read_lines_raw()` allows you to read a file into a list of raw vectors, one element for each line."
readr,243,"`type_convert()` gains `NA` and `trim_ws` arguments, and removes missing values before determining column types."
readr,244,"`write_csv()`, `write_delim()`, and `write_rds()` all invisibly return their input so you can use them in a pipe (#290)."
readr,245,`write_delim()` generalises `write_csv()` to write any delimited format (#135). `write_tsv()` is a helpful wrapper for tab separated files.
readr,245,"• Quotes are only used when they're needed (#116): when the string contains a quote, the delimiter, a new line or NA."
readr,245,• Double vectors are saved using same amount of precision as `as.character()` (#117).
readr,245,• New `na` argument that specifies how missing values should be written (#187)
readr,245,• POSIXt vectors are saved in a ISO8601 compatible format (#134).
readr,245,"• No longer fails silently if it can't open the target for writing (#193, #172)."
readr,251,"`write_rds()` and `read_rds()` wrap around `readRDS()` and `saveRDS()`, defaulting to no compression (#140, @​nicolasCoutin)."
readxl,1,Updating the embedded version of libxls (more below)
readxl,2,Switching from Rcpp to cpp11 (more below)
readxl,3,Refactoring to reduce duplication between the `.xls` and `.xlsx` branches
readxl,4,"""Date or Not Date"": The classification of number formats as being datetime-ish is more sophisticated and should no longer be so easily fooled by, e.g., colours or currencies. This affects cell and column type guessing, hopefully for the better (#388, #559, @​nacnudus, @​reviewher)."
readxl,5,"Cell location is determined more robustly in `.xlsx` files, guarding against the idiosyncratic way in which certain 3rd party tools include (or, rather, do not include) cell location in individual cell nodes (#648, #671)."
readxl,6,"Warning messages for impossible dates are more specific. Unsupported dates prior to 1900 have their own message now, instead of being lumped in with dates on the non-existent day of February 29, 1900 (#551, #554, @​cderv)."
readxl,7,readxl is now licensed as MIT (#632).
readxl,8,"readxl now states its support for R \>= 3.4 explicitly. Why 3.4? Because the [tidyverse policy](https://www.tidyverse.org/blog/2019/04/r-version-support/) is to support the current version, the devel version, and four previous versions of R. It was necessary to introduce a minimum R version, in order to state a minimum version for a package listed in `LinkingTo`."
readxl,9,readxl embeds libxls v1.6.2 (the previous release embedded v1.5.0). The libxls project is hosted at <https://github.com/libxls/libxls> and you can learn more about the cumulative changes in its release notes:
readxl,9,• [v1.6.2](https://github.com/libxls/libxls/releases/tag/v1.6.2)
readxl,9,• [v1.6.1](https://github.com/libxls/libxls/releases/tag/v1.6.1)
readxl,9,• [v1.6.0](https://github.com/libxls/libxls/releases/tag/v1.6.0)
readxl,9,• [v1.5.3](https://github.com/libxls/libxls/releases/tag/v1.5.3)
readxl,9,• [v1.5.2](https://github.com/libxls/libxls/releases/tag/v1.5.2)
readxl,9,• [v1.5.1](https://github.com/libxls/libxls/releases/tag/v1.5.1)
readxl,16,"readxl has switched from Rcpp to cpp11 and now requires C++11 (#659, @​sbearrows)."
readxl,17,"The minimum version of tibble has been bumped to 2.0.1 (released 2019-01-12), completing the transition to an approach to column name repair used across the tidyverse."
readxl,18,[CVE-2018-20452](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2018-20452)
readxl,19,[CVE-2018-20450](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2018-20450)
readxl,20,[Column Names](https://readxl.tidyverse.org/articles/articles/column-names.html) is a new article about this feature.
readxl,21,"readxl delegates name repair to tibble, therefore the installed tibble version determines how names are repaired."
readxl,22,"If tibble \>= v2.0.0, the full power of `.name_repair` is available, defaulting to `.name_repair = ""unique""`. Otherwise, the legacy function `tibble::repair_names(prefix = ""X"", sep = ""__"")` is used, replicating the behaviour of readxl v1.1.0."
readxl,22,• Consider a spreadsheet with three columns: one unnamed and two named `x`.
readxl,22,"• Content of cells in Excel: `""""`, `x`, `x`"
readxl,22,"• New style column names: `..1`, `x..2`, `x..3`"
readxl,22,"• Legacy column names: `X__1`, `x`, `x__1`"
readxl,27,"Once per session, readxl emits a message stating that it works best with tibble \>= v2.0.0. It is anticipated that this will become a hard minimum version requirement in a future version of readxl."
readxl,28,"`read_excel()` and friends gain a `progress` argument that controls a progress spinner (#243, #538)."
readxl,29,`read_xls()` and `read_xlsx()` pass the `trim_ws` argument along (#514).
readxl,30,"readxl has a [new article](https://readxl.tidyverse.org/articles/articles/multiple-header-rows.html) on reading Excel files with multiple header rows (#486, #492 @​apreshill)."
readxl,31,"xlsx files that do not have a ""styles"" part can now be read (#505, #506 @​jt6)"
readxl,32,"All paths are passed through `normalizePath()` (#498, #499, new behaviour for xlsx but not xls) and `enc2native()` (#370)."
readxl,33,"`read_excel()` and `excel_sheets()` associate a larger set of file extensions with xlsx and are better able to guess the format of a file with a nonstandard or missing extension. This is about deciding whether to treat a file as xls or xlsx. (#342, #411, #457)"
readxl,33,• `excel_format()` is the newly-exported format-guessing function.
readxl,33,"• `format_from_ext()` is a low-level helper, also exported, that only consults file extension. In addition to the obvious interpretation of `.xls` and `.xlsx`, the extensions `.xlsm`, `.xltx`, and `.xltm` are now associated with xlsx."
readxl,33,"• `format_from_signature()` is a low-level helper, also exported, that consults the file's signature (a.k.a. magic number). It's handy for files that lack an extension."
readxl,37,"Embedded libxls has been updated to address security vulnerabilitities identified in late 2017 (#441, #442)."
readxl,37,"• [CVE-2017-12110](https://talosintelligence.com/vulnerability_reports/TALOS-2017-0462), [CVE-2017-2896](https://talosintelligence.com/vulnerability_reports/TALOS-2017-0403), and [CVE-2017-2897](https://talosintelligence.com/vulnerability_reports/TALOS-2017-0404) were demonstrated to affect readxl v1.0.0. These have been addressed in libxls and the embedded version of libxls incorporates those fixes."
readxl,37,"• Although [CVE-2017-12111](https://talosintelligence.com/vulnerability_reports/TALOS-2017-0463) and [CVE-2017-2919](https://talosintelligence.com/vulnerability_reports/TALOS-2017-0426) mention readxl, the notices clarify that these CVEs do not actually affect readxl. Both have been fixed in libxls for quite a while: CVE-2017-12111 since 2014 and CVE-2017-2919 since 2012."
readxl,40,"xlsx structured as a ""minimal conformant SpreadsheetML package"" can be read. Most obvious feature of such sheets is the lack of an `xl/` directory in the unzipped form. (xlsx, #435, #437)"
readxl,41,"Reading xls sheet with exactly 65,536 rows no longer enters an infinite loop. (xls, #373, #416, #432 @​vkapartzianis)"
readxl,42,"Doubles, including datetimes, coerced to character from xls now have much higher precision, comparable to the xlsx behaviour. (xls, #430, #431)"
readxl,43,"Integer-y numbers larger than 2\^31 are coerced properly to string (xls, #346)"
readxl,44,"Shared strings are only compared to NA strings after lookup, never on the basis of their index. (xlsx, #401)"
readxl,45,Better checks and messaging around nonexistent files. (#392)
readxl,46,Add `$(C_VISIBILITY)` to compiler flags to hide internal symbols from the dll. (#385 @​jeroen)
readxl,47,"Numeric data in a logical column now coerces properly to logical. (xlsx, #385 @​nacnudus)"
readxl,48,"`range` is a new argument for reading a rectangular range, possibly open. (#314, #8)"
readxl,49,"`n_max` is a new argument that limits the number of data rows read. (#306, #281)"
readxl,50,"Empty cells, rows, columns (xlsx #248 and #240, xls #271): Cells with no content are no longer loaded, even if they appear in the file. Affects cells that have no data but that carry explicit formatting, detectable in Excel as seemingly empty cells with a format other than ""General"". Such cells may still exist in the returned tibble, with value `NA`, depending on the sheet geometry."
readxl,50,"• Eliminates a source of trailing rows (#203) and columns (#236, #162, #146) consisting entirely of `NA`."
readxl,50,"• Eliminates a subtle source of disagreement between user-provided column names and guessed column types (#169, #81)."
readxl,50,"• Embedded empty columns are no longer automatically dropped, regardless of whether there is a column name. (#157, #261)"
readxl,50,"• Worksheets that are completely empty or that contain only column names no longer error, but return a tibble with zero rows. (#222, #144, #65)"
readxl,50,"• Improved handling of leading and embedded blank rows and explicit row skipping. (#224, #194, #178, #156, #101)"
readxl,56,"User-supplied `col_names` are processed relative to user-supplied `col_types`, if given. Specifically, `col_names` is considered valid if it has the same length as `col_types`, before *or after* removing skipped columns. (#81, #261)"
readxl,57,"`""list""` is a new accepted value for `col_types`. Loads data as a list of length-1 vectors, that are typed using the logic from `col_types = NULL`, but on a cell-by-cell basis (#262 @​gergness)."
readxl,58,"`""logical""` is a new accepted value for `col_types`. When `col_types = NULL`, it is the guessed type for cells Excel advertises as Boolean. When a column has no data, it is now filled with logical `NA`. (#277, #270)"
readxl,59,"`""guess""` is a new accepted value for `col_types`. Allows the user to specify some column types, while allowing others to be guessed (#286)"
readxl,60,"A user-specified `col_types` of length one will be replicated to have length equal to the number of columns. (#127, #114, #261)"
readxl,61,"`""blank""` has been deprecated in favor of the more descriptive and readr-compatible `""skip""`, which is now the preferred way to request that a column be skipped. (#260, #193, #261)"
readxl,62,"`guess_max` is a new argument that lets user adjust the number of rows used to guess column types. (#223, #257 @​tklebel and @​jennybc)"
readxl,63,"`trim_ws` is a new argument to remove leading and trailing whitespace. It defaults to `TRUE`. (#326, #211)"
readxl,64,"`na` can now hold multiple NA values, e.g., `read_excel(""missing-values.xls"", na = c(""NA"", ""1""))`. (#13, #56, @​jmarshallnz)"
readxl,65,Coercions and cell data:
readxl,65,"• Numeric data that appears in a date column is coerced to a date. Throws a warning. (#277, #266)"
readxl,65,"• Dates that appear in a numeric column are converted to `NA` instead of their integer representation. Throws warning. (#277, #263)"
readxl,65,"• ""Number stored as text"": when a text cell is found in a numeric column, `read_excel()` attempts to coerce the string to numeric and falls back to `NA` if unsuccessful. Throws warning. (#277, #217, #106)"
readxl,65,"• Cells in error are treated as blank and are imported as `NA` (instead of the string `""error""`). (#277, #62)"
readxl,65,"• BoolErr cells are now handled in xls. Suppresses message `""Unknown type: 517""`. (#274, #259)"
readxl,65,• Dates that arise from a formula are treated as dates (vs. numeric) in xls. (#277)
readxl,65,"• Dates in .xlsx files saved with LibreOffice are now recognized as such. (#134, @​zeehio)"
readxl,73,"Namespace prefixes are now stripped from element names and attributes when parsing XML from xlsx. Workaround for the creative approach taken in some other s/w, coupled with rapidxml's lack of namespace support. (#295, #268, #202, #80)"
readxl,74,"Excel mixes 0- and 1-indexing in reported row and column dimensions for xls and libxls expects that. Other s/w may index from 0 for both, preventing libxls from reading the last column. Patched to restore access to those cells. (#273, #180, #152, #99)"
readxl,75,"More robust logic for sheet lookup in xlsx. Improves compatibility with xlsx written by a variety of tools and/or xlsx containing chartsheets. (#233, #104, #200, #168, #116, @​jimhester and @​jennybc)"
readxl,76,"The `numFmtId` attribute is no longer accessed when it does not exist (xlsx written by <https://www.epplussoftware.com>). (#191, #229)"
readxl,77,"Location is inferred for cells that do not declare their location (xlsx written by JMP). (#240, #163, #102)"
readxl,78,"`read_xls()` and `read_xlsx()` are now exposed, such that files without an `.xls` or `.xlsx` extension can be read. (#85, @​jirkalewandowski)"
readxl,79,"The [Lotus 1-2-3 leap year bug](https://docs.microsoft.com/en-US/office/troubleshoot/excel/wrongly-assumes-1900-is-leap-year) is now accounted for, i.e. date-times prior to March 1, 1900 import correctly. Date-times on the non-existent leap day February 29, 1900 import as NA and throw a warning. (#264, #148, #292)"
readxl,80,"The tibble package is now imported (#175, @​krlmlr) and `tibble::repair_names()` is used to prevent empty, `NA`, or duplicated column names. (#216, #208, #199 #182, #53, #247)."
readxl,81,"Default column names for xlsx now start with X\_\_1 instead of X\_\_0. (#98, @​zeehio, @​krlmlr)"
readxl,82,"Fix compilation warnings/failures (FreeBSD 10.3 #221, gcc 4.9.3 #124) and/or problems reading xls (CentOS 6.6 #189). (#244, #245, #246 @​jeroen)"
readxl,83,"Unwanted printed output (e.g., `DEFINEDNAME: 21 00 00 ...`) is suppressed when reading xls that contains a defined range. (#82, #188, @​PedramNavid)"
readxl,84,"Add support for correctly reading strings in .xlsx files containing escaped unicode characters (e.g. `_x005F_`). (#51, @​jmarshallnz)"
reprex,1,"The ad placed by `reprex(advertise = TRUE)` has been tweaked for `venue = ""gh""` (and, therefore, for its aliases `""so""` and `""ds""`) and `venue = ""slack""` (#395)."
reprex,2,"reprex takes advantage of rlang 1.0.0's improved [support for backtraces in knitted documents](https://rlang.r-lib.org/reference/rlang_backtrace_on_error.html#errors-in-rmarkdown) and sets the option `rlang_backtrace_on_error_report = ""full""` (#377)."
reprex,3,"`reprex_rtf()` (a shortcut for `reprex(venue = ""rtf"")`) now works on Windows, even if one of the (possibly temporary) filepaths contains a space, e.g. because the username contains a space (#409, @​cderv)."
reprex,4,"The RStudio addin no longer displays a warning about condition length when selecting 'current file' as the reprex source (#391, @​bisaloo)."
reprex,5,Internal matters:
reprex,5,"• Help files below `man/` have been re-generated, so that they give rise to valid HTML5. (This is the impetus for this release, to keep the package safely on CRAN.)"
reprex,5,"• reprex's condition signalling has been updated to use the current approaches provided by the cli, rlang, and lifecycle packages."
reprex,8,"When `reprex()` is called without `expr` or `input`, in a context where the user's clipboard can't be reached from R, the default is now to consult the current selection for reprex source. Previously this was only available via the `reprex_selection()` addin. Note that this ""current selection"" default behaviour propagates to convenience wrappers around `reprex()`, such as `reprex_locale()` and venue-specific functions like `reprex_r()`, and to the un-`reprex()` functions, such as `reprex_clean()`."
reprex,9,"In this context, the file containing the (un)rendered reprex is opened so the user can manually copy its contents."
reprex,10,"To reprex in the current working directory,\ Previously: `reprex(outfile = NA)`\ Now: `reprex(wd = ""."")`\ More generally, usage looks like `reprex(wd = ""path/to/desired/wd"")`."
reprex,11,"If you really care about reprex filename (and location), write your source to `path/to/stuff.R` and call `reprex(input = ""path/to/stuff.R"")`. When `input` is a filepath, that filepath determines the working directory and how reprex files are named and `wd` is never even consulted."
reprex,12,We explicitly make sure that the working directory of the `callr::r()` call is the same as the effective working directory of the reprex.
reprex,13,We alert the user that a local `.Rprofile` has been found.
reprex,14,We indicate the usage of a local `.Rprofile` in the rendered reprex.
reprex,15,rstudioapi moves from Suggests to Imports. Related to improving the experience when reprex cannot access the user's clipboard.
reprex,16,mockr is new in Suggests; it's used in the tests.
reprex,17,"We bumped the documented minimum version of Pandoc, because we use the `gfm` markdown variant to get GitHub-Flavored Markdown. The `gfm` variant was introduced in Pandoc 2.0 (released 2017-10-29)."
reprex,18,"`reprex_VENUE(...)` is a new way to call `reprex(..., venue = ""VENUE"")`. For example, `reprex_r()` is equivalent to `reprex(venue = ""r"")`. This makes non-default venues easier to access via auto-completion (#256)."
reprex,19,"`""slack""` is a new venue that tweaks the default Markdown output for pasting into Slack messages. It removes the `r` language identifier from the opening code fence, simplifies image links and, by default, suppresses the ad. Note that `venue = ""slack""` or `reprex_slack()` work best for people who opt-out of the WYSIWYG message editor: in *Preferences \> Advanced*, select ""Format messages with markup""."
reprex,20,"`venue = ""so""` (SO = Stack Overflow) has converged with default `venue = ""gh""` (GitHub). As of January 2019, SO [supports CommonMark fenced code blocks](https://meta.stackexchange.com/questions/125148/implement-style-fenced-markdown-code-blocks/322000#322000). The only remaining difference is that Stack Overflow does not support the collapsible details tag that we use on GitHub to reduce the clutter from, e.g., session info (#231)."
reprex,21,"`""rtf""` (Rich Text Format) is a new experimental `venue` for pasting into applications like PowerPoint and Keynote. It is experimental because it requires a working installation of the highlight command line tool, which is left as a somewhat fiddly exercise for the user (#331). `venue = ""rtf""` is documented in its [own article](https://reprex.tidyverse.org/articles/articles/rtf.html)."
reprex,22,"`reprex.current_venue` is a new read-only option that is set during `reprex_render()`. Other packages can use it to generate `reprex()`-compatible, `venue`-aware output, such as an renv lockfile."
reprex,23,`reprex()` has been internally refactored to make better use of the official machinery for extending rmarkdown:
reprex,23,• `reprex_document()` is a new R Markdown output format.
reprex,23,• `reprex_render()` is a newly exported function.
reprex,23,"• A `reprex_document()` is designed to be rendered with `reprex_render()`. `reprex_render()` is designed to act on a `reprex_document()`. This is (still) the heart of what the `reprex()` function does, in addition to various interface and workflow niceties."
reprex,23,"• Two R Markdown templates ship with the package, which an RStudio user can access via *File \> New File \> R Markdown ... \> From Template*. One is minimal; the other uses lots of reprex features. Both include `knit: reprex::reprex_render` in the YAML, which causes the RStudio ""Knit"" button to use `reprex_render()`."
reprex,28,"`prex()`, `prex_VENUE()`, and `prex_render()` are new **unexported** functions that, like `reprex()`, render a small bit of code, but with much less **re**producibility! The code is evaluated in the global workspace of the current process, with the current working directory. This pragmatic hack is useful when preparing a series of related snippets, e.g., for a Keynote or PowerPoint presentation, and there's not enough space to make each one self-contained."
reprex,29,"UTF-8 encoding: Following the lead of knitr, reprex makes explicit use of UTF-8 internally (#237 @​krlmlr, #261)."
reprex,30,"When the reprex causes R to crash, `reprex(std_out_err = TRUE)` is able to provide more information about the crash, in some cases (#312)."
reprex,31,"The `tidyverse_quiet` argument and `reprex.tidyverse_quiet` option also control startup messages from the [tidymodels](https://www.tidymodels.org) meta-package (#326, @​juliasilge)."
reprex,32,`reprex_locale()` is a new thin wrapper around `reprex()` that renders in a temporarily-altered locale (#250).
reprex,33,"The `si` argument of `reprex()` is now `session_info`. Being explicit seems more important than saving characters, given auto-completion."
reprex,34,"The `show` argument of `reprex()` is now `html_preview`, for the sake of consistency with other R Markdown output formats."
reprex,35,"New article on techniques for making package startup quieter (#187, @​marionlouveaux)."
reprex,36,"sessioninfo is new in Suggests, replacing devtools."
reprex,37,"glue is new in Imports, replacing whisker."
reprex,38,"knitr moves from Suggests to Imports (although it was already a hard dependency via rmarkdown), so we can require v1.23 or higher, which represents a major switch to UTF-8."
reprex,39,cli is new in Imports.
reprex,40,"reprex now relies on testthat \>= 3.0.0 and, specifically, uses third edition features."
reprex,41,"The `crayon.enabled` option is explicitly set to `FALSE` when rendering the reprex (#238, #239)."
reprex,42,"Expression input is once again captured via `substitute()` (as opposed to `rlang::enexpr()`), which is more favorable for reprexes involving tidy eval (#241)."
reprex,43,"New venue ""html"" to render HTML fragments, useful for pasting in sites without markdown but that allow HTML (#236 @​cwickham)."
reprex,44,The YAML of reprex's template has been updated in light of the stricter YAML parser used in Pandoc \>= 2.2.2.
reprex,45,`rlang::set_attrs()` has been soft-deprecated and is no longer used internally.
reprex,46,"The reprex ad is formatted as superscript for `venue = ""gh""` and `venue = ""so""`, i.e. it is more subtle (#201)."
reprex,47,"New experimental venue ""rtf"" produces syntax highlighted snippets suitable for pasting into presentation software such as Keynote or PowerPoint. This venue is discussed in [an article](https://reprex.tidyverse.org/articles/articles/rtf.html) (#26)."
reprex,48,Arguments `opts_chunk` and `opts_knit` have been removed from `reprex()`. The same effect has always been achievable via roxygen comments in the reprex code and the examples have always demonstrated this. Overriding knitr options doesn't seem to come up often enough in real-world `reprex()` usage to justify these arguments.
reprex,49,Internal file system operations use the [fs](https://fs.r-lib.org) package. This should not make any user-facing changes in reprex and we definitely want to know if it does.
reprex,50,"`advertise`: toggles inclusion of a footer that describes when and how the reprex was created, e.g., ""Created on 2017-11-16 by the reprex package (v0.1.1.9000)"". Defaults to `TRUE` (#121, #69)."
reprex,51,"`style`: requests code restyling via the newly-Suggested styler package. styler can cope with tidyeval syntactical sugar, e.g. `df %>% group_by(!! group_var)`. Defaults to `FALSE` (#108, #94)."
reprex,52,"`tidyverse_quiet`: affords control of the startup message of the tidyverse meta-package. Defaults to `TRUE`, i.e. suppresses the message (important special case of #70, #100)."
reprex,53,"`std_out_err`: appends output sent to stdout and stderr by the reprex rendering process. This can be necessary to reveal output if the reprex spawns child processes or has `system()` calls. Defaults to `FALSE` (#90, #110)."
reprex,54,`render`: determines if the reprex is actually rendered or just returns after producing the templated `.R` file. For internal testing.
reprex,55,"Line wrapping is preserved from source via a Pandoc option (#145 @​jimhester, #175)."
reprex,56,"`venue = ""gh""` now targets CommonMark as the standard for GitHub Flavored Markdown (#77)."
reprex,57,"`venue = ""so""` has appropriate whitespace at the start."
reprex,58,"`venue = ""ds""` is a new value, corresponding to <https://www.discourse.org>, which is the platform behind [community.rstudio.com](https://community.rstudio.com). This is currently just an alias for the default `""gh""` GitHub venue, because the formatting appears to be compatible. Adding the `""ds""` value so Discourse can be documented and to guard against the possibility that some formatting is actually unique."
reprex,59,"The `keep.source` option is set to `TRUE` when rendering the reprex, so reprexes involving srcrefs should work (#152)."
reprex,60,"The ""undo"" functions (`reprex_invert()`, `reprex_clean()`, `reprex_rescue()`) handle `input` and `outfile` like `reprex()` does. The `outfile` argument is new (#129, #68)."
reprex,61,"The default value for knitr's `upload.fun` is now set according to the venue. It is `knitr::imgur_upload()` for all venues except `""r""`, where it is `identity` (#125)."
reprex,62,"The HTML preview should appear in the RStudio Viewer more consistently, especially on Windows (#75 @​yutannihilation)."
reprex,63,More rigorous use of UTF-8 encoding (#76 @​yutannihilation).
reprex,64,"Expression input handling has been refactored. As a result, formatR is no longer Suggested. Trailing comments -- inline and on their own line -- are also now retained (#89, #91, #114, @​jennybc and @​jimhester)."
reprex,65,"Custom prompts are now escaped when used in regexes (#98, #99 @​jimhester). Embedded newlines are now escaped."
reprex,66,Pandoc added to SystemRequirements.
reprex,67,"`outfile = NA` causes outfiles to be left in working directory. Filenames will be based on the `input` file, if there was one."
reprex,68,`reprex()` strips any leading prompts from input code.
reprex,69,"Added functions `reprex_clean()`, `reprex_invert()`, and `reprex_rescue()` in order to go backwards, i.e. recover source from a wild-caught reprex."
reprex,70,"`venue = ""R""` (or `""r""`) can be used to get an R script back, augmented with commented output."
reprex,71,`comment` argument added to specify prefix for commented output.
reprex,72,"Added an RStudio addin, accessed via ""Render reprex""."
reprex,73,"`input` argument to `reprex()` and friends handles code as string, character vector, or file path."
reprex,74,"The reprex is rendered via `callr::r_safe()` and is thus run in a clean, separate R process, eliminating any leakage of objects or loaded packages to/from the calling session."
reprex,75,"`reprex()` gains optional arguments `opts_chunk` and `opts_knit`, taking named list as input, in order to supplement or override default knitr chunk and package options, respectively. (#33)"
reprex,75,"• This made the explicit `upload.fun` argument unnecessary, so it's gone. The `upload.fun` option defaults to `knitr::imgur_upload`, which means figures produced by the reprex will be uploaded to [imgur.com](https://imgur.com/) and the associated image syntax will be put into the Markdown, e.g. `![](https://i.imgur.com/QPU5Cg9.png)`. (#15 @​paternogbc)"
reprex,77,Order of `reprex()` arguments has changed.
reprex,78,"`reprex()` gains the `si` argument to request that `devtools::session_info()` or `sessionInfo()` be appended to reprex code (#6 @​dgrtwo). When `si = TRUE` and `venue = ""gh""` (the default), session info is wrapped in a collapsible details tag. See [an example](https://github.com/tidyverse/reprex/issues/55) (#55)."
reprex,79,"Reprex code can be provided as an R expression. (#6 @​dgrtwo, #35)"
reprex,80,"`reprex()` uses clipboard functionality from [`clipr`](https://CRAN.R-project.org/package=clipr) and thus should work on Windows and suitably prepared Unix-like systems, in addition to Mac OS. (#16 @​mdlincoln)"
reprex,81,I tweeted about this and some people actually used it!
rlang,1,The C level `r_dyn_*_push_back()` utilities are now faster (#1542).
rlang,2,rlang is now compliant with `-Wstrict-prototypes` as requested by CRAN (#1508).
rlang,3,`as_closure(seq.int)` now works (#1468).
rlang,4,rlang no longer stores errors and backtraces in a `org:r-lib` environment on the search path.
rlang,5,The low-level function `error_call()` is now exported (#1474).
rlang,6,Fixed an issue that caused a failure about a missing `is_character` function when rlang is installed alongside an old version of vctrs (#1482).
rlang,7,Fixed an issue that caused multiline calls in backtraces.
rlang,8,The C API function `r_lgl_which()` now propagates the names of the input (#1471).
rlang,9,"The `pkg_version_info()` function now allows `==` for package version comparison (#1469, @​kryekuzhinieri)."
rlang,10,Fixed backtrace display with calls containing long lists of arguments (#1456).
rlang,11,New `r_obj_type_friendly()` function in the C library (#1463). It interfaces with `obj_type_friendly()` from `compat-obj-type.R` via a C callable.
rlang,12,`is_installed()` no longer throws an error with irregular package names.
rlang,13,`is_installed()` and `check_installed()` now properly detect that the base package is installed on older versions of R (#1434).
rlang,14,Child errors may now have empty messages to enable this pattern:
rlang,14,"```
Error in `my_function()`:
Caused by error in `their_function()`:
! Message.
```"
rlang,15,The `rlib_bytes` class now uses prettyunits to format bytes. The bytes are now represented with decimal prefixes instead of binary prefixes.
rlang,16,"Supplying a frame environment to the `call` argument of `abort()` now causes the corresponding function call in the backtrace to be highlighted. In addition, if you store the argument name of a failing input in the `arg` error field, the argument is also highlighted in the backtrace. Instead of:"
rlang,16,"```
cli::cli_abort(""{.arg {arg}} must be a foobar."", call = call)
```"
rlang,16,You can now write this to benefit from arg highlighting:
rlang,16,"```
cli::cli_abort(""{.arg {arg}} must be a foobar."", arg = arg, call = call)
```"
rlang,17,"`abort(message = )` can now be a function. In this case, it is stored in the `header` field and acts as a `cnd_header()` method invoked when the message is displayed."
rlang,18,New `obj_type_oo()` function in `compat-obj-type.R` (#1426).
rlang,19,`friendly_type_of()` from `compat-obj-type.R` (formerly `compat-friendly-type.R`) is now `obj_type_friendly()`.
rlang,20,"`options(backtrace_on_error = ""collapse"")` and `print(trace, simplify = ""collapse"")` are deprecated. They fall back to `""none""` with a warning."
rlang,21,`call_match()` now better handles `...` when `dots_expand = FALSE`.
rlang,22,`list2(!!!x)` is now faster when `x` is a list. It is now returned as is instead of being duplicated into a new list.
rlang,23,`abort()` gains a `.trace_bottom` argument to disambiguate from other `.frame`. This allows `cli::cli_abort()` to wrap `abort()` in such a way that `.internal` mentions the correct package to report the error in (#1386).
rlang,24,The `transpose()` compat is now more consistent with purrr when inner names are not congruent (#1346).
rlang,25,New `reset_warning_verbosity()` and `reset_message_verbosity()` functions. These reset the verbosity of messages signalled with `warn()` and `inform()` with the `.frequency` argument. This is useful for testing verbosity in your package (#1414).
rlang,26,`check_dots_empty()` now allows trailing missing arguments (#1390).
rlang,27,Calls to local functions that are not accessible through `::` or `:::` are now marked with `(local)` in backtraces (#1399).
rlang,28,Error messages now mention indexed calls like `foo$bar()`.
rlang,29,"New `env_coalesce()` function to copy bindings from one environment to another. Unlike approaches based on looping with `[[<-`, `env_coalesce()` preserves active and lazy bindings."
rlang,30,Chaining errors at top-level (directly in the console instead of in a function) no longer fails (#1405).
rlang,31,Warning style is propagated across parent errors in chained error messages (#1387).
rlang,32,"`check_installed()` now works within catch-all `tryCatch(error = )` expressions (#1402, tidyverse/ggplot2#4845)."
rlang,33,`arg_match()` and `arg_match0()` now mention the correct call in case of type error (#1388).
rlang,34,`abort()` and `inform()` now print messages to `stdout` in RStudio panes (#1393).
rlang,35,`is_installed()` now detects unsealed namespaces (#1378). This fixes inconsistent behaviour when run within user onLoad hooks.
rlang,36,Source references in backtraces and `last_error()`/`last_trace()` instructions are now clickable in IDEs that support links (#1396).
rlang,37,`compat-cli.R` now supports `style_hyperlink()`.
rlang,38,"`abort(.homonyms = ""error"")` now throws the expected error (#1394)."
rlang,39,`env_binding_are_active()` no longer accidentally triggers active bindings (#1376).
rlang,40,Fixed bug in `quo_squash()` with nested quosures containing the missing argument.
rlang,41,Backtraces of parent errors are now reused on rethrow. This avoids capturing the same backtrace twice and solves consistency problems by making sure both errors in a chain have the same backtrace.
rlang,42,Fixed backtrace oversimplification when `cnd` is a base error in `abort(parent = cnd)`.
rlang,43,Internal errors thrown with `abort(.internal = TRUE)` now mention the name of the package the error should be reported to.
rlang,44,Backtraces are now separated from error messages with a `---` ruler line (#1368).
rlang,45,"The internal bullet formatting routine now ignores unknown names (#1364). This makes it consistent with the cli package, increases resilience against hard-to-detect errors, and increases forward compatibility."
rlang,46,"`abort()` and friends no longer calls non-existent functions (e.g. `cli::format_error()` or `cli::format_warning`) when the installed version of cli is too old (#1367, tidyverse/dplyr#6189)."
rlang,47,Fixed an OOB subsetting error in `abort()`.
rlang,48,"New `rlang_call_format_srcrefs` global option (#1349). Similar to `rlang_trace_format_srcrefs`, this option allows turning off the display of srcrefs in error calls. This can be useful for reproducibility but note that srcrefs are already disabled within testthat by default."
rlang,49,`abort(parent = NA)` is now supported to indicate an unchained rethrow. This helps `abort()` detect the condition handling context to create simpler backtraces where this context is hidden by default.
rlang,50,"When `parent` is supplied, `abort()` now loops over callers to detect the condition handler frame. This makes it easier to wrap or extract condition handlers in functions without supplying `.frame`."
rlang,51,"When `parent` is supplied and `call` points to the condition setup frame (e.g. `withCallingHandlers()` or `try_fetch()`), `call` is replaced with the caller of that setup frame. This provides a more helpful default call."
rlang,52,`is_call()` is now implemented in C for performance.
rlang,53,Fixed performance regression in `trace_back()`.
rlang,54,"Fixed a partial matching issue with `header`, `body`, and `footer` condition fields."
rlang,55,`eval_tidy()` calls are no longer mentioned in error messages.
rlang,56,`abort()` now displays errors as fully bulleted lists. Error headers are displayed with a `!` prefix. See <https://rlang.r-lib.org/reference/topic-condition-customisation.html> to customise the display of error messages.
rlang,57,"`abort()` now displays a full chain of messages when errors are chained with the `parent` argument. Following this change, you should update dplyr to version 1.0.8 to get proper error messages."
rlang,58,"`abort()` now displays function calls in which a message originated by default. We have refrained from showing these calls until now to avoid confusing messages when an error is thrown from a helper function that isn't relevant to users. To help with these cases, `abort()` now takes a `call` argument that you can set to `caller_env()` or `parent.frame()` when used in a helper function. The function call corresponding to this environment is retrieved and stored in the condition."
rlang,59,"cli formatting is now supported. Use `cli::cli_abort()` to get advanced formatting of error messages, including indented bulleted lists. See <https://rlang.r-lib.org/reference/topic-condition-formatting.html>."
rlang,60,New `try_fetch()` function for error handling. We recommend to use it for chaining errors. It mostly works like `tryCatch()` with a few important differences.
rlang,60,"• Compared to `tryCatch()`, `try_fetch()` preserves the call stack. This allows full backtrace capture and allows `recover()` to reach the error site."
rlang,60,"• Compared to `withCallingHandler()`, `try_fetch()` is able to handle stack overflow errors (this requires R 4.2, unreleased at the time of writing)."
rlang,63,"The tidy eval documentation has been fully rewritten to reflect current practices. Access it through the ""Tidy evaluation"" and ""Metaprogramming"" menus on <https://rlang.r-lib.org>."
rlang,64,The `.data` object exported by rlang now fails when subsetted instead of returning `NULL`. This new error helps you detect when `.data` is used in the wrong context. We've noticed several packages failing after this change because they were using `.data` outside of a data-masking context. For instance the `by` argument of `dplyr::join()` is not data-masked. Previously `dplyr::join(by = .data$foo)` would silently be interpreted as `dplyr::join(by = NULL)`. This is now an error. Another issue is using `.data` inside `ggplot2::labs(...)`. This is not allowed since `labs()` isn't data-masked.
rlang,65,"`call_name()` now returns `NULL` instead of `""::""` for calls of the form `foo::bar`. We've noticed some packages do not check for `NULL` results from `call_name()`. Note that many complex calls such as `foo()()`, `foo$bar()` don't have a ""name"" and cause a `NULL` result. This is why you should always check for `NULL` results when using `call_name()`. We've added the function `is_call_simple()` to make it easier to work safely with `call_name()`. The invariant is that `call_name()` always returns a string when `is_call_simple()` returns `TRUE`. Conversely it always returns `NULL` when `is_call_simple()` retuns `FALSE`."
rlang,66,"`is_expression()` now returns `FALSE` for manually constructed expressions that can't be created by the parser. It used to return `TRUE` for any calls, including those that contain injected objects. Consider using `is_call()` or just remove the expression check. In many cases it is fine letting all objects go through when an expression is expected. For instance you can inject objects directly inside dplyr arguments:"
rlang,66,"```
x <- seq_len(nrow(data))
dplyr::mutate(data, col = !!x)
```"
rlang,67,"If a string is supplied to `as_function()` instead of an object (function or formula), the function is looked up in the global environment instead of the calling environment. In general, passing a function name as a string is brittle. It is easy to forget to pass the user environment to `as_function()` and sometimes there is no obvious user environment. The support for strings should be considered a convenience for end users only, not for programmers. Since environment forwarding is easy to mess up, and since the feature is aimed towards end users, `as_function()` now defaults to the global environment. Supply an environment explicitly if that is not correct in your case."
rlang,68,"`with_handlers()`, `call_fn()`, and `friendly_type()` are deprecated."
rlang,69,"The `action` argument of `check_dots_used()`, `check_dots_unnamed()`, and `check_dots_empty()` is deprecated in favour of the new `error` argument which takes an error handler."
rlang,70,Many functions deprecated in rlang 0.2.0 and 0.3.0 have been removed from the package.
rlang,71,New `englue()` operator to allow string-embracing outside of dynamic dots (#1172).
rlang,72,New `data_sym()` and `data_syms()` functions to create calls of the form `.data$foo`.
rlang,73,"`.data` now fails early when it is subsetted outside of a data mask context. This provides a more informative error message (#804, #1133)."
rlang,74,"`as_label()` now better handles calls to infix operators (#956, r-lib/testthat#1432). This change improves auto-labelled expressions in data-masking functions like `tibble()`, `mutate()`, etc."
rlang,75,"The `{{` operator is now detected more strictly (#1087). If additional arguments are supplied through `{`, it is no longer interpreted as an injection operator."
rlang,76,"The `.ignore_empty` argument of `enexprs()` and `enquos()` no longer treats named arguments supplied through `...` as empty, consistently with `exprs()` and `quos()` (#1229)."
rlang,77,Fixed a hang when a quosure inheriting from a data mask is evaluated in the mask again.
rlang,78,"Fixed performance issue when splicing classes that explicitly inherit from list with `!!!` (#1140, r-lib/vctrs#1170)."
rlang,79,Attributes of quosure lists are no longer modified by side effect (#1142).
rlang,80,"`enquo()`, `enquos()` and variants now support numbered dots like `..1` (#1137)."
rlang,81,Fixed a bug in the AST rotation algorithm that caused the `!!` operator to unexpectedly mutate injected objects (#1103).
rlang,82,Fixed AST rotation issue with `!!` involving binary operators (#1125).
rlang,83,`try_fetch()` is a flexible alternative to both `tryCatch()` and `withCallingHandlers()` (#503). It is also more efficient than `tryCatch()` and creates leaner backtraces.
rlang,84,New `cnd_inherits()` function to detect a class in a chain of errors (#1293).
rlang,85,"New `global_entrace()` function, a user-friendly helper for configuring errors in your RProfile. Call it to enrich all base errors and warnings with an rlang backtrace. This enables `last_error()`, `last_warnings()`, `last_messages()`, and `backtrace_on_error` support for all conditions."
rlang,86,New `global_handle()` function to install a default configuration of error handlers. This currently calls `global_entrace()` and `global_prompt_install()`. Expect more to come.
rlang,87,"The ""Error:"" part of error messages is now printed by rlang instead of R. This introduces several cosmetic and informative changes in errors thrown by `abort()`:"
rlang,87,"• The `call` field of error messages is now displayed, as is the default in `base::stop()`. The call is only displayed if it is a simple expression (e.g. no inlined function) and the arguments are not displayed to avoid distracting from the error message. The message is formatted with the tidyverse style (`code` formatting by the cli package if available)."
rlang,87,• The source location is displayed (as in `base::stop()`) if `call` carries a source reference. Source locations are not displayed when testthat is running to avoid brittle snapshots.
rlang,87,"• Error headers are always displayed on their own line, with a `""!""` bullet prefix."
rlang,90,See <https://rlang.r-lib.org/reference/topic-condition-customisation.html> to customise this new display.
rlang,91,"The display of chained errors created with the `parent` argument of `abort()` has been improved. Chains of errors are now displayed at throw time with the error prefix ""Caused by error:""."
rlang,92,The `print()` method of rlang errors (commonly invoked with `last_error()`) has been improved:
rlang,92,• Display calls if present.
rlang,92,• Chained errors are displayed more clearly.
rlang,95,`inform()` and `warn()` messages can now be silenced with the global options `rlib_message_verbosity` and `rlib_warning_verbosity`.
rlang,96,"`abort()` now outputs error messages to `stdout` in interactive sessions, following the same approach as `inform()`."
rlang,97,"Errors, warnings, and messages generated from rlang are now formatted with cli. This means in practice that long lines are width-wrapped to the terminal size and user themes are applied. This is currently only the case for rlang messages. This special formatting is not applied when `abort()`, `warn()`, and `inform()` are called from another namespace than rlang. See <https://rlang.r-lib.org/reference/topic-condition-formatting.html> if you'd like to use cli to format condition messages in your package."
rlang,98,`format_error_bullets()` (used as a fallback instead of cli) now treats:
rlang,98,• Unnamed elements as unindented line breaks (#1130)
rlang,98,"• Elements named `""v""` as green ticks (@​rossellhayes)"
rlang,98,"• Elements named `"" ""` as indented line breaks"
rlang,98,"• Elements named `""*""` as normal bullets"
rlang,98,"• Elements named `""!""` as warning bullets"
rlang,103,"For convenience, a fully unnamed vector is interpreted as a vector of `""*""` bullets."
rlang,104,"`abort()` gains a `.internal` argument. When set to `TRUE`, a footer bullet is added to `message` to let the user know that the error is internal and that they should report it to the package authors."
rlang,105,"`abort()`, `warn()`, and `inform()` gain a `body` argument to supply additional bullets in the error message."
rlang,106,"rlang conditions now have `as.character()` methods. Use this generic on conditions to generate a whole error message, including the `Error:` prefix. These methods are implemented as wrappers around `cnd_message()`."
rlang,107,`header` and `footer` methods can now be stored as closures in condition fields of the same name.
rlang,108,"`cnd_message()` gains a `prefix` argument to print the message with a full prefix, including `call` field if present and parent messages if the condition is chained."
rlang,109,`cnd_message()` gains an `inherit` argument to control whether to print the messages of parent errors.
rlang,110,Condition constructors now check for duplicate field names (#1268).
rlang,111,"`cnd_footer()` now returns the `footer` field by default, if any."
rlang,112,"`warn()` and `inform()` now signal conditions of classes `""rlang_warning""` and `""rlang_message""` respectively."
rlang,113,The `body` field of error conditions can now be a character vector.
rlang,114,"The error returned by `last_error()` is now stored on the search path as the `.Last.error` binding of the `""org:r-lib""` environment. This is consistent with how the processx package records error conditions. Printing the `.Last.error` object is now equivalent to running `last_error()`."
rlang,115,"Added `is_error()`, `is_warning()`, and `is_message()` predicates (#1220)."
rlang,116,`interrupt()` no longer fails when interrupts are suspended (#1224).
rlang,117,"`warn()` now temporarily sets the `warning.length` global option to the maximum value (8170). The default limit (1000 characters) is especially easy to hit when the message contains a lot of ANSI escapes, as created by the crayon or cli packages (#1211)."
rlang,118,`entrace()` and `global_entrace()` now log warnings and messages with backtraces attached. Run `last_warnings()` or `last_messages()` to inspect the warnings or messages emitted during the last command.
rlang,119,Internal errors now include a winch backtrace if installed. The user is invited to install it if not installed.
rlang,120,"Display of rlang backtraces for expected errors in dynamic reports (chunks where `error = TRUE` in knitted documents and RStudio notebooks) is now controlled by the `rlang_backtrace_on_error_report` option. By default, this is set to `""none""`. The display of backtraces for *unexpected* errors (in chunks where `error` is unset or set to `FALSE`) is still controlled by `rlang_backtrace_on_error`."
rlang,121,The `last_error()` reminder is no longer displayed in RStudio notebooks.
rlang,122,"A `knitr::sew()` method is registered for `rlang_error`. This makes it possible to consult `last_error()` (the call must occur in a different chunk than the error) and to set `rlang_backtrace_on_error_report` global options in knitr to display a backtrace for expected errors. If you show rlang backtraces in a knitted document, also set this in a hidden chunk to trim the knitr context from the backtraces:"
rlang,122,"```
options(
  rlang_trace_top_env = environment()
)
```"
rlang,122,This change replaces an ad hoc mechanism that caused bugs in corner cases (#1205).
rlang,123,"The `rlang_trace_top_env` global option for `trace_back()` now detects when backtraces are created within knitr. If the option is not set, its default value becomes `knitr::knit_global()` when knitr is in progress (as determined from `knitr.in.progress` global option). This prevents the knitr evaluation context from appearing in the backtraces (#932)."
rlang,124,Namespace changes are now emboldened in backtraces (#946).
rlang,125,Functions defined in the global environments or in local execution environments are now displayed with a space separator in backtraces instead of `::` and `:::`. This avoids making it seem like these frame calls are valid R code ready to be typed in (#902).
rlang,126,"Backtraces no longer contain inlined objects to avoid performance issues in edge cases (#1069, r-lib/testthat#1223)."
rlang,127,External backtraces in error chains are now separately displayed (#1098).
rlang,128,Trace capture now better handles wrappers of calling handler in case of rethrown chained errors.
rlang,129,Backtraces now print dangling srcrefs (#1206). Paths are shortened to show only three components (two levels of folder and the file).
rlang,130,The root symbol in backtraces is now slightly different so that it can't be confused with a prompt character (#1207).
rlang,131,`arg_match()` gains a `multiple` argument for cases where zero or several matches are allowed (#1281).
rlang,132,New function `check_required()` to check that an argument is supplied. It produces a more friendly error message than `force()` (#1118).
rlang,133,"`check_dots_empty()`, `check_dots_used()`, and `check_dots_unnamed()` have been moved from ellipsis to rlang. The ellipsis package is deprecated and will eventually be archived. We have added `check_dots_empty0()`. It has a different UI but is almost as efficient as checking for `missing(...)`. Use this in very low level functions where a couple microseconds make a difference."
rlang,134,The `arg_nm` argument of `arg_match0()` must now be a string or symbol.
rlang,135,`arg_match()` now mentions the supplied argument (#1113).
rlang,136,`is_installed()` and `check_installed()` gain a `version` argument (#1165).
rlang,137,`check_installed()` now consults the `rlib_restart_package_not_found` global option to determine whether to prompt users to install packages. This also disables the restart mechanism (see below).
rlang,138,`check_installed()` now signals errors of class `rlib_error_package_not_found` with a `rlib_restart_package_not_found` restart. This allows calling handlers to install the required packages and restart the check (#1150).
rlang,139,"`is_installed()` and `check_installed()` now support DESCRIPTION-style version requirements like `""rlang (>= 1.0)""`. They also gain `version` and `compare` arguments to supply requirements programmatically."
rlang,140,`check_installed()` gains an `action` argument that is called when the user chooses to install and update missing and outdated packages.
rlang,141,New `check_exclusive()` function to check that only one argument of a set is supplied (#1261).
rlang,142,`on_load()` and `run_on_load()` lets you run `.onLoad()` expressions from any file of your package. `on_package_load()` runs expressions when another package is loaded. (#1284)
rlang,143,The new predicate `is_call_simple()` indicates whether a call has a name and/or a namespace. It provides two invariants:
rlang,143,"• If `is_call_simple(x)` is `TRUE`, `call_name()` always returns a string."
rlang,143,"• If `is_call_simple(x, ns = TRUE)` is `TRUE`, `call_ns()` always returns a string."
rlang,146,`call_name()` and `call_ns()` now return `NULL` with calls of the form `foo::bar` (#670).
rlang,147,"New `current_call()`, `caller_call()`, and `frame_call()` accessors. New `frame_fn()` accessor."
rlang,148,`env_has()` and the corresponding C-level function no longer force active bindings (#1292).
rlang,149,New `names2<-` replacement function that never adds missing values when names don't have names (#1301).
rlang,150,`zap_srcref()` now preserves attributes of closures.
rlang,151,"Objects headers (as printed by `last_error()`, `env_print()`, ...) are now formatted using the `cls` class of the cli package."
rlang,152,`as_function()` gains `arg` and `call` arguments to provide contextual information about erroring inputs.
rlang,153,`is_expression()` now returns `FALSE` for manually constructed expressions that cannot be created by the R parser.
rlang,154,"New C callable `rlang_env_unbind()`. This is a wrapper around `R_removeVarFromFrame()` on R \>= 4.0.0. On older R this wraps the R function `base::rm()`. Unlike `rm()`, this function does not warn (nor throw) when a binding does not exist."
rlang,155,`friendly_type_of()` now supports missing arguments.
rlang,156,"`env_clone()` now properly clones active bindings and avoids forcing promises (#1228). On R \< 4.0, promises are still forced."
rlang,157,Fixed an `s3_register()` issue when the registering package is a dependency of the package that exports the generic (#1225).
rlang,158,Added `compat-vctrs.R` file for robust manipulation of data frames in zero-deps packages.
rlang,159,Added `compat-cli.R` file to format message elements consistently with cli in zero-deps packages.
rlang,160,`compat-purrr.R` now longer includes `pluck*` helpers; these used a defintion of pluck that predated purrr (#1159). `*_cpl()` has also been removed. The `map*` wrappers now call `as_function()` so that you can pass short anonymous functions that use `~` (#1157).
rlang,161,`exprs_auto_name()` gains a `repair_auto` argument to make automatic names unique (#1116).
rlang,162,"The `.named` argument of `dots_list()` can now be set to `NULL` to give the result default names. With this option, fully unnamed inputs produce a fully unnamed result with `NULL` names instead of a character vector of minimal `""""` names (#390)."
rlang,163,`is_named2()` is a variant of `is_named()` that always returns `TRUE` for empty vectors (#191). It tests for the property that each element of a vector is named rather than the presence of a `names` attribute.
rlang,164,New `rlib_bytes` class imported from the bench package (#1117). It prints and parses human-friendly sizes.
rlang,165,"The `env` argument of `as_function()` now defaults to the global environment. Its previous default was the caller of `as_function()`, which was rarely the correct environment to look in. Since it's hard to remember to pass the user environment and it's sometimes tricky to keep track of it, it's best to consider string lookup as a convenience for end users, not for developers (#1170)."
rlang,166,`s3_register()` no longer fails when generic does not exist. This prevents failures when users don't have all the last versions of packages (#1112).
rlang,167,Formulas are now deparsed according to the tidyverse style guide (`~symbol` without space and `~ expression()` with a space).
rlang,168,"New `hash_file()`, complementing `hash()`, to generate 128-bit hashes for the data within a file without loading it into R (#1134)."
rlang,169,New `env_cache()` function to retrieve a value or create it with a default if it doesn't exist yet (#1081).
rlang,170,`env_get()` and `env_get_list()` gain a `last` argument. Lookup stops in that environment. This can be useful in conjunction with `base::topenv()`.
rlang,171,New `call_match()` function. It is like `match.call()` but also supports matching missing arguments to their defaults in the function definition (#875). `call_standardise()` is deprecated in favour of `call_match()`.
rlang,172,"`expr_deparse()` now properly escapes `\` characters in symbols, argument names, and vector names (#1160)."
rlang,173,`friendly_type_of()` (from `compat-friendly-type.R`) now supports matrices and arrays (#141).
rlang,174,Updated `env_print()` to use `format_error_bullets()` and consistent tidyverse style (#1154).
rlang,175,"`set_names()` now recycles names of size 1 to the size of the input, following the tidyverse recycling rules."
rlang,176,`is_bare_formula()` now handles the `scoped` argument consistently. The default has been changed to `TRUE` for compatibility with the historical default behaviour (#1115).
rlang,177,"The ""definition"" API (`dots_definitions()` etc.) has been archived."
rlang,178,New `is_complex()` predicates to complete the family (#1127).
rlang,179,The C function `r_obj_address()` now properly prefixes addresses with the hexadecimal prefix `0x` on Windows (#1135).
rlang,180,`obj_address()` is now exported.
rlang,181,`%<~%` now actually works.
rlang,182,`XXH3_64bits()` from the XXHash library is now exposed as C callable under the name `rlang_xxh3_64bits()`.
rlang,183,Fix for CRAN checks.
rlang,184,Fix for CRAN checks.
rlang,185,Fixed a gcc11 warning related to `hash()` (#1088).
rlang,186,"New `hash()` function to generate 128-bit hashes for arbitrary R objects using the xxHash library. The implementation is modeled after [xxhashlite](https://github.com/coolbutuseless/xxhashlite), created by @​coolbutuseless."
rlang,187,"New `check_installed()` function. Unlike `is_installed()`, it asks the user whether to install missing packages. If the user accepts, the packages are installed with `pak::pkg_install()` if available, or `utils::install.packages()` otherwise. If the session is non interactive or if the user chooses not to install the packages, the current evaluation is aborted (#1075)."
rlang,188,rlang is now licensed as MIT (#1063).
rlang,189,"Fixed an issue causing extra empty lines in `inform()` messages with `.frequency` (#1076, @​schloerke)."
rlang,190,"`expr_deparse()` now correctly wraps code using `::` and `:::` (#1072, @​krlmlr)."
rlang,191,Dropped support for the R 3.2 series.
rlang,192,"`inject()` evaluates its argument with `!!`, `!!!`, and `{{` support."
rlang,193,New `enquo0()` and `enquos0()` operators for defusing function arguments without automatic injection (unquotation).
rlang,194,"`format_error_bullets()` is no longer experimental. The `message` arguments of `abort()`, `warn()`, and `inform()` are automatically passed to that function to make it easy to create messages with regular, info, and error bullets. See `?format_error_bullets` for more information."
rlang,195,New `zap_srcref()` function to recursively remove source references from functions and calls.
rlang,196,A new compat file for the zeallot operator `%<-%` is now available in the rlang repository.
rlang,197,New `%<~%` operator to define a variable lazily.
rlang,198,New `env_browse()` and `env_is_browsed()` functions. `env_browse()` is equivalent to evaluating `browser()` within an environment. It sets the environment to be persistently browsable (or unsets it if `value = FALSE` is supplied).
rlang,199,Functions created from quosures with `as_function()` now print in a more user friendly way.
rlang,200,New `rlang_print_backtrace` C callable for debugging from C interpreters (#1059).
rlang,201,The `.data` pronoun no longer skips functions (#1061). This solves a dplyr issue involving rowwise data frames and list-columns of functions (tidyverse/dplyr#5608).
rlang,202,`as_data_mask()` now intialises environments of the correct size to improve efficiency (#1048).
rlang,203,"`eval_bare()`, `eval_tidy()` (#961), and `with_handlers()` (#518) now propagate visibility."
rlang,204,`cnd_signal()` now ignores `NULL` inputs.
rlang,205,Fixed bug that prevented splicing a named empty vector with the `!!!` operator (#1045).
rlang,206,"The exit status of is now preserved in non-interactive sessions when `entrace()` is used as an `options(error = )` handler (#1052, rstudio/bookdown#920)."
rlang,207,`next` and `break` are now properly deparsed as nullary operators.
rlang,208,Backtraces now include native stacks (e.g. from C code) when the [winch](https://r-prof.github.io/winch/) package is installed and `rlang_trace_use_winch` is set to `TRUE` (@​krlmlr).
rlang,209,Compatibility with upcoming testthat 3 and magrittr 2 releases.
rlang,210,"`get_env()` now returns the proper environment with primitive functions, i.e. the base namespace rather than the base environment (r-lib/downlit#32)."
rlang,211,`entrace()` no longer handles non-rlang errors that carry a backtrace. This improves compatibility with packages like callr.
rlang,212,Backtraces of unhandled errors are now displayed without truncation in non-interactive sessions (#856).
rlang,213,"`is_interactive()` no longer consults ""rstudio.notebook.executing"" option (#1031)."
rlang,214,`cnd_muffle()` now returns `FALSE` instead of failing if the condition is not mufflable (#1022).
rlang,215,`warn()` and `inform()` gain a `.frequency` argument to control how frequently the warning or message should be displayed.
rlang,216,"New `raw_deparse_str()` function for converting a raw vector into a string of hexadecimal characters (@​krlmlr, #978)."
rlang,217,"The backtraces of chained errors are no longer decomposed by error context. Instead, the error messages are displayed as a tree to reflect the error ancestry, and the deepest backtrace in the ancestry is displayed. This change simplifies the display (#851) and makes it possible to rethow errors from a calling handler rather than an exiting handler, which we now think is more appropriate because it allows users to `recover()` into the error."
rlang,218,"`env_bind()`, `env_bind_active()`, `env_bind_lazy()`, `env_get()`, and `env_get_list()` have been rewritten in C."
rlang,219,`env_poke()` now supports `zap()` sentinels for removing bindings (#1012) and has better support for characters that are not representable in the local encoding.
rlang,220,`env_poke()` has been rewritten in C for performance.
rlang,221,The unicode translation warnings that appeared on Windows with R 4.0 are now fixed.
rlang,222,`env_unbind(inherit = TRUE)` now only removes a binding from the first parent environment that has a binding. It used to remove the bindings from the whole ancestry. The new behaviour doesn't guarantee that a scope doesn't have a binding but it is safer.
rlang,223,`env_has()` is now rewritten in C for performance.
rlang,224,`dots_list()` gains a `.named` argument for auto-naming dots (#957).
rlang,225,It is now possible to subset the `.data` pronoun with quosured symbols or strings (#807).
rlang,226,"Expressions like `quote(list(""a b"" = 1))` are now properly deparsed by `expr_deparse()` (#950)."
rlang,227,"`parse_exprs()` now preserves names (#808). When a single string produces multiple expressions, the names may be useful to figure out what input produced which expression."
rlang,228,`parse_exprs()` now supports empty expressions (#954).
rlang,229,`list2(!!!x)` no longer evaluates `x` multiple times (#981).
rlang,230,"`is_installed()` now properly handles a `pkg` argument of length \> 1. Before this it silently tested the first element of `pkg` only and thus always returned `TRUE` if the first package was installed regardless of the actual length of `pkg`. (#991, @​salim-b)"
rlang,231,"`arg_match0()` is a faster version of `arg_match()` for use when performance is at a premium (#997, @​krlmlr)."
rlang,232,"`!!!` now uses a combination of `length()`, `names()`, and `[[` to splice S3 and S4 objects. This produces more consistent behaviour than `as.list()` on a wider variety of vector classes (#945, tidyverse/dplyr#4931)."
rlang,233,"`set_names()`, `is_formula()`, and `names2()` are now implemented in C for efficiency."
rlang,234,The `.data` pronoun now accepts symbol subscripts (#836).
rlang,235,"Quosure lists now explicitly inherit from `""list""`. This makes them compatible with the vctrs package (#928)."
rlang,236,"All rlang options are now documented in a centralised place, see `?rlang::faq-options` (#899, @​smingerson)."
rlang,237,Fixed crash when `env_bindings_are_lazy()` gets improper arguments (#923).
rlang,238,"`arg_match()` now detects and suggests possible typos in provided arguments (@​jonkeane, #798)."
rlang,239,"`arg_match()` now gives an error if argument is of length greater than 1 and doesn't exactly match the values input, similar to base `match.arg` (#914, @​AliciaSchep)"
rlang,240,Maintenance release for CRAN.
rlang,241,"You can now use glue syntax to unquote on the LHS of `:=`. This syntax is automatically available in all functions taking dots with `list2()` and `enquos()`, and thus most of the tidyverse. Note that if you use the glue syntax in an R package, you need to import glue. A single pair of braces triggers normal glue interpolation:"
rlang,241,"```
df <- data.frame(x = 1:3)

suffix <- ""foo""
df %>% dplyr::mutate(""var_{suffix}"" := x * 2)
#>   x var_foo
#> 1 1       2
#> 2 2       4
#> 3 3       6
```"
rlang,241,"Using a pair of double braces is for labelling a function argument. Technically, this is shortcut for `""{as_label(enquo(arg))}""`. The syntax is similar to the curly-curly syntax for interpolating function arguments:"
rlang,241,"```
my_wrapper <- function(data, var, suffix = ""foo"") {
  data %>% dplyr::mutate(""{{ var }}_{suffix}"" := {{ var }} * 2)
}
df %>% my_wrapper(x)
#>   x x_foo
#> 1 1     2
#> 2 2     4
#> 3 3     6

df %>% my_wrapper(sqrt(x))
#>   x sqrt(x)_foo
#> 1 1    2.000000
#> 2 2    2.828427
#> 3 3    3.464102
```"
rlang,242,Fixed a bug in magrittr backtraces that caused duplicate calls to appear in the trace.
rlang,243,Fixed a bug in magrittr backtraces that caused wrong call indices.
rlang,244,Empty backtraces are no longer shown when `rlang_backtrace_on_error` is set.
rlang,245,The tidy eval `.env` pronoun is now exported for documentation purposes.
rlang,246,`warn()` and `abort()` now check that either `class` or `message` was supplied. `inform()` allows sending empty message as it is occasionally useful for building user output incrementally.
rlang,247,"`flatten()` fails with a proper error when input can't be flattened (#868, #885)."
rlang,248,`inform()` now consistently appends a final newline to the message (#880).
rlang,249,`cnd_body.default()` is now properly registered.
rlang,250,`cnd_signal()` now uses the same approach as `abort()` to save unhandled errors to `last_error()`.
rlang,251,Parsable constants like `NaN` and `NA_integer_` are now deparsed by `expr_deparse()` in their parsable form (#890).
rlang,252,Infix operators now stick to their LHS when deparsed by `expr_deparse()` (#890).
rlang,253,"New `cnd_header()`, `cnd_body()` and `cnd_footer()` generics. These are automatically called by `conditionMessage.rlang_error()`, the default method for all rlang errors. Concretely, this is a way of breaking up lazy generation of error messages with `conditionMessage()` into three independent parts. This provides a lot of flexibility for hierarchies of error classes, for instance you could inherit the body of an error message from a parent class while overriding the header and footer."
rlang,254,The reminder to call `last_error()` is now less confusing thanks to a suggestion by @​markhwhiteii.
rlang,255,"The functions prefixed in `scoped_` have been renamed to use the more conventional `local_` prefix. For instance, `scoped_bindings()` is now `local_bindings()`. The `scoped_` functions will be deprecated in the next significant version of rlang (0.5.0)."
rlang,256,"The `.subclass` argument of `abort()`, `warn()` and `inform()` has been renamed to `class`. This is for consistency with our conventions for class constructors documented in https://adv-r.hadley.nz/s3.html#s3-subclassing."
rlang,257,"`inform()` now prints messages to the standard output by default in interactive sessions. This makes them appear more like normal output in IDEs such as RStudio. In non-interactive sessions, messages are still printed to standard error to make it easy to redirect messages when running R scripts (#852)."
rlang,258,Fixed an error in `trace_back()` when the call stack contains a quosured symbol.
rlang,259,Backtrace is now displayed in full when an error occurs in non-interactive sessions. Previously the backtraces of parent errors were left out.
rlang,260,"New experimental framework for creating bulleted error messages. See `?cnd_message` for the motivation and an overwiew of the tools we have created to support this approach. In particular, `abort()` now takes character vectors to assemble a bullet list. Elements named `x` are prefixed with a red cross, elements named `i` are prefixed with a blue info symbol, and unnamed elements are prefixed with a bullet."
rlang,261,Capture of backtrace in the context of rethrowing an error from an exiting handler has been improved. The `tryCatch()` context no longer leaks in the high-level backtrace.
rlang,262,"Printing an error no longer recommends calling `last_trace()`, unless called from `last_error()`."
rlang,263,"`env_clone()` no longer recreates active bindings and is now just an alias for `env2list(as.list(env))`. Unlike `as.list()` which returns the active binding function on R \< 4.0, the value of active bindings is consistently used in all versions."
rlang,264,"The display of rlang errors derived from parent errors has been improved. The simplified backtrace (as printed by `rlang::last_error()`) no longer includes the parent errors. On the other hand, the full backtrace (as printed by `rlang::last_trace()`) now includes the backtraces of the parent errors."
rlang,265,"`cnd_signal()` has improved support for rlang errors created with `error_cnd()`. It now records a backtrace if there isn't one already, and saves the error so it can be inspected with `rlang::last_error()`."
rlang,266,"rlang errors are no longer formatted and saved through `conditionMessage()`. This makes it easier to use a `conditionMessage()` method in subclasses created with `abort()`, which is useful to delay expensive generation of error messages until display time."
rlang,267,`abort()` can now be called without error message. This is useful when `conditionMessage()` is used to generate the message at print-time.
rlang,268,Fixed an infinite loop in `eval_tidy()`. It occurred when evaluating a quosure that inherits from the mask itself.
rlang,269,`env_bind()`'s performance has been significantly improved by fixing a bug that caused values to be repeatedly looked up by name.
rlang,270,`cnd_muffle()` now checks that a restart exists before invoking it. The restart might not exist if the condition is signalled with a different function (such as `stop(warning_cnd)`).
rlang,271,`trace_length()` returns the number of frames in a backtrace.
rlang,272,Added internal utility `cnd_entrace()` to add a backtrace to a condition.
rlang,273,`rlang::last_error()` backtraces are no longer displayed in red.
rlang,274,"`x %|% y` now also works when `y` is of same length as `x` (@​rcannood, #806)."
rlang,275,"Empty named lists are now deparsed more explicitly as `""<named list>""`."
rlang,276,Fixed `chr()` bug causing it to return invisibly.
rlang,277,"New `pairlist2()` function with splicing support. It preserves missing arguments, which makes it useful for lists of formal parameters for functions."
rlang,278,"`is_bool()` is a scalar type predicate that checks whether its input is a single `TRUE` or `FALSE`. Like `is_string()`, it returns `FALSE` when the input is missing. This is useful for type-checking function arguments (#695)."
rlang,279,"`is_string()` gains a `string` argument. `is_string(x, ""foo"")` is a shortcut for `is_character(x) && length(x) == 1 && identical(x, ""foo"")`."
rlang,280,Lists of quosures now have pillar methods for display in tibbles.
rlang,281,`set_names()` now names unnamed input vectors before applying a function. The following expressions are now equivalent:
rlang,281,"```
letters %>% set_names() %>% set_names(toupper)

letters %>% set_names(toupper)
```"
rlang,282,"You can now pass a character vector as message argument for `abort()`, `warn()`, `inform()`, and `signal()`. The vector is collapsed to a single string with a `""\n""` newline separating each element of the input vector (#744)."
rlang,283,`maybe_missing()` gains a `default` argument.
rlang,284,"New functions for weak references: `new_weakref()`, `weakref_key()`, `weakref_value()`, and `is_weakref()` (@​wch, #787)."
rlang,285,"The performance of `exec()` has been improved. It is now on the same order of performance as `do.call()`, though slightly slower."
rlang,286,`call2()` now uses the new `pairlist2()` function internally. This considerably improves its performance. This also means it now preserves empty arguments:
rlang,286,"```
call2(""fn"", 1, , foo = )
#> fn(1, , foo = )
```"
rlang,287,"`with_handlers()` now installs calling handlers first on the stack, no matter their location in the argument list. This way they always take precedence over exiting handlers, which ensures their side effects (such as logging) take place (#718)."
rlang,288,"In rlang backtraces, the `global::` prefix is now only added when the function directly inherits from the global environment. Functions inheriting indirectly no longer have a namespace qualifier (#733)."
rlang,289,`options(error = rlang::entrace)` now has better support for errors thrown from C (#779). It also saves structured errors in the `error` field of `rlang::last_error()`.
rlang,290,`ns_env()` and `ns_env_name()` (experimental functions) now support functions and environments consisently. They also require an argument from now on.
rlang,291,"`is_interactive()` is aware of the `TESTTHAT` environment variable and returns `FALSE` when it is `""true""` (@​jennybc, #738)."
rlang,292,"`fn_fmls()` and variants no longer coerce their input to a closure. Instead, they throw an error."
rlang,293,Fixed an issue in knitr that caused backtraces to print even when `error = TRUE`.
rlang,294,"The return object from `as_function()` now inherits from `""function""` (@​richierocks, #735)."
rlang,295,`modify()` and `prepend()` (two experimental functions marked as in the questioning stage since rlang 0.3.0) are now deprecated. Vector functions are now out of scope for rlang. They might be revived in the vctrs or funs packages.
rlang,296,`exiting()` is soft-deprecated because `with_handlers()` treats handlers as exiting by default.
rlang,297,The vector constructors like `lgl()` or `new_logical()` are now in the questioning stage. They are likely to be moved to the vctrs package at some point. Same for the missing values shortcuts like `na_lgl`.
rlang,298,"`as_logical()`, `as_integer()`, etc have been soft-deprecated in favour of `vctrs::vec_cast()`."
rlang,299,"`type_of()`, `switch_type()`, `coerce_type()`, and friends are soft-deprecated."
rlang,300,The encoding and locale API was summarily archived. This API didn't bring any value and wasn't used on CRAN.
rlang,301,"`lang_type_of()`, `switch_lang()`, and `coerce_lang()` were archived. These functions were not used on CRAN or internally."
rlang,302,Subsetting quosures with `[` or `[[` is soft-deprecated.
rlang,303,"All functions that were soft-deprecated, deprecated, or defunct in previous releases have been bumped to the next lifecycle stage."
rlang,304,Fixed protection issue reported by rchk.
rlang,305,The experimental option `rlang__backtrace_on_error` is no longer experimental and has been renamed to `rlang_backtrace_on_error`.
rlang,306,"New ""none"" option for `rlang_backtrace_on_error`."
rlang,307,Unary operators applied to quosures now give better error messages.
rlang,308,"Fixed issue with backtraces of warnings promoted to error, and entraced via `withCallingHandlers()`. The issue didn't affect entracing via top level `options(error = rlang::entrace)` handling."
rlang,309,"New `entrace()` condition handler. Add this to your RProfile to enable rlang backtraces for all errors, including warnings promoted to errors:"
rlang,309,"```
if (requireNamespace(""rlang"", quietly = TRUE)) {
  options(error = rlang::entrace)
}
```"
rlang,309,This handler also works as a calling handler:
rlang,309,"```
with_handlers(
  error = calling(entrace),
  foo(bar)
)
```"
rlang,309,However it's often more practical to use `with_abort()` in that case:
rlang,309,"```
with_abort(foo(bar))
```"
rlang,310,`with_abort()` gains a `classes` argument to promote any kind of condition to an rlang error.
rlang,311,New `last_trace()` shortcut to print the backtrace stored in the `last_error()`.
rlang,312,Backtrace objects now print in full by default.
rlang,313,Calls in backtraces are now numbered according to their position in the call tree. The numbering is non-contiguous for simplified backtraces because of omitted call frames.
rlang,314,`catch_cnd()` gains a `classes` argument to specify which classes of condition to catch. It returns `NULL` if the expected condition could not be caught (#696).
rlang,315,"Display an object in a concise way, for example to labellise axes in a graphical plot."
rlang,316,"Give default names to columns in a data frame. In this case, labelling is the first step before name repair."
rlang,317,New `is_interactive()` function. It serves the same purpose as `base::interactive()` but also checks if knitr is in progress and provides an escape hatch. Use `with_interactive()` and `scoped_interactive()` to override the return value of `is_interactive()`. This is useful in unit tests or to manually turn on interactive features in RMarkdown outputs
rlang,318,`calling()` now boxes its argument.
rlang,319,"New `done()` function to box a value. Done boxes are sentinels to indicate early termination of a loop or computation. For instance, it will be used in the purrr package to allow users to shortcircuit a reduction or accumulation."
rlang,320,`new_box()` now accepts additional attributes passed to `structure()`.
rlang,321,Fixed a quotation bug with binary operators of zero or one argument such as `` `/`(1) `` (#652). They are now deparsed and printed properly as well.
rlang,322,New `call_ns()` function to retrieve the namespace of a call. Returns `NULL` if the call is not namespaced.
rlang,323,Top-level S3 objects are now deparsed properly.
rlang,324,Empty `{` blocks are now deparsed on the same line.
rlang,325,Fixed a deparsing issue with symbols containing non-ASCII characters (#691).
rlang,326,"`expr_print()` now handles `[` and `[[` operators correctly, and deparses non-syntactic symbols with backticks."
rlang,327,"`call_modify()` now respects ordering of unnamed inputs. Before this fix, it would move all unnamed inputs after named ones."
rlang,328,`as_closure()` wrappers now call primitives with positional arguments to avoid edge case issues of argument matching.
rlang,329,`as_closure()` wrappers now dispatch properly on methods defined in the global environment (tidyverse/purrr#459).
rlang,330,`as_closure()` now supports both base-style (`e1` and `e2`) and purrr-style (`.x` and `.y`) arguments with binary primitives.
rlang,331,"`exec()` takes `.fn` as first argument instead of `f`, for consistency with other rlang functions."
rlang,332,Fixed infinite loop with quosures created inside a data mask.
rlang,333,Base errors set as `parent` of rlang errors are now printed correctly.
rlang,334,`quo_text()` now deparses non-syntactic symbols with backticks:
rlang,334,"```
quo_text(sym(""foo+""))
#> [1] ""`foo+`""
```"
rlang,334,"This caused a number of issues in reverse dependencies as `quo_text()` tends to be used for converting symbols to strings. `quo_text()` and `quo_name()` should not be used for this purpose because they are general purpose deparsers. These functions should generally only be used for printing outputs or creating default labels. If you need to convert symbols to strings, please use `as_string()` rather than `quo_text()`. We have extended the documentation of `?quo_text` and `?quo_name` to make these points clearer."
rlang,335,"`exprs()` no longer flattens quosures. `exprs(!!!quos(x, y))` is now equivalent to `quos(x, y)`."
rlang,336,The sentinel for removing arguments in `call_modify()` has been changed from `NULL` to `zap()`. This breaking change is motivated by the ambiguity of `NULL` with valid argument values.
rlang,336,"```
call_modify(call, arg = NULL)  # Add `arg = NULL` to the call
call_modify(call, arg = zap()) # Remove the `arg` argument from the call
```"
rlang,337,The `%@​%` operator now quotes its input and supports S4 objects. This makes it directly equivalent to `@​` except that it extracts attributes for non-S4 objects (#207).
rlang,338,Taking the `env_parent()` of the empty environment is now an error.
rlang,339,"`abort()` now records backtraces automatically in the error object. Errors thrown with `abort()` invite users to call `rlang::last_error()` to see a backtrace and help identifying where and why the error occurred. The backtraces created by rlang (you can create one manually with `trace_back()`) are printed in a simplified form by default that removes implementation details from the backtrace. To see the full backtrace, call `summary(rlang::last_error())`. `abort()` also gains a `parent` argument. This is meant for situations where you're calling a low level API (to download a file, parse a JSON file, etc) and would like to intercept errors with `base::tryCatch()` or `rlang::with_handlers()` and rethrow them with a high-level message. Call `abort()` with the intercepted error as the `parent` argument. When the user prints `rlang::last_error()`, the backtrace will be shown in two sections corresponding to the high-level and low-level contexts. In order to get segmented backtraces, the low-level error has to be thrown with `abort()`. When that's not the case, you can call the low-level function within `with_abort()` to automatically promote all errors to rlang errors."
rlang,340,The tidy eval changes are mostly for developers of data masking APIs. The main user-facing change is that `.data[[` is now an unquote operator so that `var` in `.data[[var]]` is never masked by data frame columns and always picked from the environment. This makes the pronoun safe for programming in functions.
rlang,341,"The `!!!` operator now supports all classed objects like factors. It calls `as.list()` on S3 objects and `as(x, ""list"")` on S4 objects."
rlang,342,"`dots_list()` gains several arguments to control how dots are collected. You can control the selection of arguments with the same name with `.homonyms` (keep first, last, all, or abort). You can also elect to preserve empty arguments with `.preserve_empty`."
rlang,343,"New `trace_back()` captures a backtrace. Compared to the base R traceback, it contains additional structure about the relationship between frames. It comes with tools for automatically restricting to frames after a certain environment on the stack, and to simplify when printing. These backtraces are now recorded in errors thrown by `abort()` (see below)."
rlang,344,`abort()` gains a `parent` argument to specify a parent error. This is meant for situations where a low-level error is expected (e.g. download or parsing failed) and you'd like to throw an error with higher level information. Specifying the low-level error as parent makes it possible to partition the backtraces based on ancestry.
rlang,345,Errors thrown with `abort()` now embed a backtrace in the condition object. It is no longer necessary to record a trace with a calling handler for such errors.
rlang,346,`with_abort()` runs expressions in a context where all errors are promoted to rlang errors and gain a backtrace.
rlang,347,Unhandled errors thrown by `abort()` are now automatically saved and can be retrieved with `rlang::last_error()`. The error prints with a simplified backtrace. Call `summary(last_error())` to see the full backtrace.
rlang,348,New experimental option `rlang__backtrace_on_error` to display backtraces alongside error messages. See `?rlang::abort` for supported options.
rlang,349,"The new `signal()` function completes the `abort()`, `warn()` and `inform()` family. It creates and signals a bare condition."
rlang,350,New `interrupt()` function to simulate an user interrupt from R code.
rlang,351,"`cnd_signal()` now dispatches messages, warnings, errors and interrupts to the relevant signalling functions (`message()`, `warning()`, `stop()` and the C function `Rf_onintr()`). This makes it a good choice to resignal a captured condition."
rlang,352,"New `cnd_type()` helper to determine the type of a condition (`""condition""`, `""message""`, `""warning""`, `""error""` or `""interrupt""`)."
rlang,353,"`abort()`, `warn()` and `inform()` now accepts metadata with `...`. The data are stored in the condition and can be examined by user handlers. Consequently all arguments have been renamed and prefixed with a dot (to limit naming conflicts between arguments and metadata names)."
rlang,354,`with_handlers()` treats bare functions as exiting handlers (equivalent to handlers supplied to `tryCatch()`). It also supports the formula shortcut for lambda functions (as in purrr).
rlang,355,`with_handlers()` now produces a cleaner stack trace.
rlang,356,"The input types of `!!!` have been standardised. `!!!` is generally defined on vectors: it takes a vector (typically, a list) and unquotes each element as a separate argument. The standardisation makes `!!!` behave the same in functions taking dots with `list2()` and in quoting functions. `!!!` accepts these types:"
rlang,356,"• Lists, pairlists, and atomic vectors. If they have a class, they are converted with `base::as.list()` to allow S3 dispatch. Following this change, objects like factors can now be spliced without data loss."
rlang,356,"• S4 objects. These are converted with `as(obj, ""list"")` before splicing."
rlang,356,"• Quoted blocks of expressions, i.e. `{ }` calls"
rlang,359,`!!!` disallows:
rlang,359,"• Any other objects like functions or environments, but also language objects like formula, symbols, or quosures."
rlang,360,Quoting functions used to automatically wrap language objects in lists to make them spliceable. This behaviour is now soft-deprecated and it is no longer valid to write `!!!enquo(x)`. Please unquote scalar objects with `!!` instead.
rlang,361,"`dots_list()`, `enexprs()` and `enquos()` gain a `.homonyms` argument to control how to treat arguments with the same name. The default is to keep them. Set it to `""first""` or `""last""` to keep only the first or last occurrences. Set it to `""error""` to raise an informative error about the arguments with duplicated names."
rlang,362,"`enexprs()` and `enquos()` now support `.ignore_empty = ""all""` with named arguments as well (#414)."
rlang,363,"`dots_list()` gains a `.preserve_empty` argument. When `TRUE`, empty arguments are stored as missing arguments (see `?missing_arg`)."
rlang,364,"`dots_list()`, `enexprs()` and `enquos()` gain a `.check_assign` argument. When `TRUE`, a warning is issued when a `<-` call is detected in `...`. No warning is issued if the assignment is wrapped in brackets like `{ a <- 1 }`. The warning lets users know about a possible typo in their code (assigning instead of matching a function parameter) and requires them to be explicit that they really want to assign to a variable by wrapping in parentheses."
rlang,365,"`lapply(list(quote(foo)), list2)` no longer evaluates `foo` (#580)."
rlang,366,You can now unquote quosured symbols as LHS of `:=`. The symbol is automatically unwrapped from the quosure.
rlang,367,"Quosure methods have been defined for common operations like `==`. These methods fail with an informative error message suggesting to unquote the quosure (#478, #tidyverse/dplyr#3476)."
rlang,368,"`as_data_pronoun()` now accepts data masks. If the mask has multiple environments, all of these are looked up when subsetting the pronoun. Function objects stored in the mask are bypassed."
rlang,369,"It is now possible to unquote strings in function position. This is consistent with how the R parser coerces strings to symbols. These two expressions are now equivalent: `expr(""foo""())` and `expr((!!""foo"")())`."
rlang,370,Quosures converted to functions with `as_function()` now support nested quosures.
rlang,371,"`expr_deparse()` (used to print quosures at the console) now escapes special characters. For instance, newlines now print as `""\n""` (#484). This ensures that the roundtrip `parse_expr(expr_deparse(x))` is not lossy."
rlang,372,`new_data_mask()` now throws an error when `bottom` is not a child of `top` (#551).
rlang,373,Formulas are now evaluated in the correct environment within `eval_tidy()`. This fixes issues in dplyr and other tidy-evaluation interfaces.
rlang,374,New functions `new_quosures()` and `as_quosures()` to create or coerce to a list of quosures. This is a small S3 class that ensures two invariants on subsetting and concatenation: that each element is a quosure and that the list is always named even if only with a vector of empty strings.
rlang,375,"`env()` now treats a single unnamed argument as the parent of the new environment. Consequently, `child_env()` is now superfluous and is now in questioning life cycle."
rlang,376,New `current_env()` and `current_fn()` functions to retrieve the current environment or the function being evaluated. They are equivalent to `base::environment()` and `base::sys.function()` called without argument.
rlang,377,`env_get()` and `env_get_list()` gain a `default` argument to provide a default value for non-existing bindings.
rlang,378,`env_poke()` now returns the old value invisibly rather than the input environment.
rlang,379,"The new function `env_name()` returns the name of an environment. It always adds the ""namespace:"" prefix to namespace names. It returns ""global"" instead of "".GlobalEnv"" or ""R_GlobalEnv"", ""empty"" instead of ""R_EmptyEnv"". The companion `env_label()` is like `env_name()` but returns the memory address for anonymous environments."
rlang,380,`env_parents()` now returns a named list. The names are taken with `env_name()`.
rlang,381,`env_parents()` and `env_tail()` now stop at the global environment by default. This can be changed with the `last` argument. The empty environment is always a stopping condition so you can take the parents or the tail of an environment on the search path without changing the default.
rlang,382,New predicates `env_binding_are_active()` and `env_binding_are_lazy()` detect the kind of bindings in an environment.
rlang,383,`env_binding_lock()` and `env_binding_unlock()` allows to lock and unlock multiple bindings. The predicate `env_binding_are_locked()` tests if bindings are locked.
rlang,384,`env_lock()` and `env_is_locked()` lock an environment or test if an environment is locked.
rlang,385,`env_print()` pretty-prints environments. It shows the contents (up to 20 elements) and the properties of the environment.
rlang,386,`is_scoped()` has been soft-deprecated and renamed to `is_attached()`. It now supports environments in addition to search names.
rlang,387,`env_bind_lazy()` and `env_bind_active()` now support quosures.
rlang,388,`env_bind_exprs()` and `env_bind_fns()` are soft-deprecated and renamed to `env_bind_lazy()` and `env_bind_active()` for clarity and consistency.
rlang,389,"`env_bind()`, `env_bind_exprs()`, and `env_bind_fns()` now return the list of old binding values (or missing arguments when there is no old value). This makes it easy to restore the original environment state:"
rlang,389,"```
old <- env_bind(env, foo = ""foo"", bar = ""bar"")
env_bind(env, !!!old)
```"
rlang,390,"`env_bind()` now supports binding missing arguments and removing bindings with zap sentinels. `env_bind(env, foo = )` binds a missing argument and `env_bind(env, foo = zap())` removes the `foo` binding."
rlang,391,The `inherit` argument of `env_get()` and `env_get_list()` has changed position. It now comes after `default`.
rlang,392,`scoped_bindings()` and `with_bindings()` can now be called without bindings.
rlang,393,`env_clone()` now recreates active bindings correctly.
rlang,394,`env_get()` now evaluates promises and active bindings since these are internal objects which should not be exposed at the R level (#554)
rlang,395,"`env_print()` calls `get_env()` on its argument, making it easier to see the environment of closures and quosures (#567)."
rlang,396,`env_get()` now supports retrieving missing arguments when `inherit` is `FALSE`.
rlang,397,"`is_call()` now accepts multiple namespaces. For instance `is_call(x, ""list"", ns = c("""", ""base""))` will match if `x` is `list()` or if it's `base::list()`:"
rlang,398,"`call_modify()` has better support for `...` and now treats it like a named argument. `call_modify(call, ... = )` adds `...` to the call and `call_modify(call, ... = NULL)` removes it."
rlang,399,`call_modify()` now preserves empty arguments. It is no longer necessary to use `missing_arg()` to add a missing argument to a call. This is possible thanks to the new `.preserve_empty` option of `dots_list()`.
rlang,400,`call_modify()` now supports removing unexisting arguments (#393) and passing multiple arguments with the same name (#398). The new `.homonyms` argument controls how to treat these arguments.
rlang,401,`call_standardise()` now handles primitive functions like `~` properly (#473).
rlang,402,"`call_print_type()` indicates how a call is deparsed and printed at the console by R: prefix, infix, and special form."
rlang,403,The `call_` functions such as `call_modify()` now correctly check that their input is the right type (#187).
rlang,404,New function `zap()` returns a sentinel that instructs functions like `env_bind()` or `call_modify()` that objects are to be removed.
rlang,405,New function `rep_named()` repeats value along a character vector of names.
rlang,406,New function `exec()` is a simpler replacement to `invoke()` (#536). `invoke()` has been soft-deprecated.
rlang,407,Lambda functions created from formulas with `as_function()` are now classed. Use `is_lambda()` to check a function was created with the formula shorthand.
rlang,408,`is_integerish()` now supports large double values (#578).
rlang,409,`are_na()` now requires atomic vectors (#558).
rlang,410,The operator `%@​%` has now a replacement version to update attributes of an object (#207).
rlang,411,"`fn_body()` always returns a `{` block, even if the function has a single expression. For instance `fn_body(function(x) do())` returns `quote({ do() })`."
rlang,412,`is_string()` now returns `FALSE` for `NA_character_`.
rlang,413,The vector predicates have been rewritten in C for performance.
rlang,414,The `finite` argument of `is_integerish()` is now `NULL` by default. Missing values are now considered as non-finite for consistency with `base::is.finite()`.
rlang,415,`is_bare_integerish()` and `is_scalar_integerish()` gain a `finite` argument for consistency with `is_integerish()`.
rlang,416,`flatten_if()` and `squash_if()` now handle primitive functions like `base::is.list()` as predicates.
rlang,417,`is_symbol()` now accepts a character vector of names to mach the symbol against.
rlang,418,"`parse_exprs()` and `parse_quos()` now support character vectors. Note that the output may be longer than the input as each string may yield multiple expressions (such as `""foo; bar""`)."
rlang,419,`parse_quos()` now adds the `quosures` class to its output.
rlang,420,rlang has been attached with a `library()` call.
rlang,421,The deprecated function has been called from the global environment.
rlang,422,"`.data[[foo]]` is now an unquote operator. This guarantees that `foo` is evaluated in the context rather than the data mask and makes it easier to treat `.data[[""bar""]]` the same way as a symbol. For instance, this will help ensuring that `group_by(df, .data[[""name""]])` and `group_by(df, name)` produce the same column name."
rlang,423,"Automatic naming of expressions now uses a new deparser (still unexported) instead of `quo_text()`. Following this change, automatic naming is now compatible with all object types (via `pillar::type_sum()` if available), prevents multi-line names, and ensures `name` and `.data[[""name""]]` are given the same default name."
rlang,424,Supplying a name with `!!!` calls is soft-deprecated. This name is ignored because only the names of the spliced vector are applied.
rlang,425,"Quosure lists returned by `quos()` and `enquos()` now have ""list-of"" behaviour: the types of new elements are checked when adding objects to the list. Consequently, assigning non-quosure objects to quosure lists is now soft-deprecated. Please coerce to a bare list with `as.list()` beforehand."
rlang,426,`as_quosure()` now requires an explicit environment for symbols and calls. This should typically be the environment in which the expression was created.
rlang,427,`names()` and `length()` methods for data pronouns are deprecated. It is no longer valid to write `names(.data)` or `length(.data)`.
rlang,428,Using `as.character()` on quosures is soft-deprecated (#523).
rlang,429,Using `get_env()` without supplying an environment is now soft-deprecated. Please use `current_env()` to retrieve the current environment.
rlang,430,The frame and stack API is soft-deprecated. Some of the functionality has been replaced by `trace_back()`.
rlang,431,The `new_vector_along()` family is soft-deprecated because these functions are longer to type than the equivalent `rep_along()` or `rep_named()` calls without added clarity.
rlang,432,"Passing environment wrappers like formulas or functions to `env_` functions is now soft-deprecated. This internal genericity was causing confusion (see issue #427). You should now extract the environment separately before calling these functions. This change concerns `env_depth()`, `env_poke_parent()`, `env_parent<-`, `env_tail()`, `set_env()`, `env_clone()`, `env_inherits()`, `env_bind()`, `scoped_bindings()`, `with_bindings()`, `env_poke()`, `env_has()`, `env_get()`, `env_names()`, `env_bind_exprs()` and `env_bind_fns()`."
rlang,433,`cnd_signal()` now always installs a muffling restart for non-critical conditions. Consequently the `.mufflable` argument has been soft-deprecated and no longer has any effect.
rlang,434,Calling `UQ()` and `UQS()` with the rlang namespace qualifier is deprecated as of rlang 0.3.0. Just use the unqualified forms instead:
rlang,434,"```
# Bad
rlang::expr(mean(rlang::UQ(var) * 100))

# Ok
rlang::expr(mean(UQ(var) * 100))

# Good
rlang::expr(mean(!!var * 100))
```"
rlang,434,"Although soft-deprecated since rlang 0.2.0, `UQ()` and `UQS()` can still be used for now."
rlang,435,The `call` argument of `abort()` and condition constructors is now deprecated in favour of storing full backtraces.
rlang,436,The `.standardise` argument of `call_modify()` is deprecated. Please use `call_standardise()` beforehand.
rlang,437,The `sentinel` argument of `env_tail()` has been deprecated and renamed to `last`.
rlang,438,`as_dictionary()` is now defunct.
rlang,439,"The experimental function `rst_muffle()` is now defunct. Please use `cnd_muffle()` instead. Unlike its predecessor, `cnd_muffle()` is not generic. It is marked as a calling handler and thus can be passed directly to `with_handlers()` to muffle specific conditions (such as specific subclasses of warnings)."
rlang,440,"`cnd_inform()`, `cnd_warn()` and `cnd_abort()` are retired and defunct. The old `cnd_message()`, `cnd_warning()`, `cnd_error()` and `new_cnd()` constructors deprecated in rlang 0.2.0 are now defunct."
rlang,441,"Modifying a condition with `cnd_signal()` is defunct. In addition, creating a condition with `cnd_signal()` is soft-deprecated, please use the new function \[signal()\] instead."
rlang,442,`inplace()` has been renamed to `calling()` to follow base R terminology more closely.
rlang,443,The functions from the restart API are now in the questioning lifecycle stage. It is not clear yet whether we want to recommend restarts as a style of programming in R.
rlang,444,"`prepend()` and `modify()` are in the questioning stage, as well as `as_logical()`, `as_character()`, etc. We are still figuring out what vector tools belong in rlang."
rlang,445,"`flatten()`, `squash()` and their atomic variants are now in the questioning lifecycle stage. They have slightly different semantics than the flattening functions in purrr and we are currently rethinking our approach to flattening with the new typing facilities of the vctrs package."
rlang,446,Functions with tidy dots support now allow splicing atomic vectors.
rlang,447,Quosures no longer capture the current `srcref`.
rlang,448,Formulas are now evaluated in the correct environment by `eval_tidy()`. This fixes issues in dplyr and other tidy-evaluation interfaces.
rlang,449,The `!!` operator now has the precedence of unary `+` and `-` which allows a much more natural syntax: `!!a > b` only unquotes `a` rather than the whole `a > b` expression.
rlang,450,`enquo()` works in magrittr pipes: `mtcars %>% select(!!enquo(var))`.
rlang,451,`enquos()` is a variant of `quos()` that has a more natural interface for capturing multiple arguments and `...`.
rlang,452,"The backend for `quos()`, `exprs()`, `list2()`, `dots_list()`, etc is now written in C. This greatly improve the performance of dots capture, especially with the splicing operator `!!!` which now scales much better (you'll see a 1000x performance gain in some cases). The unquoting algorithm has also been improved which makes `enexpr()` and `enquo()` more efficient as well."
rlang,453,"The tidy eval `!!` operator now binds tightly. You no longer have to wrap it in parentheses, i.e. `!!x > y` will only unquote `x`. Technically the `!!` operator has the same precedence as unary `-` and `+`. This means that `!!a:b` and `!!a + b` are equivalent to `(!!a):b` and `(!!a) + b`. On the other hand `!!a^b` and `!!a$b` are equivalent to`!!(a^b)` and `!!(a$b)`."
rlang,454,"The print method for quosures has been greatly improved. Quosures no longer appear as formulas but as expressions prefixed with `^`; quosures are colourised according to their environment; unquoted objects are displayed between angular brackets instead of code (i.e. an unquoted integer vector is shown as `<int: 1, 2>` rather than `1:2`); unquoted S3 objects are displayed using `pillar::type_sum()` if available."
rlang,455,"New `enquos()` function to capture arguments. It treats `...` the same way as `quos()` but can also capture named arguments just like `enquo()`, i.e. one level up. By comparison `quos(arg)` only captures the name `arg` rather than the expression supplied to the `arg` argument. In addition, `enexprs()` is like `enquos()` but like `exprs()` it returns bare expressions. And `ensyms()` expects strings or symbols."
rlang,456,It is now possible to use `enquo()` within a magrittr pipe:
rlang,456,"```
select_one <- function(df, var) {
  df %>% dplyr::select(!!enquo(var))
}
```"
rlang,456,"Technically, this is because `enquo()` now also captures arguments in parents of the current environment rather than just in the current environment. The flip side of this increased flexibility is that if you made a typo in the name of the variable you want to capture, and if an object of that name exists anywhere in the parent contexts, you will capture that object rather than getting an error."
rlang,457,`quo_expr()` has been renamed to `quo_squash()` in order to better reflect that it is a lossy operation that flattens all nested quosures.
rlang,458,`!!!` now accepts any kind of objects for consistency. Scalar types are treated as vectors of length 1. Previously only symbolic objects like symbols and calls were treated as such.
rlang,459,`ensym()` is a new variant of `enexpr()` that expects a symbol or a string and always returns a symbol. If a complex expression is supplied it fails with an error.
rlang,460,`exprs()` and `quos()` gain a `.unquote_names` arguments to switch off interpretation of `:=` as a name operator. This should be useful for programming on the language targetting APIs such as data.table.
rlang,461,`exprs()` gains a `.named` option to auto-label its arguments (#267).
rlang,462,"Functions taking dots by value rather than by expression (e.g. regular functions, not quoting functions) have a more restricted set of unquoting operations. They only support `:=` and `!!!`, and only at top-level. I.e. `dots_list(!!! x)` is valid but not `dots_list(nested_call(!!! x))` (#217)."
rlang,463,Functions taking dots with `list2()` or `dots_list()` now support splicing of `NULL` values. `!!! NULL` is equivalent to `!!! list()` (#242).
rlang,464,"Capture operators now support evaluated arguments. Capturing a forced or evaluated argument is exactly the same as unquoting that argument: the actual object (even if a vector) is inlined in the expression. Capturing a forced argument occurs when you use `enquo()`, `enexpr()`, etc too late. It also happens when your quoting function is supplied to `lapply()` or when you try to quote the first argument of an S3 method (which is necessarily evaluated in order to detect which class to dispatch to). (#295, #300)."
rlang,465,"Parentheses around `!!` are automatically removed. This makes the generated expression call cleaner: `(!! sym(""name""))(arg)`. Note that removing the parentheses will never affect the actual precedence within the expression as the parentheses are only useful when parsing code as text. The parentheses will also be added by R when printing code if needed (#296)."
rlang,466,Quasiquotation now supports `!!` and `!!!` as functional forms:
rlang,466,"```
expr(`!!`(var))
quo(call(`!!!`(var)))
```"
rlang,466,This is consistent with the way native R operators parses to function calls. These new functional forms are to be preferred to `UQ()` and `UQS()`. We are now questioning the latter and might deprecate them in a future release.
rlang,467,The quasiquotation parser now gives meaningful errors in corner cases to help you figure out what is wrong.
rlang,468,"New getters and setters for quosures: `quo_get_expr()`, `quo_get_env()`, `quo_set_expr()`, and `quo_set_env()`. Compared to `get_expr()` etc, these accessors only work on quosures and are slightly more efficient."
rlang,469,`quo_is_symbol()` and `quo_is_call()` now take the same set of arguments as `is_symbol()` and `is_call()`.
rlang,470,`enquo()` and `enexpr()` now deal with default values correctly (#201).
rlang,471,Splicing a list no longer mutates it (#280).
rlang,472,The new functions `cnd_warn()` and `cnd_inform()` transform conditions to warnings or messages before signalling them.
rlang,473,`cnd_signal()` now returns invisibly.
rlang,474,`cnd_signal()` and `cnd_abort()` now accept character vectors to create typed conditions with several S3 subclasses.
rlang,475,`is_condition()` is now properly exported.
rlang,476,Condition signallers such as `cnd_signal()` and `abort()` now accept a call depth as `call` arguments. This allows plucking a call from further up the call stack (#30).
rlang,477,New helper `catch_cnd()`. This is a small wrapper around `tryCatch()` that captures and returns any signalled condition. It returns `NULL` if none was signalled.
rlang,478,"`cnd_abort()` now adds the correct S3 classes for error conditions. This fixes error catching, for instance by `testthat::expect_error()`."
rlang,479,`env_get_list()` retrieves muliple bindings from an environment into a named list.
rlang,480,`with_bindings()` and `scoped_bindings()` establish temporary bindings in an environment.
rlang,481,`is_namespace()` is a snake case wrapper around `isNamespace()`.
rlang,482,"New functions `inherits_any()`, `inherits_all()`, and `inherits_only()`. They allow testing for inheritance from multiple classes. The `_any` variant is equivalent to `base::inherits()` but is more explicit about its behaviour. `inherits_all()` checks that all classes are present in order and `inherits_only()` checks that the class vectors are identical."
rlang,483,New `fn_fmls<-` and `fn_fmls_names<-` setters.
rlang,484,"New function experimental function `chr_unserialise_unicode()` for turning characters serialised to unicode point form (e.g. `<U+xxxx>`) to UTF-8. In addition, `as_utf8_character()` now translates those as well. (@​krlmlr)"
rlang,485,`expr_label()` now supports quoted function definition calls (#275).
rlang,486,`call_modify()` and `call_standardise()` gain an argument to specify an environment. The call definition is looked up in that environment when the call to modify or standardise is not wrapped in a quosure.
rlang,487,`is_symbol()` gains a `name` argument to check that that the symbol name matches a string (#287).
rlang,488,"New `rlang_box` class. Its purpose is similar to the `AsIs` class from `base::I()`, i.e. it protects a value temporarily. However it does so by wrapping the value in a scalar list. Use `new_box()` to create a boxed value, `is_box()` to test for a boxed value, and `unbox()` to unbox it. `new_box()` and `is_box()` accept optional subclass."
rlang,489,"The vector constructors such as `new_integer()`, `new_double_along()` etc gain a `names` argument. In the case of the `_along` family it defaults to the names of the input vector."
rlang,490,"When nested quosures are evaluated with `eval_tidy()`, the `.env` pronoun now correctly refers to the current quosure under evaluation (#174). Previously it would always refer to the environment of the outermost quosure."
rlang,491,`as_pairlist()` (part of the experimental API) now supports `NULL` and objects of type pairlist (#397).
rlang,492,"Fixed a performance bug in `set_names()` that caused a full copy of the vector names (@​jimhester, #366)."
rlang,493,"The particle ""lang"" has been renamed to ""call"":"
rlang,493,• `lang()` has been renamed to `call2()`.
rlang,493,• `new_language()` has ben renamed to `new_call()`.
rlang,493,• `is_lang()` has been renamed to `is_call()`. We haven't replaced the `is_unary_lang()` and `is_binary_lang()` because they are redundant with the `n` argument of `is_call()`.
rlang,493,"• All call accessors such as `lang_fn()`, `lang_name()`, `lang_args()` etc are soft-deprecated and renamed with `call_` prefix."
rlang,497,"In rlang 0.1 calls were called ""language"" objects in order to follow the R type nomenclature as returned by `base::typeof()`. We wanted to avoid adding to the confusion between S modes and R types. With hindsight we find it is better to use more meaningful type names."
rlang,498,"We now use the term ""data mask"" instead of ""overscope"". We think data mask is a more natural name in the context of R. We say that that objects from user data mask objects in the current environment. This makes reference to object masking in the search path which is due to the same mechanism (in technical terms, lexical scoping with hierarchically nested environments). Following this new terminology, the new functions `as_data_mask()` and `new_data_mask()` replace `as_overscope()` and `new_overscope()`. `as_data_mask()` has also a more consistent interface. These functions are only meant for developers of tidy evaluation interfaces."
rlang,499,We no longer require a data mask (previously called overscope) to be cleaned up after evaluation. `overscope_clean()` is thus soft-deprecated without replacement.
rlang,500,"`!!` now binds tightly in order to match intuitive parsing of tidy eval code, e.g. `!! x > y` is now equivalent to `(!! x) > y`. A corollary of this new syntax is that you now have to be explicit when you want to unquote the whole expression on the right of `!!`. For instance you have to explicitly write `!! (x > y)` to unquote `x > y` rather than just `x`."
rlang,501,"`UQ()`, `UQS()` and `:=` now issue an error when called directly. The previous definitions caused surprising results when the operators were invoked in wrong places (i.e. not in quasiquoted arguments)."
rlang,502,"The prefix form `` `!!`() `` is now an alias to `!!` rather than `UQE()`. This makes it more in line with regular R syntax where operators are parsed as regular calls, e.g. `a + b` is parsed as `` `+`(a, b) `` and both forms are completely equivalent. Also the prefix form `` `!!!`() `` is now equivalent to `!!!`."
rlang,503,`UQE()` is now deprecated in order to simplify the syntax of quasiquotation. Please use `!! get_expr(x)` instead.
rlang,504,`expr_interp()` now returns a formula instead of a quosure when supplied a formula.
rlang,505,`is_quosureish()` and `as_quosureish()` are deprecated. These functions assumed that quosures are formulas but that is only an implementation detail.
rlang,506,"`new_cnd()` is now `cnd()` for consistency with other constructors. Also, `cnd_error()`, `cnd_warning()` and `cnd_message()` are now `error_cnd()`, `warning_cnd()` and `message_cnd()` to follow our naming scheme according to which the type of output is a suffix rather than a prefix."
rlang,507,`is_node()` now returns `TRUE` for calls as well and `is_pairlist()` does not return `TRUE` for `NULL` objects. Use `is_node_list()` to determine whether an object either of type `pairlist` or `NULL`. Note that all these functions are still experimental.
rlang,508,`set_names()` no longer automatically splices lists of character vectors as we are moving away from automatic splicing semantics.
rlang,509,Calling the functional forms of unquote operators with the rlang namespace qualifier is soft-deprecated. `UQ()` and `UQS()` are not function calls so it does not make sense to namespace them. Supporting namespace qualifiers complicates the implementation of unquotation and is misleading as to the nature of unquoting (which are syntactic operators at quotation-time rather than function calls at evaluation-time).
rlang,510,"We are now questioning `UQ()` and `UQS()` as functional forms of `!!`. If `!!` and `!!!` were native R operators, they would parse to the functional calls `` `!!`() `` and `` `!!!`() ``. This is now the preferred way to unquote with a function call rather than with the operators. We haven't decided yet whether we will deprecate `UQ()` and `UQS()` in the future. In any case we recommend using the new functional forms."
rlang,511,`parse_quosure()` and `parse_quosures()` are soft-deprecated in favour of `parse_quo()` and `parse_quos()`. These new names are consistent with the rule that abbreviated suffixes indicate the return type of a function. In addition the new functions require their callers to explicitly supply an environment for the quosures.
rlang,512,Using `f_rhs()` and `f_env()` on quosures is soft-deprecated. The fact that quosures are formulas is an implementation detail that might change in the future. Please use `quo_get_expr()` and `quo_get_env()` instead.
rlang,513,`quo_expr()` is soft-deprecated in favour of `quo_squash()`. `quo_expr()` was a misnomer because it implied that it was a mere expression acccessor for quosures whereas it was really a lossy operation that squashed all nested quosures.
rlang,514,"With the renaming of the `lang` particle to `call`, all these functions are soft-deprecated: `lang()`, `is_lang()`, `lang_fn()`, `lang_name()`, `lang_args()`. In addition, `lang_head()` and `lang_tail()` are soft-deprecated without replacement because these are low level accessors that are rarely needed."
rlang,515,`as_overscope()` is soft-deprecated in favour of `as_data_mask()`.
rlang,516,"The node setters were renamed from `mut_node_` prefix to `node_poke_`. This change follows a new naming convention in rlang where mutation is referred to as ""poking""."
rlang,517,`splice()` is now in questioning stage as it is not needed given the `!!!` operator works in functions taking dots with `dots_list()`.
rlang,518,"`lgl_len()`, `int_len()` etc have been soft-deprecated and renamed with `new_` prefix, e.g. `new_logical()` and `new_integer()`. This is for consistency with other non-variadic object constructors."
rlang,519,`ll()` is now an alias to `list2()`. This is consistent with the new `call2()` constructor for calls. `list2()` and `call2()` are versions of `list()` and `call()` that support splicing of lists with `!!!`. `ll()` remains around as a shorthand for users who like its conciseness.
rlang,520,"Automatic splicing of lists in vector constructors (e.g. `lgl()`, `chr()`, etc) is now soft-deprecated. Please be explicit with the splicing operator `!!!`."
rlang,521,This is a maintenance release in anticipation of a forthcoming change to R's C API (use `MARK_NOT_MUTABLE()` instead of `SET_NAMED()`).
rlang,522,New function `is_reference()` to check whether two objects are one and the same.
rlang,523,`eval_tidy()` no longer maps over lists but returns them literally. This behaviour is an overlook from past refactorings and was never documented.
rlang,524,Bare formulas are now evaluated in the correct environment in tidyeval functions.
rlang,525,"`enquo()` now works properly within compiled functions. Before this release, constants optimised by the bytecode compiler couldn't be enquoted."
rlang,526,"The `new_environment()` constructor creates a child of the empty environment and takes an optional named list of data to populate it. Compared to `env()` and `child_env()`, it is meant to create environments as data structures rather than as part of a scope hierarchy."
rlang,527,The `new_call()` constructor creates calls out of a callable object (a function or an expression) and a pairlist of arguments. It is useful to avoid costly internal coercions between lists and pairlists of arguments.
rlang,528,`env_child()`'s first argument is now `.parent` instead of `parent`.
rlang,529,`mut_` setters like `mut_attrs()` and environment helpers like `env_bind()` and `env_unbind()` now return their (modified) input invisibly. This follows the tidyverse convention that functions called primarily for their side effects should return their input invisibly.
rlang,530,"`is_pairlist()` now returns `TRUE` for `NULL`. We added `is_node()` to test for actual pairlist nodes. In other words, `is_pairlist()` tests for the data structure while `is_node()` tests for the type."
rlang,531,"`env()` and `env_child()` can now get arguments whose names start with `.`. Prior to this fix, these arguments were partial-matching on `env_bind()`'s `.env` argument."
rlang,532,The internal `replace_na()` symbol was renamed to avoid a collision with an exported function in tidyverse. This solves an issue occurring in old versions of R prior to 3.3.2 (#133).
rstudioapi,1,`documentPath()` now marks the encoding of file paths as UTF-8. (#257)
rstudioapi,2,"`getSourceEditorContext()` gains the `id` argument, to be used to request the editor context for a document with an already-known ID. (#251)"
rstudioapi,3,"Added `documentOpen()`, for opening a document in RStudio and optionally navigating the cursor to a particular point in the file. The method is synchronous and returns the document ID upon completion."
rstudioapi,4,Fixed an issue where `rstudioapi::askForSecret()` would erroneously fall back to using `rstudioapi::askForPassword()` during Knit.
rstudioapi,5,"Added `registerCommandCallback`, `registerCommandStreamCallback`, and `unregisterCommandCallback`, used to execute a callback after an IDE command is executed."
rstudioapi,6,Fixed an issue where `rstudioapi::insertText()` would fail. (#208)
rstudioapi,7,Fixed an issue where remote `rstudioapi` calls would erroneously use a previous response in some cases.
rstudioapi,8,Allow `navigateToFile` to accept an empty file. This file will default to the file currently in view in the active column.
rstudioapi,9,"Added `registerChunkExecCallback` and `unregisterChunkExecCallback`, used to execute a callback after a chunk is ran."
rstudioapi,10,`rstudioapi::launcherResourceLimit()` now properly delegates the type and memory arguments. (#164)
rstudioapi,11,"`rstudioapi` gains the function `highlightUi()`, used to highlight UI elements in newer versions of RStudio."
rstudioapi,12,Paths returned from `selectFile()` are now properly marked with UTF-8 encoding.
rstudioapi,13,"It is now possible for `rstudioapi` to communicate with a parent RStudio session, for R sessions launched as RStudio jobs. Use `rstudioapi::isAvailable(child_ok = TRUE)` to assert that it's okay to check that `rstudioapi` is available and is running within an RStudio job."
rstudioapi,14,"Added `bugReport()`, a helper function for reporting RStudio bugs on the GitHub issue tracker with an issue template pre-populated with some helpful diagnostic information."
rstudioapi,15,"Added `userIdentity` and `systemUsername`, used to retrieve information about the current user."
rstudioapi,16,Added the parameters `echo` and `focus` to `sendToConsole()`.
rstudioapi,17,"Added functions for displaying jobs in RStudio's Jobs pane: `jobAdd()`, `jobRemove()`, etc."
rstudioapi,18,"Added `translateLocalUrl()`, for translating localhost URLs to externally addressable ones on RStudio Server."
rstudioapi,19,"Added functions for installing + using build tools: `buildToolsCheck()`, `buildToolsInstall()`, `buildToolsExec()`"
rstudioapi,20,"Added functions for installing + using themes: `addTheme()`, `applyTheme()`, `convertTheme()`, `getThemes()`, `getThemeInfo()`."
rstudioapi,21,"Added `previewSql()`, for previewing output from executing a SQL query."
rstudioapi,22,"Added `askForSecret()`, for prompting the user to enter a password or otherwise privileged information."
rstudioapi,23,Fixed an issue where `getActiveProject()` failed for non-ASCII paths. (#86)
rstudioapi,24,"Added methods for prompting the user for file paths: `selectFile()`, `selectDirectory()`."
rstudioapi,25,`askForPassword()` gains a default prompt (#41)
rstudioapi,26,Add `createProjectTemplate()` function
rstudioapi,27,Add `setPersistentValue()` / `getPersistentValue()` functions
rstudioapi,28,"Add methods for interacting with Terminal tab: `terminalActivate()`, `terminalClear()`, `terminalCreate()`, `terminalList()`, `terminalBuffer()`, `terminalContext()`, `terminalVisible()`, `terminalBusy()`, `terminalRunning()`, `terminalKill()`, `terminalSend()`, `terminalExecute()`, and `terminalExitCode()`."
rstudioapi,29,Add sendToConsole function
rstudioapi,30,Add APIs for setting cursor position in document
rstudioapi,31,Add askForPassword function
rstudioapi,32,Add getActiveProject function
rstudioapi,33,"Add API methods for interacting with a document open in RStudio: 'insertText()', 'modifyRange()' and 'getActiveDocumentContext()'."
rstudioapi,34,Add stub and documentation for sourceMarker function
rstudioapi,35,Compatibility with calling conventions for RStudio v0.99
rstudioapi,36,"Stubs and documentation for versionInfo, previewRd, and viewer functions"
rstudioapi,37,Initial release to CRAN
rvest,1,Re-document to fix HTML issues in `.Rd`.
rvest,2,Fixes for CRAN
rvest,3,"`html_table()` converts empty tables to empty tibbles (@​epiben, #327)."
rvest,4,"`html_table()` correctly handles tables with cells that contain blank values for `rowspan` and/or `colspan`, so that e.g. `<td rowspan="""">` is parsed as `<td rowspan=1>` (@​epiben, #323)."
rvest,5,Fix broken example
rvest,6,"New `html_text2()` provides a more natural rendering of HTML nodes into text, converting `<br>` into ""`\n`{=tex}"", and removing non-significant whitespace (#175). By default, it also converts `&nbsp;` into regular spaces, which you can suppress with `preserve_nbsp = TRUE` (#284)."
rvest,7,"`html_table()` has been re-written from scratch to more closely mimic the algorithm that browsers use for parsing tables. This should mean that there are far fewer tables for which it fails to produce some output (#63, #204, #215). The `fill` argument has been deprecated since it is no longer needed. `html_table()` now returns a tibble rather than a data frame to be compatible with the rest of the tidyverse (#199). Its performance has been considerably improved (#237). It also gains a `na.strings` argument to control what values are converted to `NA` (#107), and a `convert` argument to control whether to run the conversion (#311)."
rvest,8,"New `html_form_submit()` allows you to submit a form directly, without needing to create a session (#300)."
rvest,9,rvest is now licensed as MIT (#287).
rvest,10,"rvest now imports xml2 rather than depending on it. This is cleaner because it avoids attaching all the xml2 functions that you're less likely to use. To reduce the change of breakages, rvest re-exports xml2 functions `read_html()` and `url_absolute()`, but your code may now need an explicit `library(xml2)`."
rvest,11,"`html_form()` now returns an object with class `rvest_form` (instead of form). Fields within a form now have class `rvest_field`, instead of a variety of classes that were lacking the `rvest_` prefix. All functions for working with forms have a common `html_form_` prefix: `set_values()` became `html_form_set()`. `submit_form()` was renamed to `session_submit()` because it returns a session."
rvest,12,"`html_node()` and `html_nodes()` have been superseded in favor of `html_element()` and `html_elements()` since they (almost) always return elements, not nodes (#298)."
rvest,13,`html_session()` is now `session()` and returns an object of class `rvest_session` (instead of `session`). All functions that work with session objects now have a common `session_` prefix.
rvest,14,"Long deprecated `html()`, `html_tag()`, `xml()` functions have been removed."
rvest,15,`minimal_html()` (which doesn't appear to be used by any other package) has had its arguments flipped to make it more intuitive.
rvest,16,`guess_encoding()` has been renamed to `html_encoding_guess()` to avoid a clash with `stringr::guess_encoding()` (#209). `repair_encoding()` has been deprecated because it doesn't appear to work.
rvest,17,`pluck()` is no longer exported to avoid a clash with `purrr::pluck()`; if you need it use `purrr::map_chr()` and friends instead (#209).
rvest,18,"`xml_tag()`, `xml_node()`, and `xml_nodes()` have been formally deprecated in favor of their `html_` equivalents."
rvest,19,"The ""harvesting the web"" vignette has been rewritten to focus more on basics rvest, eliminating the screenshots to keep the installed package as svelte as possible. It's also been renamed to `vignette(""rvest"")` since it's the vignette that you should read first."
rvest,20,"The SelectorGadget vignette is now a web-only article, <https://rvest.tidyverse.org/articles/articles/selectorgadget.html>, so we can be more generous with screenshots since they're no longer bundled with every install of the package. Together with the rewrite of the other vignette, this means that rvest is now \~90 Kb instead of \~1.1 Mb."
rvest,21,All uses of IMDB have been eliminated since the site explicitly prohibits scraping (#195).
rvest,22,`session_submit()` errors if `form` doesn't have a `url` (#288).
rvest,23,New `session_forward()` function to complement `session_back()`. It now allows you to pick the submission button by position (#156). The `...` argument is deprecated; please use `config` instead.
rvest,24,"`html_form_set()` can now accept character vectors allowing you to select multiple checkboxes in a set or select multiple values from a multi-`<select>` (#127, with help from @​juba). It also uses dynamic dots so that you can use `!!!` if you have a list of values (#189)."
rvest,25,Remove failing example
rvest,26,Use web archive to fix broken example.
rvest,27,Remove unneeded `read_xml.response()` method (#242).
rvest,28,Fix `R CMD check` failure
rvest,29,"`submit_request()` now checks for empty form-field-types to select the correct submit fields (@​rentrop, #159)"
rvest,30,Fixes to `follow_link()` and `back()` to correctly manage session history.
rvest,31,"If you're using xml2 1.0.0, `html_node()` will now return a ""missing node""."
rvest,32,Parse rowspans and colspans effectively by filling using repetition from left to right (for colspan) and top to bottom (rowspan) (#111)
rvest,33,Updated a few examples and demos where the website structure has changed.
rvest,34,Made compatible with both xml2 0.1.2 and 1.0.0.
rvest,35,Fix invalid link for SSA example.
rvest,36,Parse `<options>` that don't have value attribute (#85).
rvest,37,"Remove all remaining uses of `html()` in favor of `read_html()` (@​jimhester, #113)."
rvest,38,"rvest has been rewritten to take advantage of the new xml2 package. xml2 provides a fresh binding to libxml2, avoiding many of the work-arounds previously needed for the XML package. Now rvest depends on the xml2 package, so all the xml functions are available, and rvest adds a thin wrapper for html."
rvest,39,"A number of functions have change names. The old versions still work, but are deprecated and will be removed in rvest 0.4.0."
rvest,39,• `html_tag()` -\> `html_name()`
rvest,39,• `html()` -\> `read_html()`
rvest,42,"`html_node()` now throws an error if there are no matches, and a warning if there's more than one match. I think this should make it more likely to fail clearly when the structure of the page changes."
rvest,43,`xml_structure()` has been moved to xml2. New `html_structure()` (also in xml2) highlights id and class attributes (#78).
rvest,44,`submit_form()` now works with forms that use GET (#66).
rvest,45,"`submit_request()` (and hence `submit_form()`) is now case-insensitive, and so will find `<input type=SUBMIT>` as well as`<input type=""submit"">`."
rvest,46,"`submit_request()` (and hence `submit_form()`) recognizes forms with `<input type=""image"">` as a valid form submission button."
rvest,47,`html()` and `xml()` pass `...` on to `httr::GET()` so you can more finely control the request (#48).
rvest,48,"Add xml support: parse with `xml()`, then work with using `xml_node()`, `xml_attr()`, `xml_attrs()`, `xml_text()` and `xml_tag()` (#24)."
rvest,49,`xml_structure()`: new function that displays the structure (i.e. tag and attribute names) of a xml/html object (#10).
rvest,50,"`follow_link()` now accepts css and xpath selectors. (#38, #41, #42)"
rvest,51,"`html()` does a better job of dealing with encodings (passing the problem on to `XML::parseHTML()`) instead of trying to do it itself (#25, #50)."
rvest,52,`html_attr()` returns default value when input is NULL (#49)
rvest,53,Add missing `html_node()` method for session.
rvest,54,`html_nodes()` now returns an empty list if no elements are found (#31).
rvest,55,`submit_form()` converts relative paths to absolute URLs (#52). It also deals better with 0-length inputs (#29).
stringr,1,stringr functions now consistently implement the tidyverse recycling rules (#372). There are two main changes:
stringr,1,"• Only vectors of length 1 are recycled. Previously, (e.g.) `str_detect(letters, c(""x"", ""y""))` worked, but it now errors."
stringr,1,"• `str_c()` ignores `NULLs`, rather than treating them as length 0 vectors."
stringr,3,"Additionally, many more arguments now throw errors, rather than warnings, if supplied the wrong type of input."
stringr,4,`regex()` and friends now generate class names with `stringr_` prefix (#384).
stringr,5,"`str_detect()`, `str_starts()`, `str_ends()` and `str_subset()` now error when used with either an empty string (`""""`) or a `boundary()`. These operations didn't really make sense (`str_detect(x, """")` returned `TRUE` for all non-empty strings) and made it easy to make mistakes when programming."
stringr,6,Many tweaks to the documentation to make it more useful and consistent.
stringr,7,"New `vignette(""from-base"")` by @​sastoudt provides a comprehensive comparison between base R functions and their stringr equivalents. It's designed to help you move to stringr if you're already familiar with base R string functions (#266)."
stringr,8,"New `str_escape()` escapes regular expression metacharacters, providing an alternative to `fixed()` if you want to compose a pattern from user supplied strings (#408)."
stringr,9,"New `str_equal()` compares two character vectors using unicode rules, optionally ignoring case (#381)."
stringr,10,`str_extract()` can now optionally extract a capturing group instead of the complete match (#420).
stringr,11,New `str_flatten_comma()` is a special case of `str_flatten()` designed for comma separated flattening and can correctly apply the Oxford commas when there are only two elements (#444).
stringr,12,New `str_split_1()` is tailored for the special case of splitting up a single string (#409).
stringr,13,"New `str_split_i()` extract a single piece from a string (#278, @​bfgray3)."
stringr,14,"New `str_like()` allows the use of SQL wildcards (#280, @​rjpat)."
stringr,15,New `str_rank()` to complete the set of order/rank/sort functions (#353).
stringr,16,New `str_sub_all()` to extract multiple substrings from each string.
stringr,17,"New `str_unique()` is a wrapper around `stri_unique()` and returns unique string values in a character vector (#249, @​seasmith)."
stringr,18,`str_view()` uses ANSI colouring rather than an HTML widget (#370). This works in more places and requires fewer dependencies. It includes a number of other small improvements:
stringr,18,• It no longer requires a pattern so you can use it to display strings with special characters.
stringr,18,• It highlights unusual whitespace characters.
stringr,18,• It's vectorised over both string`and`pattern\` (#407).
stringr,18,"• It defaults to displaying all matches, making `str_view_all()` redundant (and hence deprecated) (#455)."
stringr,23,New `str_width()` returns the display width of a string (#380).
stringr,24,stringr is now licensed as MIT (#351).
stringr,25,Better error message if you supply a non-string pattern (#378).
stringr,26,A new data source for `sentences` has fixed many small errors.
stringr,27,`str_extract()` and `str_exctract_all()` now work correctly when `pattern` is a `boundary()`.
stringr,28,`str_flatten()` gains a `last` argument that optionally override the final separator (#377). It gains a `na.rm` argument to remove missing values (since it's a summary function) (#439).
stringr,29,"`str_pad()` gains `use_width` argument to control whether to use the total code point width or the number of code points as ""width"" of a string (#190)."
stringr,30,`str_replace()` and `str_replace_all()` can use standard tidyverse formula shorthand for `replacement` function (#331).
stringr,31,`str_starts()` and `str_ends()` now correctly respect regex operator precedence (@​carlganz).
stringr,32,"`str_wrap()` breaks only at whitespace by default; set `whitespace_only = FALSE` to return to the previous behaviour (#335, @​rjpat)."
stringr,33,"`word()` now returns all the sentence when using a negative `start` parameter that is greater or equal than the number of words. (@​pdelboca, #245)"
stringr,34,`str_interp()` now renders lists consistently independent on the presence of additional placeholders (@​amhrasmussen).
stringr,35,"New `str_starts()` and `str_ends()` functions to detect patterns at the beginning or end of strings (@​jonthegeek, #258)."
stringr,36,"`str_subset()`, `str_detect()`, and `str_which()` get `negate` argument, which is useful when you want the elements that do NOT match (#259, @​yutannihilation)."
stringr,37,"New `str_to_sentence()` function to capitalize with sentence case (@​jonthegeek, #202)."
stringr,38,`str_replace_all()` with a named vector now respects modifier functions (#207)
stringr,39,"`str_trunc()` is once again vectorised correctly (#203, @​austin3dickey)."
stringr,40,"`str_view()` handles `NA` values more gracefully (#217). I've also tweaked the sizing policy so hopefully it should work better in notebooks, while preserving the existing behaviour in knit documents (#232)."
stringr,41,"During package build, you may see `Error : object ‘ignore.case’ is not exported by 'namespace:stringr'`. This is because the long deprecated `str_join()`, `ignore.case()` and `perl()` have now been removed."
stringr,42,`str_glue()` and `str_glue_data()` provide convenient wrappers around `glue` and `glue_data()` from the [glue](https://glue.tidyverse.org/) package (#157).
stringr,43,`str_flatten()` is a wrapper around `stri_flatten()` and clearly conveys flattening a character vector into a single string (#186).
stringr,44,"`str_remove()` and `str_remove_all()` functions. These wrap `str_replace()` and `str_replace_all()` to remove patterns from strings. (@​Shians, #178)"
stringr,45,"`str_squish()` removes spaces from both the left and right side of strings, and also converts multiple space (or space-like characters) to a single space within strings (@​stephlocke, #197)."
stringr,46,"`str_sub()` gains `omit_na` argument for ignoring `NA`. Accordingly, `str_replace()` now ignores `NA`s and keeps the original strings. (@​yutannihilation, #164)"
stringr,47,"`str_trunc()` now preserves NAs (@​ClaytonJY, #162)"
stringr,48,"`str_trunc()` now throws an error when `width` is shorter than `ellipsis` (@​ClaytonJY, #163)."
stringr,49,"Long deprecated `str_join()`, `ignore.case()` and `perl()` have now been removed."
stringr,50,"`str_match_all()` now returns NA if an optional group doesn't match (previously it returned """"). This is more consistent with `str_match()` and other match failures (#134)."
stringr,51,"In `str_replace()`, `replacement` can now be a function that is called once for each match and whose return value is used to replace the match."
stringr,52,New `str_which()` mimics `grep()` (#129).
stringr,53,"A new vignette (`vignette(""regular-expressions"")`) describes the details of the regular expressions supported by stringr. The main vignette (`vignette(""stringr"")`) has been updated to give a high-level overview of the package."
stringr,54,`str_order()` and `str_sort()` gain explicit `numeric` argument for sorting mixed numbers and strings.
stringr,55,`str_replace_all()` now throws an error if `replacement` is not a character vector. If `replacement` is `NA_character_` it replaces the complete string with replaces with `NA` (#124).
stringr,56,"All functions that take a locale (e.g. `str_to_lower()` and `str_sort()`) default to ""en"" (English) to ensure that the default is consistent across platforms."
stringr,57,"Add sample datasets: `fruit`, `words` and `sentences`."
stringr,58,"`fixed()`, `regex()`, and `coll()` now throw an error if you use them with anything other than a plain string (#60). I've clarified that the replacement for `perl()` is `regex()` not `regexp()` (#61). `boundary()` has improved defaults when splitting on non-word boundaries (#58, @​lmullen)."
stringr,59,`str_detect()` now can detect boundaries (by checking for a `str_count()` \> 0) (#120). `str_subset()` works similarly.
stringr,60,`str_extract()` and `str_extract_all()` now work with `boundary()`. This is particularly useful if you want to extract logical constructs like words or sentences. `str_extract_all()` respects the `simplify` argument when used with `fixed()` matches.
stringr,61,"`str_subset()` now respects custom options for `fixed()` patterns (#79, @​gagolews)."
stringr,62,"`str_replace()` and `str_replace_all()` now behave correctly when a replacement string contains `$`s, `\\\\1`, etc. (#83, #99)."
stringr,63,`str_split()` gains a `simplify` argument to match `str_extract_all()` etc.
stringr,64,`str_view()` and `str_view_all()` create HTML widgets that display regular expression matches (#96).
stringr,65,`word()` returns `NA` for indexes greater than number of words (#112).
stringr,66,"stringr is now powered by [stringi](https://github.com/gagolews/stringi) instead of base R regular expressions. This improves unicode and support, and makes most operations considerably faster. If you find stringr inadequate for your string processing needs, I highly recommend looking at stringi in more detail."
stringr,67,"stringr gains a vignette, currently a straight forward update of the article that appeared in the R Journal."
stringr,68,"`str_c()` now returns a zero length vector if any of its inputs are zero length vectors. This is consistent with all other functions, and standard R recycling rules. Similarly, using `str_c(""x"", NA)` now yields `NA`. If you want `""xNA""`, use `str_replace_na()` on the inputs."
stringr,69,`str_replace_all()` gains a convenient syntax for applying multiple pairs of pattern and replacement to the same vector:
stringr,69,"```
input <- c(""abc"", ""def"")
str_replace_all(input, c(""[ad]"" = ""!"", ""[cf]"" = ""?""))
```"
stringr,70,"`str_match()` now returns NA if an optional group doesn't match (previously it returned """"). This is more consistent with `str_extract()` and other match failures."
stringr,71,"New `str_subset()` keeps values that match a pattern. It's a convenient wrapper for `x[str_detect(x)]` (#21, @​jiho)."
stringr,72,New `str_order()` and `str_sort()` allow you to sort and order strings in a specified locale.
stringr,73,New `str_conv()` to convert strings from specified encoding to UTF-8.
stringr,74,"New modifier `boundary()` allows you to count, locate and split by character, word, line and sentence boundaries."
stringr,75,"The documentation got a lot of love, and very similar functions (e.g. first and all variants) are now documented together. This should hopefully make it easier to locate the function you need."
stringr,76,"`ignore.case(x)` has been deprecated in favour of `fixed|regex|coll(x, ignore.case = TRUE)`, `perl(x)` has been deprecated in favour of `regex(x)`."
stringr,77,"`str_join()` is deprecated, please use `str_c()` instead."
stringr,78,fixed path in `str_wrap` example so works for more R installations.
stringr,79,remove dependency on plyr
stringr,80,Zero input to `str_split_fixed` returns 0 row matrix with `n` columns
stringr,81,Export `str_join`
stringr,82,new modifier `perl` that switches to Perl regular expressions
stringr,83,`str_match` now uses new base function `regmatches` to extract matches - this should hopefully be faster than my previous pure R algorithm
stringr,84,new `str_wrap` function which gives `strwrap` output in a more convenient format
stringr,85,new `word` function extract words from a string given user defined separator (thanks to suggestion by David Cooper)
stringr,86,`str_locate` now returns consistent type when matching empty string (thanks to Stavros Macrakis)
stringr,87,new `str_count` counts number of matches in a string.
stringr,88,`str_pad` and `str_trim` receive performance tweaks - for large vectors this should give at least a two order of magnitude speed up
stringr,89,str_length returns NA for invalid multibyte strings
stringr,90,fix small bug in internal `recyclable` function
stringr,91,"all functions now vectorised with respect to string, pattern (and where appropriate) replacement parameters"
stringr,92,"fixed() function now tells stringr functions to use fixed matching, rather than escaping the regular expression. Should improve performance for large vectors."
stringr,93,new ignore.case() modifier tells stringr functions to ignore case of pattern.
stringr,94,str_replace renamed to str_replace_all and new str_replace function added. This makes str_replace consistent with all functions.
stringr,95,new str_sub\<- function (analogous to substring\<-) for substring replacement
stringr,96,str_sub now understands negative positions as a position from the end of the string. -1 replaces Inf as indicator for string end.
stringr,97,"str_pad side argument can be left, right, or both (instead of center)"
stringr,98,str_trim gains side argument to better match str_pad
stringr,99,stringr now has a namespace and imports plyr (rather than requiring it)
stringr,100,fixed() now also escapes \|
stringr,101,str_join() renamed to str_c()
stringr,102,all functions more carefully check input and return informative error messages if not as expected.
stringr,103,add invert_match() function to convert a matrix of location of matches to locations of non-matches
stringr,104,add fixed() function to allow matching of fixed strings.
stringr,105,str_length now returns correct results when used with factors
stringr,106,str_sub now correctly replaces Inf in end argument with length of string
stringr,107,new function str_split_fixed returns fixed number of splits in a character matrix
stringr,108,str_split no longer uses strsplit to preserve trailing breaks
tibble,1,Internal changes only.
tibble,2,Internal changes only.
tibble,3,Remove legacy expectation (#1468).
tibble,4,Use lambda in `across()` in vignette for compatibility with dplyr 1.1.0 (#1485).
tibble,5,Merge pull request #1481 from tidyverse/snapshot-main-rcc-smoke-null.
tibble,6,Harmonize yaml formatting.
tibble,7,Revert changes to matrix section.
tibble,8,Merge pull request #1475 from tidyverse/snapshot-main-rcc-smoke-null.
tibble,9,Merge pull request #1474 from IndrajeetPatil/doc_edits.
tibble,10,Correct top-level calls are shown for the vast majority of errors (#1379).
tibble,11,Using cli for formatting conditions (#1387).
tibble,12,Check if R version changed (#1365).
tibble,13,Define responsibility for setting row names and class (#1364).
tibble,14,"Update example for `nrow` argument to `new_tibble()` (@​heavywatal, #1394)."
tibble,15,Remove ANSI escapes from invariants article on pkgdown (#1374).
tibble,16,Reduce overhead of single-column subset assignment (#1363).
tibble,17,Require vctrs \>= 0.4.1 and pillar \>= 1.8.1
tibble,18,"Skip tests if suggested packages not available (#1246, @​MichaelChirico)."
tibble,19,Internal changes only.
tibble,20,Better reporting for error calls from `vec_as_location()` (#1237).
tibble,21,"Mention `median()` in Recovery section of `vignette(""numbers"")` (#1197)."
tibble,22,"`trunc_mat()` now returns a value with a different structure. This is considered an implementation detail that can change in the future, do not rely on it. The only guarantee is that calling `print()` will display the input like a tibble (#1059)."
tibble,23,Avoid listing `dim_desc()` in reexports.
tibble,24,"Add more examples for data frame and matrix columns (#978, #1012)."
tibble,25,Require rlang 1.0.1 and pillar 1.7.0 (#1063).
tibble,26,"Prefer `class` over `.subclass` in `rlang::error_cnd()` (#1015, #1060)."
tibble,27,`set_num_opts()` and `set_char_opts()` are reexported from pillar (#959).
tibble,28,`view()` uses `rlang::expr_deparse(width = Inf)` to avoid errors with long `|>` pipes (#957).
tibble,29,`new_tibble()` checks that the `nrow` argument is nonnegative and less than 2\^31 (#916).
tibble,30,`tbl_sum.tbl_df()` has an ellipsis in its formals for extensibility.
tibble,31,"Avoid necessity to set `""tibble.view_max""` option for lazy tables (#954)."
tibble,32,"Avoid blanket import for lifecycle package for compatibility with upcoming rlang (#955, @​romainfrancois)."
tibble,33,`as.data.frame.tbl_df()` strips inner column names (#837).
tibble,34,`new_tibble()` allows omitting the `nrow` argument again (#781).
tibble,35,"Move `vignette(""digits"")`, `vignette(""numbers"")`, `?num` and `?char` from the pillar package here (#913)."
tibble,36,Replace `iris` by `trees` (#943).
tibble,37,Various documentation improvements.
tibble,38,New `?tibble_options` help page (#912).
tibble,39,"`x[i, j] <- one_row_value` avoids explicit recycling of the right-hand side, the recycling happens implicitly in `vctrs::vec_assign()` for performance (#922)."
tibble,40,Vignettes are now tested with a snapshot test (#919).
tibble,41,"`new_tibble()` uses `vctrs::new_data_frame()` internally (#726, @​DavisVaughan)."
tibble,42,Adapt to pillar 1.6.2.
tibble,43,Fix tests for compatibility with pillar 1.6.2.
tibble,44,"`tbl[row, col] <- rhs` treats an all-`NA` logical vector as a missing value both for existing data (#773) and for the right-hand side value (#868). This means that a column initialized with `NA` (of type `logical`) will change its type when a row is updated to a value of a different type."
tibble,45,`[[<-()` supports symbols (#893).
tibble,46,`as_tibble_row()` supports arbitrary vectors (#797).
tibble,47,`enframe()` and `deframe()` support arbitrary vectors (#730).
tibble,48,"`tibble()` and `tibble_row()` ignore all columns that evaluate to `NULL`, not only those where a verbatim `NULL` is passed (#895, #900)."
tibble,49,"`new_tibble()` is now faster (#901, @​mgirlich)."
tibble,50,Establish compatibility with rlang \> 0.4.11 (#908).
tibble,51,Use `pillar::dim_desc()` (#859).
tibble,52,"Establish compatibility with testthat \> 3.0.3 (#896, @​lionel-)."
tibble,53,Bump required versions of ellipsis and vctrs to avoid warning during package load.
tibble,54,Bump required versions of ellipsis and vctrs to avoid warning during package load.
tibble,55,`num()` and `char()` are reexported from pillar (#880).
tibble,56,"`tribble()` and `frame_matrix()` give an error if values are named (#871, @​lorenzwalthert)."
tibble,57,Document `cli.num_colors` option (#410).
tibble,58,Fix `new_tibble()` examples for compatibility with pillar 1.6.0.
tibble,59,"`has_rownames()` now works correctly for data frames with a `""row.names""` attribute malformed due to a problem in `structure()` (#852)."
tibble,60,"`tbl[FALSE, ""column""] <- x` adds new column again (#846)."
tibble,61,"Importing pillar 1.5.0, cli and crayon are now suggested packages (#475)."
tibble,62,"`size_sum()` is now reexported from pillar (#850, @​topepo)."
tibble,63,`as_tibble()` hints more often to use the `.name_repair` argument if column names are invalid (#855).
tibble,64,`as_tibble.table()` mentions `.name_repair` argument in the error message (#839).
tibble,65,Remove compatibility code for pillar \< 1.5.0 (#861).
tibble,66,"Moved most functions to the ""stable"" lifecycle (#860)."
tibble,67,"`vec_ptype_abbr.tbl_df()` and `type_sum.tbl_df()` now uses the name of the topmost class for subclasses of `""tbl_df""` (#843)."
tibble,68,Ignore errors in `formats.Rmd` vignette.
tibble,69,Avoid tidy evaluation in pillar compatibility code.
tibble,70,"Use testthat edition 3, compatible with testthat 3.0.1 (#827, #832)."
tibble,71,Establish compatibility with upcoming pillar 1.5.0 (#818).
tibble,72,"`tbl_sum()` shows ""data frame"" instead of ""tibble"" for objects inheriting from `""tbl""` but not `""tbl_df""` (#818)."
tibble,73,Register `format.tbl()` and `print.tbl()` methods only if pillar doesn't (#816).
tibble,74,Use `vctrs::num_as_location()` internally for subset assignment of rows and columns for better error messages (#746).
tibble,75,Adapt tests to the development version of testthat.
tibble,76,Fix documentation link to `base::Extract`.
tibble,77,"`add_row(df)` adds an empty row again (#809, @​DavisVaughan)."
tibble,78,Fix test compatibility with rlang 0.4.7.
tibble,79,Fix warning about `needs_dots` arguments with pillar \>= 1.4.5 (#798).
tibble,80,"`[[` works with classed indexes again, e.g. created with `glue::glue()` (#778)."
tibble,81,`add_column()` works without warning for 0-column data frames (#786).
tibble,82,`tribble()` now better handles named inputs (#775) and objects of non-vtrs classes like `lubridate::Period` (#784) and `formattable::formattable` (#785).
tibble,83,"Subsetting and subassignment are faster (#780, #790, #794)."
tibble,84,`is.null()` is preferred over `is_null()` for speed.
tibble,85,Implement continuous benchmarking (#793).
tibble,86,`is_vector_s3()` is no longer reexported from pillar (#789).
tibble,87,`[<-.tbl_df()` coerces matrices to data frames (#762).
tibble,88,Use delayed import for cli to work around unload problems in downstream packages (#754).
tibble,89,More soft-deprecation warnings are actually visible.
tibble,90,"If `.name_repair` is a function, no repair messages are shown (#763)."
tibble,91,"Remove superseded signal for `as_tibble.list()`, because `as_tibble_row()` only works for size 1."
tibble,92,`as_tibble(validate = )` now always triggers a deprecation warning.
tibble,93,"Subsetting and subassignment of rows with one-column matrices work again, with a deprecation warning (#760)."
tibble,94,Attempts to update a tibble row with an atomic vector give a clearer error message. Recycling message for subassignment appears only if target size is != 1.
tibble,95,"Tweak title of ""Invariants"" vignette."
tibble,96,"Subset assignment (""subassignment"") and also subsetting has become stricter. Symptoms:"
tibble,96,• Error: No common type for ...
tibble,96,• Error: Assigned data `...` must be compatible with ...
tibble,96,"• `i` must have one dimension, not 2"
tibble,96,• Error: Lossy cast from ... to ...
tibble,100,"The ""invariants"" article at https://tibble.tidyverse.org/dev/articles/invariants.html describes the invariants that the operations follow in tibble, and the most important differences to data frames. We tried to make subsetting and subassignment as safe as possible, so that errors are caught early on, while introducing as little friction as possible."
tibble,101,List classes are no longer automatically treated as vectors. Symptoms:
tibble,101,• Error: All columns in a tibble must be vectors
tibble,101,"• Error: Expected a vector, not a `...` object"
tibble,103,"If you implement a class that wraps a list as S3 vector, you need to include `""list""` in the class:"
tibble,103,"```
structure(x, class = c(""your_s3_class"", ""list""))
```"
tibble,103,"Alternatively, implement a `vec_proxy()` method as described in https://vctrs.r-lib.org/reference/vec_data.html, or construct your class with `list_of()`."
tibble,104,"Added experimental support for inner names for all columns, of the form `tibble(a = c(b = 1))`. Inner names are no longer stripped when creating a tibble. They are maintained for slicing operations but not yet updated when assigning with a row subscript. This is a change that may break existing comparison tests that don't expect names in columns (#630). Symptoms:"
tibble,104,"• ""names for target but not for current"" when comparing"
tibble,106,"`tibble()` now splices anonymous data frames, `tibble(tibble(a = 1), b = a)` is equivalent to `tibble(a = 1, b = a)`. This means that `tibble(trees)` now has three columns, use `tibble(trees = trees)` if the intention is to create a packed data frame (#581)."
tibble,107,"The `name-repair` help topic is gone, refer to `?vctrs::vec_as_names` instead."
tibble,108,`expression()` columns are converted to lists as a workaround for lacking support in vctrs (#657).
tibble,109,"`tribble()` is now stricter when combining values. All values in a column must be compatible, otherwise an error occurs (#204). The criteria for wrapping in a list column are now based on vctrs principles: non-vectors or vectors with `vctrs::vec_size()` unequal 1 are wrapped in lists."
tibble,110,"`$` warns unconditionally if column not found, `[[` doesn't warn."
tibble,111,"`add_row()` now uses `vctrs::vec_rbind()` under the hood, this means that all columns are combined with `vctrs::vec_c()`. In particular, factor columns will be converted to character if one of the columns is a character column."
tibble,112,Soft-deprecate `subclass` argument to `new_tibble()`.
tibble,113,Soft-deprecate `as_tibble()` without arguments (#683).
tibble,114,"Preparing to move `glimpse()` and `tbl_sum()` to the pillar package. If your package implements these methods, please import the generics from pillar as soon as they become available there."
tibble,115,"Internals now make heavy use of the vctrs package, following most of the invariants defined there. Name repair is the responsibility of vctrs now (#464)."
tibble,116,"All errors emitted directly by the package inherit from the `""tibble_error""` and `""rlang_error""` classes. In some cases, `""vctrs_error""` errors may be passed through. The exact subclass is subject to change. Example: `tibble(a = quote(b))` raises an error that inherits from `""tibble_error_column_must_be_vector""`, `""tibble_error""` and `""rlang_error""`, and from `""error""` and `""condition""` like all errors. Do not rely on the wording of `""tibble_error_column_must_be_vector""`, this is likely to change. Use the following pattern to catch errors emitted by tibble:"
tibble,116,"```
tryCatch(
  your_code(),
  tibble_error = function(cnd) {
  }
)
```"
tibble,117,"New `tibble_row()` constructs tibbles that have exactly one row, or fails. Non-vector objects are automatically wrapped in a list, vectors (including lists) must have length one (#205)."
tibble,118,"New `as_tibble_row()` and `as_tibble_col()` convert a bare vector to a one-row or one-column tibble, respectively. `as_tibble_col()` also works for non-bare vectors. Using `as_tibble()` for bare vectors is superseded (#447)."
tibble,119,"`as_tibble.data.frame()` uses implicit row names if asked to create a column from row names. This allows lossless direct conversion of matrices with row names to tibbles (#567, @​stufield)."
tibble,120,Implement `str.tbl_df()` (#480).
tibble,121,"`tribble()` now returns columns with `""unspecified""` type for 0-row tibbles."
tibble,122,`add_row()` and `add_column()` now restore attributes to avoid errors when appending to sf objects or other tibble subclasses (#662).
tibble,123,"`add_column()` gains `.name_repair` argument. If not given, `.data` must have unique columns, with a deprecation message."
tibble,124,"Allow `POSIXlt` columns, they are now better supported by dplyr and other tools thanks to vctrs (#626)."
tibble,125,"`tibble()` ignores NULL arguments, named or unnamed (#580)."
tibble,126,"`view()` works for remote data sources by applying the same strategy as `print()` and `glimpse()`. The maximum number of rows in this case can be specified using the new `n` argument, by default it is taken from the new `""tibble.view_max""` option (#695)."
tibble,127,Formatting dimensions never uses scientific notation.
tibble,128,"`glimpse()` uses ""Rows"" and ""Columns"" instead of ""Variables"" and ""Observations"", because we're not sure if the data is tidy here (#614)."
tibble,129,"`view()` now uses the created (or passed) title argument (#610, @​xvrdm)."
tibble,130,"Construction and subsetting of large data frames is faster now (#717, @​romainfrancois)."
tibble,131,Import lifecycle package (#669).
tibble,132,"`new_tibble()` removes redundant subclasses from the `""class""` attribute."
tibble,133,"Using classed conditions. All classes start with `""tibble_error_""` and also contain `""tibble_error""` (#659)."
tibble,134,The magrittr pipe `%>%` is reexported.
tibble,135,"Fix compatibility with R 3.5 and earlier, regression introduced in tibble 2.1.2."
tibble,136,Relax version requirements.
tibble,137,Fix test failing after pillar upgrade.
tibble,138,"Three dots are used even for `""unique""` name repair (#566)."
tibble,139,"`add_row()`, `add_case()` and `add_column()` now signal a warning once per session if the input is not a data frame (#575)."
tibble,140,Fix `view()` for the case when an object named `x` exists in the global environment (#579).
tibble,141,"tibble names can again be set to `NULL` within RStudio, as some R routines within RStudio relied on this behaviour (#563, @​kevinushey)."
tibble,142,"`as_tibble.matrix(validate = TRUE)` works again, with a lifecycle warning (#558)."
tibble,143,"Replace `new_list_along()` by `rep_along()` to support rlang 0.3.1 (#557, @​lionel-)."
tibble,144,"All optional arguments have moved past the ellipsis, and must be specified as named arguments. This affects mostly the `n` argument to `as_tibble.table()`, passing `n` unnamed still works (with a warning)."
tibble,145,"`new_tibble()` has been optimized for performance, the function no longer strips dimensions from 1d arrays and no longer checks correctness of names or column lengths. (It still checks if the object is named, except for zero-length input.) Use the new `validate_tibble()` if you need these checks (#471)."
tibble,146,"The `nrow` argument to `new_tibble()` is now mandatory. The `class` argument replaces the now deprecated `subclass` argument, the latter will be supported quietly for some time (#518)."
tibble,147,"Setting names on a tibble via `names(df) <- ...` now also requires minimal names, otherwise a warning is issued once per session (#466)."
tibble,148,"In `as_tibble()`, checking names is also enabled by default, even for tibbles, matrices and other matrix-like objects: names must exist, `NA` names are not allowed. Coercing a matrix without column names will trigger a warning once per session. (This corresponds to the `""minimal""` checks described below.)."
tibble,149,"The `validate` argument to `as_tibble()` has been deprecated, see below for alternatives. (The `as_tibble.tbl_df()` method has been removed, the `as_tibble.data.frame()` method will be used for tibbles.)"
tibble,150,"`as_tibble()` always checks that all columns are 1D or 2D vectors and not of type `POSIXlt`, even with `validate = FALSE` (which is now deprecated)."
tibble,151,"Calling `as_tibble()` on a vector now warns once per session. Use `enframe(name = NULL)` for converting a vector to a one-column tibble, or `enframe()` for converting a named vector to a two-column tibble."
tibble,152,"`data_frame()` and `frame_data()` are soft-deprecated, please use `tibble()` or `tribble()` (#111)."
tibble,153,"`tibble_()`, `data_frame_()`, and `lst_()` are soft-deprecated. Please use `tibble()` or `lst()` (#111, #509)."
tibble,154,"`as.tibble()` and `as_data_frame()` are officially deprecated and not generic anymore, please use/implement `as_tibble()` (#111)."
tibble,155,`as_tibble.data.frame()` (and also `as_tibble.matrix()`) strip row names by default. Code that relies on tibbles keeping row names now will see:
tibble,155,"• a different result when calling `rownames()` or `row.names()`,"
tibble,155,"• rows full of `NA` values when subsetting rows with with a character vector, e.g. `as_tibble(mtcars)[""Mazda RX4"", ]`."
tibble,157,"Call `pkgconfig::set_config(""tibble::rownames"", NA)` to revert to the old behavior of keeping row names. Packages that import *tibble* can call `set_config()` in their `.onLoad()` function (#114)."
tibble,158,"`as_tibble()` drops extra classes, in particular `as_tibble.grouped_df()` now removes grouping (#535)."
tibble,159,"`column_to_rownames()` now always coerces to a data frame, because row names are no longer supported in tibbles (#114)."
tibble,160,"In all `*_rownames()` functions, the first argument has been renamed to `.data` for consistency (#412)."
tibble,161,"Subsetting one row with `[..., , drop = TRUE]` returns a tibble (#442)."
tibble,162,"The `print.tbl_df()` method has been removed, the `print.tbl()` method handles printing (#519)."
tibble,163,`tibble()` supports columns that are matrices or data frames (#416).
tibble,164,"The new `.rows` argument to `tibble()` and `as_tibble()` allows specifying the expected number of rows explicitly, even if it's evident from the data. This allows writing more defensive code."
tibble,165,"Column name repair has more direct support, via the new `.name_repair` argument to `tibble()` and `as_tibble()`. It takes the following values:"
tibble,165,"• `""minimal""`: No name repair or checks, beyond basic existence."
tibble,165,"• `""unique""`: Make sure names are unique and not empty."
tibble,165,"• `""check_unique""`: (default value), no name repair, but check they are `unique`."
tibble,165,"• `""universal""`: Make the names `unique` and syntactic."
tibble,165,"• a function: apply custom name repair (e.g., `.name_repair = make.names` or `.name_repair = ~make.names(., unique = TRUE)` for names in the style of base R)."
tibble,170,"The `validate` argument of `as_tibble()` is deprecated but supported (emits a message once per session). Use `.name_repair = ""minimal""` instead of `validate = FALSE`, and `.name_repair = ""check_unique""` instead of `validate = TRUE`. If you need to support older versions of tibble, pass both `.name_repair` and `validate` arguments in a consistent way, no message will be emitted in this case (#469, @​jennybc)."
tibble,171,"Row name handling is stricter. Row names are never (and never were) supported in `tibble()` and `new_tibble()`, and are now stripped by default in `as_tibble()`. The `rownames` argument to `as_tibble()` supports:"
tibble,171,"• `NULL`: remove row names (default),"
tibble,171,"• `NA`: keep row names,"
tibble,171,"• A string: the name of the new column that will contain the existing row names, which are no longer present in the result."
tibble,174,"The old default can be restored by calling `pkgconfig::set_config(""tibble::rownames"", NA)`, this also works for packages that import *tibble*."
tibble,175,"`new_tibble()` and `as_tibble()` now also strip the `""dim""` attribute from columns that are one-dimensional arrays. (`tibble()` already did this before.)"
tibble,176,"Internally, all `as_tibble()` implementation forward all extra arguments and `...` to `as_tibble.list()` where they are handled. This means that the common `.rows` and `.name_repair` can be used for all inputs. We suggest that your implementations of this method do the same."
tibble,177,`enframe()` (with `name = NULL`) and `deframe()` now support one-column tibbles (#449).
tibble,178,"Improved S4 support by adding `exportClass(tbl_df)` to `NAMESPACE` (#436, @​jeffreyhanson and @​javierfajnolla)."
tibble,179,New `validate_tibble()` checks a tibble for internal consistency (#471).
tibble,180,"Bring error message for invalid column type in line with allowed matrix/df cols (#465, @​maxheld83)."
tibble,181,Added experimental `view()` function that always returns its input invisibly and calls `utils::View()` only in interactive mode (#373).
tibble,182,The `set_tidy_names()` and `tidy_names()` helpers the list of new names using a bullet list with at most six items (#406).
tibble,183,"A one-character ellipse (`cli::symbol$ellipsis`) is printed instead of `""...""` where available, this affects `glimpse()` output and truncated lists (#403)."
tibble,184,Column names and types are now formatted identically with `glimpse()` and `print.tbl_df()`.
tibble,185,`tidy_names()` quotes variable names when reporting on repair (#407).
tibble,186,All error messages now follow the tidyverse style guide (#223).
tibble,187,"`as_tibble()` prints an informative error message when using the `rownames` argument and the input data frame or matrix does not have row names (#388, @​anhqle)."
tibble,188,"`column_to_rownames()` uses the real variable name in its error message (#399, @​alexwhan)."
tibble,189,"Lazy tibbles with exactly 10 rows no longer show ""...with more rows"" (#371)."
tibble,190,"`glimpse()` shows information obtained from `tbl_sum()`, e.g. grouping information for `grouped_df` from dplyr (#550)."
tibble,191,"`glimpse()` takes coloring into account when computing column width, the output is no longer truncated prematurely when coloring is enabled."
tibble,192,"`glimpse()` disambiguates outputs for factors if the levels contain commas (#384, @​anhqle)."
tibble,193,`print.tbl_df()` with a negative value for `n` behaves as if `n` was omitted (#371).
tibble,194,Fixed output for extra column names that contain spaces.
tibble,195,"Skip dplyr in tests if unavailable (#420, @​QuLogic)."
tibble,196,"Skip mockr in tests if unavailable (#454, @​Enchufa2)."
tibble,197,Use `fansi::strwrap_ctl()` instead of own string wrapping routine.
tibble,198,`tibble()` uses recycled values during construction but unrecycled values for validation.
tibble,199,`tibble()` is now faster for very wide tibbles.
tibble,200,Subsetting with the `[` operator is faster (#544).
tibble,201,"Avoid use of `stop()` in examples if packages are not installed (#453, @​Enchufa2)."
tibble,202,"Fix `as_tibble()` examples by using correct argument names in `requireNamespace()` call (#424, @​michaelweylandt)."
tibble,203,"`as_tibble()` checks column length only once (#365, @​anhqle)."
tibble,204,"Using `rlang::list2()` (#391, @​lionel-)."
tibble,205,Fix OS X builds.
tibble,206,The `tibble.width` option is honored again (#369).
tibble,207,"`tbl[1, , drop = TRUE]` now behaves identically to data frames (#367)."
tibble,208,"Fix error message when accessing columns using a logical index vector (#337, @​mundl)."
tibble,209,`glimpse()` returns its input for zero-column data frames.
tibble,210,`enframe(NULL)` now returns the same as `enframe(logical())` (#352).
tibble,211,"`tribble()` now ignores trailing commas (#342, @​anhqle)."
tibble,212,Updated vignettes and website documentation.
tibble,213,Faster printing of very wide tibbles (#360).
tibble,214,Faster construction and subsetting for tibbles (#353).
tibble,215,"Only call `nrow()` and `head()` in `glimpse()`, not `ncol()`."
tibble,216,"Make `add_case()` an alias for `add_row()` (#324, @​LaDilettante)."
tibble,217,"`as_tibble()` gains `rownames` argument (#288, #289)."
tibble,218,`as_tibble.matrix()` repairs column names.
tibble,219,Tibbles now support character subsetting (#312).
tibble,220,"`` `[.tbl_df`() `` supports `drop = TRUE` and omits the warning if `j` is passed. The calls `df[i, j, drop = TRUE]` and `df[j, drop = TRUE]` are now compatible with data frames again (#307, #311)."
tibble,221,Improved compatibility with remote data sources for `glimpse()` (#328).
tibble,222,"Logical indexes are supported, a warning is raised if the length does not match the number of rows or 1 (#318)."
tibble,223,Fixed width for word wrapping of the extra information (#301).
tibble,224,"Prevent `add_column()` from dropping classes and attributes by removing the use of `cbind()`. Additionally this ensures that `add_column()` can be used with grouped data frames (#303, @​DavisVaughan)."
tibble,225,`add_column()` to an empty zero-row tibble with a variable of nonzero length now produces a correct error message (#319).
tibble,226,"Reexporting `has_name()` from rlang, instead of forwarding, to avoid warning when importing both rlang and tibble."
tibble,227,Compatible with R 3.1 (#323).
tibble,228,"Remove Rcpp dependency (#313, @​patperry)."
tibble,229,"Values of length 1 in a `tibble()` call are recycled prior to evaluating subsequent arguments, improving consistency with `mutate()` (#213)."
tibble,230,Recycling of values of length 1 in a `tibble()` call maintains their class (#284).
tibble,231,`add_row()` now always preserves the column data types of the input data frame the same way as `rbind()` does (#296).
tibble,232,"`lst()` now again handles duplicate names, the value defined last is used in case of a clash."
tibble,233,Adding columns to zero-row data frames now also works when mixing lengths 1 and 0 in the new columns (#167).
tibble,234,"The `validate` argument is now also supported in `as_tibble.tbl_df()`, with default to `FALSE` (#278). It must be passed as named argument, as in `as_tibble(validate = TRUE)`."
tibble,235,"`format_v()` now always surrounds lists with `[]` brackets, even if their length is one. This affects `glimpse()` output for list columns (#106)."
tibble,236,Factor levels are escaped when printing (#277).
tibble,237,Non-syntactic names are now also escaped in `glimpse()` (#280).
tibble,238,`tibble()` gives a consistent error message in the case of duplicate column names (#291).
tibble,239,"Added `format()` and `print()` methods for both `tbl` and `tbl_df` classes, to protect against malformed tibbles that inherit from `""tbl_df""` but not `""tbl""`, as created e.g. by `ungroup()` in dplyr 0.5.0 and earlier (#256, #263)."
tibble,240,The column width for non-syntactic columns is computed correctly again (#258).
tibble,241,Printing a tibble doesn't apply quote escaping to list columns.
tibble,242,"Fix error in `tidy_names(syntactic = TRUE, quiet = FALSE)` if not all names are fixed (#260, @​imanuelcostigan)."
tibble,243,Remove unused import declaration for assertthat.
tibble,244,"Subsetting zero columns no longer returns wrong number of rows (#241, @​echasnovski)."
tibble,245,"New `set_tidy_names()` and `tidy_names()`, a simpler version of `repair_names()` which works unchanged for now (#217)."
tibble,246,"New `rowid_to_column()` that adds a `rowid` column as first column and removes row names (#243, @​barnettjacob)."
tibble,247,"The `all.equal.tbl_df()` method has been removed, calling `all.equal()` now forwards to `base::all.equal.data.frame()`. To compare tibbles ignoring row and column order, please use `dplyr::all_equal()` (#247)."
tibble,248,"Printing now uses `x` again instead of the Unicode multiplication sign, to avoid encoding issues (#216)."
tibble,249,String values are now quoted when printing if they contain non-printable characters or quotes (#253).
tibble,250,"The `print()`, `format()`, and `tbl_sum()` methods are now implemented for class `""tbl""` and not for `""tbl_df""`. This allows subclasses to use tibble's formatting facilities. The formatting of the header can be tweaked by implementing `tbl_sum()` for the subclass, which is expected to return a named character vector. The `print.tbl_df()` method is still implemented for compatibility with downstream packages, but only calls `NextMethod()`."
tibble,251,"Own printing routine, not relying on `print.data.frame()` anymore. Now providing `format.tbl_df()` and full support for Unicode characters in names and data, also for `glimpse()` (#235)."
tibble,252,Improve formatting of error messages (#223).
tibble,253,"Using `rlang` instead of `lazyeval` (#225, @​lionel-), and `rlang` functions (#244)."
tibble,254,"`tribble()` now handles values that have a class (#237, @​NikNakk)."
tibble,255,"Minor efficiency gains by replacing `any(is.na())` with `anyNA()` (#229, @​csgillespie)."
tibble,256,The `microbenchmark` package is now used conditionally (#245).
tibble,257,`pkgdown` website.
tibble,258,Time series matrices (objects of class `mts` and `ts`) are now supported in `as_tibble()` (#184).
tibble,259,"The `all_equal()` function (called by `all.equal.tbl_df()`) now forwards to `dplyr` and fails with a helpful message if not installed. Data frames with list columns cannot be compared anymore, and differences in the declared class (`data.frame` vs. `tbl_df`) are ignored. The `all.equal.tbl_df()` method gives a warning and forwards to `NextMethod()` if `dplyr` is not installed; call `all.equal(as.data.frame(...), ...)` to avoid the warning. This ensures consistent behavior of this function, regardless if `dplyr` is loaded or not (#198)."
tibble,260,Now requiring R 3.1.0 instead of R 3.1.3 (#189).
tibble,261,"Add `as.tibble()` as an alias to `as_tibble()` (#160, @​LaDilettante)."
tibble,262,"New `frame_matrix()`, similar to `frame_data()` but for matrices (#140, #168, @​LaDilettante)."
tibble,263,"New `deframe()` as reverse operation to `enframe()` (#146, #214)."
tibble,264,Removed unused dependency on `assertthat`.
tibble,265,"Keep column classes when adding row to empty tibble (#171, #177, @​LaDilettante)."
tibble,266,"Singular and plural variants for error messages that mention a list of objects (#116, #138, @​LaDilettante)."
tibble,267,"`add_column()` can add columns of length 1 (#162, #164, @​LaDilettante)."
tibble,268,An attempt to read or update a missing column now throws a clearer warning (#199).
tibble,269,An attempt to call `add_row()` for a grouped data frame results in a helpful error message (#179).
tibble,270,"Render Unicode multiplication sign as `x` if it cannot be represented in the current locale (#192, @​ncarchedi)."
tibble,271,"Backtick `NA` names in printing (#206, #207, @​jennybc)."
tibble,272,"`glimpse()` now uses `type_sum()` also for S3 objects (#185, #186, @​holstius)."
tibble,273,"The `max.print` option is ignored when printing a tibble (#194, #195, @​t-kalinowski)."
tibble,274,"Fix typo in `obj_sum` documentation (#193, @​etiennebr)."
tibble,275,"Reword documentation for `tribble()` (#191, @​kwstat)."
tibble,276,Now explicitly stating minimum Rcpp version 0.12.3.
tibble,277,Using registration of native routines.
tibble,278,"The `tibble.width` option is used for `glimpse()` only if it is finite (#153, @​kwstat)."
tibble,279,New `as_tibble.poly()` to support conversion of a `poly` object to a tibble (#110).
tibble,280,`add_row()` now correctly handles existing columns of type `list` that are not updated (#148).
tibble,281,"`all.equal()` doesn't throw an error anymore if one of the columns is named `na.last`, `decreasing` or `method` (#107, @​BillDunlap)."
tibble,282,"New `add_column()`, analogously to `add_row()` (#99)."
tibble,283,`print.tbl_df()` gains `n_extra` method and will have the same interface as `trunc_mat()` from now on.
tibble,284,`add_row()` and `add_column()` gain `.before` and `.after` arguments which indicate the row (by number) or column (by number or name) before or after which the new data are inserted. Updated or added columns cannot be named `.before` or `.after` (#99).
tibble,285,"Rename `frame_data()` to `tribble()`, stands for ""transposed tibble"". The former is still available as alias (#132, #143)."
tibble,286,"`add_row()` now can add multiple rows, with recycling (#142, @​jennybc)."
tibble,287,Use multiply character `×` instead of `x` when printing dimensions (#126). Output tests had to be disabled for this on Windows.
tibble,288,Back-tick non-semantic column names on output (#131).
tibble,289,"Use `dttm` instead of `time` for `POSIXt` values (#133), which is now used for columns of the `difftime` class."
tibble,290,"Better output for 0-row results when total number of rows is unknown (e.g., for SQL data sources)."
tibble,291,New object summary vignette that shows which methods to define for custom vector classes to be used as tibble columns (#151).
tibble,292,"Added more examples for `print.tbl_df()`, now using data from `nycflights13` instead of `Lahman` (#121), with guidance to install `nycflights13` package if necessary (#152)."
tibble,293,"Minor changes in vignette (#115, @​helix123)."
tibble,294,`tibble()` is no longer an alias for `frame_data()` (#82).
tibble,295,Remove `tbl_df()` (#57).
tibble,296,"`$` returns `NULL` if column not found, without partial matching. A warning is given (#109)."
tibble,297,`[[` returns `NULL` if column not found (#109).
tibble,298,"Reworked output: More concise summary (begins with hash `#` and contains more text (#95)), removed empty line, showing number of hidden rows and columns (#51). The trailing metadata also begins with hash `#` (#101). Presence of row names is indicated by a star in printed output (#72)."
tibble,299,"Format `NA` values in character columns as `<NA>`, like `print.data.frame()` does (#69)."
tibble,300,"The number of printed extra cols is now an option (#68, @​lionel-)."
tibble,301,"Computation of column width properly handles wide (e.g., Chinese) characters, tests still fail on Windows (#100)."
tibble,302,`glimpse()` shows nesting structure for lists and uses angle brackets for type (#98).
tibble,303,"Tibbles with `POSIXlt` columns can be printed now, the text `<POSIXlt>` is shown as placeholder to encourage usage of `POSIXct` (#86)."
tibble,304,`type_sum()` shows only topmost class for S3 objects.
tibble,305,"Strict checking of integer and logical column indexes. For integers, passing a non-integer index or an out-of-bounds index raises an error. For logicals, only vectors of length 1 or `ncol` are supported. Passing a matrix or an array now raises an error in any case (#83)."
tibble,306,Warn if setting non-`NULL` row names (#75).
tibble,307,Consistently surround variable names with single quotes in error messages.
tibble,308,"Use ""Unknown column 'x'"" as error message if column not found, like base R (#94)."
tibble,309,`stop()` and `warning()` are now always called with `call. = FALSE`.
tibble,310,The `.Dim` attribute is silently stripped from columns that are 1d matrices (#84).
tibble,311,Converting a tibble without row names to a regular data frame does not add explicit row names.
tibble,312,"`as_tibble.data.frame()` preserves attributes, and uses `as_tibble.list()` to calling overriden methods which may lead to endless recursion."
tibble,313,New `has_name()` (#102).
tibble,314,Prefer `tibble()` and `as_tibble()` over `data_frame()` and `as_data_frame()` in code and documentation (#82).
tibble,315,New `is.tibble()` and `is_tibble()` (#79).
tibble,316,"New `enframe()` that converts vectors to two-column tibbles (#31, #74)."
tibble,317,"`obj_sum()` and `type_sum()` show `""tibble""` instead of `""tbl_df""` for tibbles (#82)."
tibble,318,"`as_tibble.data.frame()` gains `validate` argument (as in `as_tibble.list()`), if `TRUE` the input is validated."
tibble,319,"Implement `as_tibble.default()` (#71, hadley/dplyr#1752)."
tibble,320,`has_rownames()` supports arguments that are not data frames.
tibble,321,"Two-dimensional indexing with `[[` works (#58, #63)."
tibble,322,"Subsetting with empty index (e.g., `x[]`) also removes row names."
tibble,323,Document behavior of `as_tibble.tbl_df()` for subclasses (#60).
tibble,324,Document and test that subsetting removes row names.
tibble,325,Don't rely on `knitr` internals for testing (#78).
tibble,326,Fix compatibility with `knitr` 1.13 (#76).
tibble,327,Enhance `knit_print()` tests.
tibble,328,Provide default implementation for `tbl_sum.tbl_sql()` and `tbl_sum.tbl_grouped_df()` to allow `dplyr` release before a `tibble` release.
tibble,329,Explicit tests for `format_v()` (#98).
tibble,330,Test output for `NULL` value of `tbl_sum()`.
tibble,331,Test subsetting in all variants (#62).
tibble,332,Add missing test from dplyr.
tibble,333,Use new `expect_output_file()` from `testthat`.
tibble,334,Initial CRAN release
tibble,335,Extracted from `dplyr` 0.4.3
tibble,336,Exported functions:
tibble,336,• `tbl_df()`
tibble,336,• `as_data_frame()`
tibble,336,"• `data_frame()`, `data_frame_()`"
tibble,336,"• `frame_data()`, `tibble()`"
tibble,336,• `glimpse()`
tibble,336,"• `trunc_mat()`, `knit_print.trunc_mat()`"
tibble,336,• `type_sum()`
tibble,336,"• New `lst()` and `lst_()` create lists in the same way that `data_frame()` and `data_frame_()` create data frames (hadley/dplyr#1290). `lst(NULL)` doesn't raise an error (#17, @​jennybc), but always uses deparsed expression as name (even for `NULL`)."
tibble,336,• New `add_row()` makes it easy to add a new row to data frame (hadley/dplyr#1021).
tibble,336,"• New `rownames_to_column()` and `column_to_rownames()` (#11, @​zhilongjia)."
tibble,336,• New `has_rownames()` and `remove_rownames()` (#44).
tibble,336,"• New `repair_names()` fixes missing and duplicate names (#10, #15, @​r2evans)."
tibble,336,• New `is_vector_s3()`.
tibble,350,Features
tibble,350,"• New `as_data_frame.table()` with argument `n` to control name of count column (#22, #23)."
tibble,350,"• Use `tibble` prefix for options (#13, #36)."
tibble,350,"• `glimpse()` now (invisibly) returns its argument (hadley/dplyr#1570). It is now a generic, the default method dispatches to `str()` (hadley/dplyr#1325). The default width is obtained from the `tibble.width` option (#35, #56)."
tibble,350,"• `as_data_frame()` is now an S3 generic with methods for lists (the old `as_data_frame()`), data frames (trivial), matrices (with efficient C++ implementation) (hadley/dplyr#876), and `NULL` (returns a 0-row 0-column data frame) (#17, @​jennybc)."
tibble,350,• Non-scalar input to `frame_data()` and `tibble()` (including lists) creates list-valued columns (#7). These functions return 0-row but n-col data frame if no data.
tibble,356,Bug fixes
tibble,356,"• `frame_data()` properly constructs rectangular tables (hadley/dplyr#1377, @​kevinushey)."
tibble,358,Minor modifications
tibble,358,"• Uses `setOldClass(c(""tbl_df"", ""tbl"", ""data.frame""))` to help with S4 (hadley/dplyr#969)."
tibble,358,• `tbl_df()` automatically generates column names (hadley/dplyr#1606).
tibble,358,"• `tbl_df`s gain `$` and `[[` methods that are \~5x faster than the defaults, never do partial matching (hadley/dplyr#1504), and throw an error if the variable does not exist. `[[.tbl_df()` falls back to regular subsetting when used with anything other than a single string (#29). `base::getElement()` now works with tibbles (#9)."
tibble,358,"• `all_equal()` allows to compare data frames ignoring row and column order, and optionally ignoring minor differences in type (e.g. int vs. double) (hadley/dplyr#821). Used by `all.equal()` for tibbles. (This package contains a pure R implementation of `all_equal()`, the `dplyr` code has identical behavior but is written in C++ and thus faster.)"
tibble,358,"• The internals of `data_frame()` and `as_data_frame()` have been aligned, so `as_data_frame()` will now automatically recycle length-1 vectors. Both functions give more informative error messages if you are attempting to create an invalid data frame. You can no longer create a data frame with duplicated names (hadley/dplyr#820). Both functions now check that you don't have any `POSIXlt` columns, and tell you to use `POSIXct` if you do (hadley/dplyr#813). `data_frame(NULL)` raises error ""must be a 1d atomic vector or list""."
tibble,358,• `trunc_mat()` and `print.tbl_df()` are considerably faster if you have very wide data frames. They will now also only list the first 100 additional variables not already on screen - control this with the new `n_extra` parameter to `print()` (hadley/dplyr#1161). The type of list columns is printed correctly (hadley/dplyr#1379). The `width` argument is used also for 0-row or 0-column data frames (#18).
tibble,358,"• When used in list-columns, S4 objects only print the class name rather than the full class hierarchy (#33)."
tibble,358,"• Add test that `[.tbl_df()` does not change class (#41, @​jennybc). Improve `[.tbl_df()` error message."
tibble,367,Documentation
tibble,367,"• Update README, with edits (#52, @​bhive01) and enhancements (#54, @​jennybc)."
tibble,367,"• `vignette(""tibble"")` describes the difference between tbl_dfs and regular data frames (hadley/dplyr#1468)."
tibble,370,Code quality
tibble,370,"• Test using new-style Travis-CI and AppVeyor. Full test coverage (#24, #53). Regression tests load known output from file (#49)."
tibble,370,"• Renamed `obj_type()` to `obj_sum()`, improvements, better integration with `type_sum()`."
tibble,370,• Internal cleanup.
tidyr,1,"New family of consistent string separating functions: `separate_wider_delim()`, `separate_wider_position()`, `separate_wider_regex()`, `separate_longer_delim()`, and `separate_longer_position()`. These functions are thorough refreshes of `separate()` and `extract()`, featuring improved performance, greater consistency, a polished API, and a new approach for handling problems. They use stringr and supersede `extract()`, `separate()`, and `separate_rows()` (#1304)."
tidyr,2,"`nest()` gains a `.by` argument which allows you to specify the columns to nest by (rather than the columns to nest, i.e. through `...`). Additionally, the `.key` argument is no longer deprecated, and is used whenever `...` isn't specified (#1458)."
tidyr,3,`unnest_longer()` gains a `keep_empty` argument like `unnest()` (#1339).
tidyr,4,`pivot_longer()` gains a `cols_vary` argument for controlling the ordering of the output rows relative to their original row number (#1312).
tidyr,5,"New datasets `who2`, `household`, `cms_patient_experience`, and `cms_patient_care` to demonstrate various tidying challenges (#1333)."
tidyr,6,"The `...` argument of both `pivot_longer()` and `pivot_wider()` has been moved to the front of the function signature, after the required arguments but before the optional ones. Additionally, `pivot_longer_spec()`, `pivot_wider_spec()`, `build_longer_spec()`, and `build_wider_spec()` have all gained `...` arguments in a similar location. This change allows us to more easily add new features to the pivoting functions without breaking existing CRAN packages and user scripts. `pivot_wider()` provides temporary backwards compatible support for the case of a single unnamed argument that previously was being positionally matched to `id_cols`. This one special case still works, but will throw a warning encouraging you to explicitly name the `id_cols` argument. To read more about this pattern, see [Data, dots, details](https://design.tidyverse.org/dots-position.html) in the tidyverse design guide (#1350)."
tidyr,7,All functions deprecated in tidyr 1.0 and 1.2 (the old lazyeval functions ending in `_` and various arguments to `unnest()`) now warn on every use. They will be made defunct in 2024 (#1406).
tidyr,8,"`unnest_longer()` now consistently drops rows with either `NULL` or empty vectors (like `integer()`) by default. Set the new `keep_empty` argument to `TRUE` to retain them. Previously, `keep_empty = TRUE` was implicitly being used for `NULL`, while `keep_empty = FALSE` was being used for empty vectors, which was inconsistent with all other tidyr verbs with this argument (#1363)."
tidyr,9,"`unnest_longer()` now uses `""""` in the index column for fully unnamed vectors. It also now consistently uses `NA` in the index column for empty vectors that are ""kept"" by `keep_empty = TRUE` (#1442)."
tidyr,10,`unnest_wider()` now errors if any values being unnested are unnamed and `names_sep` is not provided (#1367).
tidyr,11,"`unnest_wider()` now generates automatic names for *partially* unnamed vectors. Previously it only generated them for fully unnamed vectors, resulting in a strange mix of automatic names and name-repaired names (#1367)."
tidyr,12,"Most tidyr functions now consistently disallow renaming during tidy-selection. Renaming was never meaningful in these functions, and previously either had no effect or caused problems (#1449, #1104)."
tidyr,13,"tidyr errors (including input validation) have been thoroughly reviewed and should generally be more likely to point you in the right direction (#1313, #1400)."
tidyr,14,"`uncount()` is now generic so implementations can be provided for objects other than data frames (@​mgirlich, #1358)."
tidyr,15,"`uncount()` gains a `...` argument. It comes between the required and the optional arguments (@​mgirlich, #1358)."
tidyr,16,"`nest()`, `complete()`, `expand()`, and `fill()` now document their support for grouped data frames created by `dplyr::group_by()` (#952)."
tidyr,17,All built in datasets are now standard tibbles (#1459).
tidyr,18,"R \>=3.4.0 is now required, in line with the tidyverse standard of supporting the previous 5 minor releases of R."
tidyr,19,"rlang \>=1.0.4 and vctrs \>=0.5.2 are now required (#1344, #1470)."
tidyr,20,Removed dependency on ellipsis in favor of equivalent functions in rlang (#1314).
tidyr,21,"`unnest()`, `unchop()`, `unnest_longer()`, and `unnest_wider()` better handle lists with additional classes (#1327)."
tidyr,22,"`pack()`, `unpack()`, `chop()`, and `unchop()` all gain an `error_call` argument, which in turn improves some of the error calls shown in `nest()` and various `unnest()` adjacent functions (#1446)."
tidyr,23,"`chop()`, `unpack()`, and `unchop()` all gain `...`, which must be empty (#1447)."
tidyr,24,"`unpack()` does a better job of reporting column name duplication issues and gives better advice about how to resolve them using `names_sep`. This also improves errors from functions that use `unpack()`, like `unnest()` and `unnest_wider()` (#1425, #1367)."
tidyr,25,"`pivot_longer()` no longer supports interpreting `values_ptypes = list()` and `names_ptypes = list()` as `NULL`. An empty `list()` is now interpreted as a `<list>` prototype to apply to all columns, which is consistent with how any other 0-length value is interpreted (#1296)."
tidyr,26,"`pivot_longer(values_drop_na = TRUE)` is faster when there aren't any missing values to drop (#1392, @​mgirlich)."
tidyr,27,"`pivot_longer()` is now more memory efficient due to the usage of `vctrs::vec_interleave()` (#1310, @​mgirlich)."
tidyr,28,`pivot_longer()` now throws a slightly better error message when `values_ptypes` or `names_ptypes` is provided and the coercion can't be made (#1364).
tidyr,29,`pivot_wider()` now throws a better error message when a column selected by `names_from` or `values_from` is also selected by `id_cols` (#1318).
tidyr,30,"`pivot_wider()` is now faster when `names_sep` is provided (@​mgirlich, #1426)."
tidyr,31,"`pivot_longer_spec()`, `pivot_wider_spec()`, `build_longer_spec()`, and `build_wider_spec()` all gain an `error_call` argument, resulting in better error reporting in `pivot_longer()` and `pivot_wider()` (#1408)."
tidyr,32,"`fill()` now works correctly when there is a column named `.direction` in `data` (#1319, @​tjmahr)."
tidyr,33,"`replace_na()` is faster when there aren't any missing values to replace (#1392, @​mgirlich)."
tidyr,34,The documentation of the `replace` argument of `replace_na()` now mentions that `replace` is always cast to the type of `data` (#1317).
tidyr,35,Hot patch release to resolve R CMD check failures.
tidyr,36,"`complete()` and `expand()` no longer allow you to complete or expand on a grouping column. This was never well-defined since completion/expansion on a grouped data frame happens ""within"" each group and otherwise has the potential to produce erroneous results (#1299)."
tidyr,37,"`replace_na()` no longer allows the type of `data` to change when the replacement is applied. `replace` will now always be cast to the type of `data` before the replacement is made. For example, this means that using a replacement value of `1.5` on an integer column is no longer allowed. Similarly, replacing missing values in a list-column must now be done with `list(""foo"")` rather than just `""foo""`."
tidyr,38,`pivot_wider()` gains new `names_expand` and `id_expand` arguments for turning implicit missing factor levels and variable combinations into explicit ones. This is similar to the `drop` argument from `spread()` (#770).
tidyr,39,`pivot_wider()` gains a new `names_vary` argument for controlling the ordering when combining `names_from` values with `values_from` column names (#839).
tidyr,40,"`pivot_wider()` gains a new `unused_fn` argument for controlling how to summarize unused columns that aren't involved in the pivoting process (#990, thanks to @​mgirlich for an initial implementation)."
tidyr,41,"`pivot_longer()`'s `names_transform` and `values_transform` arguments now accept a single function which will be applied to all of the columns (#1284, thanks to @​smingerson for an initial implementation)."
tidyr,42,`pivot_longer()`'s `names_ptypes` and `values_ptypes` arguments now accept a single empty ptype which will be applied to all of the columns (#1284).
tidyr,43,`unnest()` and `unchop()`'s `ptype` argument now accepts a single empty ptype which will be applied to all `cols` (#1284).
tidyr,44,`unpack()` now silently skips over any non-data frame columns specified by `cols`. This matches the existing behavior of `unchop()` and `unnest()` (#1153).
tidyr,45,`unnest_wider()` and `unnest_longer()` can now unnest multiple columns at once (#740).
tidyr,46,"`unnest_longer()`'s `indices_to` and `values_to` arguments now accept a glue specification, which is useful when unnesting multiple columns."
tidyr,47,"For `hoist()`, `unnest_longer()`, and `unnest_wider()`, if a `ptype` is supplied, but that column can't be simplified, the result will be a list-of column where each element has type `ptype` (#998)."
tidyr,48,"`unnest_wider()` gains a new `strict` argument which controls whether or not strict vctrs typing rules should be applied. It defaults to `FALSE` for backwards compatibility, and because it is often more useful to be lax when unnesting JSON, which doesn't always map one-to-one with R's types (#1125)."
tidyr,49,"`hoist()`, `unnest_longer()`, and `unnest_wider()`'s `simplify` argument now accepts a named list of `TRUE` or `FALSE` to control simplification on a per column basis (#995)."
tidyr,50,"`hoist()`, `unnest_longer()`, and `unnest_wider()`'s `transform` argument now accepts a single function which will be applied to all components (#1284)."
tidyr,51,"`hoist()`, `unnest_longer()`, and `unnest_wider()`'s `ptype` argument now accepts a single empty ptype which will be applied to all components (#1284)."
tidyr,52,`complete()` gains a new `explicit` argument for limiting `fill` to only implicit missing values. This is useful if you don't want to fill in pre-existing missing values (#1270).
tidyr,53,"`complete()` gains a grouped data frame method. This generates a more correct completed data frame when groups are involved (#396, #966)."
tidyr,54,"`drop_na()`, `replace_na()`, and `fill()` have been updated to utilize vctrs. This means that you can use these functions on a wider variety of column types, including lubridate's Period types (#1094), data frame columns, and the [rcrd](https://vctrs.r-lib.org/reference/new_rcrd.html) type from vctrs."
tidyr,55,`replace_na()` no longer replaces empty atomic elements in list-columns (like `integer(0)`). The only value that is replaced in a list-column is `NULL` (#1168).
tidyr,56,`drop_na()` no longer drops empty atomic elements from list-columns (like `integer(0)`). The only value that is dropped in a list-column is `NULL` (#1228).
tidyr,57,@​mgirlich is now a tidyr author in recognition of his significant and sustained contributions.
tidyr,58,All lazyeval variants of tidyr verbs have been soft-deprecated. Expect them to move to the defunct stage in the next minor release of tidyr (#1294).
tidyr,59,`any_of()` and `all_of()` from tidyselect are now re-exported (#1217).
tidyr,60,dplyr \>= 1.0.0 is now required.
tidyr,61,`pivot_wider()` now gives better advice about how to identify duplicates when values are not uniquely identified (#1113).
tidyr,62,`pivot_wider()` now throws a more informative error when `values_fn` doesn't result in a single summary value (#1238).
tidyr,63,`pivot_wider()` and `pivot_longer()` now generate more informative errors related to name repair (#987).
tidyr,64,`pivot_wider()` now works correctly when `values_fill` is a data frame.
tidyr,65,`pivot_wider()` no longer accidentally retains `values_from` when pivoting a zero row data frame (#1249).
tidyr,66,`pivot_wider()` now correctly handles the case where an id column name collides with a value from `names_from` (#1107).
tidyr,67,"`pivot_wider()` and `pivot_longer()` now both check that the spec columns `.name` and `.value` are character vectors. Additionally, the `.name` column must be unique (#1107)."
tidyr,68,"`pivot_wider()`'s `names_from` and `values_from` arguments are now required if their default values of `name` and `value` don't correspond to columns in `data`. Additionally, they must identify at least 1 column in `data` (#1240)."
tidyr,69,`pivot_wider()`'s `values_fn` argument now correctly allows anonymous functions (#1114).
tidyr,70,"`pivot_wider_spec()` now works correctly with a 0-row data frame and a `spec` that doesn't identify any rows (#1250, #1252)."
tidyr,71,`pivot_longer()`'s `names_ptypes` argument is now applied after `names_transform` for consistency with the rectangling functions (i.e. `hoist()`) (#1233).
tidyr,72,`check_pivot_spec()` is a new developer facing function for validating a pivot `spec` argument. This is only useful if you are extending `pivot_longer()` or `pivot_wider()` with new S3 methods (#1087).
tidyr,73,"The `nest()` generic now avoids computing on `.data`, making it more compatible with lazy tibbles (#1134)."
tidyr,74,The `.names_sep` argument of the data.frame method for `nest()` is now actually used (#1174).
tidyr,75,`unnest()`'s `ptype` argument now works as expected (#1158).
tidyr,76,`unpack()` no longer drops empty columns specified through `cols` (#1191).
tidyr,77,`unpack()` now works correctly with data frame columns containing 1 row but 0 columns (#1189).
tidyr,78,`chop()` now works correctly with data frames with 0 rows (#1206).
tidyr,79,`chop()`'s `cols` argument is no longer optional. This matches the behavior of `cols` seen elsewhere in tidyr (#1205).
tidyr,80,`unchop()` now respects `ptype` when unnesting a non-list column (#1211).
tidyr,81,`hoist()` no longer accidentally removes elements that have duplicated names (#1259).
tidyr,82,"The grouped data frame methods for `complete()` and `expand()` now move the group columns to the front of the result (in addition to the columns you completed on or expanded, which were already moved to the front). This should make more intuitive sense, as you are completing or expanding ""within"" each group, so the group columns should be the first thing you see (#1289)."
tidyr,83,`complete()` now applies `fill` even when no columns to complete are specified (#1272).
tidyr,84,"`expand()`, `crossing()`, and `nesting()` now correctly retain `NA` values of factors (#1275)."
tidyr,85,"`expand_grid()`, `expand()`, `nesting()`, and `crossing()` now silently apply name repair to automatically named inputs. This avoids a number of issues resulting from duplicate truncated names (#1116, #1221, #1092, #1037, #992)."
tidyr,86,"`expand_grid()`, `expand()`, `nesting()`, and `crossing()` now allow columns from unnamed data frames to be used in expressions after that data frame was specified, like `expand_grid(tibble(x = 1), y = x)`. This is more consistent with how `tibble()` behaves."
tidyr,87,"`expand_grid()`, `expand()`, `nesting()`, and `crossing()` now work correctly with data frames containing 0 columns but \>0 rows (#1189)."
tidyr,88,"`expand_grid()`, `expand()`, `nesting()`, and `crossing()` now return a 1 row data frame when no inputs are supplied, which is more consistent with `prod() == 1L` and the idea that computations involving the number of combinations computed from an empty set should return 1 (#1258)."
tidyr,89,`drop_na()` no longer drops missing values from all columns when a tidyselect expression that results in 0 columns being selected is used (#1227).
tidyr,90,`fill()` now treats `NaN` like any other missing value (#982).
tidyr,91,"`expand_grid()` is now about twice as fast and `pivot_wider()` is a bit faster (@​mgirlich, #1130)."
tidyr,92,"`unchop()` is now much faster, which propagates through to various functions, such as `unnest()`, `unnest_longer()`, `unnest_wider()`, and `separate_rows()` (@​mgirlich, @​DavisVaughan, #1127)."
tidyr,93,"`unnest()` is now much faster (@​mgirlich, @​DavisVaughan, #1127)."
tidyr,94,"`unnest()` no longer allows unnesting a list-col containing a mix of vector and data frame elements. Previously, this only worked by accident, and is considered an off-label usage of `unnest()` that has now become an error."
tidyr,95,"tidyr verbs no longer have ""default"" methods for lazyeval fallbacks. This means that you'll get clearer error messages (#1036)."
tidyr,96,"`uncount()` error for non-integer weights and gives a clearer error message for negative weights (@​mgirlich, #1069)."
tidyr,97,"You can once again unnest dates (#1021, #1089)."
tidyr,98,"`pivot_wider()` works with data.table and empty key variables (@​mgirlich, #1066)."
tidyr,99,"`separate_rows()` works for factor columns (@​mgirlich, #1058)."
tidyr,100,"`separate_rows()` returns to 1.1.0 behaviour for empty strings (@​rjpatm, #1014)."
tidyr,101,New tidyr logo!
tidyr,102,"stringi dependency has been removed; this was a substantial dependency that make tidyr hard to compile in resource constrained environments (@​rjpat, #936)."
tidyr,103,Replace Rcpp with cpp11. See <https://cpp11.r-lib.org/articles/motivations.html> for reasons why.
tidyr,104,"`pivot_longer()`, `hoist()`, `unnest_wider()`, and `unnest_longer()` gain new `transform` arguments; these allow you to transform values ""in flight"". They are partly needed because vctrs coercion rules have become stricter, but they give you greater flexibility than was available previously (#921)."
tidyr,105,Arguments that use tidy selection syntax are now clearly documented and have been updated to use tidyselect 1.1.0 (#872).
tidyr,106,"Both `pivot_wider()` and `pivot_longer()` are considerably more performant, thanks largely to improvements in the underlying vctrs code (#790, @​DavisVaughan)."
tidyr,107,`pivot_longer()` now supports `names_to = character()` which prevents the name column from being created (#961).
tidyr,107,"```
df <- tibble(id = 1:3, x_1 = 1:3, x_2 = 4:6)  
df %>% pivot_longer(-id, names_to = character())
```"
tidyr,108,`pivot_longer()` no longer creates a `.copy` variable in the presence of duplicate column names. This makes it more consistent with the handling of non-unique specs.
tidyr,109,"`pivot_longer()` automatically disambiguates non-unique ouputs, which can occur when the input variables include some additional component that you don't care about and want to discard (#792, #793)."
tidyr,109,"```
df <- tibble(id = 1:3, x_1 = 1:3, x_2 = 4:6)  
df %>% pivot_longer(-id, names_pattern = ""(.)_."")
df %>% pivot_longer(-id, names_sep = ""_"", names_to = c(""name"", NA))
df %>% pivot_longer(-id, names_sep = ""_"", names_to = c("".value"", NA))
```"
tidyr,110,"`pivot_wider()` gains a `names_sort` argument which allows you to sort column names in order. The default, `FALSE`, orders columns by their first appearance (#839). In a future version, I'll consider changing the default to `TRUE`."
tidyr,111,`pivot_wider()` gains a `names_glue` argument that allows you to construct output column names with a glue specification.
tidyr,112,"`pivot_wider()` arguments `values_fn` and `values_fill` can now be single values; you now only need to use a named list if you want to use different values for different value columns (#739, #746). They also get improved errors if they're not of the expected type."
tidyr,113,"`hoist()` now automatically names pluckers that are a single string (#837). It error if you use duplicated column names (@​mgirlich, #834), and now uses `rlang::list2()` behind the scenes (which means that you can now use `!!!` and `:=`) (#801)."
tidyr,114,"`unnest_longer()`, `unnest_wider()`, and `hoist()` do a better job simplifying list-cols. They no longer add unneeded `unspecified()` when the result is still a list (#806), and work when the list contains non-vectors (#810, #848)."
tidyr,115,"`unnest_wider(names_sep = """")` now provides default names for unnamed inputs, suppressing the many previous name repair messages (#742)."
tidyr,116,"`pack()` and `nest()` gains a `.names_sep` argument allows you to strip outer names from inner names, in symmetrical way to how the same argument to `unpack()` and `unnest()` combines inner and outer names (#795, #797)."
tidyr,117,"`unnest_wider()` and `unnest_longer()` can now unnest `list_of` columns. This is important for unnesting columns created from `nest()` and with `pivot_wider()`, which will create `list_of` columns if the id columns are non-unique (#741)."
tidyr,118,"`chop()` now creates list-columns of class `vctrs::list_of()`. This helps keep track of the type in case the chopped data frame is empty, allowing `unchop()` to reconstitute a data frame with the correct number and types of column even when there are no observations."
tidyr,119,`drop_na()` now preserves attributes of unclassed vectors (#905).
tidyr,120,"`expand()`, `expand_grid()`, `crossing()`, and `nesting()` once again evaluate their inputs iteratively, so you can refer to freshly created columns, e.g. `crossing(x = seq(-2, 2), y = x)` (#820)."
tidyr,121,"`expand()`, `expand_grid()`, `crossing()`, and `nesting()` gain a `.name_repair` giving you control over their name repair strategy (@​jeffreypullin, #798)."
tidyr,122,"`extract()` lets you use `NA` in `into`, as documented (#793)."
tidyr,123,"`extract()`, `separate()`, `hoist()`, `unnest_longer()`, and `unnest_wider()` give a better error message if `col` is missing (#805)."
tidyr,124,`pack()`'s first argument is now `.data` instead of `data` (#759).
tidyr,125,`pivot_longer()` now errors if `values_to` is not a length-1 character vector (#949).
tidyr,126,`pivot_longer()` and `pivot_wider()` are now generic so implementations can be provided for objects other than data frames (#800).
tidyr,127,`pivot_wider()` can now pivot data frame columns (#926)
tidyr,128,"`unite(na.rm = TRUE)` now works for all types of variable, not just character vectors (#765)."
tidyr,129,`unnest_wider()` gives a better error message if you attempt to unnest multiple columns (#740).
tidyr,130,`unnest_auto()` works when the input data contains a column called `col` (#959).
tidyr,131,"Minor fixes for dev versions of rlang, tidyselect, and tibble."
tidyr,132,Did not exist since I accidentally released v1.0.2
tidyr,133,"`nest()` and `unnest()` have new syntax. The majority of existing usage should be automatically translated to the new syntax with a warning. If that doesn't work, put this in your script to use the old versions until you can take a closer look and update your code:"
tidyr,133,"```
library(tidyr)
nest <- nest_legacy
unnest <- unnest_legacy
```"
tidyr,134,"`nest()` now preserves grouping, which has implications for downstream calls to group-aware functions, such as `dplyr::mutate()` and `filter()`."
tidyr,135,The first argument of `nest()` has changed from `data` to `.data`.
tidyr,136,`unnest()` uses the [emerging tidyverse standard](https://www.tidyverse.org/blog/2019/01/tibble-2.0.1/#name-repair) to disambiguate unique names. Use `names_repair = tidyr_legacy` to request the previous approach.
tidyr,137,"`unnest_()`/`nest_()` and the lazyeval methods for `unnest()`/`nest()` are now defunct. They have been deprecated for some time, and, since the interface has changed, package authors will need to update to avoid deprecation warnings. I think one clean break should be less work for everyone. All other lazyeval functions have been formally deprecated, and will be made defunct in the next major release. (See [lifecycle vignette](https://lifecycle.r-lib.org/articles/stages.html) for details on deprecation stages)."
tidyr,138,"`crossing()` and `nesting()` now return 0-row outputs if any input is a length-0 vector. If you want to preserve the previous behaviour which silently dropped these inputs, you should convert empty vectors to `NULL`. (More discussion on this general pattern at https://github.com/tidyverse/principles/issues/24)"
tidyr,139,"New `keep_empty` parameter ensures that every row in the input gets at least one row in the output, inserting missing values as needed (#358)."
tidyr,140,Provides `names_sep` argument to control how inner and outer column names are combined.
tidyr,141,"Uses standard tidyverse name-repair rules, so by default you will get an error if the output would contain multiple columns with the same name. You can override by using `name_repair` (#514)."
tidyr,142,Now supports `NULL` entries (#436).
tidyr,143,`pack()` and `unpack()` allow you to pack and unpack columns into data frame columns (#523).
tidyr,144,`chop()` and `unchop()` chop up rows into sets of list-columns.
tidyr,145,"New `expand_grid()`, a tidy version of `expand.grid()`, is lower-level than the existing `expand()` and `crossing()` functions, as it takes individual vectors, and does not sort or uniquify them."
tidyr,146,"`crossing()`, `nesting()`, and `expand()` have been rewritten to use the vctrs package. This should not affect much existing code, but considerably simplies the implementation and ensures that these functions work consistently across all generalised vectors (#557). As part of this alignment, these functions now only drop `NULL` inputs, not any 0-length vector."
tidyr,147,"`full_seq()` now also works when gaps between observations are shorter than the given `period`, but are within the tolerance given by `tol`. Previously, gaps between consecutive observations had to be in the range \[`period`, `period + tol`\]; gaps can now be in the range \[`period - tol`, `period + tol`\] (@​ha0ye, #657)."
tidyr,148,"tidyr now re-exports `tibble()`, `as_tibble()`, and `tribble()`, as well as the tidyselect helpers (`starts_with()`, `ends_width()`, ...). This makes generating documentation, reprexes, and tests easier, and makes tidyr easier to use without also attaching dplyr."
tidyr,149,All functions that take `...` have been instrumented with functions from the [ellipsis](https://github.com/r-lib/ellipsis/) package to warn if you've supplied arguments that are ignored (typically because you've misspelled an argument name) (#573).
tidyr,150,"`complete()` now uses `full_join()` so that all levels are preserved even when not all levels are specified (@​Ryo-N7, #493)."
tidyr,151,"`crossing()` now takes the unique values of data frame inputs, not just vector inputs (#490)."
tidyr,152,`gather()` throws an error if a column is a data frame (#553).
tidyr,153,`extract()` (and hence `pivot_longer()`) can extract multiple input values into a single output column (#619).
tidyr,154,`fill()` is now implemented using `dplyr::mutate_at()`. This radically simplifies the implementation and considerably improves performance when working with grouped data (#520).
tidyr,155,"`fill()` now accepts `downup` and `updown` as fill directions (@​coolbutuseless, #505)."
tidyr,156,"`unite()` gains `na.rm` argument, making it easier to remove missing values prior to uniting values together (#203)"
tidyr,157,"`crossing()` preserves factor levels (#410), now works with list-columns (#446, @​SamanthaToet). (These also help `expand()` which is built on top of `crossing()`)"
tidyr,158,`nest()` is compatible with dplyr 0.8.0.
tidyr,159,`spread()` works when the id variable has names (#525).
tidyr,160,"`unnest()` preserves column being unnested when input is zero-length (#483), using `list_of()` attribute to correctly restore columns, where possible."
tidyr,161,"`unnest()` will run with named and unnamed list-columns of same length (@​hlendway, #460)."
tidyr,162,"`separate()` now accepts `NA` as a column name in the `into` argument to denote columns which are omitted from the result. (@​markdly, #397)."
tidyr,163,Minor updates to ensure compatibility with dependencies.
tidyr,164,"`unnest()` weakens test of ""atomicity"" to restore previous behaviour when unnesting factors and dates (#407)."
tidyr,165,"There are no deliberate breaking changes in this release. However, a number of packages are failing with errors related to numbers of elements in columns, and row names. It is possible that these are accidental API changes or new bugs. If you see such an error in your package, I would sincerely appreciate a minimal reprex."
tidyr,166,"`separate()` now correctly uses -1 to refer to the far right position, instead of -2. If you depended on this behaviour, you'll need to switch on `packageVersion(""tidyr"") > ""0.7.2""`"
tidyr,167,Increased test coverage from 84% to 99%.
tidyr,168,`uncount()` performs the inverse operation of `dplyr::count()` (#279)
tidyr,169,`complete(data)` now returns `data` rather than throwing an error (#390). `complete()` with zero-length completions returns original input (#331).
tidyr,170,`crossing()` preserves `NA`s (#364).
tidyr,171,`expand()` with empty input gives empty data frame instead of `NULL` (#331).
tidyr,172,"`expand()`, `crossing()`, and `complete()` now complete empty factors instead of dropping them (#270, #285)"
tidyr,173,`extract()` has a better error message if `regex` does not contain the expected number of groups (#313).
tidyr,174,"`drop_na()` no longer drops columns (@​jennybryan, #245), and works with list-cols (#280). Equivalent of `NA` in a list column is any empty (length 0) data structure."
tidyr,175,"`nest()` is now faster, especially when a long data frame is collapsed into a nested data frame with few rows."
tidyr,176,`nest()` on a zero-row data frame works as expected (#320).
tidyr,177,`replace_na()` no longer complains if you try and replace missing values in variables not present in the data (#356).
tidyr,178,"`replace_na()` now also works with vectors (#342, @​flying-sheep), and can replace `NULL` in list-columns. It throws a better error message if you attempt to replace with something other than length 1."
tidyr,179,"`separate()` no longer checks that `...` is empty, allowing methods to make use of it. This check was added in tidyr 0.4.0 (2016-02-02) to deprecate previous behaviour where `...` was passed to `strsplit()`."
tidyr,180,`separate()` and `extract()` now insert columns in correct position when `drop = TRUE` (#394).
tidyr,181,"`separate()` now works correctly counts from RHS when using negative integer `sep` values (@​markdly, #315)."
tidyr,182,`separate()` gets improved warning message when pieces aren't as expected (#375).
tidyr,183,"`separate_rows()` supports list columns (#321), and works with empty tibbles."
tidyr,184,`spread()` now consistently returns 0 row outputs for 0 row inputs (#269).
tidyr,185,`spread()` now works when `key` column includes `NA` and `drop` is `FALSE` (#254).
tidyr,186,`spread()` no longer returns tibbles with row names (#322).
tidyr,187,"`spread()`, `separate()`, `extract()` (#255), and `gather()` (#347) now replace existing variables rather than creating an invalid data frame with duplicated variable names (matching the semantics of mutate)."
tidyr,188,`unite()` now works (as documented) if you don't supply any variables (#355).
tidyr,189,`unnest()` gains `preserve` argument which allows you to preserve list columns without unnesting them (#328).
tidyr,190,`unnest()` can unnested list-columns contains lists of lists (#278).
tidyr,191,`unnest(df)` now works if `df` contains no list-cols (#344)
tidyr,192,"The SE variants `gather_()`, `spread_()` and `nest_()` now treat non-syntactic names in the same way as pre tidy eval versions of tidyr (#361)."
tidyr,193,Fix tidyr bug revealed by R-devel.
tidyr,194,"If you see error messages about objects or functions not found, it is likely because the selecting functions are now stricter in their arguments An example of selecting function is `gather()` and its `...` argument. This change makes the code more robust by disallowing ambiguous scoping. Consider the following code:"
tidyr,194,"```
x <- 3
df <- tibble(w = 1, x = 2, y = 3)
gather(df, ""variable"", ""value"", 1:x)
```"
tidyr,194,"Does it select the first three columns (using the `x` defined in the global environment), or does it select the first two columns (using the column named `x`)? To solve this ambiguity, we now make a strict distinction between data and context expressions. A data expression is either a bare name or an expression like `x:y` or `c(x, y)`. In a data expression, you can only refer to columns from the data frame. Everything else is a context expression in which you can only refer to objects that you have defined with `<-`. In practice this means that you can no longer refer to contextual objects like this:"
tidyr,194,"```
mtcars %>% gather(var, value, 1:ncol(mtcars))

x <- 3
mtcars %>% gather(var, value, 1:x)
mtcars %>% gather(var, value, -(1:x))
```"
tidyr,194,"You now have to be explicit about where to find objects. To do so, you can use the quasiquotation operator `!!` which will evaluate its argument early and inline the result:"
tidyr,194,"```
mtcars %>% gather(var, value, !! 1:ncol(mtcars))
mtcars %>% gather(var, value, !! 1:x)
mtcars %>% gather(var, value, !! -(1:x))
```"
tidyr,194,An alternative is to turn your data expression into a context expression by using `seq()` or `seq_len()` instead of `:`. See the section on tidyselect for more information about these semantics.
tidyr,195,"Following the switch to tidy evaluation, you might see warnings about the ""variable context not set"". This is most likely caused by supplying helpers like `everything()` to underscored versions of tidyr verbs. Helpers should be always be evaluated lazily. To fix this, just quote the helper with a formula: `drop_na(df, ~everything())`."
tidyr,196,The selecting functions are now stricter when you supply integer positions. If you see an error along the lines of
tidyr,196,"```
`-0.949999999999999`, `-0.940000000000001`, ... must resolve to
integer column positions, not a double vector
```"
tidyr,196,please round the positions before supplying them to tidyr. Double vectors are fine as long as they are rounded.
tidyr,197,"The arguments for selecting a single variable now support all features from `dplyr::pull()`. You can supply a name or a position, including negative positions."
tidyr,198,"Multiple variables are now selected a bit differently. We now make a strict distinction between data and context expressions. A data expression is either a bare name of an expression like `x:y` or `c(x, y)`. In a data expression, you can only refer to columns from the data frame. Everything else is a context expression in which you can only refer to objects that you have defined with `<-`. You can still refer to contextual objects in a data expression by being explicit. One way of being explicit is to unquote a variable from the environment with the tidy eval operator `!!`:"
tidyr,198,"```
x <- 2
drop_na(df, 2)     # Works fine
drop_na(df, x)     # Object 'x' not found
drop_na(df, !! x)  # Works as if you had supplied 2
```"
tidyr,198,"On the other hand, select helpers like `start_with()` are context expressions. It is therefore easy to refer to objects and they will never be ambiguous with data columns:"
tidyr,198,"```
x <- ""d""
drop_na(df, starts_with(x))
<<<<<<< HEAD
<<<<<<< HEAD
```"
tidyr,198,fd83bd334c02ab60a9e9bc651e8b474a,While these special rules is in contrast to most dplyr and tidyr verbs (where both the data and the context are in scope) they make sense for selecting functions and should provide more robust and helpful semantics.
tidyr,199,468525e1e3ac43cf239410607d110440,Patch tests to be compatible with dev tibble
tidyr,200,4c16dc15a6907e6e0d279a1b91bf832c,Register C functions
tidyr,201,edb87aefc89f1d62268b0a064c13fb42,Added package docs
tidyr,202,c7d2f078bfc125866b9c234ae16693c4,Patch tests to be compatible with dev dplyr.
tidyr,203,3b8a4a5b40a4e97589dc9e6afd202a9c,Patch test to be compatible with dev tibble
tidyr,204,b42c9be9ef5f1b47a50711137e8375cc,Changed deprecation message of `extract_numeric()` to point to `readr::parse_number()` rather than `readr::parse_numeric()`
tidyr,205,c0a1f4eb74b62f01b3e8d1d1a0350934,"`drop_na()` removes observations which have `NA` in the given variables. If no variables are given, all variables are considered (#194, @​janschulz)."
tidyr,206,4247fa270e6830c1a8aa8e9cf3c9fd61,`extract_numeric()` has been deprecated (#213).
tidyr,207,77b7c04fab5e851e9bc78f5a89da2226,Renamed `table4` and `table5` to `table4a` and `table4b` to make their connection more clear. The `key` and `value` variables in `table2` have been renamed to `type` and `count`.
tidyr,208,c58efb7ee196da1742a23692e7ed2934,"`expand()`, `crossing()`, and `nesting()` now silently drop zero-length inputs."
tidyr,209,72b4a704f16c782356be65f8bd4802bb,`crossing_()` and `nesting_()` are versions of `crossing()` and `nesting()` that take a list as input.
tidyr,210,39e09cb7e244c95b7900b0072281cfc1,`full_seq()` works correctly for dates and date/times.
tidyr,211,c6545d87dc58f370b7e7fa240871769a,"Restored compatibility with R \< 3.3.0 by avoiding `getS3method(envir = )` (#205, @​krlmlr)."
tidyr,212,730a717346445d5662693e1ec5903009,"`separate_rows()` separates observations with multiple delimited values into separate rows (#69, @​aaronwolen)."
tidyr,213,a7f2e469af4dd0aca96dfa811e5390f4,`complete()` preserves grouping created by dplyr (#168).
tidyr,214,cd3893f9c923729778e468262e068cff,`expand()` (and hence `complete()`) preserves the ordered attribute of factors (#165).
tidyr,215,0bccc8f846ed620b1dc56127ccdc99b8,"`full_seq()` preserve attributes for dates and date/times (#156), and sequences no longer need to start at 0."
tidyr,216,4f295e5263194e7b39e9ab8d25c20d5d,"`gather()` can now gather together list columns (#175), and `gather_.data.frame(na.rm = TRUE)` now only removes missing values if they're actually present (#173)."
tidyr,217,9516be5516cc556dd454f59394e53f39,`nest()` returns correct output if every variable is nested (#186).
tidyr,218,b79bae5cb984674c573593b67e9b0285,"`separate()` fills from right-to-left (not left-to-right!) when fill = ""left"" (#170, @​dgrtwo)."
tidyr,219,1560bf428d758d6d5bc441b6f40d14da,"`separate()` and `unite()` now automatically drop removed variables from grouping (#159, #177)."
tidyr,220,7e1d1876e2fb14dda370c2019a02d1bf,"`spread()` gains a `sep` argument. If not-null, this will name columns as ""key`<sep>`{=html}value"". Additionally, if sep is `NULL` missing values will be converted to `<NA>` (#68)."
tidyr,221,152b5d95080ff599d8838be0337cf96a,`spread()` works in the presence of list-columns (#199)
tidyr,222,5d0d29cbaea48757e86b080cde2732e6,`unnest()` works with non-syntactic names (#190).
tidyr,223,6203b7f1d3dbe77025b9f7cb85534f21,"`unnest()` gains a `sep` argument. If non-null, this will rename the columns of nested data frames to include both the original column name, and the nested column name, separated by `.sep` (#184)."
tidyr,224,770cc2da86b22166b9dfa3d8a7a3b226,`unnest()` gains `.id` argument that works the same way as `bind_rows()`. This is useful if you have a named list of data frames or vectors (#125).
tidyr,225,830e6b0669dbb59902fe3bd2d1ce7c36,Moved in useful sample datasets from the DSR package.
tidyr,226,7ccc4507db82da17535def5b7b536223,Made compatible with both dplyr 0.4 and 0.5.
tidyr,227,6906e10358c005dc1e3550a2ce20b42b,tidyr functions that create new columns are more aggressive about re-encoding the column names as UTF-8.
tidyr,228,66b76b34f8294bfa7e84bdf8591b571f,Fixed bug in `nest()` where nested data was ending up in the wrong row (#158).
tidyr,229,9e940fb6460456ab2fa4edcfee09ec95,"`nest()` now produces a single list of data frames called ""data"" rather than a list column for each variable. Nesting variables are not included in nested data frames. It also works with grouped data frames made by `dplyr::group_by()`. You can override the default column name with `.key`."
tidyr,230,29e72a6c10dce449d8faed663d7e1def,"`unnest()` gains a `.drop` argument which controls what happens to other list columns. By default, they're kept if the output doesn't require row duplication; otherwise they're dropped."
tidyr,231,bf284bc9769ec05dbe5b1feae101e4bd,`unnest()` now has `mutate()` semantics for `...` - this allows you to unnest transformed columns more easily. (Previously it used select semantics).
tidyr,232,16d039b97a49ffdeba037560214a3204,"`expand()` once again allows you to evaluate arbitrary expressions like `full_seq(year)`. If you were previously using `c()` to created nested combinations, you'll now need to use `nesting()` (#85, #121)."
tidyr,233,726322c990b3f6e65ef1ccbb4854a1ef,`nesting()` and `crossing()` allow you to create nested and crossed data frames from individual vectors. `crossing()` is similar to `base::expand.grid()`
tidyr,234,5782a4b2a0795c0154f6de652be4c15f,"`full_seq(x, period)` creates the full sequence of values from `min(x)` to `max(x)` every `period` values."
tidyr,235,f24f94fd0c7d81236fb7f7b24ed73895,`fill()` fills in `NULL`s in list-columns.
tidyr,236,5f3e35a84ebf96a8c434e204d985d7c6,`fill()` gains a direction argument so that it can fill either upwards or downwards (#114).
tidyr,237,00c37a2b74e8cb0cb7e18620150d4c9e,"`gather()` now stores the key column as character, by default. To revert to the previous behaviour of using a factor (which allows you to preserve the ordering of the columns), use `key_factor = TRUE` (#96)."
tidyr,238,eaf28165b8a0ab128899a8613a657e9d,"All tidyr verbs do the right thing for grouped data frames created by `group_by()` (#122, #129, #81)."
tidyr,239,0e74d837bbe42eecdded08145f565078,`seq_range()` has been removed. It was never used or announced.
tidyr,240,69c0ff12a465dab46ca56af82adeecad,"`spread()` once again creates columns of mixed type when `convert = TRUE` (#118, @​jennybc). `spread()` with `drop = FALSE` handles zero-length factors (#56). `spread()`ing a data frame with only key and value columns creates a one row output (#41)."
tidyr,241,202d5abc9a43498874a3add24049183e,"`unite()` now removes old columns before adding new (#89, @​krlmlr)."
tidyr,242,daac4736b04d64a9655cfee1b470bff3,"`separate()` now warns if defunct ... argument is used (#151, @​krlmlr)."
tidyr,243,50d637187f762a4f15fb641f7f622520,Fixed bug where attributes of non-gather columns were lost (#104)
tidyr,244,048537f7ccac116c139937aee7a85b92,"New `complete()` provides a wrapper around `expand()`, `left_join()` and `replace_na()` for a common task: completing a data frame with missing combinations of variables."
tidyr,245,1be8ca114e4eb05aa8ad99bfe44477f2,`fill()` fills in missing values in a column with the last non-missing value (#4).
tidyr,246,b6ec0563ed5e608c38e913eba4c9f698,New `replace_na()` makes it easy to replace missing values with something meaningful for your data.
tidyr,247,abf28e9ca9f6dd87a88b377b791a3961,`nest()` is the complement of `unnest()` (#3).
tidyr,248,e896afd9d0e60b54a46ebb4bb447ae8d,"`unnest()` can now work with multiple list-columns at the same time. If you don't supply any columns names, it will unlist all list-columns (#44). `unnest()` can also handle columns that are lists of data frames (#58)."
tidyr,249,1c61233802f26d7925f9536dff873cb6,tidyr no longer depends on reshape2. This should fix issues if you also try to load reshape (#88).
tidyr,250,a3a3d142d39e5e5f3db8e4a792c4d70b,`%>%` is re-exported from magrittr.
tidyr,251,26c4d7359071c9dcb35083f7cd0d71a5,`expand()` now supports nesting and crossing (see examples for details). This comes at the expense of creating new variables inline (#46).
tidyr,252,081214bf8c650a0c7515af850e9fc8f4,`expand_` does SE evaluation correctly so you can pass it a character vector of columns names (or list of formulas etc) (#70).
tidyr,253,4c1464ea926e22659086c4ec3c7b6e5f,`extract()` is 10x faster because it now uses stringi instead of base R regular expressions. It also returns NA instead of throwing an error if the regular expression doesn't match (#72).
tidyr,254,db685b14c319bbc7a4d85d7b590e5267,`extract()` and `separate()` preserve character vectors when `convert` is TRUE (#99).
tidyr,255,770630c16dde6b076f456457c39f6ef5,"The internals of `spread()` have been rewritten, and now preserve all attributes of the input `value` column. This means that you can now spread date (#62) and factor (#35) inputs."
tidyr,256,5e1e3260fc051b93ff01cd453c56a83f,`spread()` gives a more informative error message if `key` or `value` don't exist in the input data (#36).
tidyr,257,223f5c251ed1d9e5af2c6c8621b07852,"`separate()` only displays the first 20 failures (#50). It has finer control over what happens if there are two few matches: you can fill with missing values on either the ""left"" or the ""right"" (#49). `separate()` no longer throws an error if the number of pieces aren't as expected - instead it uses drops extra values and fills on the right and gives a warning."
tidyr,258,60c071b56bbf2e21d19522e015092e42,"If the input is NA `separate()` and `extract()` both return silently return NA outputs, rather than throwing an error. (#77)"
tidyr,259,cce1ff6425e6a08a382c290054b25498,Experimental `unnest()` method for lists has been removed.
tidyr,260,f571d54f10dc839c046502a6e77b62ed,Experimental `expand()` function (#21).
tidyr,261,b2ee828afef7aaf36b0917d473becfae,"Experiment `unnest()` function for converting named lists into data frames. (#3, #22)"
tidyr,262,961616bbec4c5ef5e86a4f965c0f0cf1,`extract_numeric()` preserves negative signs (#20).
tidyr,263,9718adf46a03565e673c8ac3f700f0df,"`gather()` has better defaults if `key` and `value` are not supplied. If `...` is omitted, `gather()` selects all columns (#28). Performance is now comparable to `reshape2::melt()` (#18)."
tidyr,264,45d7ef2a055e5244f0224fbfbe56ed46,"`separate()` gains `extra` argument which lets you control what happens to extra pieces. The default is to throw an ""error"", but you can also ""merge"" or ""drop""."
tidyr,265,8fdf307f152edf220b7945c82e91730b,"`spread()` gains `drop` argument, which allows you to preserve missing factor levels (#25). It converts factor value variables to character vectors, instead of embedding a matrix inside the data frame (#35)."
xml2,1,f436c6be1e68d6f911de035a7175d246,Hadley Wickham is now (again) the maintainer.
xml2,2,7711eef6f8451fcb662e66220f0e342b,xml2 has been re-licensed as MIT (#317).
xml2,3,84c16bf549b3a77e7ed7e55aa13a5521,`xml_find_all.xml_node()` fails more informatively the `xpath` parameter is the wrong type (@​michaelchirico)
xml2,4,df4d880c7dea6d7b76e132df51d971f6,"`xml_find_all.xml_nodeset()` gains a `flatten` argument to control whether to return a single nodeset or a list of nodesets (#311, @​jakejh)"
xml2,5,3307d48be5b3aee6e2835bdf04512d4d,"`write_xml()` and `write_html()` now return NULL invisibly, as they did prior to version 1.3.0 (#307)"
xml2,6,4a050f8bcfd7c3756a22d01926f0e243,"`XPtr` gets explicit copy constructor and assignment operator definitions, which were two missing components of the [Rule of three](https://en.wikipedia.org/wiki/Rule_of_three_(C%2B%2B_programming)) (@​michaelchirico)"
xml2,7,b4f9b406a9ac3d91b588b902d5a045ce,Windows: update to libxml2 2.9.10 and libxslt 1.1.34 and add ucrt libs
xml2,8,7d1e0a973455c5a26ccc515a6eb34772,`read_html()` and `read_xml()` now error if passed strings of length greater than one (#121)
xml2,9,3ed0bbcaee2432204960888f2980995d,`read_xml.raw()` had an inadvertent regression in 1.3.0 and is now again fixed (#300)
xml2,10,045280434d8b0e218666f4e30261d199,"Compilation fix on macOS 10.15.4 (@​kevinushey, #296)"
xml2,11,bfa26dd385a23f6e5f501ffba82ae18f,`read_html()` now again works with HTML files with non-ASCII encodings (#293).
xml2,12,34fb56a448fa1ee4916bdab3b0dece1c,Removes the Rcpp dependency
xml2,13,fae536975ca5db38944893b95b8b8337,Fix compilation issue on macOS versions after High Sierra when not using homebrew supplied libxml2
xml2,14,ae82fb0ac3ff7bb7317f0d486d49e913,"Fix potential dangling pointer with internal `asXmlChar()` function (@​michaelquinn32, #287)."
xml2,15,a57bede9d3a9ddd30fad8b38bd05c3c5,`as_xml_document()` now handles cases with text nodes trailing normal nodes (#274).
xml2,16,e8114ecf499668534d5d22d09379f5e2,"`xml_add_child()` can now create nodes with a `par` attribute. These previously errored due to partial name matching of the `parent` function in the internal `create_node()` function. (@​jennybc, #285)"
xml2,17,4fbd7eb3b1a40d3f50a17ba5d7c1d287,"`libxml2_version()` now returns a semantic version rather than alphanumeric version, so ""2.9.10"" \> ""2.9.9"" (#277)"
xml2,18,487a06f95035b1e6a9a981b018154c1a,"Export S4 classes with documentation, so they can be used in other packages without Warnings (@​nuest, #267)"
xml2,19,09dd669ee8297d455e73afc2b33754fa,"xml2 now has a pkgdown site! <https://xml2.r-lib.org> (@​jayhesselberth, #211)."
xml2,20,bb5347803bc92f5fd0b1769ddcbbea8e,Windows: upgrade to libxml2 2.9.8
xml2,21,de6df2d8b8a96fc897f07b97b1277b88,"print methods now match the type of document, e.g. `read_html()` prints as ""{html_document}"" rather than ""{xml_document}"" (#227)"
xml2,22,d5e4cb7f15e52ee9ee7a96ead3dfaa3b,"Generic xml2 error are now forwarded as R errors. Previously these errors were output to stderr, so could not be suppressed (#209)."
xml2,23,3beea8a7355f171b5a0487983fcdca69,"Fix for ICU 59+ defaulting to use char16_t, which is only available in C++11 (#231)"
xml2,24,17c9c9852e6bbe1dd4da34bda5534ad3,No longer uses the C connections API
xml2,25,4faff03fda83a67762b5c0dcb5b9e7f3,Better error message when trying to run `download_xml()` without the curl package installed (#262)
xml2,26,46d029846493ab6af0a21b3ed8c69908,xml2 classes are now registered for use with S4 by calling `setOldClass()` (#248)
xml2,27,b1f1750b31408d6e6f299fa51769a53a,Nodes with nested data type definition entities now work without crashing (#241)
xml2,28,78dc293ccdb061295dba730e5362b6eb,Test failure fixed due to behavior change with relative paths in libxml2 2.9.9 (#245).
xml2,29,3e8f3dd0c50c1fd1d2aaaa5273f51549,`read_xml()` now has a better error message when given zero length character inputs (#212).
xml2,30,cedc752892fdfc4d91ec5a732b414854,`read_xml()` and `read_html()` now automatically check if the response succeeded before trying to read from a HTTP response (#255).
xml2,31,d2929dab52a6ad98cd5e325ab2c4abd1,`xml_root()` can now create root nodes with namespaces (#239)
xml2,32,512522fa20bb93942f731e9991349b3b,`xml_set_attr()` no longer crashes if you try to set the same namespace on the same node multiple times (#253).
xml2,33,57297201fb6ae28e64cafd41544f5948,`xml_set_attr()` now recycles the values if needed (#221)
xml2,34,0a40454380c89780cea8d19df69d91e8,"`xml_structure()` gains a `file` argument, to support writing to a file rather than the console (#244)."
xml2,35,911abdf2d13501b02e9e12f4423619a7,`as_list()` on `xml_document` objects did not properly include the root node in the returned list. Previous behavior can be obtained by using `as_list()[[1L]]` in place of `as_list()`.
xml2,36,2599d1d9fad0831d994e217824993c66,`download_xml()` and `download_html()` helper functions to make it easy to download files (#193).
xml2,37,facdc205f0dfdff21dcdb38a5e26c5e4,`xml_attr()` can now set attributes with no value (#198).
xml2,38,0f79f4a8221b80a6cdb591df4463496c,`xml_serialize()` and `xml_unserialize()` now create file connections when given character input (#179).
xml2,39,08d3561d0c8cc55ea0c9a15c0a523962,"`xml_find_first()` no longer de-duplicates results, so the results are always the same length as the inputs (as documented) (#194)."
xml2,40,8ff2d6fac618140587ba02778b2c3923,xml2 can now build using libxml2 2.7.0
xml2,41,fef9c24e0f48009aadbc1e4d9f32b7a4,Use Rcpp symbol registration and visibility to prevent symbol conflicts on Linux
xml2,42,db4c33999e1de6b17fa86efc479d42e0,"`xml_add_child()` now requires less resources to insert a node when called with `.where = 0L` (@​heckendorfc, #175)."
xml2,43,7a670b7cfccd8fd0bad16a11f78a6d14,Fixed failing examples due to a change in an external resource.
xml2,44,c020c5cf555000c6f54d9633841be0ea,"This is a small point release addressing installation issues found with older libxml2 versions shipped with RedHat Linux 6 / CentOS 6 (#163, #164)."
xml2,45,53a47c632ccb11282916fcb8225eadee,`write_xml()` and `write_html()` now accept connections as well as filenames for output. (#157)
xml2,46,d81a1673affa9415d199be562c5829b8,`xml_add_child()` now takes a `.where` argument specifying where to add the new children. (#138)
xml2,47,5587c7e35b8cd61b933874ffc10263fb,"`as_xml()` generic function to convert R objects to xml. The most important method is for lists and enables full roundtrip support for going to and back from xml for lists and enables full roundtrip support to and from XML. (#137, #143)"
xml2,48,4df7f06289239a960926161001472c70,`xml_new_root()` can be used to create a new document and a root node in one step (#131).
xml2,49,6d8cfddddc0cee3fcd2d485ea10ca886,`xml_add_parent()` inserts a new node between the node and its parent (#129)
xml2,50,e0a34368403cfd0090e9ca3aef4e579e,"Add `xml_validate()` to validate a document against an xml schema (#31, @​jeroenooms)."
xml2,51,57007ffa8c6dbb39507f78dae948dedc,Export `xml2_types.h` to allow for extension packages such as xslt.
xml2,52,61eb97eb5f5665472a49fe98f2e03bdc,`xml_comment()` allows you to add comment nodes to a document. (#111)
xml2,53,d4ed44eabf77130bd9eea9a18fad7ec4,`xml_cdata()` allows you to add CDATA nodes to a document. (#128)
xml2,54,960eca153efd73ce91124112009b109a,Add `xml_set_text()` and `xml_set_name()` equivalent to `xml_text<-` and `xml_name<-`. (#130).
xml2,55,60d464017efd32818c0652a6d564ed71,"Add `xml_set_attr()` and `xml_set_attrs()` equivalent to `xml_attr<-` and `xml_attrs<-`. (#109, #130)"
xml2,56,104def6906dd5fba9187b9a9ab8227a0,Add `write_html()` method (#133).
xml2,57,fb7a706bd8794051716cee13829d57be,`xml_new_document()` now explicitly sets the encoding (default UTF-8) (#142)
xml2,58,1111eb626948256ad78bd6d503c43ec9,Document formatting options for `write_xml()` (#132)
xml2,59,c3f79cb9a79b49eb1accf1afa7713415,Add missing methods for xml_missing objects. (#134)
xml2,60,4e3dc6fbbc5e5ec55de8028991af3375,Bugfix for xml_length.xml_nodeset that caused it to fail unconditionally. (#140)
xml2,61,498830336ecdac9f45311652901263d7,`is.na()` now returns `TRUE` for `xml_missing` objects. (#139)
xml2,62,2d7ab4b3ebd32d865fb81bf756072591,Trim non-breaking spaces in `xml_text(trim = TRUE)` (#151).
xml2,63,e176674cc6ceb7ca6310276419fabfc2,"Allow setting non-character attributes (values are coerced to characters). (@​sjp, #117, #122)."
xml2,64,399a9b5895e180327640e89d327a55cf,"Fixed return value in call to vapply in xml_integer.xml_nodeset. (@​ddiez, #146, #147)."
xml2,65,5cfe9d2e934e4f3f6be62bd0617c04e3,"Allow docs missing a root element to be created and printed. (@​sjp, #126, #121)."
xml2,66,8848afe95d1f2ec3a532d703d2b5ac48,"xml_add\_\* methods now return invisibly. (@​sjp, #124)"
xml2,67,f000a9e748ad84873e7d3b4b9393b225,"`as_list()` now preserves element names when attributes exist, and escapes XML attributes that conflict with special R attributes (@​peterfoley, #115)."
xml2,68,005321ee1ab83c89a99bdd63ee1e03b3,"All C++ functions now use `checked_get()` instead of `get()` where possible, so NULL XPtrs properly throw an error rather than crashing. (@​jimhester, #101, #104)."
xml2,69,7d93c962d5d3018e2b4dda4be79fc3d9,"`xml_integer()` and `xml_double()` functions to make it easy to extract integer and double text from nodes (@​jimhester, #97, #99)."
xml2,70,a50255d081f4c25dbe2835d7c724f6e8,"xml2 now supports modification and creation of XML nodes. New functions `xml_new_document()`, `xml_new_child()`, `xml_new_sibling()`, `xml_set_namespace()`, , `xml_remove()`, `xml_replace()`, `xml_root()` and replacement methods for `xml_name()`, `xml_attr()`, `xml_attrs()` and `xml_text()` (@​jimhester, #9 #76)"
xml2,71,b78a40edefc513df318543c2ce7a3bde,"`xml_ns()` now keeps namespace prefixes that point to the same URI (@​jimhester, #35, #95)."
xml2,72,299d4ffe7aa09c81160e6ff08d4ae748,"`read_xml()` and `read_html()` methods added for `httr::response()` objects. (@​jimhester, #63, #93)"
xml2,73,75c3be6b548146423fd085a88f793ab0,"`xml_child()` function to make selecting children a little easier (@​jimhester, #23, #94)"
xml2,74,7a65d1a98213e8bbdfabe1986865af2a,"`xml_find_one()` has been deprecated in favor of `xml_find_first()` (@​jimhester, #58, #92)"
xml2,75,290715d8eca18979248066520bc3700e,"`xml_read()` functions now default to passing the document's namespace object. Namespace definitions can now be removed as well as added and `xml_ns_strip()` added to remove all default namespaces from a document. (@​jimhester, #28, #89)"
xml2,76,771c1f2a48cd60a648c1ba92f287a2c7,"`xml_read()` gains a `options` argument to control all available parsing options, including `HUGE` to turn off limits for parsing very large documents and now drops blank text nodes by default, mimicking default behavior of XML package. (@​jimhester, #49, #62, #85, #88)"
xml2,77,5685392305f23b99266e3e4a5931afbe,"`xml_write()` expands the path on filenames, so directories can be specified with '\~/' (@​jimhester, #86, #80)"
xml2,78,947924218b39d320cda11d4045dee21a,"`xml_find_one()` now returns a 'xml_missing' node object if there are 0 matches (@​jimhester, #55, #53, hadley/rvest#82)."
xml2,79,cb33e6cde072b980c04c7521c7bec8cd,"`xml_find_num()`, `xml_find_chr()`, `xml_find_lgl()` functions added to return numeric, character and logical results from XPath expressions. (@​jimhester, #55)"
xml2,80,1de58014826eb8e07b3592ec94391f50,`xml_name()` and `xml_text()` always correctly encode returned value as UTF-8 (#54).
xml2,81,bee997368c08b67439c8dc680821949f,Improved configure script - now works again on R-devel on windows.
xml2,82,05ab1912662379c81c3f3ec851834499,"Compiles with older versions of libxml2.,"
xml2,83,08c68ec075df4315e48782fc73040a72,Make configure script more cross platform.
xml2,84,f69faa4f478ea6b7eac0c0e103e11cc9,Add `xml_length()` to count the number of children (#32).
tidyverse,1,5d5db0d939f86959162ee6fe063038e5,We now advertise `library(conflicted)` because it resolves many conflict problems and silences tidyverse's automated report (#218).
tidyverse,2,d4ae86dd0100f8b060d2f609db62313e,`tidyverse_sitrep()` correctly displays installed package versions and highlights development versions of pacakges (#222).
tidyverse,3,11540c4c15f080f744007c22bf5d8030,tidyverse now installs ragg (#310).
tidyverse,4,4ab8e574989c0fbbc66e3552e4ac9bb0,Add lubridate to the core tidyverse (#157).
tidyverse,5,962e5d9d386a07c15ebfabc5d46fe792,Text version of the citation now lists all authors (#269).
tidyverse,6,e3b712c14b52635a2c3822a0e92ed807,All packages have been bumped to their latest versions.
tidyverse,7,c8811cfa79b1069dedc01d5af503338c,Messaging uses modern approach to avoid red text in RStudio (#296).
tidyverse,8,5223849dd33322ae321df40f367a2d66,"tidyverse now installs dtplyr (#216), googledrive, and googlesheets4 (#229). All packages have been bumped to their latest versions."
tidyverse,9,98faf5bc2812997d2ae8840ea1f6a1f9,License changed to MIT (#235).
tidyverse,10,0403eafcdf131f44f1ec3ad084e5d547,"The tidyverse now has an associated paper at the [Journal of Open Source Software](https://joss.theoj.org/) that you can use to cite the tidyverse if you use it in a paper - see `citation(""tidyverse"")` for details."
tidyverse,11,853b004d023f1b3d9b38537ab31ddeeb,"Eliminate repeats in the package list when loading an odd number of packages (#94, #100, @​dchiu911)"
tidyverse,12,a767a74c233a1161d00cc44cfd4cd0e5,"Packages attached from same library they were initially loaded from (#171, @​gabrocsardi)"
tidyverse,13,ff2bee33de7d205c3e1eb1799f0eb9c1,"If conflicted package is loaded, omit display of conflicts. This includes fix to `tidyverse_conflicts()` to avoid accidentally triggering conflicted shims (#136)."
tidyverse,14,c76030f1dd493c2f2d6d4d1378e6d05a,"`tidyverse_deps()` now succeeds even if a dependency of a dependency is missing (#152, @​PoGibas). It no longer includes dependencies that are needed by the tidyverse package but are not strictly part of the tidyverse (i.e. cli, crayon, and rstudioapi)."
tidyverse,15,93a45dde418dd868d8e3c17ef91822c6,"`tidyverse_deps()` and `tidyverse_update()` gain a new `repos` argument that gets passed to the base function `available.packages()` (@​zkamvar, #82)"
tidyverse,16,19db40f87aa72780044201085b455147,"`tidyverse_packages()` correctly returns packages names (#93, #106, @​coatless)"
tidyverse,17,9e713565a43e6068de1b9730e1776b2a,`tidyverse_sitrep()` gives you a situation report on your install of the tidyverse (#203)
tidyverse,18,c6bbccca544ddff5504f0c3fbdb875bf,Require modern versions of all packages (#85)
tidyverse,19,dbe22f8b277cbaaa4686a286f855ae2d,Work with RStudio 1.0 and earlier (#88).
tidyverse,20,4bfdcb10a25a0d4ff22db95ad2ffbf29,"stringr and forcats have been added to the core tidyverse, so they are attached by `library(tidyverse)`."
tidyverse,21,f8fffca75b81c5887b980eb1789a5af9,reprex joins the tidyverse to make it easier to create reproducible examples (#47)
tidyverse,22,b7e889b640abda840bb7171ca7640cfa,"On attach, tidyverse now makes better use of the horizontal space, printing packages and versions in two columns (#59). It only prints packages that it attaches, not packages that you've already attached. Development versions are highlighted in red. You can now suppress this startup message by setting `options(tidyverse.quiet = TRUE)`"
tidyverse,23,d29e660c5007037ba2381028e379beb6,"`tidyverse_conflicts()` now prints all conflicts that involve at least one tidyverse package; Previously it only omitted any intra-tidyverse conflicts (#26). I've also tweaked the display of conflicts to hopefully make it more clear which function is the ""winner""."
tidyverse,24,3e98bf8f7f5d804abac8d5358178391d,"`tidyverse_update()` now just gives you the code you need to update the packges, since in general it's not possible to update packages that are already loaded."
tidyverse,25,ef2eb3429203d50b4ba60893a277f9d9,feather is now *actually* in suggests.
tidyverse,26,7c3e91f7d7e45901a2148288cf4ee2cc,Moved feather from Imports to Suggests - feather is part of the tidyverse but it's installation requirements (C++11 + little-endian) make it painful in many scenarios (#36).
tidyverse,27,2e359aff43f04a1025764cad700ea483,Added a `NEWS.md` file to track changes to the package.
tidyverse,28,6469f6df097d83fd7a635dac4b9df398,Membership changes:
tidyverse,28,6469f6df097d83fd7a635dac4b9df398,"• Removed DBI (since very different API, #16)"
tidyverse,28,6469f6df097d83fd7a635dac4b9df398,• Added feather (#15)
tidyverse,31,a7182bd4e74d47184e95394a12c64b27,"`tidyverse_deps()` and `tidyverse_packages()` are now exported so you can more easily see the make up of the tidyverse, and what package versions you have (#18, #23)"
tidyverse,32,ea1d0fe525d0063080066ae30b1e5db1,`suppressPackageStartupMessages()` now suppresses all messages during loading (#19). `suppressPackageStartupMessages()` is called automatically for all tidyverse packages (#27).
<<<<<<< HEAD
dbplyr,1,9ba90983899440eefc9d282294482b84,"Removed dependency on assertthat (@​mgirlich, #1112)."
dbplyr,2,2f55564766edc9d04d742c1ef90d978a,"Catch unsupported argument `pivot_wider(id_expand = TRUE)` and `pivot_longer(cols_vary)` (@​mgirlich, #1109)."
dbplyr,3,0c7762ee43811ee9012ef8aac13c0815,"Fixed an issue when using a window function after a `summarise()` and `select()` (@​mgirlich, #1104)."
dbplyr,4,6f5b38acb60f74d23acb11b14f096f5f,"Fixed an issue when there where at least 3 joins and renamed variables (@​mgirlich, #1101)."
dbplyr,5,f8727655923321e58ecf929362af640f,"`across()` now uses the original value when a column is overriden to match the behaviour of dplyr. For example `mutate(df, across(c(x, y), ~ .x / x))` now produces"
dbplyr,5,f8727655923321e58ecf929362af640f,"```
SELECT `x` / `x` AS `x`, `y` / `x` AS `y`
FROM `df`
```"
dbplyr,5,f8727655923321e58ecf929362af640f,instead of
dbplyr,5,f8727655923321e58ecf929362af640f,"```
=======
broom,1,dd1dbbd83561a7cc4481290c732a5714,Moved forward with deprecation of tidiers for objects from the sp package. See resources linked in [tidymodels/broom#1142](https://github.com/tidymodels/broom/issues/1142) for more information on migration from retiring spatial packages.
broom,2,e5e6ad7a0600b17246645f13aabfc716,Corrected confidence interval values for precision components in `tidy.betareg()` output (#1169).
broom,3,47ac9a5f6afeda1a7937e8031f6931ff,Fixed bug in tidier for `car::linearHypothesis()` output with long formulas (#1171).
broom,4,94e822261bec00684d6506685cce382d,Added support for columns `adj.r.squared` and `npar` in `glance()` method for objects outputted from `mgcv::gam()` (#1172).
broom,5,b9456201f05686b1759512c80d328d6b,`tidy.coxph()` will now pass its ellipses `...` to `summary()` internally (#1151 by `@​ste-tuf`).
broom,6,e18ec21593afb5b20e0e6506402bc18c,Transitioned the deprecation of the `region` argument to `tidy.SpatialPolygonsDataFrame` from a warn- to a hard-deprecation (#1142).
broom,7,bcf716d0e693fc5644238d811095eddc,Removed maptools and rgeos as Suggested packages ahead of their retirement. sp tidiers will be removed from a future release of the package (#1142).
broom,8,e1b14dd01dd25902c74dc09717bbd3f5,Addressed bug in mlogit tidiers where `augment.mlogit()` would fail if supplied a model fitted with a non-default `dfidx()` (#1156 by `@​gregmacfarlane`).
broom,9,586f0572a9f99e4fb34b86abe73ff0cd,Addressed bug in ANOVA tidiers where `tidy.anova()` would fail if passed a model with many predictors (#1159 by `@​jwilliman`).
broom,10,d7f62d3661834d37a0984de6748e43c7,"Addressed warnings in ANOVA tidiers for unrecognized column names `Resid..Df`, `Resid..Dev`, and `Deviance`; those columns will be renamed `df.residual`, `residual.deviance`, and `deviance`, respectively (#1159 by `@​jwilliman`)."
broom,11,08e2556c5b2fb73afc070c2d55bc8d33,"Added an `intercept` argument to `tidy.aov()`, a logical indicating whether to include information on the intercept as the first row of results (#1144 by `@​victor-vscn`)."
broom,12,3974a8046f6b164834117f201ed90333,Moved forward with soft-deprecation of tidiers for objects from the sp package ahead of the retirement of the rgeos and maptools packages later this year. sp tidiers will be removed from a future release of the package (#1142).
broom,13,195de672bede54a432757b3c8a4c15c1,Fixed bug in `augment.glm()` where the `.std.resid` column always contained standardized deviance residuals regardless of the value passed to the `type.residuals` argument (#1147).
broom,14,01821060202465d89aa62473bfa3ebe0,Addressed test failures on R-devel.
broom,15,2417dc5b89e61298acd66451aecc68f8,Fixed bug in `tidy.multinom()` where the `conf.level` argument would be ignored.
broom,16,b950ae607dc582f7b0545bdb3080b813,The default `data` argument for `augment.coxph()` and `augment.survreg()` has been transitioned from `NULL` to `model.frame(x)` (#1126 by `@​capnrefsmmat`).
broom,17,12007bef0f60ea93de8219e4868fe88a,"Migrated 'ggplot2' from strong to weak dependency, i.e. moved from `Imports` to `Suggests`."
broom,18,80d81a33bf584f312fe0748c52490d04,"Fixed a bug where `augment()` results would not include residuals when the response term included a function call (#1121, #946, #937, #124)."
broom,19,1420443d94b4fae91af5cfab11728487,Improves performance of `tidy.lm()` and `tidy.glm()` for full-rank fits (#1112 by `@​capnrefsmmat`).
broom,20,a8a93e6f2b85fdf4c6c5b4d15068bafd,"Moves forward with deprecation of tidiers for sparse matrices outputted from the Matrix package, initially soft-deprecated in broom 0.5.0. The Matrix tidiers were light wrappers around coercion methods that will now be deprecated from Matrix itself in the upcoming 1.4-2 release. The affected methods are `tidy.sparseMatrix()`, `tidy.dgCMatrix()`, and `tidy.dgTMatrix()`. Note that `tidy.confusionMatrix()`, for relevant objects outputted from the caret package, is unaffected (#1113)."
broom,21,d980d0d2b54faa6bb558525070605b86,`tidy.anova()` works again with `anova` objects from the `lme4` package (broken by addition of the `terms` column in the previous release)
broom,22,32859bc94d436afe923eab71934cb2d1,Adds minimal ellipsis checking to warn on commonly misspecified arguments passed through ellipses. Notably:
broom,23,2bce397592e59cd77058ab6b066abe51,`tidy()` methods will now warn when supplied an `exponentiate` argument if it will be ignored.
broom,24,a4e73b942396bb2a8b6d4b2111b6946e,`augment()` methods will now warn when supplied a `newdata` argument if it will be ignored.
broom,25,ad50360895114a035a0398f34121ccb6,"The warning regarding tidiers only maintained via dispatch to `lm` and `glm` is now displayed only once per session, per unique dispatch. That is, if a `class_a` object is tidied using a `(g)lm` method, broom will not warn when tidying `class_a` objects for the rest of the session, but if a `class_b` object is tidied using a `(g)lm` method in the same session, broom will warn again (#1101)."
broom,26,38e1b922d499d53c4a4533dc4fc4af43,Add `exponentiate` argument to `tidy.boot()` (#1039).
broom,27,e7cd3d83acc75c613c2a7ccf95c24d0f,Update in `tidy.htest()` converting matrix-columns to vector-columns (#1081).
broom,28,7bfcffdccbe3aa7f798ae121b0ffcba8,Address failures in `tidy.glht()` with `conf.int = TRUE` (#1103).
broom,29,d01b4f24411e35b3344c3882ee10c231,Address failures in `tidy.zoo()` when input data does not have `colnames` (#1080).
broom,30,5334f38a6ac550cfba0b1599912f2cec,Transition tidiers for bivariate linear or spline-based interpolation---using list tidiers to interface with objects from the akima package is now considered off-label. See the interp package for a FOSS alternative.
broom,31,fc15d211ec3cb30830f731f9c037e60b,"Address failures in `tidy.svyolr()` when `p.values = TRUE`. Instead of aliasing `tidy.polr()` directly, `tidy.svyolr()` lightly wraps that method and warns if `p.values` is supplied (#1107)."
broom,32,b0deb18ac2a13b9c3490c67d081f885a,Adds a `term` column and introduces support for `car::lht()` output in `tidy.anova()` (#1106 by `@​grantmcdermott`).
broom,33,39885e668a2b17329a9c4786f7848433,"Adds a dedicated `glance.anova` method (which previously dispatched to the\ deprecated `glance.data.frame()` tidier, #1106 by `@​grantmcdermott`)."
broom,34,a9c21571958dfba7cd96739c738f90c0,Makes many improvements to documentation:
broom,35,6a5b9fadf07062f329c60c9ff07eb9e8,All tidiers now have example code demonstrating usage in their documentation. Tidiers for base packages as well as selected others also include sample code for visualization of results with ggplot2.
broom,36,51d426cf2c4db331676a36d3a87a81b7,"Code examples in the documentation largely now follow consistent style---these changes were made largely to reflect the tidyverse style guide, addressing spacing, object naming, and commenting, among other things."
broom,37,b6d45c082ad275b90d4abd2088784a34,Examples previously marked with `\dontrun` or `\donttest` have been workshopped to run reliably.
broom,38,eb0534c1abd2f176386763bb5a2477d2,Clarifies errors and warnings for deprecated and unmaintained tidiers.
broom,39,f643e1511a735e099d5ba95016668de3,Ensures that tidiers are placed in files named according to the model-supplying package rather than the model object class for easier navigability of the source code.
broom,40,4071aa2c11c78bfbc18c9ec10896ff1c,"Fix `glance.fixest` error when model includes only fixed effects and no regressors (`#1018` by `@​arcruz0`, `#1088` by `@​vincentarelbundock`)."
broom,41,0a425a96944684a896fad05e6ce66bec,"Address excessive messaging from `tidy.speedlm` (`#1084` by `@​cgoo4`, `#1087` by `@​vincentarelbundock`)."
broom,42,d0dcda4d70e27fa885ac4569e2750ac0,"Add `nobs` column to the output of `glance.svyglm` (`#1085` by `@​fschaffner`, `#1086` by `@​vincentarelbundock`)."
broom,43,0c3f54efe2212169a06d76003b3fcfb0,Ensure `tidy.prcomp` description entries use consistent punctuation (`#1072` by `@​PursuitOfDataScience`).
broom,44,1f7494f17e4954215c4efdde1b9bb361,Address breaking changes in `glance.fixest` and `tidy.btergm`.
broom,45,ae98c06913859bbd5b6ad5e9b5d3ce20,Simplify handling of `MASS::polr` output in the corresponding `tidy` and `augment` methods.
broom,46,30454f5e33b1b411a7cacedf11650a8f,Align continuous integration with current standards in tidymodels packages.
broom,47,298eefe8af366a1a3492d5d2158d2fcd,Addressed issue with the ordering of original observations in `augment.rqs`. Now function preserves the original `data.frame` names also when the input `data.frame` only has one column (`#1052` by `@​ilapros`).
broom,48,50eaeb6f2bcd351c3e22ebb019040969,Addressed warning from `tidy.rma` when `x$ddf` has length greater than 1 (`#1064` by `@​wviechtb`).
broom,49,11f8017e3f90893642431afc157c2b20,Fix errors in `glance.lavaan` in anticipation of upcoming `tidyr` release (`#1067` by `@​DavisVaughan`).
broom,50,327470369b085861e1c6dd155ce36479,Corrected the confidence interval in `tidy.crr()`. The `tidy.crr(conf.level=)` argument was previously ignored (`#1068` by `@​ddsjoberg`).
broom,51,e88988428e62aa045fb5d58ffe3bf3da,Clarifies error when `pysch::mediate` output is dispatched to `tidy.mediate` (`#1037` by `@​LukasWallrich`).
broom,52,5cbcccc899668bb71e452786e5f87e73,Allows user to specify confidence level for `tidy.rma` (`#1041` by `@​TarenSanders`)
broom,53,890309c3eb8a863e75431506eb5625fa,Clarifies documentation related to usage of `augment_columns()`; most package users should use `augment()` in favor of `augment_columns()`. See `?augment_columns` for more details.
broom,54,8e3d1963a78a69b4741ba166b1cba8a4,Extends support for `emmeans` by fixing non-standard column names in case of asymptotically derived inferential statistics. (`#1046` by `@​crsh`)
broom,55,16f12c3b32154577f159dbafa5abbeaf,"Fixes use of index columns in `augment.mlogit` and adds `.resid` column to output. (`#1045`, `#1053`, `#1055`, and `#1056` by `@​jamesrrae` and `@​gregmacfarlane`)"
broom,56,26159ed9af3749f94a334fda14005b6e,Correct column naming of standard error measures in `glance.survfit()`.
broom,57,6f0d0119987d0b1eecb2d5982e5b9b5b,Various bug fixes and improvements to documentation.
broom,58,f8e913d957cb7c5ef8bba4b005e30a5e,"Fixes confidence intervals in `tidy.crr()`, which were previously exponentiated when `exponentiate = FALSE` (`#1023` by `@​leejasme`)"
broom,59,183d67d424f88f6e059be74e1ad6848e,"Deprecates `Rchoice` tidiers, as the newest 0.3-3 release requires R 4.0+ and does not re-export needed generics."
broom,60,422e593be25feee5e3833fe44b175f5f,Updates to `ergm` tidiers in anticipation of changes in later releases. (`#1034` by `@​krivit`)
broom,61,9a65f63fdd79bafa68c055afed52d1b4,Fixed bug in `glance.ergm` related to handling of MCMC details.
broom,62,b18d3b6acdc4dd663ec0e19475f6f480,Address breakages in unit tests for {fixest} tidiers.
broom,63,73ef6178178a4d2c25ccea52a7d8bbdb,Fixed bug in `tidy.epi.2by2` that resulted in errors with new version of `epiR` (`#1028` by `@​nt-williams`)
broom,64,9d012bcddc9f31cead525e2dd4a94819,Added `exponentiate` argument to `tidy.gam()` tidier applicable for parametric terms (`#1013` by `@​ddsjoberg`)
broom,65,e317b00abbaacb0fcab194b6ba13d798,Added `exponentiate` argument to `tidy.negbin()` tidier (`#1011` by `@​ddsjoberg`)
broom,66,e9bd338bb1d3ade31e91a2e8ac654ec4,Fixed failures in `spdep` tidiers following breaking changes in the most recent release
broom,67,2dae63e42daa851883eb9ee416d6925b,Various bug fixes and improvements to documentation
broom,68,506862354d7119643653c320f59e685c,Fixed bug in `augment` tidiers resulting in `.fitted` and `.se.fit` array columns.
broom,69,6629e5ac6daabf24859e8ea4eefe2110,Fixed bug that made column `y` non-numeric after `tidy_xyz` (`#973` by `@​jiho`)
broom,70,6bfb28f1c4a5a7df0d2baefd5e9ebaa7,Added tidiers for `MASS:glm.nb` (`#998` by `@​joshyam-k`)
broom,71,d334c40bc4a9df7d7521144873592d35,Fixed bug in `tidy.fixest` that sometimes prevented arguments like `se` from being used (`#1001` by `@​karldw`)
broom,72,4019b73860206bbf07c7ba49be0ab9fb,Fixed bug in `tidy.fixest` that resulted in errors when columns with name `x` are present (`#1007` by `@​grantmcdermott`)
broom,73,c2293a256a93e4b00a54a0494cfe2fd7,Moved forward with planned deprecation of `gamlss` tidiers in favor of those provided in `broom.mixed`
broom,74,2dae63e42daa851883eb9ee416d6925b,Various bug fixes and improvements to documentation
broom,75,186cead78b10cc0337c1b73bfd5cc8c8,Fixed bug in the `nnet::multinom` tidier in the case that the response variable has only two levels (`#993` by `@​vincentarelbundock` and `@​hughjonesd`)
broom,76,2dae63e42daa851883eb9ee416d6925b,Various bug fixes and improvements to documentation
broom,77,00c883d65796b9cc777cb0899d49ee76,Add tidiers for `Rchoice` objects (`#961` by `@​vincentarelbundock` and `@​Nateme16`)
broom,78,1ce91ca247f3e64ecb655f7dda58463f,Add tidiers for objects produced by `car::leveneTest` (`#968` by `@​vincentarelbundock` and `@​mkirzon`)
broom,79,f334d9de59911105ab71347773c35e32,Add tidiers for objects produced by `cmprsk::crr` (`#971` and `#552` by `@​vincentarelbundock` and `@​margarethannum`)
broom,80,1329b47c2b2bb23baedca32bf34cd996,Add an `augment()` method for `gam` objects (`#975` and `#645` by `@​vincentarelbundock`)
broom,81,538b53849cc91a96c41f4b071d1e6ecc,Add tidiers for `vars` objects (`#979` and `#161` by `@​vincentarelbundock` and `@​Diego-MX`)
broom,82,a64e8d87bf2b20ac46d0def385e754a6,`tidy.emmGrid` can now return `std.error` and `conf.*` columns at the same time. (`#962` by `@​vincentarelbundock` and `@​jmbarbone`)
broom,83,d5934e138a96778bb7e95977e45c62a2,`tidy.garch` can now produce confidence intervals (`#964` by `@​vincentarelbundock` and `@​IndrajeetPatil`)
broom,84,30d685b49b700e29ef80d53783b1bc61,`tidy.coxph` can now report confidence intervals on models utilizing penalized/clustering terms (`#966` by `@​vincentarelbundock` and `@​matthieu-faron`)
broom,85,baacb8c537753e3738409e9aa92448b0,`augment.lm` now works when some regression weights are equal to zero (`#965` by `@​vincentarelbundock` and `@​vnijs`)
broom,86,0e6f39f2bbb92b11ebd178f496fb8269,"`tidy.coxph` can now handle models utilizing penalized/clustering terms (`#966` and `#969` by `@​vincentarelbundock`, `@​matthieu-faron`, and `@​KZARCA`)"
broom,87,4e924c5122d394fd9d1b8da8cfca298e,Fix bug in `tidy.speedglm` on R 4.0.0+ (`#974` by `@​uqzwang`)
broom,88,a0dc49c020fc3f69394ce1d6f8692434,tidy.multinom works with matrix response (`#977` and `#666` by `@​vincentarelbundock` and `@​atyre2`)
broom,89,8f0e8b11904597fbb476cc60f58b2635,Various bug fixes and improvements to documentation and errors.
broom,90,567a94442b5385a66c14e6e175a2653e,Restores tidiers for `summary.lm` objects (`#953` by `@​grantmcdermott`)
broom,91,cad0b7beb28c1f781eae5b8a7eeb278c,"Deprecate tidiers for the `lfe` package, which was archived from CRAN."
broom,92,8f0e8b11904597fbb476cc60f58b2635,Various bug fixes and improvements to documentation and errors.
broom,93,8f0e8b11904597fbb476cc60f58b2635,Various bug fixes and improvements to documentation and errors.
broom,94,9955ad8b424fb02eb644edb4da089284,Add tidiers for `margins` objects. (`#700` by `@​grantmcdermott`)
broom,95,e82bff8a8d406b8bf4d1703de8bc9dcb,Added tidier methods for `mlogit` objects (`#887` by `@​gregmacfarlane`)
broom,96,db5d46a25415b1b03a445fa11bf83a31,Add `glance.coeftest()` method (`#932` by `@​grantmcdermott`)
broom,97,b79360466a43eb57757f29de3da362d4,Extended the `glance.aov()` method to include an `r.squared` column!
broom,98,1cb9360100051dd056ecad288b71080e,`glance.survfit()` now passes `...` to `summary.survfit()` to allow for adjustment of RMST and other measures (`#880` by `@​vincentarelbundock`)
broom,99,95621318b9b817067e0c0c902a65bba9,Several unsupported model objects that subclass `glm` and `lm` now error more informatively.
broom,100,efc0b31d1e45986e275e6c093d1d873d,A number of improvements to documentation throughout the package.
broom,101,ea121659802911084b65f969125c40ca,Fixed `newdata` warning message in `augment.*()` output when the `newdata` didn't contain the response variable---augment methods no longer expect the response variable in the supplied `newdata` argument. (`#897` by `@​rudeboybert`)
broom,102,877c7176a0d27feed0e210229c9920d3,Fixed a bug related to `tidy.geeglm()` not being sensitive to the `exponentiate` argument (`#867`)
broom,103,4108d87e356b0bb6a32f7df7930db444,Fixed `augment.fixest()` returning residuals in the `.fitted` column. The method also now takes a `type.residuals` argument and defaults to the same `type.predict` argument as the `fixest` `predict()` method. (`#877` by `@​karldw`)
broom,104,18f57edc7ca927c4b8d08591586bdb97,"Fix `tidy.felm` confidence interval bug. Replaces ""robust"" argument with ""se.type"". (`#919` by `@​grantmcdermott`; supersedes `#818` by `@​kuriwaki`)"
broom,105,89fa4ac08b6109c23aa561e79892c41a,Fix a bug in `tidy.drc()` where some term labels would result in the overwriting of entries in the `curve` column (`#914`)
broom,106,c48430b69d05833362668aa0bcb66052,Fixed bug related to univariate zoo series in `tidy.zoo()` (`#916` by `@​WillemVervoort`)
broom,107,e6ba940e3a2a8683c3260bf768d66d5f,"Fixed a bug related to `tidy.prcomp()` assigning the wrong PC labels from ""loadings"" and ""scores"" matrices (`#910` by `@​tavareshugo`)"
broom,108,c8f515d881f2bcd6b459d7abd5b104d8,Fixed `tidy.polr()` bug where p-values could only be returned if `exponentiate = FALSE`.
broom,109,1be0ee642b733186644941f10251be2b,"We have changed how we report degrees of freedom for `lm` objects (#212, #273). This is especially important for instructors in statistics courses. Previously the `df` column in `glance.lm()` reported the rank of the design matrix. Now it reports degrees of freedom of the numerator for the overall F-statistic. This is equal to the rank of the model matrix minus one (unless you omit an intercept column), so the new `df` should be the old `df` minus one."
broom,110,0ee4ab04956b8e7e0ca8d42b886aacbb,"We are moving away from supporting `summary.*()` objects. In particular, we have removed `tidy.summary.lm()` as part of a major overhaul of internals. Instead of calling `tidy()` on `summary`-like objects, please call `tidy()` directly on model objects moving forward."
broom,111,82ab054f6a2a9c7e15ce7f9e1d175fd5,"We have removed all support for the `quick` argument in `tidy()` methods. This is to simplify internals and is for maintainability purposes. We anticipate this will not influence many users as few people seemed to use it. If this majorly cramps your style, let us know, as we are considering a new verb to return only model parameters. In the meantime, `stats::coef()` together with `tibble::enframe()` provides most of the functionality of `tidy(..., quick = TRUE)`."
broom,112,5b1eb99601f1cab1369757c1b609a691,"All `conf.int` arguments now default to `FALSE`, and all `conf.level` arguments now default to `0.95`. This should primarily affect `tidy.survreg()`, which previously always returned confidence intervals, although there are some others."
broom,113,457e3c054abd3258a5c2c7b008f92957,"Tidiers for `emmeans`-objects use the arguments `conf.int` and `conf.level` instead of relying on the argument names native to the `emmeans::summary()`-methods (i.e., `infer` and `level`). Similarly, `multcomp`-tidiers now include a call to `summary()` as previous behavior was akin to setting the now removed argument `quick = TRUE`. Both families of tidiers now use the `adj.p.value` column name when appropriate. Finally, `emmeans`-, `multcomp`-, and `TukeyHSD`-tidiers now consistently use the column names `contrast` and `null.value` instead of `comparison`, `level1` and `level2`, or `lhs` and `rhs` (see #692)."
broom,114,eda5242fcc6d40bdcef4e28f5970601c,"Tidier methods for data frames, rowwise data frames, vectors and matrices"
broom,115,12fdbf6bb50b000f5dd72775dce42f4e,`bootstrap()`
broom,116,c586d454f11ef788ee150982343f46a7,`confint_tidy()`
broom,117,521f47dc83c36bf89d76e2e363f4b3ce,`fix_data_frame()`
broom,118,995578256d2e60ed1a0a77a3b70c9774,`finish_glance()`
broom,119,7e3e792517cd8148cc1298de016c2776,`augment.glmRob()`
broom,120,87307cb607c9f3e294c5c82e8be3ad3f,`tidy.table()` and `tidy.ftable()` have been deprecated in favor of `tibble::as_tibble()`
broom,121,322f9f79a578507c9e97ee8429a8ac7b,`tidy.summaryDefault()` and `glance.summaryDefault()` have been deprecated in favor of `skimr::skim()`
broom,122,a57eef09b19c85079042d54eb1fc8665,`tidy.brmsfit()`
broom,123,9d9cb5cd2b2d091ba423736c23c11183,"`tidy.merMod()`, `glance.merMod()`, `augment.merMod()`"
broom,124,998b8881955e335ec091277191673bdc,"`tidy.lme()`, `glance.lme()`, `augment.lme()`"
broom,125,c9b21dfe4045b7145e56b22ff6578a07,"`tidy.stanreg()`, `glance.stanreg()`"
broom,126,5bc88315ded29322bb8fd3278e4cbe76,"`tidyMCMC()`, `tidy.rjags()`, `tidy.stanfit()`"
broom,127,38c7e20c4f448efacd3f3386f517142b,"`augment.factanal()` now returns a tibble with columns names `.fs1`, `.fs2`, ..., instead of `factor1`, `factor2`, ... (#650)"
broom,128,ca248dd2285acbe6cf230c3e4f54da1f,"We have renamed the output of `augment.htest()`. In particular, we have renamed the `.residuals` column to `.resid` and the `.stdres` to `.std.resid` for consistency. These changes will only affect chi-squared tests."
broom,129,4b780735c5d9ac7b97d9dfb1d3fbf546,`tidy.ridgelm()` now always return a `GCV` column and never returns an `xm` column. (#533 by @​jmuhlenkamp)
broom,130,7af0fa883c72c6e4d6af7db770ee09a1,`tidy.dist()` no longer supports the `upper` argument.
broom,131,cf16b3a59112b3c213bd98624ee85b49,"If you pass a dataset to `augment()` via the `data` or `newdata` arguments, you are now guaranteed that the augmented dataset will have exactly the same number of rows as the original dataset. This differs from previous behavior primarily when there are missing values. Previously `augment()` would drop rows containing `NA`. This should no longer be the case."
broom,132,0153deb81814529821bb23441f4c4c6a,`augment.*()` methods no longer accept an `na.action` argument.
broom,133,0426fe0136059f8724b42f9358b018ee,"In previous versions, several `augment.*()` methods inherited the `augment.lm()` method, but required additions to the `augment.lm()` method itself. We have shifted away from this approach in favor of re-implementing many `augment.*()` methods as standalone methods making use of internal helper functions. As a result, `augment.lm()` and some related methods have deprecated (previously unused) arguments."
broom,134,3f48c91daf611c111de1c7a703b0afb7,`augment()` tries to give an informative error when `data` isn't the original training data.
broom,135,02b66e169261e25a3091f178207fbf43,The `.resid` column in the output of `augment().*` methods is now consistently defined as `y - y_hat`
broom,136,89243e7145d80030a6edaaa2009f8940,`anova` objects from the `car` package (#754)
broom,137,0baaf266b3727ca9d92d734331d76262,`pam` objects from the `cluster` package (#637 by @​abbylsmith)
broom,138,edf810652e089ca542beb5c26d1bffd6,`drm` objects from the `drc` package (#574 by @​edild)
broom,139,4cf4074de14dae2e321fc877a977eea9,`summary_emm` objects from the `emmeans` package (#691 by @​crsh)
broom,140,daa1e8127abd85dc832f3de59fca62df,`epi.2by2` objects from the `epiR` package (#711)
broom,141,e5b6916c2c8381e235eddd72d417b6a7,`fixest` objects from the `fixest` package (#785 by @​karldw)
broom,142,13fb0524c59d8343993ae1be18f3b1a0,`regsubsets` objects from the `leaps` package (#535)
broom,143,6e37445a8a856427ef35598da481aa6a,`lm.beta` objects from the `lm.beta` package (#545 by @​mattle24)
broom,144,2c63cdabc3ed35ec6d51ae49c6739449,"`rma` objects from the `metafor` package (#674 by @​malcolmbarrett, @​softloud)"
broom,145,1d7e3c2c68baa91e112190d4d5113db3,"`mfx`, `logitmfx`, `negbinmfx`, `poissonmfx`, `probitmfx`, and `betamfx` objects from the`mfx` package (#700 by @​grantmcdermott)"
broom,146,eaaa123f0e1b069c35cfe864fcc1b5cf,"`lmrob` and `glmrob` objects from the `robustbase` package (#205, #505)"
broom,147,017274f3216e0837a5c297c27e1c2589,`sarlm` objects from the `spatialreg` package (#847 by @​gregmacfarlane and @​petrhrobar)
broom,148,ad75a66128021cb67081ef7e33997621,`speedglm` objects from the `speedglm` package (#685)
broom,149,31b175f08b345559214513893f6dec90,`svyglm` objects from the `survey` package (#611)
broom,150,42d8784d8703bc3bed84ca3902fc5bf2,`systemfit` objects from the `systemfit` package (by @​jaspercooper)
broom,151,968bec9f2d9ffac02d864e344590e0cc,"We have restored a simplified version of `glance.aov()`, which used to inherit from the `glance.lm()` method and now contains only the following columns: `logLik`, `AIC`, `BIC, deviance`, `df.residual`, and `nobs` (see #212). Note that `tidy.aov()` gives more complete information about degrees of freedom in an `aov` object."
broom,152,130a3c3637696047367b99c9c6ee275b,`tidy.felm()` now has a `robust = TRUE/FALSE` option that supports robust and cluster standard errors. (#781 by @​kuriwaki)
broom,153,be95dfc0194f32a486770047434c3511,Make `.fitted` values respect `type.predict` argument of `augment.clm()`. (#617)
broom,154,211b699e982981a76a435baedd617b49,Return factor rather than numeric class predictions in `.fitted` of `augment.polr()`. (#619) Add an option to return `p.values` in `tidy.polr()`. (#833 by @​LukasWallrich)
broom,155,04ce3aa700a98301f40a86da46ea4045,`tidy.kmeans()` now uses the names of the input variables in the output by default. Set `col.names = NULL` to recover the old behavior.
broom,156,d47054810cdc4236b23eedaf5731a26f,"Previously, F-statistics for weak instruments were returned through `glance.ivreg()`. F-statistics are now returned through `tidy.ivreg(instruments = TRUE)`. Default is `tidy.ivreg(instruments = FALSE)`. `glance.ivreg()` still returns Wu-Hausman and Sargan test statistics."
broom,157,2020b2192a6916edd3e6ce09285110f2,`glance.biglm()` now returns a `df.residual` column.
broom,158,13c92dffef02bb0a32cd9d1f8be04dfb,"`tidy.prcomp()` argument `matrix` gained new options `""scores""`, `""loadings""`, and `""eigenvalues""`. (#557 by @​GegznaV)"
broom,159,96ffa9b6d13d1d834a25a541f5105784,`tidy_optim()` now provides the standard error if the Hessian is present. (#529 by @​billdenney)
broom,160,56528c7e7623829da2177f7d462ed2a5,`tidy.htest()` column names are now run through `make.names()` to ensure syntactic correctness. (#549 by @​karissawhiting)
broom,161,d258e75061d2dbc0b5d20b152874a3ae,`tidy.lmodel2()` now returns a `p.value` column. (#570)
broom,162,b59f935c3b6ca2b9d2e346d90d0a50c0,`tidy.lsmobj()` gained a `conf.int` argument for consistency with other tidiers.
broom,163,3371678865fdc8e35b05f76d0fcf8d9c,`tidy.polr()` now returns p-values if `p.values` is set to TRUE and the model does not contain factors with more than two levels.
broom,164,7d9d63eb284c1366acf0b68f30593bce,`tidy.zoo()` now doesn't change column names that have spaces or other special characters (previously they were converted to `data.frame` friendly column names by `make.names`.)
broom,165,d0e3e8d19a68375c5cee1e8359923846,`glance.lavaan()` now uses lavaan extractor functions instead of subsetting the fit object manually. (#835)
broom,166,42257eeb0a6f257020359dc7536b2225,`glance.lm()` no longer errors when only an intercept is provided as an explanatory variable. (#865)
broom,167,3c4f18d5d9077517f6a2318bdf57ac9e,"Bug fix for `tidy.survreg()` when `robust` is set to `TRUE` in model fitting (#842, #728)"
broom,168,5dbcc0bf09293a1ef8bd37f79d43db35,Bug fixes in `glance.lavaan()`: address confidence interval error (#577) and correct reported `nobs` and `norig` (#835)
broom,169,50f67d42b29312c91f4e8f9604c6f1ef,Bug fix in muhaz tidiers to ensure output is always a `tibble` (#824)
broom,170,abc56e971e9a4169373d58a5b1837aa8,Several `glance.*()` methods have been refactored in order to return a one-row tibble even when the model matrix is rank-deficient (#823)
broom,171,cfb4925a8945b6231f4915c8ce448c49,Bug fix to return confidence intervals correct in `tidy.drc()` (#798)
broom,172,26943f4018eae3e8c17012496135a1ba,"Added default methods for objects that subclass `glm` and `lm` in order to error more informatively. (#749, #736, #708, #186)"
broom,173,761ef2baef87220d03ca6ed9531ace0d,Bug fix to allow `augment.kmeans()` to work with masked data (#609)
broom,174,36d2e6742fb6c2360a53b18c10935773,Bug fix to allow `augment.Mclust()` to work on univariate data (#490)
broom,175,07ec87554c91a4556d96c3acacf44a3d,Bug fix to allow `tidy.htest()` to supports equal variances (#608)
broom,176,61e6d7cdb768f667e2dc938ca71bed9e,Bug fix to better allow `tidy.boot()` to support confidence intervals (#581)
broom,177,be873ad6bfb5ce1db526aa808b42e8ea,Bug fix for `tidy.polr()` when passed `conf.int = TRUE` (#498)
broom,178,5798888473fd7286d722c89170c6f898,"Many `glance()` methods now return a `nobs` column, which contains the number of data points used to fit the model! (#597 by @​vincentarelbundock)"
broom,179,32b1e78cdaafd4b562a7d99f13dfe6d7,"`tidy()` no longer checks for a log or logit link when `exponentiate = TRUE`, and we have refactored to remove extraneous `exponentiate` arguments. If you set `exponentiate = TRUE`, we assume you know what you are doing and that you want exponentiated coefficients (and confidence intervals if `conf.int = TRUE`) regardless of link function."
broom,180,918700ed723fb2060f9645a9950a5439,We now use `rlang::arg_match()` when possible instead of `arg.match()` to give more informative errors on argument mismatches.
broom,181,15add139dc735d33def7c347ac8264d6,The package's site has moved from https://broom.tidyverse.org/ to https://broom.tidymodels.org/.
broom,182,ee535ec0f4808fe805002f413685c28f,Revised several vignettes and moved them to the tidymodels.org website. The existing vignettes will now simply link to the revised versions.
broom,183,7140a40eec81e3ae440ef28a1782a41a,Many improvements to consistency and clarity of documentation.
broom,184,e536289cf737eac3c193b30c772e976b,Various warnings resulting from changes to the tidyr API in v1.0.0 have been fixed. (#870)
broom,185,5807a1e6f927f542274a99935044cba8,Removed dependencies on reshape2 and superseded functions in dplyr.
broom,186,a8f9f16dae36f7a78264bc27074ff0a3,All documentation now links to help files rather than topics.
broom,187,b19bcddd1717b3ab4edbdcc9ff6c9e6f,Moved core tests to the `modeltests` package.
broom,188,a73d8c79a9863fabfa3a087017f5bf5a,"Generally, after this release, the broom dev team will first ask that attempts to add tidier methods supporting a model object are first directed to the model-owning package. An article describing best practices in doing so can be found on the {tidymodels} website at https://www.tidymodels.org/learn/develop/broom/, and we will continue adding additional resources to that article as we develop them. In the case that the maintainer is uninterested in taking on the tidier methods, please note this in your issue or PR."
broom,189,514fcd8755b1337ced2db0c36ed52b74,Added a new vignette discussing how to implement new tidier methods in non-broom packages.
broom,190,d38225d02c5367331b0ca7b9e806b965,Fix failing CRAN checks to due `tibble 3.0.0` release. Removed `xergm` dependency.
broom,191,b76fe3d83bbc2167c8e2d37ccfc1ac9d,Remove tidiers for robust package and drop robust dependency (temporarily)
broom,192,cd46adbd71efd8b5d996227290282cbd,Fixes failing CRAN checks as the joineRML package has been removed from CRAN
broom,193,1803409ae094f2fba058fc0441b5579d,Fixes failing CRAN checks due to new matrix classing in R 4.0.0
broom,194,3ab567a52f6611f1f6f73a8f9f95253c,Fixes failing CRAN checks
broom,195,f133dd9b49b1de75508a371ea8aa206e,Changes to accommodate ergm 3.10 release. `tidy.ergm()` no longer has a `quick` argument. The old default of `quick = FALSE` is now the only option.
broom,196,4ba30e1718fe5ac89a120d7882c5c545,"`tidy()`, `glance()` and `augment()` are now re-exported from the [generics](https://github.com/r-lib/generics) package."
broom,197,c4ab722a5537614b1fcb7e4fde4e6d9e,"subsetting tibbles with `[`, which returns a tibble rather than a vector."
broom,198,f3ddeb9c31a2e8d779dc263d63062aa5,"setting rownames on tibbles, which is deprecated."
broom,199,7bee041bde5d351fca1bbb2261c56bc7,"using matrix and vector tidiers, now deprecated."
broom,200,139913ee164f7f93b949de7aaf55f475,handling the additional tibble classes `tbl_df` and `tbl` beyond the `data.frame` class
broom,201,0343d3b31fae31e08958b115af196985,linking to defunct documentation files -- broom recently moved all tidiers to a `roxygen2` template based documentation system.
broom,202,9a4a8fc498b3221d49c61ac53cafcdfa,"`vignette(""available-methods"", package = ""broom"")` contains a table detailing which tidying methods are available"
broom,203,631e6a2156c670974a19203d109247a9,"`vignette(""adding-tidiers"", package = ""broom"")` is an *in-progress* guide for contributors on how to add new tidiers to broom"
broom,204,7e258114abc698c40c97e78b90f2f772,"`vignette(""glossary"", package = ""broom"")` contains tables describing acceptable argument names and column names for the *in-progress* new specification."
broom,205,5a62f293b4d878a0bb55f40109d3e481,"`vignette(""bootstrapping"", package = ""broom"")` now relies on the `rsample` package and a `tidyr::nest`-`purrr::map`-`tidyr::unnest` workflow. This is now the recommended workflow for working with multiple models, as opposed to the old `dplyr::rowwise`-`dplyr::do` based workflow."
broom,206,b60a0e58c84e510d65a03f46373138ff,Matrix and vector tidiers have been deprecated in favor of `tibble::as_tibble` and `tibble::enframe`
broom,207,93869afe3f5f09be7cb57bc229784a60,Dataframe tidiers and rowwise dataframe tidiers have been deprecated
broom,208,a4ad8343252063237199277d1b4f6043,`bootstrap()` has been deprecated in favor of the [`rsample`](https://rsample.tidymodels.org/)
broom,209,9721cf9026a8e0f93a81ba7e4f48334f,`inflate` has been removed from `broom`
broom,210,ec304322561b5d5954f42e75e5c44c33,The `alpha` argument has been removed from `quantreg` tidy methods
broom,211,09158c0ec807c1d67dde2232ef159932,"The `separate.levels` argument has been removed from `tidy.TukeyHSD`. To obtain the effect of `separate.levels = TRUE`, users may `tidyr::separate` after tidying. This is consistent with the `multcomp` tidier behavior."
broom,212,a9a43b3c04bdc37d0c76174dffceaa85,"The `fe.error` argument was removed from `tidy.felm`. When fixed effects are tidier, their standard errors are now always included."
broom,213,a320b523ae37be12f11fa4b28667abb6,The `diag` argument in `tidy.dist` has been renamed `diagonal`
broom,214,f7ca601aebef949a49c7fb58360d54cc,Advice to help beginners make PRs (#397 by @​karldw)
broom,215,52b285bbad727aa849c137518f460bb5,"`glance` support for `arima` objects fit with `method = ""CSS""` (#396 by @​josue-rodriguez)"
broom,216,9352e76ada442346df056ca09848e0ce,A bug fix to re-enable tidying `glmnet` objects with `family = multinomial` (#395 by @​erleholgersen)
broom,217,d1f60e66896134842ad07f3375ee5d65,A bug fix to allow tidying `quantreg` intercept only models (#378 by @​erleholgersen)
broom,218,937c6c068b02c1ceec766876bdc1d00d,A bug fix for `aovlist` objects (#377 by @​mvevans89)
broom,219,e9425d30ab9e1d22431f4e3f72c14904,Support for `glmnetUtils` objects (#352 by @​Hong-Revo)
broom,220,6541755b2007a9918548de23d77faef2,A bug fix to allow `tidy_emmeans` to handle column names with dashes (#351 by @​bmannakee)
broom,221,81ef0489808fbe2482ee7c1df658523d,`augment.felm` no longer returns `.fe_` and `.comp` columns
broom,222,329bb6716e64ee88f8c60692ef63b6e4,Support saved formulas in `augment.felm` (#347 by @​ShreyasSingh)
broom,223,7be194b18f7673061f1bac7d50a31704,`confint_tidy` now drops rows of all `NA` (#345 by @​atyre2)
broom,224,1f52fb5f04a8f40a2dbf2aa3ec4810e4,A new tidier for `caret::confusionMatrix` objects (#344 by @​mkuehn10)
broom,225,b849598ec4a1313a77d0e201738b8ba0,Tidiers for `Kendall::Kendall` objects (#343 by @​cimentadaj)
broom,226,1644917ad2ef939df7ba78dcfaf9d331,A new tidying method for `car::durbinWatsonTest` objects (#341 by @​mkuehn10)
broom,227,4de78a16d7f81d258e57b3e6f603905e,`glance` throws an informative error for `quantreg:rq` models fit with multiple `tau` values (#338 by @​bfgray3)
broom,228,f64e6c480ef680eb7ce752fca3029570,`tidy.glmnet` gains the ability to retain zero-valued coefficients with a `return_zeros` argument that defaults to `FALSE` (#337 by @​bfgray3)
broom,229,827631636bc620eefb10cc211fbfe775,`tidy.manova` now retains a `Residuals` row (#334 by @​jarvisc1)
broom,230,caf37c5b9b0a74fd8078fa7752e043f2,"Tidiers for `ordinal::clm`, `ordinal::clmm`, `survey::svyolr` and `MASS::polr` ordinal model objects (#332 by @​larmarange)"
broom,231,31ba48a8528ed4c4fdc761f20488a346,Support for `anova` objects from `car::Anova` (#325 by @​mariusbarth)
broom,232,37baabc945101fb1c90082ec79890b47,Tidiers for `tseries::garch` models (#323 by @​wilsonfreitas)
broom,233,a62dc1c6ebbcb5611d5614d05a431bb8,Removed dependency on `psych` package (#313 by @​nutterb)
broom,234,df671c9c39f899d503918bbcb367c9ca,Improved error messages (#303 by @​michaelweylandt)
broom,235,0dd437baf261e634653bf371026ac3f3,Compatibility with new `rstanarm` and `loo` packages (#298 by @​jgabry)
broom,236,ebc046c0379d6ff66243f122b59658b5,Support for tidying lists return by `irlba::irlba`
broom,237,17d97e68c5e3091f720ec8c69ee8a2b2,A truly huge increase in unit tests (#267 by @​dchiu911)
broom,238,557dc27a7fbdc3f9cf7920a7df6ab823,Bug fix for `tidy.prcomp` when missing labels (#265 by @​corybrunson)
broom,239,4402d482f585e9c60e109e9e76f11ef5,Added a `pkgdown` site at https://broom.tidyverse.org/ (#260 by @​jayhesselberth)
broom,240,5431ccbd774f6ce6332d37d8a10648a1,Added tidiers for `AER::ivreg` models (#247 by @​hughjonesd)
broom,241,4581f9a27f33f4d40b3cd361ccc1513e,Added tidiers for the `lavaan` package (#233 by @​puterleat)
broom,242,0340cd7b44be1c38b9568aaaf220aab6,Added `conf.int` argument to `tidy.coxph` (#220 by @​larmarange)
broom,243,418804124022f00d596ce0e234ba23b9,Added `augment` method for chi-squared tests (#138 by @​larmarange)
broom,244,2589842ef8bcb13bc4f366d3d4ff16b0,changed default se.type for `tidy.rq` to match that of `quantreg::summary.rq()` (#404 by @​ethchr)
broom,245,409f1d30366224d4b15145bcdbe1761a,Added argument `quick` for `tidy.plm` and `tidy.felm` (#502 and #509 by @​MatthieuStigler)
broom,246,082d003b9deb82a370a2ef37019cd8d5,Many small improvements throughout
broom,247,7b2a80cc83d093c7e32b39a94d4b0030,"Fixed gam tidiers to work with ""Gam"" objects, due to an update in gam 1.15. This fixes failing CRAN tests"
broom,248,fc9dc5c9e30eed6a1957b1db8545afa5,Improved test coverage (thanks to #267 from Derek Chiu)
broom,249,96559da8e5be1ecd2ccc4df75d8f31d8,Changed the deprecated `dplyr::failwith` to `purrr::possibly`
broom,250,358739ca3311bbb724d985c99f848f59,`augment` and `glance` on NULLs now return an empty data frame
broom,251,5c053e9246189ed1ce639d11c49d51c2,Deprecated the `inflate()` function in favor of `tidyr::crossing`
broom,252,db47f68dd1f60c0da0ef40fafaaf42bd,Fixed confidence intervals in the gmm tidier (thanks to #242 from David Hugh-Jones)
broom,253,0c5f622e9ebe0d585f290260939cb7f3,Fixed a bug in bootstrap tidiers (thanks to #167 from Jeremy Biesanz)
broom,254,2a8a08937f253b09d5c9772dd0b352c6,Fixed tidy.lm with `quick = TRUE` to return terms as character rather than factor (thanks to #191 from Matteo Sostero)
broom,255,5cb84b88a662e78c393578942eb2553f,Added tidiers for `ivreg` objects from the AER package (thanks to #245 from David Hugh-Jones)
broom,256,5dd93b66ebd40db3976ebfd8800ad0cd,Added tidiers for `survdiff` objects from the survival package (thanks to #147 from Michał Bojanowski)
broom,257,dc9290eed506f99fc888136f7ed013ff,Added tidiers for `emmeans` from the emmeans package (thanks to #252 from Matthew Kay)
broom,258,4805b721df14823155b7b6ab56ccb92e,"Added tidiers for `speedlm` and `speedglm` from the speedglm package (#685, thanks to #248 from David Hugh-Jones)"
broom,259,91272e52ddc30a96a4086c5f56d52fc6,Added tidiers for `muhaz` objects from the muhaz package (thanks to #251 from Andreas Bender)
broom,260,918a8beda99cabe48db984e08f5f86f9,Added tidiers for `decompose` and `stl` objects from stats (thanks to #165 from Aaron Jacobs)
broom,261,57df7d8939ac748f0f471cfa2cf1b2e4,Added tidiers for `lsmobj` and `ref.grid` objects from the lsmeans package
broom,262,7d3f43e408b1c16f1e1879afea1d3829,Added tidiers for `betareg` objects from the betareg package
broom,263,41fbe36dd83149ee58f94bc00aab1fce,Added tidiers for `lmRob` and `glmRob` objects from the robust package
broom,264,80751c0419c59726652a3ab05f1ea937,Added tidiers for `brms` objects from the brms package (thanks to #149 from Paul Buerkner)
broom,265,8003415d9a9649a853e37ed5f3f8195e,Fixed tidiers for orcutt 2.0
broom,266,9b892659b550e96aa01f37df08ea397a,Changed `tidy.glmnet` to filter out rows where estimate == 0.
broom,267,c77004bc3a0d4e2cca49acc2b891d7e5,Updates to `rstanarm` tidiers (thanks to #177 from Jonah Gabry)
broom,268,4eb08043fc6bcbf8b01058afa5798b3b,Fixed issue with survival package 2.40-1 (thanks to #180 from Marcus Walz)
broom,269,9f3e5295f163ae6747ef85a78cdf881d,"Added AppVeyor, codecov.io, and code of conduct"
broom,270,3758731254478517b1e789caa9271390,"Changed name of ""NA's"" column in summaryDefault output to ""na"""
broom,271,00c4496ceff65f848adaa1761b3a4b1e,"Fixed `tidy.TukeyHSD` to include `term` column. Also added `separate.levels` argument, with option to separate `comparison` into `level1` and `level2`"
broom,272,16d0cc4a93cf8f779a010bfde94709a5,"Fixed `tidy.manova` to use correct column name for test (previously, always `pillai`)"
broom,273,e442cc83cbd583c200d6e9e21acf3072,Added `kde_tidiers` to tidy kernel density estimates
broom,274,98f412404cbff1f74208d36a08b2c54c,Added `orcutt_tidiers` to tidy the results of `cochrane.orcutt` orcutt package
broom,275,fc9c55219b4d9b12543642ca04c972b7,Added `tidy.dist` to tidy the distance matrix output of `dist` from the stats package
broom,276,00d3c1ff32eecabc61afff528301554d,Added `tidy` and `glance` for `lmodel2` objects from the lmodel2 package
broom,277,775cd0bc4cfddd29ac81b5178a897407,Added tidiers for `poLCA` objects from the poLCA package
broom,278,012b14e260f588f6b2becc47c2991f96,Added tidiers for sparse matrices from the Matrix package
broom,279,10daf711aa9bdf36de42ddb6eb6076b9,Added tidiers for `prcomp` objects
broom,280,71e6de0e227c4880ea131f8a5ea4c4a1,Added tidiers for `Mclust` objects from the Mclust package
broom,281,1315eaa30e7c0891a0867c9d4dd3204a,Added tidiers for `acf` objects
broom,282,c717126dd617f77eb9c7c3e765b78a0b,"Fixed to be compatible with dplyr 0.5, which is being submitted to CRAN"
broom,283,aa046661764ac163e6ac278561a425d4,"Added tidiers for geeglm, nlrq, roc, boot, bgterm, kappa, binWidth, binDesign, rcorr, stanfit, rjags, gamlss, and mle2 objects."
broom,284,84129ca9280f377d99d8eb5409d2acf3,"Added `tidy` methods for lists, including u, d, v lists from `svd`, and x, y, z lists used by `image` and `persp`"
broom,285,9098a29ba6145088d5e982e03333f60e,"Added `quick` argument to `tidy.lm`, `tidy.nls`, and `tidy.biglm`, to create a smaller and faster version of the output."
broom,286,af1ef78db64070366ad4638776af7b5b,"Changed `rowwise_df_tidiers` to allow the original data to be saved as a list column, then provided as a column name to `augment`. This required removing `data` from the `augment` S3 signature. Also added `tests-rowwise.R`"
broom,287,b91315fc70f649c65cc70bee56a7cfe4,Fixed various issues in ANOVA output
broom,288,aa1220dda36d8de1efb94af88ea41213,Fixed various issues in lme4 output
broom,289,5d30a971f4e47b7fc899df949c2fff3a,Fixed issues in tests caused by dev version of ggplot2
broom,290,ae83b101b454c2ca5d51debb632ffc0c,"Added tidiers for ""plm"" (panel linear model) objects from the plm package."
broom,291,b8fcc0378793bf617b2aedc86055452b,Added `tidy.coeftest` for coeftest objects from the lmtest package.
broom,292,370eeaf7ee17457f480ca9e8753ba963,"Set up `tidy.lm` to work with ""mlm"" (multiple linear model) objects (those with multiple response columns)."
broom,293,4dfdef9f3c08c4cdbb2709f71a05a5c9,"Added `tidy` and `glance` for ""biglm"" and ""bigglm"" objects from the biglm package."
broom,294,4acf96258670479ca8d762d7f6563680,Fixed bug in `tidy.coxph` when one-row matrices are returned
broom,295,f00769dbd8349fe255b0132801be5e81,Added `tidy.power.htest`
broom,296,7fed93186cddcb09176d3423e3727437,Added `tidy` and `glance` for `summaryDefault` objects
broom,297,e49ef7563cd257718066df65c6c28a04,"Added tidiers for ""lme"" (linear mixed effects models) from the nlme package"
broom,298,baf434b3b200061715ef7e365bb03e98,Added `tidy` and `glance` for `multinom` objects from the nnet package.
broom,299,94170bbc1c6460ecf4ed248eab98cb19,"Fixed bug in `tidy.pairwise.htest`, which now can handle cases where the grouping variable is numeric."
broom,300,b646ad83221413264167a2051d99ebf3,Added `tidy.aovlist` method. This added `stringr` package to IMPORTS to trim whitespace from the beginning and end of the `term` and `stratum` columns. This also required adjusting `tidy.aov` so that it could handle strata that are missing p-values.
broom,301,d2704b57334c7440fb1ddc91f816e54b,Set up `glance.lm` to work with `aov` objects along with `lm` objects.
broom,302,c66646652d395d03717d3a3cad8b0c7a,"Added `tidy` and `glance` for matrix objects, with `tidy.matrix` converting a matrix to a data frame with rownames included, and `glance.matrix` returning the same result as `glance.data.frame`."
broom,303,4484b207d276ff44c7779310573c91f0,Changed DESCRIPTION Authors@​R to new format
broom,304,0ddadb99079a329455fd7831979cada0,Fixed small bug in `felm` where the `.fitted` and `.resid` columns were matrices rather than vectors.
broom,305,aaaeaff67eb3b16a748ab97d448af543,"Added tidiers for `rlm` (robust linear model) and `gam` (generalized additive model) objects, including adjustments to ""lm"" tidiers in order to handle them. See `?rlm_tidiers` and `?gam_tidiers` for more."
broom,306,684303531910673cb478ce13b97516d3,Removed rownames from `tidy.cv.glmnet` output
broom,307,54e406d864d5155cfbfd01fe1bc24f2c,"The behavior of `augment`, particularly with regard to missing data and the `na.exclude` argument, has through the use of the `augment_columns` function been made consistent across the following models:"
broom,308,3a95c1e7c4c9d033da35e14dec16d135,`lm`
broom,309,579635195fffff93011eeaad7c24b06b,`glm`
broom,310,88dd009bd02b7e89a09309f180689e2d,`nls`
broom,311,af0876846254d65d0ee77b9b3c4516ed,`merMod` (`lme4`)
broom,312,230391cc6e629a31e1f53f60aab8199e,`survreg` (`survival`)
broom,313,7f38b27f32a7356c79b0ce23961e3611,`coxph` (`survival`)
broom,314,53fc51ee4652b6b557883ea83ba79fd2,"`tidy`, `augment` and `glance` methods were added for `rowwise_df` objects, and are set up to apply across their rows. This allows for simple patterns such as:"
broom,315,e43847447591bb2a943c606cbe0738a6,"Added `tidy` and `glance` methods for `Arima` objects, and `tidy` for `pairwise.htest` objects."
broom,316,c52f746653dae065b6633d2a34b341e0,"Fixes for CRAN: change package description to title case, removed NOTES, mostly by adding `globals.R` to declare global variables."
broom,317,2dc8b6d5975c402c362d1fa8ad5f0eb9,This is the original version published on CRAN.
broom,318,78446292c12bc9feea34c0a5461e0925,Tidiers have been added for S3 objects from the following packages:
broom,319,448d3190c010a8f6a42d5fea04c1784a,`lme4`
broom,320,55533f42593d7d048c807675d14acf71,`glmnet`
broom,321,26db2c3591c99a9b5552786c89044384,`survival`
broom,322,99170474b48db2aa4731e23e4606925b,`zoo`
broom,323,ba48ef063673144f2374086117e16565,`felm`
broom,324,dce61e191807f2741c1ad6a6f9a4f094,`MASS` (`ridgelm` objects)
broom,325,8eb9831124c2ce8ce970b29cc96f880f,"`tidy` and `glance` methods for data.frames have also been added, and `augment.data.frame` produces an error (rather than returning the same data.frame)."
broom,326,5983645ed0cec1d412a58fa27bd0d07b,`stderror` has been changed to `std.error` (affects many functions) to be consistent with broom's naming conventions for columns.
broom,327,8f121a603664debe1192d454a4f4c0f5,"A function `bootstrap` has been added based on [this example](https://github.com/tidyverse/dplyr/issues/269), to perform the common use case of bootstrapping models."
broom,328,ea2a5d5d73f1269e168c9eeccf49da88,"Added ""augment"" S3 generic and various implementations. ""augment"" does something different from tidy: it adds columns to the original dataset, including predictions, residuals, or cluster assignments. This was originally described as ""fortify"" in ggplot2."
broom,329,a61205a83a331008ecd60ec314f437a5,"Added ""glance"" S3 generic and various implementations. ""glance"" produces a *one-row* data frame summary, which is necessary for tidy outputs with values like R\^2 or F-statistics."
broom,330,acbd2550c6b483089ebf8189a2ccd40e,Re-wrote intro broom vignette/README to introduce all three methods.
broom,331,70e0d6fd2d78cc72e1a4e706bc03f95d,Wrote a new kmeans vignette.
broom,332,8e9a2430969e87274a0fc051b14316cb,"Added tidying methods for multcomp, sp, and map objects (from fortify-multcomp, fortify-sp, and fortify-map from ggplot2)."
broom,333,6d4b8490158773df90f61b98010dfc3f,"Because this integrates substantial amounts of ggplot2 code (with permission), added Hadley Wickham as an author in DESCRIPTION."
cli,1,26f3f7deaf349a84fd6b5f167ad3c2d6,"`ansi_collapse(x, trunc = 1, style = ""head"")` now indeed show one element if `length(x) == 2`, as documented (@​salim-b, #572)."
cli,2,6753359d0ab6402c30211d48d94e1979,"`ansi_collapse()` gains a `sep2` argument to specify a seperate separator for length-two inputs. It defaults to `"" and ""` which, in conjunction with the other defaults, produces a collapsed string that fully adheres to the [serial comma](https://en.wikipedia.org/wiki/Serial_comma) rules. (@​salim-b, #569)"
cli,3,57708f24ef2802932108d6350d963a39,"`ansi_string()` is now an exported function (@​multimeric, #573)."
cli,4,88350fc1c13acba37f5939273ee9ce11,ANSI hyperlinks are now turned off on the RStudio render plane (#581).
cli,5,8f56f450c64b0b1fd74bd7c2095cc0a0,"The progressr progress handler now reports progress correctly (@​HenrikBengtsson, #558)."
cli,6,f4c4e1adf87bbe44c41702800fd5c450,"New `hash_*sha1()` functions to calculate the SHA-1 hash of strings, objects, files."
cli,7,47c906d60a7ed84b2726a588d0f4eee8,"cli now shows progress bars after one second by default, if they are less than half way at the point. (Or after two seconds, unconditionally, as before.) See the the `cli.progress_show_after` option in `?cli-config` for details (#542)."
cli,8,d24f09d13f637a41957f157b585b67c9,"`format_inline()` now has a new argument `keep_whitespace`, and it keeps whitespace, including newline and form feed characters by default."
cli,9,0bc91ba0aceff8ed08aa5b5affa53ea4,New `keypress()` function to read a single key press from a terminal.
cli,10,45b6b769cf3c5ae382403eecea5ad5b8,New function `pretty_print_code()` to print function objects with syntax highlighting at the R console.
cli,11,41c23c642f5ca92b169ab4f1294c90a8,`col_*` and `bg_*` functions how handle zero-length input correctly (#532).
cli,12,aa6cd8f11ff02c61642aade539e82efb,New function `ansi_collapse()` to collapse character vectors into a single string.
cli,13,9c7ba9e40f23a150cb716a34f161fb85,"`ansi_strtrim()` now handles some edge cases better, when `ellipsis` has length zero, and when it is wider than `width`."
cli,14,d34059f50b24680f1a7a5a74c07cef6b,New `hash_file_md5()` function to calculate the MD5 hash of one or more files.
cli,15,f08513f9489ecaa0c8f3c4988c0ed510,cli has better error messages now.
cli,16,fdfff73fc0dfe6984c0b42469952c434,"New `format_inline()` argument: `collapse`, to collapse multi-line output, potentially because of `\f` characters."
cli,17,0ddcb41aaac199b0a9c913af200fc776,New experimental styles to create ANSI hyperlinks in RStudio and terminals that support them. See `?cli::links` for details (#513).
cli,18,3b55b3fa55e134707bb8ef61712b0b55,Expressions that start and end with a `{}` substitution are now styled correctly. E.g. `{.code {var1} + {var2}}` (#517).
cli,19,9f05da62268079f4aaab3072fc7b88e3,New `{.obj_type_friendly}` inline style to format the type of an R object in a user friendly way (#463).
cli,20,133357b8f01c007501a6937c33973689,"Improved vector collapsing behavior. cli now shows both the beginning and end of the collapsed vector, by default (#419)."
cli,21,ce1cbca5a4d50aa0dfbb4276ca2d4f17,Nested `cli()` calls work now (#497).
cli,22,0acb5d6b66b33bcf5545b5ff3ee7d412,Return values now work as they should within `cli()` calls (#496).
cli,23,59e551046803cba422a6a39cde6d2a14,"Style attributes with underscores have new names with dashes instead: `vec_sep`, `vec_last`, `vec_trunc`, `string-quote`. The old names still work, but the new ones take precedence (#483)."
cli,24,521c8715d4e8bfb826db5d8e389fedff,cli now does not crash at the end of the R session on Arm Windows (#494; @​kevinushey)
cli,25,54c925e21300ef814b7df0a7dbe8f671,"Vectors are truncated at 20 elements now by default, instead of 100 (#430)."
cli,26,02539293241bab7e7f3f3258cf205fd4,"20 new spinners from the awesome [cli-spinners](https://github.com/sindresorhus/cli-spinners) package, and from @​HenrikBengtsson in #469. Run this to demo them, some need UTF-8 and emoji support:"
cli,26,02539293241bab7e7f3f3258cf205fd4,"```
=======
```"
tidyr,198,While these special rules is in contrast to most dplyr and tidyr verbs (where both the data and the context are in scope) they make sense for selecting functions and should provide more robust and helpful semantics.
tidyr,199,Patch tests to be compatible with dev tibble
tidyr,200,Register C functions
tidyr,201,Added package docs
tidyr,202,Patch tests to be compatible with dev dplyr.
tidyr,203,Patch test to be compatible with dev tibble
tidyr,204,Changed deprecation message of `extract_numeric()` to point to `readr::parse_number()` rather than `readr::parse_numeric()`
tidyr,205,"`drop_na()` removes observations which have `NA` in the given variables. If no variables are given, all variables are considered (#194, @​janschulz)."
tidyr,206,`extract_numeric()` has been deprecated (#213).
tidyr,207,Renamed `table4` and `table5` to `table4a` and `table4b` to make their connection more clear. The `key` and `value` variables in `table2` have been renamed to `type` and `count`.
tidyr,208,"`expand()`, `crossing()`, and `nesting()` now silently drop zero-length inputs."
tidyr,209,`crossing_()` and `nesting_()` are versions of `crossing()` and `nesting()` that take a list as input.
tidyr,210,`full_seq()` works correctly for dates and date/times.
tidyr,211,"Restored compatibility with R \< 3.3.0 by avoiding `getS3method(envir = )` (#205, @​krlmlr)."
tidyr,212,"`separate_rows()` separates observations with multiple delimited values into separate rows (#69, @​aaronwolen)."
tidyr,213,`complete()` preserves grouping created by dplyr (#168).
tidyr,214,`expand()` (and hence `complete()`) preserves the ordered attribute of factors (#165).
tidyr,215,"`full_seq()` preserve attributes for dates and date/times (#156), and sequences no longer need to start at 0."
tidyr,216,"`gather()` can now gather together list columns (#175), and `gather_.data.frame(na.rm = TRUE)` now only removes missing values if they're actually present (#173)."
tidyr,217,`nest()` returns correct output if every variable is nested (#186).
tidyr,218,"`separate()` fills from right-to-left (not left-to-right!) when fill = ""left"" (#170, @​dgrtwo)."
tidyr,219,"`separate()` and `unite()` now automatically drop removed variables from grouping (#159, #177)."
tidyr,220,"`spread()` gains a `sep` argument. If not-null, this will name columns as ""key`<sep>`{=html}value"". Additionally, if sep is `NULL` missing values will be converted to `<NA>` (#68)."
tidyr,221,`spread()` works in the presence of list-columns (#199)
tidyr,222,`unnest()` works with non-syntactic names (#190).
tidyr,223,"`unnest()` gains a `sep` argument. If non-null, this will rename the columns of nested data frames to include both the original column name, and the nested column name, separated by `.sep` (#184)."
tidyr,224,`unnest()` gains `.id` argument that works the same way as `bind_rows()`. This is useful if you have a named list of data frames or vectors (#125).
tidyr,225,Moved in useful sample datasets from the DSR package.
tidyr,226,Made compatible with both dplyr 0.4 and 0.5.
tidyr,227,tidyr functions that create new columns are more aggressive about re-encoding the column names as UTF-8.
tidyr,228,Fixed bug in `nest()` where nested data was ending up in the wrong row (#158).
tidyr,229,"`nest()` now produces a single list of data frames called ""data"" rather than a list column for each variable. Nesting variables are not included in nested data frames. It also works with grouped data frames made by `dplyr::group_by()`. You can override the default column name with `.key`."
tidyr,230,"`unnest()` gains a `.drop` argument which controls what happens to other list columns. By default, they're kept if the output doesn't require row duplication; otherwise they're dropped."
tidyr,231,`unnest()` now has `mutate()` semantics for `...` - this allows you to unnest transformed columns more easily. (Previously it used select semantics).
tidyr,232,"`expand()` once again allows you to evaluate arbitrary expressions like `full_seq(year)`. If you were previously using `c()` to created nested combinations, you'll now need to use `nesting()` (#85, #121)."
tidyr,233,`nesting()` and `crossing()` allow you to create nested and crossed data frames from individual vectors. `crossing()` is similar to `base::expand.grid()`
tidyr,234,"`full_seq(x, period)` creates the full sequence of values from `min(x)` to `max(x)` every `period` values."
tidyr,235,`fill()` fills in `NULL`s in list-columns.
tidyr,236,`fill()` gains a direction argument so that it can fill either upwards or downwards (#114).
tidyr,237,"`gather()` now stores the key column as character, by default. To revert to the previous behaviour of using a factor (which allows you to preserve the ordering of the columns), use `key_factor = TRUE` (#96)."
tidyr,238,"All tidyr verbs do the right thing for grouped data frames created by `group_by()` (#122, #129, #81)."
tidyr,239,`seq_range()` has been removed. It was never used or announced.
tidyr,240,"`spread()` once again creates columns of mixed type when `convert = TRUE` (#118, @​jennybc). `spread()` with `drop = FALSE` handles zero-length factors (#56). `spread()`ing a data frame with only key and value columns creates a one row output (#41)."
tidyr,241,"`unite()` now removes old columns before adding new (#89, @​krlmlr)."
tidyr,242,"`separate()` now warns if defunct ... argument is used (#151, @​krlmlr)."
tidyr,243,Fixed bug where attributes of non-gather columns were lost (#104)
tidyr,244,"New `complete()` provides a wrapper around `expand()`, `left_join()` and `replace_na()` for a common task: completing a data frame with missing combinations of variables."
tidyr,245,`fill()` fills in missing values in a column with the last non-missing value (#4).
tidyr,246,New `replace_na()` makes it easy to replace missing values with something meaningful for your data.
tidyr,247,`nest()` is the complement of `unnest()` (#3).
tidyr,248,"`unnest()` can now work with multiple list-columns at the same time. If you don't supply any columns names, it will unlist all list-columns (#44). `unnest()` can also handle columns that are lists of data frames (#58)."
tidyr,249,tidyr no longer depends on reshape2. This should fix issues if you also try to load reshape (#88).
tidyr,250,`%>%` is re-exported from magrittr.
tidyr,251,`expand()` now supports nesting and crossing (see examples for details). This comes at the expense of creating new variables inline (#46).
tidyr,252,`expand_` does SE evaluation correctly so you can pass it a character vector of columns names (or list of formulas etc) (#70).
tidyr,253,`extract()` is 10x faster because it now uses stringi instead of base R regular expressions. It also returns NA instead of throwing an error if the regular expression doesn't match (#72).
tidyr,254,`extract()` and `separate()` preserve character vectors when `convert` is TRUE (#99).
tidyr,255,"The internals of `spread()` have been rewritten, and now preserve all attributes of the input `value` column. This means that you can now spread date (#62) and factor (#35) inputs."
tidyr,256,`spread()` gives a more informative error message if `key` or `value` don't exist in the input data (#36).
tidyr,257,"`separate()` only displays the first 20 failures (#50). It has finer control over what happens if there are two few matches: you can fill with missing values on either the ""left"" or the ""right"" (#49). `separate()` no longer throws an error if the number of pieces aren't as expected - instead it uses drops extra values and fills on the right and gives a warning."
tidyr,258,"If the input is NA `separate()` and `extract()` both return silently return NA outputs, rather than throwing an error. (#77)"
tidyr,259,Experimental `unnest()` method for lists has been removed.
tidyr,260,Experimental `expand()` function (#21).
tidyr,261,"Experiment `unnest()` function for converting named lists into data frames. (#3, #22)"
tidyr,262,`extract_numeric()` preserves negative signs (#20).
tidyr,263,"`gather()` has better defaults if `key` and `value` are not supplied. If `...` is omitted, `gather()` selects all columns (#28). Performance is now comparable to `reshape2::melt()` (#18)."
tidyr,264,"`separate()` gains `extra` argument which lets you control what happens to extra pieces. The default is to throw an ""error"", but you can also ""merge"" or ""drop""."
tidyr,265,"`spread()` gains `drop` argument, which allows you to preserve missing factor levels (#25). It converts factor value variables to character vectors, instead of embedding a matrix inside the data frame (#35)."
xml2,1,Hadley Wickham is now (again) the maintainer.
xml2,2,xml2 has been re-licensed as MIT (#317).
xml2,3,`xml_find_all.xml_node()` fails more informatively the `xpath` parameter is the wrong type (@​michaelchirico)
xml2,4,"`xml_find_all.xml_nodeset()` gains a `flatten` argument to control whether to return a single nodeset or a list of nodesets (#311, @​jakejh)"
xml2,5,"`write_xml()` and `write_html()` now return NULL invisibly, as they did prior to version 1.3.0 (#307)"
xml2,6,"`XPtr` gets explicit copy constructor and assignment operator definitions, which were two missing components of the [Rule of three](https://en.wikipedia.org/wiki/Rule_of_three_(C%2B%2B_programming)) (@​michaelchirico)"
xml2,7,Windows: update to libxml2 2.9.10 and libxslt 1.1.34 and add ucrt libs
xml2,8,`read_html()` and `read_xml()` now error if passed strings of length greater than one (#121)
xml2,9,`read_xml.raw()` had an inadvertent regression in 1.3.0 and is now again fixed (#300)
xml2,10,"Compilation fix on macOS 10.15.4 (@​kevinushey, #296)"
xml2,11,`read_html()` now again works with HTML files with non-ASCII encodings (#293).
xml2,12,Removes the Rcpp dependency
xml2,13,Fix compilation issue on macOS versions after High Sierra when not using homebrew supplied libxml2
xml2,14,"Fix potential dangling pointer with internal `asXmlChar()` function (@​michaelquinn32, #287)."
xml2,15,`as_xml_document()` now handles cases with text nodes trailing normal nodes (#274).
xml2,16,"`xml_add_child()` can now create nodes with a `par` attribute. These previously errored due to partial name matching of the `parent` function in the internal `create_node()` function. (@​jennybc, #285)"
xml2,17,"`libxml2_version()` now returns a semantic version rather than alphanumeric version, so ""2.9.10"" \> ""2.9.9"" (#277)"
xml2,18,"Export S4 classes with documentation, so they can be used in other packages without Warnings (@​nuest, #267)"
xml2,19,"xml2 now has a pkgdown site! <https://xml2.r-lib.org> (@​jayhesselberth, #211)."
xml2,20,Windows: upgrade to libxml2 2.9.8
xml2,21,"print methods now match the type of document, e.g. `read_html()` prints as ""{html_document}"" rather than ""{xml_document}"" (#227)"
xml2,22,"Generic xml2 error are now forwarded as R errors. Previously these errors were output to stderr, so could not be suppressed (#209)."
xml2,23,"Fix for ICU 59+ defaulting to use char16_t, which is only available in C++11 (#231)"
xml2,24,No longer uses the C connections API
xml2,25,Better error message when trying to run `download_xml()` without the curl package installed (#262)
xml2,26,xml2 classes are now registered for use with S4 by calling `setOldClass()` (#248)
xml2,27,Nodes with nested data type definition entities now work without crashing (#241)
xml2,28,Test failure fixed due to behavior change with relative paths in libxml2 2.9.9 (#245).
xml2,29,`read_xml()` now has a better error message when given zero length character inputs (#212).
xml2,30,`read_xml()` and `read_html()` now automatically check if the response succeeded before trying to read from a HTTP response (#255).
xml2,31,`xml_root()` can now create root nodes with namespaces (#239)
xml2,32,`xml_set_attr()` no longer crashes if you try to set the same namespace on the same node multiple times (#253).
xml2,33,`xml_set_attr()` now recycles the values if needed (#221)
xml2,34,"`xml_structure()` gains a `file` argument, to support writing to a file rather than the console (#244)."
xml2,35,`as_list()` on `xml_document` objects did not properly include the root node in the returned list. Previous behavior can be obtained by using `as_list()[[1L]]` in place of `as_list()`.
xml2,36,`download_xml()` and `download_html()` helper functions to make it easy to download files (#193).
xml2,37,`xml_attr()` can now set attributes with no value (#198).
xml2,38,`xml_serialize()` and `xml_unserialize()` now create file connections when given character input (#179).
xml2,39,"`xml_find_first()` no longer de-duplicates results, so the results are always the same length as the inputs (as documented) (#194)."
xml2,40,xml2 can now build using libxml2 2.7.0
xml2,41,Use Rcpp symbol registration and visibility to prevent symbol conflicts on Linux
xml2,42,"`xml_add_child()` now requires less resources to insert a node when called with `.where = 0L` (@​heckendorfc, #175)."
xml2,43,Fixed failing examples due to a change in an external resource.
xml2,44,"This is a small point release addressing installation issues found with older libxml2 versions shipped with RedHat Linux 6 / CentOS 6 (#163, #164)."
xml2,45,`write_xml()` and `write_html()` now accept connections as well as filenames for output. (#157)
xml2,46,`xml_add_child()` now takes a `.where` argument specifying where to add the new children. (#138)
xml2,47,"`as_xml()` generic function to convert R objects to xml. The most important method is for lists and enables full roundtrip support for going to and back from xml for lists and enables full roundtrip support to and from XML. (#137, #143)"
xml2,48,`xml_new_root()` can be used to create a new document and a root node in one step (#131).
xml2,49,`xml_add_parent()` inserts a new node between the node and its parent (#129)
xml2,50,"Add `xml_validate()` to validate a document against an xml schema (#31, @​jeroenooms)."
xml2,51,Export `xml2_types.h` to allow for extension packages such as xslt.
xml2,52,`xml_comment()` allows you to add comment nodes to a document. (#111)
xml2,53,`xml_cdata()` allows you to add CDATA nodes to a document. (#128)
xml2,54,Add `xml_set_text()` and `xml_set_name()` equivalent to `xml_text<-` and `xml_name<-`. (#130).
xml2,55,"Add `xml_set_attr()` and `xml_set_attrs()` equivalent to `xml_attr<-` and `xml_attrs<-`. (#109, #130)"
xml2,56,Add `write_html()` method (#133).
xml2,57,`xml_new_document()` now explicitly sets the encoding (default UTF-8) (#142)
xml2,58,Document formatting options for `write_xml()` (#132)
xml2,59,Add missing methods for xml_missing objects. (#134)
xml2,60,Bugfix for xml_length.xml_nodeset that caused it to fail unconditionally. (#140)
xml2,61,`is.na()` now returns `TRUE` for `xml_missing` objects. (#139)
xml2,62,Trim non-breaking spaces in `xml_text(trim = TRUE)` (#151).
xml2,63,"Allow setting non-character attributes (values are coerced to characters). (@​sjp, #117, #122)."
xml2,64,"Fixed return value in call to vapply in xml_integer.xml_nodeset. (@​ddiez, #146, #147)."
xml2,65,"Allow docs missing a root element to be created and printed. (@​sjp, #126, #121)."
xml2,66,"xml_add\_\* methods now return invisibly. (@​sjp, #124)"
xml2,67,"`as_list()` now preserves element names when attributes exist, and escapes XML attributes that conflict with special R attributes (@​peterfoley, #115)."
xml2,68,"All C++ functions now use `checked_get()` instead of `get()` where possible, so NULL XPtrs properly throw an error rather than crashing. (@​jimhester, #101, #104)."
xml2,69,"`xml_integer()` and `xml_double()` functions to make it easy to extract integer and double text from nodes (@​jimhester, #97, #99)."
xml2,70,"xml2 now supports modification and creation of XML nodes. New functions `xml_new_document()`, `xml_new_child()`, `xml_new_sibling()`, `xml_set_namespace()`, , `xml_remove()`, `xml_replace()`, `xml_root()` and replacement methods for `xml_name()`, `xml_attr()`, `xml_attrs()` and `xml_text()` (@​jimhester, #9 #76)"
xml2,71,"`xml_ns()` now keeps namespace prefixes that point to the same URI (@​jimhester, #35, #95)."
xml2,72,"`read_xml()` and `read_html()` methods added for `httr::response()` objects. (@​jimhester, #63, #93)"
xml2,73,"`xml_child()` function to make selecting children a little easier (@​jimhester, #23, #94)"
xml2,74,"`xml_find_one()` has been deprecated in favor of `xml_find_first()` (@​jimhester, #58, #92)"
xml2,75,"`xml_read()` functions now default to passing the document's namespace object. Namespace definitions can now be removed as well as added and `xml_ns_strip()` added to remove all default namespaces from a document. (@​jimhester, #28, #89)"
xml2,76,"`xml_read()` gains a `options` argument to control all available parsing options, including `HUGE` to turn off limits for parsing very large documents and now drops blank text nodes by default, mimicking default behavior of XML package. (@​jimhester, #49, #62, #85, #88)"
xml2,77,"`xml_write()` expands the path on filenames, so directories can be specified with '\~/' (@​jimhester, #86, #80)"
xml2,78,"`xml_find_one()` now returns a 'xml_missing' node object if there are 0 matches (@​jimhester, #55, #53, hadley/rvest#82)."
xml2,79,"`xml_find_num()`, `xml_find_chr()`, `xml_find_lgl()` functions added to return numeric, character and logical results from XPath expressions. (@​jimhester, #55)"
xml2,80,`xml_name()` and `xml_text()` always correctly encode returned value as UTF-8 (#54).
xml2,81,Improved configure script - now works again on R-devel on windows.
xml2,82,"Compiles with older versions of libxml2.,"
xml2,83,Make configure script more cross platform.
xml2,84,Add `xml_length()` to count the number of children (#32).
tidyverse,1,We now advertise `library(conflicted)` because it resolves many conflict problems and silences tidyverse's automated report (#218).
tidyverse,2,`tidyverse_sitrep()` correctly displays installed package versions and highlights development versions of pacakges (#222).
tidyverse,3,tidyverse now installs ragg (#310).
tidyverse,4,Add lubridate to the core tidyverse (#157).
tidyverse,5,Text version of the citation now lists all authors (#269).
tidyverse,6,All packages have been bumped to their latest versions.
tidyverse,7,Messaging uses modern approach to avoid red text in RStudio (#296).
tidyverse,8,"tidyverse now installs dtplyr (#216), googledrive, and googlesheets4 (#229). All packages have been bumped to their latest versions."
tidyverse,9,License changed to MIT (#235).
tidyverse,10,"The tidyverse now has an associated paper at the [Journal of Open Source Software](https://joss.theoj.org/) that you can use to cite the tidyverse if you use it in a paper - see `citation(""tidyverse"")` for details."
tidyverse,11,"Eliminate repeats in the package list when loading an odd number of packages (#94, #100, @​dchiu911)"
tidyverse,12,"Packages attached from same library they were initially loaded from (#171, @​gabrocsardi)"
tidyverse,13,"If conflicted package is loaded, omit display of conflicts. This includes fix to `tidyverse_conflicts()` to avoid accidentally triggering conflicted shims (#136)."
tidyverse,14,"`tidyverse_deps()` now succeeds even if a dependency of a dependency is missing (#152, @​PoGibas). It no longer includes dependencies that are needed by the tidyverse package but are not strictly part of the tidyverse (i.e. cli, crayon, and rstudioapi)."
tidyverse,15,"`tidyverse_deps()` and `tidyverse_update()` gain a new `repos` argument that gets passed to the base function `available.packages()` (@​zkamvar, #82)"
tidyverse,16,"`tidyverse_packages()` correctly returns packages names (#93, #106, @​coatless)"
tidyverse,17,`tidyverse_sitrep()` gives you a situation report on your install of the tidyverse (#203)
tidyverse,18,Require modern versions of all packages (#85)
tidyverse,19,Work with RStudio 1.0 and earlier (#88).
tidyverse,20,"stringr and forcats have been added to the core tidyverse, so they are attached by `library(tidyverse)`."
tidyverse,21,reprex joins the tidyverse to make it easier to create reproducible examples (#47)
tidyverse,22,"On attach, tidyverse now makes better use of the horizontal space, printing packages and versions in two columns (#59). It only prints packages that it attaches, not packages that you've already attached. Development versions are highlighted in red. You can now suppress this startup message by setting `options(tidyverse.quiet = TRUE)`"
tidyverse,23,"`tidyverse_conflicts()` now prints all conflicts that involve at least one tidyverse package; Previously it only omitted any intra-tidyverse conflicts (#26). I've also tweaked the display of conflicts to hopefully make it more clear which function is the ""winner""."
tidyverse,24,"`tidyverse_update()` now just gives you the code you need to update the packges, since in general it's not possible to update packages that are already loaded."
tidyverse,25,feather is now *actually* in suggests.
tidyverse,26,Moved feather from Imports to Suggests - feather is part of the tidyverse but it's installation requirements (C++11 + little-endian) make it painful in many scenarios (#36).
tidyverse,27,Added a `NEWS.md` file to track changes to the package.
tidyverse,28,Membership changes:
tidyverse,28,"• Removed DBI (since very different API, #16)"
tidyverse,28,• Added feather (#15)
tidyverse,31,"`tidyverse_deps()` and `tidyverse_packages()` are now exported so you can more easily see the make up of the tidyverse, and what package versions you have (#18, #23)"
tidyverse,32,`suppressPackageStartupMessages()` now suppresses all messages during loading (#19). `suppressPackageStartupMessages()` is called automatically for all tidyverse packages (#27).
broom,1,Moved forward with deprecation of tidiers for objects from the sp package. See resources linked in [tidymodels/broom#1142](https://github.com/tidymodels/broom/issues/1142) for more information on migration from retiring spatial packages.
broom,2,Corrected confidence interval values for precision components in `tidy.betareg()` output (#1169).
broom,3,Fixed bug in tidier for `car::linearHypothesis()` output with long formulas (#1171).
broom,4,Added support for columns `adj.r.squared` and `npar` in `glance()` method for objects outputted from `mgcv::gam()` (#1172).
broom,5,`tidy.coxph()` will now pass its ellipses `...` to `summary()` internally (#1151 by `@​ste-tuf`).
broom,6,Transitioned the deprecation of the `region` argument to `tidy.SpatialPolygonsDataFrame` from a warn- to a hard-deprecation (#1142).
broom,7,Removed maptools and rgeos as Suggested packages ahead of their retirement. sp tidiers will be removed from a future release of the package (#1142).
broom,8,Addressed bug in mlogit tidiers where `augment.mlogit()` would fail if supplied a model fitted with a non-default `dfidx()` (#1156 by `@​gregmacfarlane`).
broom,9,Addressed bug in ANOVA tidiers where `tidy.anova()` would fail if passed a model with many predictors (#1159 by `@​jwilliman`).
broom,10,"Addressed warnings in ANOVA tidiers for unrecognized column names `Resid..Df`, `Resid..Dev`, and `Deviance`; those columns will be renamed `df.residual`, `residual.deviance`, and `deviance`, respectively (#1159 by `@​jwilliman`)."
broom,11,"Added an `intercept` argument to `tidy.aov()`, a logical indicating whether to include information on the intercept as the first row of results (#1144 by `@​victor-vscn`)."
broom,12,Moved forward with soft-deprecation of tidiers for objects from the sp package ahead of the retirement of the rgeos and maptools packages later this year. sp tidiers will be removed from a future release of the package (#1142).
broom,13,Fixed bug in `augment.glm()` where the `.std.resid` column always contained standardized deviance residuals regardless of the value passed to the `type.residuals` argument (#1147).
broom,14,Addressed test failures on R-devel.
broom,15,Fixed bug in `tidy.multinom()` where the `conf.level` argument would be ignored.
broom,16,The default `data` argument for `augment.coxph()` and `augment.survreg()` has been transitioned from `NULL` to `model.frame(x)` (#1126 by `@​capnrefsmmat`).
broom,17,"Migrated 'ggplot2' from strong to weak dependency, i.e. moved from `Imports` to `Suggests`."
broom,18,"Fixed a bug where `augment()` results would not include residuals when the response term included a function call (#1121, #946, #937, #124)."
broom,19,Improves performance of `tidy.lm()` and `tidy.glm()` for full-rank fits (#1112 by `@​capnrefsmmat`).
broom,20,"Moves forward with deprecation of tidiers for sparse matrices outputted from the Matrix package, initially soft-deprecated in broom 0.5.0. The Matrix tidiers were light wrappers around coercion methods that will now be deprecated from Matrix itself in the upcoming 1.4-2 release. The affected methods are `tidy.sparseMatrix()`, `tidy.dgCMatrix()`, and `tidy.dgTMatrix()`. Note that `tidy.confusionMatrix()`, for relevant objects outputted from the caret package, is unaffected (#1113)."
broom,21,`tidy.anova()` works again with `anova` objects from the `lme4` package (broken by addition of the `terms` column in the previous release)
broom,22,Adds minimal ellipsis checking to warn on commonly misspecified arguments passed through ellipses. Notably:
broom,23,`tidy()` methods will now warn when supplied an `exponentiate` argument if it will be ignored.
broom,24,`augment()` methods will now warn when supplied a `newdata` argument if it will be ignored.
broom,25,"The warning regarding tidiers only maintained via dispatch to `lm` and `glm` is now displayed only once per session, per unique dispatch. That is, if a `class_a` object is tidied using a `(g)lm` method, broom will not warn when tidying `class_a` objects for the rest of the session, but if a `class_b` object is tidied using a `(g)lm` method in the same session, broom will warn again (#1101)."
broom,26,Add `exponentiate` argument to `tidy.boot()` (#1039).
broom,27,Update in `tidy.htest()` converting matrix-columns to vector-columns (#1081).
broom,28,Address failures in `tidy.glht()` with `conf.int = TRUE` (#1103).
broom,29,Address failures in `tidy.zoo()` when input data does not have `colnames` (#1080).
broom,30,Transition tidiers for bivariate linear or spline-based interpolation---using list tidiers to interface with objects from the akima package is now considered off-label. See the interp package for a FOSS alternative.
broom,31,"Address failures in `tidy.svyolr()` when `p.values = TRUE`. Instead of aliasing `tidy.polr()` directly, `tidy.svyolr()` lightly wraps that method and warns if `p.values` is supplied (#1107)."
broom,32,Adds a `term` column and introduces support for `car::lht()` output in `tidy.anova()` (#1106 by `@​grantmcdermott`).
broom,33,"Adds a dedicated `glance.anova` method (which previously dispatched to the\ deprecated `glance.data.frame()` tidier, #1106 by `@​grantmcdermott`)."
broom,34,Makes many improvements to documentation:
broom,35,All tidiers now have example code demonstrating usage in their documentation. Tidiers for base packages as well as selected others also include sample code for visualization of results with ggplot2.
broom,36,"Code examples in the documentation largely now follow consistent style---these changes were made largely to reflect the tidyverse style guide, addressing spacing, object naming, and commenting, among other things."
broom,37,Examples previously marked with `\dontrun` or `\donttest` have been workshopped to run reliably.
broom,38,Clarifies errors and warnings for deprecated and unmaintained tidiers.
broom,39,Ensures that tidiers are placed in files named according to the model-supplying package rather than the model object class for easier navigability of the source code.
broom,40,"Fix `glance.fixest` error when model includes only fixed effects and no regressors (`#1018` by `@​arcruz0`, `#1088` by `@​vincentarelbundock`)."
broom,41,"Address excessive messaging from `tidy.speedlm` (`#1084` by `@​cgoo4`, `#1087` by `@​vincentarelbundock`)."
broom,42,"Add `nobs` column to the output of `glance.svyglm` (`#1085` by `@​fschaffner`, `#1086` by `@​vincentarelbundock`)."
broom,43,Ensure `tidy.prcomp` description entries use consistent punctuation (`#1072` by `@​PursuitOfDataScience`).
broom,44,Address breaking changes in `glance.fixest` and `tidy.btergm`.
broom,45,Simplify handling of `MASS::polr` output in the corresponding `tidy` and `augment` methods.
broom,46,Align continuous integration with current standards in tidymodels packages.
broom,47,Addressed issue with the ordering of original observations in `augment.rqs`. Now function preserves the original `data.frame` names also when the input `data.frame` only has one column (`#1052` by `@​ilapros`).
broom,48,Addressed warning from `tidy.rma` when `x$ddf` has length greater than 1 (`#1064` by `@​wviechtb`).
broom,49,Fix errors in `glance.lavaan` in anticipation of upcoming `tidyr` release (`#1067` by `@​DavisVaughan`).
broom,50,Corrected the confidence interval in `tidy.crr()`. The `tidy.crr(conf.level=)` argument was previously ignored (`#1068` by `@​ddsjoberg`).
broom,51,Clarifies error when `pysch::mediate` output is dispatched to `tidy.mediate` (`#1037` by `@​LukasWallrich`).
broom,52,Allows user to specify confidence level for `tidy.rma` (`#1041` by `@​TarenSanders`)
broom,53,Clarifies documentation related to usage of `augment_columns()`; most package users should use `augment()` in favor of `augment_columns()`. See `?augment_columns` for more details.
broom,54,Extends support for `emmeans` by fixing non-standard column names in case of asymptotically derived inferential statistics. (`#1046` by `@​crsh`)
broom,55,"Fixes use of index columns in `augment.mlogit` and adds `.resid` column to output. (`#1045`, `#1053`, `#1055`, and `#1056` by `@​jamesrrae` and `@​gregmacfarlane`)"
broom,56,Correct column naming of standard error measures in `glance.survfit()`.
broom,57,Various bug fixes and improvements to documentation.
broom,58,"Fixes confidence intervals in `tidy.crr()`, which were previously exponentiated when `exponentiate = FALSE` (`#1023` by `@​leejasme`)"
broom,59,"Deprecates `Rchoice` tidiers, as the newest 0.3-3 release requires R 4.0+ and does not re-export needed generics."
broom,60,Updates to `ergm` tidiers in anticipation of changes in later releases. (`#1034` by `@​krivit`)
broom,61,Fixed bug in `glance.ergm` related to handling of MCMC details.
broom,62,Address breakages in unit tests for {fixest} tidiers.
broom,63,Fixed bug in `tidy.epi.2by2` that resulted in errors with new version of `epiR` (`#1028` by `@​nt-williams`)
broom,64,Added `exponentiate` argument to `tidy.gam()` tidier applicable for parametric terms (`#1013` by `@​ddsjoberg`)
broom,65,Added `exponentiate` argument to `tidy.negbin()` tidier (`#1011` by `@​ddsjoberg`)
broom,66,Fixed failures in `spdep` tidiers following breaking changes in the most recent release
broom,67,Various bug fixes and improvements to documentation
broom,68,Fixed bug in `augment` tidiers resulting in `.fitted` and `.se.fit` array columns.
broom,69,Fixed bug that made column `y` non-numeric after `tidy_xyz` (`#973` by `@​jiho`)
broom,70,Added tidiers for `MASS:glm.nb` (`#998` by `@​joshyam-k`)
broom,71,Fixed bug in `tidy.fixest` that sometimes prevented arguments like `se` from being used (`#1001` by `@​karldw`)
broom,72,Fixed bug in `tidy.fixest` that resulted in errors when columns with name `x` are present (`#1007` by `@​grantmcdermott`)
broom,73,Moved forward with planned deprecation of `gamlss` tidiers in favor of those provided in `broom.mixed`
broom,74,Various bug fixes and improvements to documentation
broom,75,Fixed bug in the `nnet::multinom` tidier in the case that the response variable has only two levels (`#993` by `@​vincentarelbundock` and `@​hughjonesd`)
broom,76,Various bug fixes and improvements to documentation
broom,77,Add tidiers for `Rchoice` objects (`#961` by `@​vincentarelbundock` and `@​Nateme16`)
broom,78,Add tidiers for objects produced by `car::leveneTest` (`#968` by `@​vincentarelbundock` and `@​mkirzon`)
broom,79,Add tidiers for objects produced by `cmprsk::crr` (`#971` and `#552` by `@​vincentarelbundock` and `@​margarethannum`)
broom,80,Add an `augment()` method for `gam` objects (`#975` and `#645` by `@​vincentarelbundock`)
broom,81,Add tidiers for `vars` objects (`#979` and `#161` by `@​vincentarelbundock` and `@​Diego-MX`)
broom,82,`tidy.emmGrid` can now return `std.error` and `conf.*` columns at the same time. (`#962` by `@​vincentarelbundock` and `@​jmbarbone`)
broom,83,`tidy.garch` can now produce confidence intervals (`#964` by `@​vincentarelbundock` and `@​IndrajeetPatil`)
broom,84,`tidy.coxph` can now report confidence intervals on models utilizing penalized/clustering terms (`#966` by `@​vincentarelbundock` and `@​matthieu-faron`)
broom,85,`augment.lm` now works when some regression weights are equal to zero (`#965` by `@​vincentarelbundock` and `@​vnijs`)
broom,86,"`tidy.coxph` can now handle models utilizing penalized/clustering terms (`#966` and `#969` by `@​vincentarelbundock`, `@​matthieu-faron`, and `@​KZARCA`)"
broom,87,Fix bug in `tidy.speedglm` on R 4.0.0+ (`#974` by `@​uqzwang`)
broom,88,tidy.multinom works with matrix response (`#977` and `#666` by `@​vincentarelbundock` and `@​atyre2`)
broom,89,Various bug fixes and improvements to documentation and errors.
broom,90,Restores tidiers for `summary.lm` objects (`#953` by `@​grantmcdermott`)
broom,91,"Deprecate tidiers for the `lfe` package, which was archived from CRAN."
broom,92,Various bug fixes and improvements to documentation and errors.
broom,93,Various bug fixes and improvements to documentation and errors.
broom,94,Add tidiers for `margins` objects. (`#700` by `@​grantmcdermott`)
broom,95,Added tidier methods for `mlogit` objects (`#887` by `@​gregmacfarlane`)
broom,96,Add `glance.coeftest()` method (`#932` by `@​grantmcdermott`)
broom,97,Extended the `glance.aov()` method to include an `r.squared` column!
broom,98,`glance.survfit()` now passes `...` to `summary.survfit()` to allow for adjustment of RMST and other measures (`#880` by `@​vincentarelbundock`)
broom,99,Several unsupported model objects that subclass `glm` and `lm` now error more informatively.
broom,100,A number of improvements to documentation throughout the package.
broom,101,Fixed `newdata` warning message in `augment.*()` output when the `newdata` didn't contain the response variable---augment methods no longer expect the response variable in the supplied `newdata` argument. (`#897` by `@​rudeboybert`)
broom,102,Fixed a bug related to `tidy.geeglm()` not being sensitive to the `exponentiate` argument (`#867`)
broom,103,Fixed `augment.fixest()` returning residuals in the `.fitted` column. The method also now takes a `type.residuals` argument and defaults to the same `type.predict` argument as the `fixest` `predict()` method. (`#877` by `@​karldw`)
broom,104,"Fix `tidy.felm` confidence interval bug. Replaces ""robust"" argument with ""se.type"". (`#919` by `@​grantmcdermott`; supersedes `#818` by `@​kuriwaki`)"
broom,105,Fix a bug in `tidy.drc()` where some term labels would result in the overwriting of entries in the `curve` column (`#914`)
broom,106,Fixed bug related to univariate zoo series in `tidy.zoo()` (`#916` by `@​WillemVervoort`)
broom,107,"Fixed a bug related to `tidy.prcomp()` assigning the wrong PC labels from ""loadings"" and ""scores"" matrices (`#910` by `@​tavareshugo`)"
broom,108,Fixed `tidy.polr()` bug where p-values could only be returned if `exponentiate = FALSE`.
broom,109,"We have changed how we report degrees of freedom for `lm` objects (#212, #273). This is especially important for instructors in statistics courses. Previously the `df` column in `glance.lm()` reported the rank of the design matrix. Now it reports degrees of freedom of the numerator for the overall F-statistic. This is equal to the rank of the model matrix minus one (unless you omit an intercept column), so the new `df` should be the old `df` minus one."
broom,110,"We are moving away from supporting `summary.*()` objects. In particular, we have removed `tidy.summary.lm()` as part of a major overhaul of internals. Instead of calling `tidy()` on `summary`-like objects, please call `tidy()` directly on model objects moving forward."
broom,111,"We have removed all support for the `quick` argument in `tidy()` methods. This is to simplify internals and is for maintainability purposes. We anticipate this will not influence many users as few people seemed to use it. If this majorly cramps your style, let us know, as we are considering a new verb to return only model parameters. In the meantime, `stats::coef()` together with `tibble::enframe()` provides most of the functionality of `tidy(..., quick = TRUE)`."
broom,112,"All `conf.int` arguments now default to `FALSE`, and all `conf.level` arguments now default to `0.95`. This should primarily affect `tidy.survreg()`, which previously always returned confidence intervals, although there are some others."
broom,113,"Tidiers for `emmeans`-objects use the arguments `conf.int` and `conf.level` instead of relying on the argument names native to the `emmeans::summary()`-methods (i.e., `infer` and `level`). Similarly, `multcomp`-tidiers now include a call to `summary()` as previous behavior was akin to setting the now removed argument `quick = TRUE`. Both families of tidiers now use the `adj.p.value` column name when appropriate. Finally, `emmeans`-, `multcomp`-, and `TukeyHSD`-tidiers now consistently use the column names `contrast` and `null.value` instead of `comparison`, `level1` and `level2`, or `lhs` and `rhs` (see #692)."
broom,114,"Tidier methods for data frames, rowwise data frames, vectors and matrices"
broom,115,`bootstrap()`
broom,116,`confint_tidy()`
broom,117,`fix_data_frame()`
broom,118,`finish_glance()`
broom,119,`augment.glmRob()`
broom,120,`tidy.table()` and `tidy.ftable()` have been deprecated in favor of `tibble::as_tibble()`
broom,121,`tidy.summaryDefault()` and `glance.summaryDefault()` have been deprecated in favor of `skimr::skim()`
broom,122,`tidy.brmsfit()`
broom,123,"`tidy.merMod()`, `glance.merMod()`, `augment.merMod()`"
broom,124,"`tidy.lme()`, `glance.lme()`, `augment.lme()`"
broom,125,"`tidy.stanreg()`, `glance.stanreg()`"
broom,126,"`tidyMCMC()`, `tidy.rjags()`, `tidy.stanfit()`"
broom,127,"`augment.factanal()` now returns a tibble with columns names `.fs1`, `.fs2`, ..., instead of `factor1`, `factor2`, ... (#650)"
broom,128,"We have renamed the output of `augment.htest()`. In particular, we have renamed the `.residuals` column to `.resid` and the `.stdres` to `.std.resid` for consistency. These changes will only affect chi-squared tests."
broom,129,`tidy.ridgelm()` now always return a `GCV` column and never returns an `xm` column. (#533 by @​jmuhlenkamp)
broom,130,`tidy.dist()` no longer supports the `upper` argument.
broom,131,"If you pass a dataset to `augment()` via the `data` or `newdata` arguments, you are now guaranteed that the augmented dataset will have exactly the same number of rows as the original dataset. This differs from previous behavior primarily when there are missing values. Previously `augment()` would drop rows containing `NA`. This should no longer be the case."
broom,132,`augment.*()` methods no longer accept an `na.action` argument.
broom,133,"In previous versions, several `augment.*()` methods inherited the `augment.lm()` method, but required additions to the `augment.lm()` method itself. We have shifted away from this approach in favor of re-implementing many `augment.*()` methods as standalone methods making use of internal helper functions. As a result, `augment.lm()` and some related methods have deprecated (previously unused) arguments."
broom,134,`augment()` tries to give an informative error when `data` isn't the original training data.
broom,135,The `.resid` column in the output of `augment().*` methods is now consistently defined as `y - y_hat`
broom,136,`anova` objects from the `car` package (#754)
broom,137,`pam` objects from the `cluster` package (#637 by @​abbylsmith)
broom,138,`drm` objects from the `drc` package (#574 by @​edild)
broom,139,`summary_emm` objects from the `emmeans` package (#691 by @​crsh)
broom,140,`epi.2by2` objects from the `epiR` package (#711)
broom,141,`fixest` objects from the `fixest` package (#785 by @​karldw)
broom,142,`regsubsets` objects from the `leaps` package (#535)
broom,143,`lm.beta` objects from the `lm.beta` package (#545 by @​mattle24)
broom,144,"`rma` objects from the `metafor` package (#674 by @​malcolmbarrett, @​softloud)"
broom,145,"`mfx`, `logitmfx`, `negbinmfx`, `poissonmfx`, `probitmfx`, and `betamfx` objects from the`mfx` package (#700 by @​grantmcdermott)"
broom,146,"`lmrob` and `glmrob` objects from the `robustbase` package (#205, #505)"
broom,147,`sarlm` objects from the `spatialreg` package (#847 by @​gregmacfarlane and @​petrhrobar)
broom,148,`speedglm` objects from the `speedglm` package (#685)
broom,149,`svyglm` objects from the `survey` package (#611)
broom,150,`systemfit` objects from the `systemfit` package (by @​jaspercooper)
broom,151,"We have restored a simplified version of `glance.aov()`, which used to inherit from the `glance.lm()` method and now contains only the following columns: `logLik`, `AIC`, `BIC, deviance`, `df.residual`, and `nobs` (see #212). Note that `tidy.aov()` gives more complete information about degrees of freedom in an `aov` object."
broom,152,`tidy.felm()` now has a `robust = TRUE/FALSE` option that supports robust and cluster standard errors. (#781 by @​kuriwaki)
broom,153,Make `.fitted` values respect `type.predict` argument of `augment.clm()`. (#617)
broom,154,Return factor rather than numeric class predictions in `.fitted` of `augment.polr()`. (#619) Add an option to return `p.values` in `tidy.polr()`. (#833 by @​LukasWallrich)
broom,155,`tidy.kmeans()` now uses the names of the input variables in the output by default. Set `col.names = NULL` to recover the old behavior.
broom,156,"Previously, F-statistics for weak instruments were returned through `glance.ivreg()`. F-statistics are now returned through `tidy.ivreg(instruments = TRUE)`. Default is `tidy.ivreg(instruments = FALSE)`. `glance.ivreg()` still returns Wu-Hausman and Sargan test statistics."
broom,157,`glance.biglm()` now returns a `df.residual` column.
broom,158,"`tidy.prcomp()` argument `matrix` gained new options `""scores""`, `""loadings""`, and `""eigenvalues""`. (#557 by @​GegznaV)"
broom,159,`tidy_optim()` now provides the standard error if the Hessian is present. (#529 by @​billdenney)
broom,160,`tidy.htest()` column names are now run through `make.names()` to ensure syntactic correctness. (#549 by @​karissawhiting)
broom,161,`tidy.lmodel2()` now returns a `p.value` column. (#570)
broom,162,`tidy.lsmobj()` gained a `conf.int` argument for consistency with other tidiers.
broom,163,`tidy.polr()` now returns p-values if `p.values` is set to TRUE and the model does not contain factors with more than two levels.
broom,164,`tidy.zoo()` now doesn't change column names that have spaces or other special characters (previously they were converted to `data.frame` friendly column names by `make.names`.)
broom,165,`glance.lavaan()` now uses lavaan extractor functions instead of subsetting the fit object manually. (#835)
broom,166,`glance.lm()` no longer errors when only an intercept is provided as an explanatory variable. (#865)
broom,167,"Bug fix for `tidy.survreg()` when `robust` is set to `TRUE` in model fitting (#842, #728)"
broom,168,Bug fixes in `glance.lavaan()`: address confidence interval error (#577) and correct reported `nobs` and `norig` (#835)
broom,169,Bug fix in muhaz tidiers to ensure output is always a `tibble` (#824)
broom,170,Several `glance.*()` methods have been refactored in order to return a one-row tibble even when the model matrix is rank-deficient (#823)
broom,171,Bug fix to return confidence intervals correct in `tidy.drc()` (#798)
broom,172,"Added default methods for objects that subclass `glm` and `lm` in order to error more informatively. (#749, #736, #708, #186)"
broom,173,Bug fix to allow `augment.kmeans()` to work with masked data (#609)
broom,174,Bug fix to allow `augment.Mclust()` to work on univariate data (#490)
broom,175,Bug fix to allow `tidy.htest()` to supports equal variances (#608)
broom,176,Bug fix to better allow `tidy.boot()` to support confidence intervals (#581)
broom,177,Bug fix for `tidy.polr()` when passed `conf.int = TRUE` (#498)
broom,178,"Many `glance()` methods now return a `nobs` column, which contains the number of data points used to fit the model! (#597 by @​vincentarelbundock)"
broom,179,"`tidy()` no longer checks for a log or logit link when `exponentiate = TRUE`, and we have refactored to remove extraneous `exponentiate` arguments. If you set `exponentiate = TRUE`, we assume you know what you are doing and that you want exponentiated coefficients (and confidence intervals if `conf.int = TRUE`) regardless of link function."
broom,180,We now use `rlang::arg_match()` when possible instead of `arg.match()` to give more informative errors on argument mismatches.
broom,181,The package's site has moved from https://broom.tidyverse.org/ to https://broom.tidymodels.org/.
broom,182,Revised several vignettes and moved them to the tidymodels.org website. The existing vignettes will now simply link to the revised versions.
broom,183,Many improvements to consistency and clarity of documentation.
broom,184,Various warnings resulting from changes to the tidyr API in v1.0.0 have been fixed. (#870)
broom,185,Removed dependencies on reshape2 and superseded functions in dplyr.
broom,186,All documentation now links to help files rather than topics.
broom,187,Moved core tests to the `modeltests` package.
broom,188,"Generally, after this release, the broom dev team will first ask that attempts to add tidier methods supporting a model object are first directed to the model-owning package. An article describing best practices in doing so can be found on the {tidymodels} website at https://www.tidymodels.org/learn/develop/broom/, and we will continue adding additional resources to that article as we develop them. In the case that the maintainer is uninterested in taking on the tidier methods, please note this in your issue or PR."
broom,189,Added a new vignette discussing how to implement new tidier methods in non-broom packages.
broom,190,Fix failing CRAN checks to due `tibble 3.0.0` release. Removed `xergm` dependency.
broom,191,Remove tidiers for robust package and drop robust dependency (temporarily)
broom,192,Fixes failing CRAN checks as the joineRML package has been removed from CRAN
broom,193,Fixes failing CRAN checks due to new matrix classing in R 4.0.0
broom,194,Fixes failing CRAN checks
broom,195,Changes to accommodate ergm 3.10 release. `tidy.ergm()` no longer has a `quick` argument. The old default of `quick = FALSE` is now the only option.
broom,196,"`tidy()`, `glance()` and `augment()` are now re-exported from the [generics](https://github.com/r-lib/generics) package."
broom,197,"subsetting tibbles with `[`, which returns a tibble rather than a vector."
broom,198,"setting rownames on tibbles, which is deprecated."
broom,199,"using matrix and vector tidiers, now deprecated."
broom,200,handling the additional tibble classes `tbl_df` and `tbl` beyond the `data.frame` class
broom,201,linking to defunct documentation files -- broom recently moved all tidiers to a `roxygen2` template based documentation system.
broom,202,"`vignette(""available-methods"", package = ""broom"")` contains a table detailing which tidying methods are available"
broom,203,"`vignette(""adding-tidiers"", package = ""broom"")` is an *in-progress* guide for contributors on how to add new tidiers to broom"
broom,204,"`vignette(""glossary"", package = ""broom"")` contains tables describing acceptable argument names and column names for the *in-progress* new specification."
broom,205,"`vignette(""bootstrapping"", package = ""broom"")` now relies on the `rsample` package and a `tidyr::nest`-`purrr::map`-`tidyr::unnest` workflow. This is now the recommended workflow for working with multiple models, as opposed to the old `dplyr::rowwise`-`dplyr::do` based workflow."
broom,206,Matrix and vector tidiers have been deprecated in favor of `tibble::as_tibble` and `tibble::enframe`
broom,207,Dataframe tidiers and rowwise dataframe tidiers have been deprecated
broom,208,`bootstrap()` has been deprecated in favor of the [`rsample`](https://rsample.tidymodels.org/)
broom,209,`inflate` has been removed from `broom`
broom,210,The `alpha` argument has been removed from `quantreg` tidy methods
broom,211,"The `separate.levels` argument has been removed from `tidy.TukeyHSD`. To obtain the effect of `separate.levels = TRUE`, users may `tidyr::separate` after tidying. This is consistent with the `multcomp` tidier behavior."
broom,212,"The `fe.error` argument was removed from `tidy.felm`. When fixed effects are tidier, their standard errors are now always included."
broom,213,The `diag` argument in `tidy.dist` has been renamed `diagonal`
broom,214,Advice to help beginners make PRs (#397 by @​karldw)
broom,215,"`glance` support for `arima` objects fit with `method = ""CSS""` (#396 by @​josue-rodriguez)"
broom,216,A bug fix to re-enable tidying `glmnet` objects with `family = multinomial` (#395 by @​erleholgersen)
broom,217,A bug fix to allow tidying `quantreg` intercept only models (#378 by @​erleholgersen)
broom,218,A bug fix for `aovlist` objects (#377 by @​mvevans89)
broom,219,Support for `glmnetUtils` objects (#352 by @​Hong-Revo)
broom,220,A bug fix to allow `tidy_emmeans` to handle column names with dashes (#351 by @​bmannakee)
broom,221,`augment.felm` no longer returns `.fe_` and `.comp` columns
broom,222,Support saved formulas in `augment.felm` (#347 by @​ShreyasSingh)
broom,223,`confint_tidy` now drops rows of all `NA` (#345 by @​atyre2)
broom,224,A new tidier for `caret::confusionMatrix` objects (#344 by @​mkuehn10)
broom,225,Tidiers for `Kendall::Kendall` objects (#343 by @​cimentadaj)
broom,226,A new tidying method for `car::durbinWatsonTest` objects (#341 by @​mkuehn10)
broom,227,`glance` throws an informative error for `quantreg:rq` models fit with multiple `tau` values (#338 by @​bfgray3)
broom,228,`tidy.glmnet` gains the ability to retain zero-valued coefficients with a `return_zeros` argument that defaults to `FALSE` (#337 by @​bfgray3)
broom,229,`tidy.manova` now retains a `Residuals` row (#334 by @​jarvisc1)
broom,230,"Tidiers for `ordinal::clm`, `ordinal::clmm`, `survey::svyolr` and `MASS::polr` ordinal model objects (#332 by @​larmarange)"
broom,231,Support for `anova` objects from `car::Anova` (#325 by @​mariusbarth)
broom,232,Tidiers for `tseries::garch` models (#323 by @​wilsonfreitas)
broom,233,Removed dependency on `psych` package (#313 by @​nutterb)
broom,234,Improved error messages (#303 by @​michaelweylandt)
broom,235,Compatibility with new `rstanarm` and `loo` packages (#298 by @​jgabry)
broom,236,Support for tidying lists return by `irlba::irlba`
broom,237,A truly huge increase in unit tests (#267 by @​dchiu911)
broom,238,Bug fix for `tidy.prcomp` when missing labels (#265 by @​corybrunson)
broom,239,Added a `pkgdown` site at https://broom.tidyverse.org/ (#260 by @​jayhesselberth)
broom,240,Added tidiers for `AER::ivreg` models (#247 by @​hughjonesd)
broom,241,Added tidiers for the `lavaan` package (#233 by @​puterleat)
broom,242,Added `conf.int` argument to `tidy.coxph` (#220 by @​larmarange)
broom,243,Added `augment` method for chi-squared tests (#138 by @​larmarange)
broom,244,changed default se.type for `tidy.rq` to match that of `quantreg::summary.rq()` (#404 by @​ethchr)
broom,245,Added argument `quick` for `tidy.plm` and `tidy.felm` (#502 and #509 by @​MatthieuStigler)
broom,246,Many small improvements throughout
broom,247,"Fixed gam tidiers to work with ""Gam"" objects, due to an update in gam 1.15. This fixes failing CRAN tests"
broom,248,Improved test coverage (thanks to #267 from Derek Chiu)
broom,249,Changed the deprecated `dplyr::failwith` to `purrr::possibly`
broom,250,`augment` and `glance` on NULLs now return an empty data frame
broom,251,Deprecated the `inflate()` function in favor of `tidyr::crossing`
broom,252,Fixed confidence intervals in the gmm tidier (thanks to #242 from David Hugh-Jones)
broom,253,Fixed a bug in bootstrap tidiers (thanks to #167 from Jeremy Biesanz)
broom,254,Fixed tidy.lm with `quick = TRUE` to return terms as character rather than factor (thanks to #191 from Matteo Sostero)
broom,255,Added tidiers for `ivreg` objects from the AER package (thanks to #245 from David Hugh-Jones)
broom,256,Added tidiers for `survdiff` objects from the survival package (thanks to #147 from Michał Bojanowski)
broom,257,Added tidiers for `emmeans` from the emmeans package (thanks to #252 from Matthew Kay)
broom,258,"Added tidiers for `speedlm` and `speedglm` from the speedglm package (#685, thanks to #248 from David Hugh-Jones)"
broom,259,Added tidiers for `muhaz` objects from the muhaz package (thanks to #251 from Andreas Bender)
broom,260,Added tidiers for `decompose` and `stl` objects from stats (thanks to #165 from Aaron Jacobs)
broom,261,Added tidiers for `lsmobj` and `ref.grid` objects from the lsmeans package
broom,262,Added tidiers for `betareg` objects from the betareg package
broom,263,Added tidiers for `lmRob` and `glmRob` objects from the robust package
broom,264,Added tidiers for `brms` objects from the brms package (thanks to #149 from Paul Buerkner)
broom,265,Fixed tidiers for orcutt 2.0
broom,266,Changed `tidy.glmnet` to filter out rows where estimate == 0.
broom,267,Updates to `rstanarm` tidiers (thanks to #177 from Jonah Gabry)
broom,268,Fixed issue with survival package 2.40-1 (thanks to #180 from Marcus Walz)
broom,269,"Added AppVeyor, codecov.io, and code of conduct"
broom,270,"Changed name of ""NA's"" column in summaryDefault output to ""na"""
broom,271,"Fixed `tidy.TukeyHSD` to include `term` column. Also added `separate.levels` argument, with option to separate `comparison` into `level1` and `level2`"
broom,272,"Fixed `tidy.manova` to use correct column name for test (previously, always `pillai`)"
broom,273,Added `kde_tidiers` to tidy kernel density estimates
broom,274,Added `orcutt_tidiers` to tidy the results of `cochrane.orcutt` orcutt package
broom,275,Added `tidy.dist` to tidy the distance matrix output of `dist` from the stats package
broom,276,Added `tidy` and `glance` for `lmodel2` objects from the lmodel2 package
broom,277,Added tidiers for `poLCA` objects from the poLCA package
broom,278,Added tidiers for sparse matrices from the Matrix package
broom,279,Added tidiers for `prcomp` objects
broom,280,Added tidiers for `Mclust` objects from the Mclust package
broom,281,Added tidiers for `acf` objects
broom,282,"Fixed to be compatible with dplyr 0.5, which is being submitted to CRAN"
broom,283,"Added tidiers for geeglm, nlrq, roc, boot, bgterm, kappa, binWidth, binDesign, rcorr, stanfit, rjags, gamlss, and mle2 objects."
broom,284,"Added `tidy` methods for lists, including u, d, v lists from `svd`, and x, y, z lists used by `image` and `persp`"
broom,285,"Added `quick` argument to `tidy.lm`, `tidy.nls`, and `tidy.biglm`, to create a smaller and faster version of the output."
broom,286,"Changed `rowwise_df_tidiers` to allow the original data to be saved as a list column, then provided as a column name to `augment`. This required removing `data` from the `augment` S3 signature. Also added `tests-rowwise.R`"
broom,287,Fixed various issues in ANOVA output
broom,288,Fixed various issues in lme4 output
broom,289,Fixed issues in tests caused by dev version of ggplot2
broom,290,"Added tidiers for ""plm"" (panel linear model) objects from the plm package."
broom,291,Added `tidy.coeftest` for coeftest objects from the lmtest package.
broom,292,"Set up `tidy.lm` to work with ""mlm"" (multiple linear model) objects (those with multiple response columns)."
broom,293,"Added `tidy` and `glance` for ""biglm"" and ""bigglm"" objects from the biglm package."
broom,294,Fixed bug in `tidy.coxph` when one-row matrices are returned
broom,295,Added `tidy.power.htest`
broom,296,Added `tidy` and `glance` for `summaryDefault` objects
broom,297,"Added tidiers for ""lme"" (linear mixed effects models) from the nlme package"
broom,298,Added `tidy` and `glance` for `multinom` objects from the nnet package.
broom,299,"Fixed bug in `tidy.pairwise.htest`, which now can handle cases where the grouping variable is numeric."
broom,300,Added `tidy.aovlist` method. This added `stringr` package to IMPORTS to trim whitespace from the beginning and end of the `term` and `stratum` columns. This also required adjusting `tidy.aov` so that it could handle strata that are missing p-values.
broom,301,Set up `glance.lm` to work with `aov` objects along with `lm` objects.
broom,302,"Added `tidy` and `glance` for matrix objects, with `tidy.matrix` converting a matrix to a data frame with rownames included, and `glance.matrix` returning the same result as `glance.data.frame`."
broom,303,Changed DESCRIPTION Authors@​R to new format
broom,304,Fixed small bug in `felm` where the `.fitted` and `.resid` columns were matrices rather than vectors.
broom,305,"Added tidiers for `rlm` (robust linear model) and `gam` (generalized additive model) objects, including adjustments to ""lm"" tidiers in order to handle them. See `?rlm_tidiers` and `?gam_tidiers` for more."
broom,306,Removed rownames from `tidy.cv.glmnet` output
broom,307,"The behavior of `augment`, particularly with regard to missing data and the `na.exclude` argument, has through the use of the `augment_columns` function been made consistent across the following models:"
broom,308,`lm`
broom,309,`glm`
broom,310,`nls`
broom,311,`merMod` (`lme4`)
broom,312,`survreg` (`survival`)
broom,313,`coxph` (`survival`)
broom,314,"`tidy`, `augment` and `glance` methods were added for `rowwise_df` objects, and are set up to apply across their rows. This allows for simple patterns such as:"
broom,315,"Added `tidy` and `glance` methods for `Arima` objects, and `tidy` for `pairwise.htest` objects."
broom,316,"Fixes for CRAN: change package description to title case, removed NOTES, mostly by adding `globals.R` to declare global variables."
broom,317,This is the original version published on CRAN.
broom,318,Tidiers have been added for S3 objects from the following packages:
broom,319,`lme4`
broom,320,`glmnet`
broom,321,`survival`
broom,322,`zoo`
broom,323,`felm`
broom,324,`MASS` (`ridgelm` objects)
broom,325,"`tidy` and `glance` methods for data.frames have also been added, and `augment.data.frame` produces an error (rather than returning the same data.frame)."
broom,326,`stderror` has been changed to `std.error` (affects many functions) to be consistent with broom's naming conventions for columns.
broom,327,"A function `bootstrap` has been added based on [this example](https://github.com/tidyverse/dplyr/issues/269), to perform the common use case of bootstrapping models."
broom,328,"Added ""augment"" S3 generic and various implementations. ""augment"" does something different from tidy: it adds columns to the original dataset, including predictions, residuals, or cluster assignments. This was originally described as ""fortify"" in ggplot2."
broom,329,"Added ""glance"" S3 generic and various implementations. ""glance"" produces a *one-row* data frame summary, which is necessary for tidy outputs with values like R\^2 or F-statistics."
broom,330,Re-wrote intro broom vignette/README to introduce all three methods.
broom,331,Wrote a new kmeans vignette.
broom,332,"Added tidying methods for multcomp, sp, and map objects (from fortify-multcomp, fortify-sp, and fortify-map from ggplot2)."
broom,333,"Because this integrates substantial amounts of ggplot2 code (with permission), added Hadley Wickham as an author in DESCRIPTION."
cli,1,"`ansi_collapse(x, trunc = 1, style = ""head"")` now indeed show one element if `length(x) == 2`, as documented (@​salim-b, #572)."
cli,2,"`ansi_collapse()` gains a `sep2` argument to specify a seperate separator for length-two inputs. It defaults to `"" and ""` which, in conjunction with the other defaults, produces a collapsed string that fully adheres to the [serial comma](https://en.wikipedia.org/wiki/Serial_comma) rules. (@​salim-b, #569)"
cli,3,"`ansi_string()` is now an exported function (@​multimeric, #573)."
cli,4,ANSI hyperlinks are now turned off on the RStudio render plane (#581).
cli,5,"The progressr progress handler now reports progress correctly (@​HenrikBengtsson, #558)."
cli,6,"New `hash_*sha1()` functions to calculate the SHA-1 hash of strings, objects, files."
cli,7,"cli now shows progress bars after one second by default, if they are less than half way at the point. (Or after two seconds, unconditionally, as before.) See the the `cli.progress_show_after` option in `?cli-config` for details (#542)."
cli,8,"`format_inline()` now has a new argument `keep_whitespace`, and it keeps whitespace, including newline and form feed characters by default."
cli,9,New `keypress()` function to read a single key press from a terminal.
cli,10,New function `pretty_print_code()` to print function objects with syntax highlighting at the R console.
cli,11,`col_*` and `bg_*` functions how handle zero-length input correctly (#532).
cli,12,New function `ansi_collapse()` to collapse character vectors into a single string.
cli,13,"`ansi_strtrim()` now handles some edge cases better, when `ellipsis` has length zero, and when it is wider than `width`."
cli,14,New `hash_file_md5()` function to calculate the MD5 hash of one or more files.
cli,15,cli has better error messages now.
cli,16,"New `format_inline()` argument: `collapse`, to collapse multi-line output, potentially because of `\f` characters."
cli,17,New experimental styles to create ANSI hyperlinks in RStudio and terminals that support them. See `?cli::links` for details (#513).
cli,18,Expressions that start and end with a `{}` substitution are now styled correctly. E.g. `{.code {var1} + {var2}}` (#517).
cli,19,New `{.obj_type_friendly}` inline style to format the type of an R object in a user friendly way (#463).
cli,20,"Improved vector collapsing behavior. cli now shows both the beginning and end of the collapsed vector, by default (#419)."
cli,21,Nested `cli()` calls work now (#497).
cli,22,Return values now work as they should within `cli()` calls (#496).
cli,23,"Style attributes with underscores have new names with dashes instead: `vec_sep`, `vec_last`, `vec_trunc`, `string-quote`. The old names still work, but the new ones take precedence (#483)."
cli,24,cli now does not crash at the end of the R session on Arm Windows (#494; @​kevinushey)
cli,25,"Vectors are truncated at 20 elements now by default, instead of 100 (#430)."
cli,26,"20 new spinners from the awesome [cli-spinners](https://github.com/sindresorhus/cli-spinners) package, and from @​HenrikBengtsson in #469. Run this to demo them, some need UTF-8 and emoji support:"
=======
```"
tidyr,198,While these special rules is in contrast to most dplyr and tidyr verbs (where both the data and the context are in scope) they make sense for selecting functions and should provide more robust and helpful semantics.
tidyr,199,Patch tests to be compatible with dev tibble
tidyr,200,Register C functions
tidyr,201,Added package docs
tidyr,202,Patch tests to be compatible with dev dplyr.
tidyr,203,Patch test to be compatible with dev tibble
tidyr,204,Changed deprecation message of `extract_numeric()` to point to `readr::parse_number()` rather than `readr::parse_numeric()`
tidyr,205,"`drop_na()` removes observations which have `NA` in the given variables. If no variables are given, all variables are considered (#194, @​janschulz)."
tidyr,206,`extract_numeric()` has been deprecated (#213).
tidyr,207,Renamed `table4` and `table5` to `table4a` and `table4b` to make their connection more clear. The `key` and `value` variables in `table2` have been renamed to `type` and `count`.
tidyr,208,"`expand()`, `crossing()`, and `nesting()` now silently drop zero-length inputs."
tidyr,209,`crossing_()` and `nesting_()` are versions of `crossing()` and `nesting()` that take a list as input.
tidyr,210,`full_seq()` works correctly for dates and date/times.
tidyr,211,"Restored compatibility with R \< 3.3.0 by avoiding `getS3method(envir = )` (#205, @​krlmlr)."
tidyr,212,"`separate_rows()` separates observations with multiple delimited values into separate rows (#69, @​aaronwolen)."
tidyr,213,`complete()` preserves grouping created by dplyr (#168).
tidyr,214,`expand()` (and hence `complete()`) preserves the ordered attribute of factors (#165).
tidyr,215,"`full_seq()` preserve attributes for dates and date/times (#156), and sequences no longer need to start at 0."
tidyr,216,"`gather()` can now gather together list columns (#175), and `gather_.data.frame(na.rm = TRUE)` now only removes missing values if they're actually present (#173)."
tidyr,217,`nest()` returns correct output if every variable is nested (#186).
tidyr,218,"`separate()` fills from right-to-left (not left-to-right!) when fill = ""left"" (#170, @​dgrtwo)."
tidyr,219,"`separate()` and `unite()` now automatically drop removed variables from grouping (#159, #177)."
tidyr,220,"`spread()` gains a `sep` argument. If not-null, this will name columns as ""key`<sep>`{=html}value"". Additionally, if sep is `NULL` missing values will be converted to `<NA>` (#68)."
tidyr,221,`spread()` works in the presence of list-columns (#199)
tidyr,222,`unnest()` works with non-syntactic names (#190).
tidyr,223,"`unnest()` gains a `sep` argument. If non-null, this will rename the columns of nested data frames to include both the original column name, and the nested column name, separated by `.sep` (#184)."
tidyr,224,`unnest()` gains `.id` argument that works the same way as `bind_rows()`. This is useful if you have a named list of data frames or vectors (#125).
tidyr,225,Moved in useful sample datasets from the DSR package.
tidyr,226,Made compatible with both dplyr 0.4 and 0.5.
tidyr,227,tidyr functions that create new columns are more aggressive about re-encoding the column names as UTF-8.
tidyr,228,Fixed bug in `nest()` where nested data was ending up in the wrong row (#158).
tidyr,229,"`nest()` now produces a single list of data frames called ""data"" rather than a list column for each variable. Nesting variables are not included in nested data frames. It also works with grouped data frames made by `dplyr::group_by()`. You can override the default column name with `.key`."
tidyr,230,"`unnest()` gains a `.drop` argument which controls what happens to other list columns. By default, they're kept if the output doesn't require row duplication; otherwise they're dropped."
tidyr,231,`unnest()` now has `mutate()` semantics for `...` - this allows you to unnest transformed columns more easily. (Previously it used select semantics).
tidyr,232,"`expand()` once again allows you to evaluate arbitrary expressions like `full_seq(year)`. If you were previously using `c()` to created nested combinations, you'll now need to use `nesting()` (#85, #121)."
tidyr,233,`nesting()` and `crossing()` allow you to create nested and crossed data frames from individual vectors. `crossing()` is similar to `base::expand.grid()`
tidyr,234,"`full_seq(x, period)` creates the full sequence of values from `min(x)` to `max(x)` every `period` values."
tidyr,235,`fill()` fills in `NULL`s in list-columns.
tidyr,236,`fill()` gains a direction argument so that it can fill either upwards or downwards (#114).
tidyr,237,"`gather()` now stores the key column as character, by default. To revert to the previous behaviour of using a factor (which allows you to preserve the ordering of the columns), use `key_factor = TRUE` (#96)."
tidyr,238,"All tidyr verbs do the right thing for grouped data frames created by `group_by()` (#122, #129, #81)."
tidyr,239,`seq_range()` has been removed. It was never used or announced.
tidyr,240,"`spread()` once again creates columns of mixed type when `convert = TRUE` (#118, @​jennybc). `spread()` with `drop = FALSE` handles zero-length factors (#56). `spread()`ing a data frame with only key and value columns creates a one row output (#41)."
tidyr,241,"`unite()` now removes old columns before adding new (#89, @​krlmlr)."
tidyr,242,"`separate()` now warns if defunct ... argument is used (#151, @​krlmlr)."
tidyr,243,Fixed bug where attributes of non-gather columns were lost (#104)
tidyr,244,"New `complete()` provides a wrapper around `expand()`, `left_join()` and `replace_na()` for a common task: completing a data frame with missing combinations of variables."
tidyr,245,`fill()` fills in missing values in a column with the last non-missing value (#4).
tidyr,246,New `replace_na()` makes it easy to replace missing values with something meaningful for your data.
tidyr,247,`nest()` is the complement of `unnest()` (#3).
tidyr,248,"`unnest()` can now work with multiple list-columns at the same time. If you don't supply any columns names, it will unlist all list-columns (#44). `unnest()` can also handle columns that are lists of data frames (#58)."
tidyr,249,tidyr no longer depends on reshape2. This should fix issues if you also try to load reshape (#88).
tidyr,250,`%>%` is re-exported from magrittr.
tidyr,251,`expand()` now supports nesting and crossing (see examples for details). This comes at the expense of creating new variables inline (#46).
tidyr,252,`expand_` does SE evaluation correctly so you can pass it a character vector of columns names (or list of formulas etc) (#70).
tidyr,253,`extract()` is 10x faster because it now uses stringi instead of base R regular expressions. It also returns NA instead of throwing an error if the regular expression doesn't match (#72).
tidyr,254,`extract()` and `separate()` preserve character vectors when `convert` is TRUE (#99).
tidyr,255,"The internals of `spread()` have been rewritten, and now preserve all attributes of the input `value` column. This means that you can now spread date (#62) and factor (#35) inputs."
tidyr,256,`spread()` gives a more informative error message if `key` or `value` don't exist in the input data (#36).
tidyr,257,"`separate()` only displays the first 20 failures (#50). It has finer control over what happens if there are two few matches: you can fill with missing values on either the ""left"" or the ""right"" (#49). `separate()` no longer throws an error if the number of pieces aren't as expected - instead it uses drops extra values and fills on the right and gives a warning."
tidyr,258,"If the input is NA `separate()` and `extract()` both return silently return NA outputs, rather than throwing an error. (#77)"
tidyr,259,Experimental `unnest()` method for lists has been removed.
tidyr,260,Experimental `expand()` function (#21).
tidyr,261,"Experiment `unnest()` function for converting named lists into data frames. (#3, #22)"
tidyr,262,`extract_numeric()` preserves negative signs (#20).
tidyr,263,"`gather()` has better defaults if `key` and `value` are not supplied. If `...` is omitted, `gather()` selects all columns (#28). Performance is now comparable to `reshape2::melt()` (#18)."
tidyr,264,"`separate()` gains `extra` argument which lets you control what happens to extra pieces. The default is to throw an ""error"", but you can also ""merge"" or ""drop""."
tidyr,265,"`spread()` gains `drop` argument, which allows you to preserve missing factor levels (#25). It converts factor value variables to character vectors, instead of embedding a matrix inside the data frame (#35)."
xml2,1,Hadley Wickham is now (again) the maintainer.
xml2,2,xml2 has been re-licensed as MIT (#317).
xml2,3,`xml_find_all.xml_node()` fails more informatively the `xpath` parameter is the wrong type (@​michaelchirico)
xml2,4,"`xml_find_all.xml_nodeset()` gains a `flatten` argument to control whether to return a single nodeset or a list of nodesets (#311, @​jakejh)"
xml2,5,"`write_xml()` and `write_html()` now return NULL invisibly, as they did prior to version 1.3.0 (#307)"
xml2,6,"`XPtr` gets explicit copy constructor and assignment operator definitions, which were two missing components of the [Rule of three](https://en.wikipedia.org/wiki/Rule_of_three_(C%2B%2B_programming)) (@​michaelchirico)"
xml2,7,Windows: update to libxml2 2.9.10 and libxslt 1.1.34 and add ucrt libs
xml2,8,`read_html()` and `read_xml()` now error if passed strings of length greater than one (#121)
xml2,9,`read_xml.raw()` had an inadvertent regression in 1.3.0 and is now again fixed (#300)
xml2,10,"Compilation fix on macOS 10.15.4 (@​kevinushey, #296)"
xml2,11,`read_html()` now again works with HTML files with non-ASCII encodings (#293).
xml2,12,Removes the Rcpp dependency
xml2,13,Fix compilation issue on macOS versions after High Sierra when not using homebrew supplied libxml2
xml2,14,"Fix potential dangling pointer with internal `asXmlChar()` function (@​michaelquinn32, #287)."
xml2,15,`as_xml_document()` now handles cases with text nodes trailing normal nodes (#274).
xml2,16,"`xml_add_child()` can now create nodes with a `par` attribute. These previously errored due to partial name matching of the `parent` function in the internal `create_node()` function. (@​jennybc, #285)"
xml2,17,"`libxml2_version()` now returns a semantic version rather than alphanumeric version, so ""2.9.10"" \> ""2.9.9"" (#277)"
xml2,18,"Export S4 classes with documentation, so they can be used in other packages without Warnings (@​nuest, #267)"
xml2,19,"xml2 now has a pkgdown site! <https://xml2.r-lib.org> (@​jayhesselberth, #211)."
xml2,20,Windows: upgrade to libxml2 2.9.8
xml2,21,"print methods now match the type of document, e.g. `read_html()` prints as ""{html_document}"" rather than ""{xml_document}"" (#227)"
xml2,22,"Generic xml2 error are now forwarded as R errors. Previously these errors were output to stderr, so could not be suppressed (#209)."
xml2,23,"Fix for ICU 59+ defaulting to use char16_t, which is only available in C++11 (#231)"
xml2,24,No longer uses the C connections API
xml2,25,Better error message when trying to run `download_xml()` without the curl package installed (#262)
xml2,26,xml2 classes are now registered for use with S4 by calling `setOldClass()` (#248)
xml2,27,Nodes with nested data type definition entities now work without crashing (#241)
xml2,28,Test failure fixed due to behavior change with relative paths in libxml2 2.9.9 (#245).
xml2,29,`read_xml()` now has a better error message when given zero length character inputs (#212).
xml2,30,`read_xml()` and `read_html()` now automatically check if the response succeeded before trying to read from a HTTP response (#255).
xml2,31,`xml_root()` can now create root nodes with namespaces (#239)
xml2,32,`xml_set_attr()` no longer crashes if you try to set the same namespace on the same node multiple times (#253).
xml2,33,`xml_set_attr()` now recycles the values if needed (#221)
xml2,34,"`xml_structure()` gains a `file` argument, to support writing to a file rather than the console (#244)."
xml2,35,`as_list()` on `xml_document` objects did not properly include the root node in the returned list. Previous behavior can be obtained by using `as_list()[[1L]]` in place of `as_list()`.
xml2,36,`download_xml()` and `download_html()` helper functions to make it easy to download files (#193).
xml2,37,`xml_attr()` can now set attributes with no value (#198).
xml2,38,`xml_serialize()` and `xml_unserialize()` now create file connections when given character input (#179).
xml2,39,"`xml_find_first()` no longer de-duplicates results, so the results are always the same length as the inputs (as documented) (#194)."
xml2,40,xml2 can now build using libxml2 2.7.0
xml2,41,Use Rcpp symbol registration and visibility to prevent symbol conflicts on Linux
xml2,42,"`xml_add_child()` now requires less resources to insert a node when called with `.where = 0L` (@​heckendorfc, #175)."
xml2,43,Fixed failing examples due to a change in an external resource.
xml2,44,"This is a small point release addressing installation issues found with older libxml2 versions shipped with RedHat Linux 6 / CentOS 6 (#163, #164)."
xml2,45,`write_xml()` and `write_html()` now accept connections as well as filenames for output. (#157)
xml2,46,`xml_add_child()` now takes a `.where` argument specifying where to add the new children. (#138)
xml2,47,"`as_xml()` generic function to convert R objects to xml. The most important method is for lists and enables full roundtrip support for going to and back from xml for lists and enables full roundtrip support to and from XML. (#137, #143)"
xml2,48,`xml_new_root()` can be used to create a new document and a root node in one step (#131).
xml2,49,`xml_add_parent()` inserts a new node between the node and its parent (#129)
xml2,50,"Add `xml_validate()` to validate a document against an xml schema (#31, @​jeroenooms)."
xml2,51,Export `xml2_types.h` to allow for extension packages such as xslt.
xml2,52,`xml_comment()` allows you to add comment nodes to a document. (#111)
xml2,53,`xml_cdata()` allows you to add CDATA nodes to a document. (#128)
xml2,54,Add `xml_set_text()` and `xml_set_name()` equivalent to `xml_text<-` and `xml_name<-`. (#130).
xml2,55,"Add `xml_set_attr()` and `xml_set_attrs()` equivalent to `xml_attr<-` and `xml_attrs<-`. (#109, #130)"
xml2,56,Add `write_html()` method (#133).
xml2,57,`xml_new_document()` now explicitly sets the encoding (default UTF-8) (#142)
xml2,58,Document formatting options for `write_xml()` (#132)
xml2,59,Add missing methods for xml_missing objects. (#134)
xml2,60,Bugfix for xml_length.xml_nodeset that caused it to fail unconditionally. (#140)
xml2,61,`is.na()` now returns `TRUE` for `xml_missing` objects. (#139)
xml2,62,Trim non-breaking spaces in `xml_text(trim = TRUE)` (#151).
xml2,63,"Allow setting non-character attributes (values are coerced to characters). (@​sjp, #117, #122)."
xml2,64,"Fixed return value in call to vapply in xml_integer.xml_nodeset. (@​ddiez, #146, #147)."
xml2,65,"Allow docs missing a root element to be created and printed. (@​sjp, #126, #121)."
xml2,66,"xml_add\_\* methods now return invisibly. (@​sjp, #124)"
xml2,67,"`as_list()` now preserves element names when attributes exist, and escapes XML attributes that conflict with special R attributes (@​peterfoley, #115)."
xml2,68,"All C++ functions now use `checked_get()` instead of `get()` where possible, so NULL XPtrs properly throw an error rather than crashing. (@​jimhester, #101, #104)."
xml2,69,"`xml_integer()` and `xml_double()` functions to make it easy to extract integer and double text from nodes (@​jimhester, #97, #99)."
xml2,70,"xml2 now supports modification and creation of XML nodes. New functions `xml_new_document()`, `xml_new_child()`, `xml_new_sibling()`, `xml_set_namespace()`, , `xml_remove()`, `xml_replace()`, `xml_root()` and replacement methods for `xml_name()`, `xml_attr()`, `xml_attrs()` and `xml_text()` (@​jimhester, #9 #76)"
xml2,71,"`xml_ns()` now keeps namespace prefixes that point to the same URI (@​jimhester, #35, #95)."
xml2,72,"`read_xml()` and `read_html()` methods added for `httr::response()` objects. (@​jimhester, #63, #93)"
xml2,73,"`xml_child()` function to make selecting children a little easier (@​jimhester, #23, #94)"
xml2,74,"`xml_find_one()` has been deprecated in favor of `xml_find_first()` (@​jimhester, #58, #92)"
xml2,75,"`xml_read()` functions now default to passing the document's namespace object. Namespace definitions can now be removed as well as added and `xml_ns_strip()` added to remove all default namespaces from a document. (@​jimhester, #28, #89)"
xml2,76,"`xml_read()` gains a `options` argument to control all available parsing options, including `HUGE` to turn off limits for parsing very large documents and now drops blank text nodes by default, mimicking default behavior of XML package. (@​jimhester, #49, #62, #85, #88)"
xml2,77,"`xml_write()` expands the path on filenames, so directories can be specified with '\~/' (@​jimhester, #86, #80)"
xml2,78,"`xml_find_one()` now returns a 'xml_missing' node object if there are 0 matches (@​jimhester, #55, #53, hadley/rvest#82)."
xml2,79,"`xml_find_num()`, `xml_find_chr()`, `xml_find_lgl()` functions added to return numeric, character and logical results from XPath expressions. (@​jimhester, #55)"
xml2,80,`xml_name()` and `xml_text()` always correctly encode returned value as UTF-8 (#54).
xml2,81,Improved configure script - now works again on R-devel on windows.
xml2,82,"Compiles with older versions of libxml2.,"
xml2,83,Make configure script more cross platform.
xml2,84,Add `xml_length()` to count the number of children (#32).
tidyverse,1,We now advertise `library(conflicted)` because it resolves many conflict problems and silences tidyverse's automated report (#218).
tidyverse,2,`tidyverse_sitrep()` correctly displays installed package versions and highlights development versions of pacakges (#222).
tidyverse,3,tidyverse now installs ragg (#310).
tidyverse,4,Add lubridate to the core tidyverse (#157).
tidyverse,5,Text version of the citation now lists all authors (#269).
tidyverse,6,All packages have been bumped to their latest versions.
tidyverse,7,Messaging uses modern approach to avoid red text in RStudio (#296).
tidyverse,8,"tidyverse now installs dtplyr (#216), googledrive, and googlesheets4 (#229). All packages have been bumped to their latest versions."
tidyverse,9,License changed to MIT (#235).
tidyverse,10,"The tidyverse now has an associated paper at the [Journal of Open Source Software](https://joss.theoj.org/) that you can use to cite the tidyverse if you use it in a paper - see `citation(""tidyverse"")` for details."
tidyverse,11,"Eliminate repeats in the package list when loading an odd number of packages (#94, #100, @​dchiu911)"
tidyverse,12,"Packages attached from same library they were initially loaded from (#171, @​gabrocsardi)"
tidyverse,13,"If conflicted package is loaded, omit display of conflicts. This includes fix to `tidyverse_conflicts()` to avoid accidentally triggering conflicted shims (#136)."
tidyverse,14,"`tidyverse_deps()` now succeeds even if a dependency of a dependency is missing (#152, @​PoGibas). It no longer includes dependencies that are needed by the tidyverse package but are not strictly part of the tidyverse (i.e. cli, crayon, and rstudioapi)."
tidyverse,15,"`tidyverse_deps()` and `tidyverse_update()` gain a new `repos` argument that gets passed to the base function `available.packages()` (@​zkamvar, #82)"
tidyverse,16,"`tidyverse_packages()` correctly returns packages names (#93, #106, @​coatless)"
tidyverse,17,`tidyverse_sitrep()` gives you a situation report on your install of the tidyverse (#203)
tidyverse,18,Require modern versions of all packages (#85)
tidyverse,19,Work with RStudio 1.0 and earlier (#88).
tidyverse,20,"stringr and forcats have been added to the core tidyverse, so they are attached by `library(tidyverse)`."
tidyverse,21,reprex joins the tidyverse to make it easier to create reproducible examples (#47)
tidyverse,22,"On attach, tidyverse now makes better use of the horizontal space, printing packages and versions in two columns (#59). It only prints packages that it attaches, not packages that you've already attached. Development versions are highlighted in red. You can now suppress this startup message by setting `options(tidyverse.quiet = TRUE)`"
tidyverse,23,"`tidyverse_conflicts()` now prints all conflicts that involve at least one tidyverse package; Previously it only omitted any intra-tidyverse conflicts (#26). I've also tweaked the display of conflicts to hopefully make it more clear which function is the ""winner""."
tidyverse,24,"`tidyverse_update()` now just gives you the code you need to update the packges, since in general it's not possible to update packages that are already loaded."
tidyverse,25,feather is now *actually* in suggests.
tidyverse,26,Moved feather from Imports to Suggests - feather is part of the tidyverse but it's installation requirements (C++11 + little-endian) make it painful in many scenarios (#36).
tidyverse,27,Added a `NEWS.md` file to track changes to the package.
tidyverse,28,Membership changes:
tidyverse,28,"• Removed DBI (since very different API, #16)"
tidyverse,28,• Added feather (#15)
tidyverse,31,"`tidyverse_deps()` and `tidyverse_packages()` are now exported so you can more easily see the make up of the tidyverse, and what package versions you have (#18, #23)"
tidyverse,32,`suppressPackageStartupMessages()` now suppresses all messages during loading (#19). `suppressPackageStartupMessages()` is called automatically for all tidyverse packages (#27).
broom,1,Moved forward with deprecation of tidiers for objects from the sp package. See resources linked in [tidymodels/broom#1142](https://github.com/tidymodels/broom/issues/1142) for more information on migration from retiring spatial packages.
broom,2,Corrected confidence interval values for precision components in `tidy.betareg()` output (#1169).
broom,3,Fixed bug in tidier for `car::linearHypothesis()` output with long formulas (#1171).
broom,4,Added support for columns `adj.r.squared` and `npar` in `glance()` method for objects outputted from `mgcv::gam()` (#1172).
broom,5,`tidy.coxph()` will now pass its ellipses `...` to `summary()` internally (#1151 by `@​ste-tuf`).
broom,6,Transitioned the deprecation of the `region` argument to `tidy.SpatialPolygonsDataFrame` from a warn- to a hard-deprecation (#1142).
broom,7,Removed maptools and rgeos as Suggested packages ahead of their retirement. sp tidiers will be removed from a future release of the package (#1142).
broom,8,Addressed bug in mlogit tidiers where `augment.mlogit()` would fail if supplied a model fitted with a non-default `dfidx()` (#1156 by `@​gregmacfarlane`).
broom,9,Addressed bug in ANOVA tidiers where `tidy.anova()` would fail if passed a model with many predictors (#1159 by `@​jwilliman`).
broom,10,"Addressed warnings in ANOVA tidiers for unrecognized column names `Resid..Df`, `Resid..Dev`, and `Deviance`; those columns will be renamed `df.residual`, `residual.deviance`, and `deviance`, respectively (#1159 by `@​jwilliman`)."
broom,11,"Added an `intercept` argument to `tidy.aov()`, a logical indicating whether to include information on the intercept as the first row of results (#1144 by `@​victor-vscn`)."
broom,12,Moved forward with soft-deprecation of tidiers for objects from the sp package ahead of the retirement of the rgeos and maptools packages later this year. sp tidiers will be removed from a future release of the package (#1142).
broom,13,Fixed bug in `augment.glm()` where the `.std.resid` column always contained standardized deviance residuals regardless of the value passed to the `type.residuals` argument (#1147).
broom,14,Addressed test failures on R-devel.
broom,15,Fixed bug in `tidy.multinom()` where the `conf.level` argument would be ignored.
broom,16,The default `data` argument for `augment.coxph()` and `augment.survreg()` has been transitioned from `NULL` to `model.frame(x)` (#1126 by `@​capnrefsmmat`).
broom,17,"Migrated 'ggplot2' from strong to weak dependency, i.e. moved from `Imports` to `Suggests`."
broom,18,"Fixed a bug where `augment()` results would not include residuals when the response term included a function call (#1121, #946, #937, #124)."
broom,19,Improves performance of `tidy.lm()` and `tidy.glm()` for full-rank fits (#1112 by `@​capnrefsmmat`).
broom,20,"Moves forward with deprecation of tidiers for sparse matrices outputted from the Matrix package, initially soft-deprecated in broom 0.5.0. The Matrix tidiers were light wrappers around coercion methods that will now be deprecated from Matrix itself in the upcoming 1.4-2 release. The affected methods are `tidy.sparseMatrix()`, `tidy.dgCMatrix()`, and `tidy.dgTMatrix()`. Note that `tidy.confusionMatrix()`, for relevant objects outputted from the caret package, is unaffected (#1113)."
broom,21,`tidy.anova()` works again with `anova` objects from the `lme4` package (broken by addition of the `terms` column in the previous release)
broom,22,Adds minimal ellipsis checking to warn on commonly misspecified arguments passed through ellipses. Notably:
broom,23,`tidy()` methods will now warn when supplied an `exponentiate` argument if it will be ignored.
broom,24,`augment()` methods will now warn when supplied a `newdata` argument if it will be ignored.
broom,25,"The warning regarding tidiers only maintained via dispatch to `lm` and `glm` is now displayed only once per session, per unique dispatch. That is, if a `class_a` object is tidied using a `(g)lm` method, broom will not warn when tidying `class_a` objects for the rest of the session, but if a `class_b` object is tidied using a `(g)lm` method in the same session, broom will warn again (#1101)."
broom,26,Add `exponentiate` argument to `tidy.boot()` (#1039).
broom,27,Update in `tidy.htest()` converting matrix-columns to vector-columns (#1081).
broom,28,Address failures in `tidy.glht()` with `conf.int = TRUE` (#1103).
broom,29,Address failures in `tidy.zoo()` when input data does not have `colnames` (#1080).
broom,30,Transition tidiers for bivariate linear or spline-based interpolation---using list tidiers to interface with objects from the akima package is now considered off-label. See the interp package for a FOSS alternative.
broom,31,"Address failures in `tidy.svyolr()` when `p.values = TRUE`. Instead of aliasing `tidy.polr()` directly, `tidy.svyolr()` lightly wraps that method and warns if `p.values` is supplied (#1107)."
broom,32,Adds a `term` column and introduces support for `car::lht()` output in `tidy.anova()` (#1106 by `@​grantmcdermott`).
broom,33,"Adds a dedicated `glance.anova` method (which previously dispatched to the\ deprecated `glance.data.frame()` tidier, #1106 by `@​grantmcdermott`)."
broom,34,Makes many improvements to documentation:
broom,35,All tidiers now have example code demonstrating usage in their documentation. Tidiers for base packages as well as selected others also include sample code for visualization of results with ggplot2.
broom,36,"Code examples in the documentation largely now follow consistent style---these changes were made largely to reflect the tidyverse style guide, addressing spacing, object naming, and commenting, among other things."
broom,37,Examples previously marked with `\dontrun` or `\donttest` have been workshopped to run reliably.
broom,38,Clarifies errors and warnings for deprecated and unmaintained tidiers.
broom,39,Ensures that tidiers are placed in files named according to the model-supplying package rather than the model object class for easier navigability of the source code.
broom,40,"Fix `glance.fixest` error when model includes only fixed effects and no regressors (`#1018` by `@​arcruz0`, `#1088` by `@​vincentarelbundock`)."
broom,41,"Address excessive messaging from `tidy.speedlm` (`#1084` by `@​cgoo4`, `#1087` by `@​vincentarelbundock`)."
broom,42,"Add `nobs` column to the output of `glance.svyglm` (`#1085` by `@​fschaffner`, `#1086` by `@​vincentarelbundock`)."
broom,43,Ensure `tidy.prcomp` description entries use consistent punctuation (`#1072` by `@​PursuitOfDataScience`).
broom,44,Address breaking changes in `glance.fixest` and `tidy.btergm`.
broom,45,Simplify handling of `MASS::polr` output in the corresponding `tidy` and `augment` methods.
broom,46,Align continuous integration with current standards in tidymodels packages.
broom,47,Addressed issue with the ordering of original observations in `augment.rqs`. Now function preserves the original `data.frame` names also when the input `data.frame` only has one column (`#1052` by `@​ilapros`).
broom,48,Addressed warning from `tidy.rma` when `x$ddf` has length greater than 1 (`#1064` by `@​wviechtb`).
broom,49,Fix errors in `glance.lavaan` in anticipation of upcoming `tidyr` release (`#1067` by `@​DavisVaughan`).
broom,50,Corrected the confidence interval in `tidy.crr()`. The `tidy.crr(conf.level=)` argument was previously ignored (`#1068` by `@​ddsjoberg`).
broom,51,Clarifies error when `pysch::mediate` output is dispatched to `tidy.mediate` (`#1037` by `@​LukasWallrich`).
broom,52,Allows user to specify confidence level for `tidy.rma` (`#1041` by `@​TarenSanders`)
broom,53,Clarifies documentation related to usage of `augment_columns()`; most package users should use `augment()` in favor of `augment_columns()`. See `?augment_columns` for more details.
broom,54,Extends support for `emmeans` by fixing non-standard column names in case of asymptotically derived inferential statistics. (`#1046` by `@​crsh`)
broom,55,"Fixes use of index columns in `augment.mlogit` and adds `.resid` column to output. (`#1045`, `#1053`, `#1055`, and `#1056` by `@​jamesrrae` and `@​gregmacfarlane`)"
broom,56,Correct column naming of standard error measures in `glance.survfit()`.
broom,57,Various bug fixes and improvements to documentation.
broom,58,"Fixes confidence intervals in `tidy.crr()`, which were previously exponentiated when `exponentiate = FALSE` (`#1023` by `@​leejasme`)"
broom,59,"Deprecates `Rchoice` tidiers, as the newest 0.3-3 release requires R 4.0+ and does not re-export needed generics."
broom,60,Updates to `ergm` tidiers in anticipation of changes in later releases. (`#1034` by `@​krivit`)
broom,61,Fixed bug in `glance.ergm` related to handling of MCMC details.
broom,62,Address breakages in unit tests for {fixest} tidiers.
broom,63,Fixed bug in `tidy.epi.2by2` that resulted in errors with new version of `epiR` (`#1028` by `@​nt-williams`)
broom,64,Added `exponentiate` argument to `tidy.gam()` tidier applicable for parametric terms (`#1013` by `@​ddsjoberg`)
broom,65,Added `exponentiate` argument to `tidy.negbin()` tidier (`#1011` by `@​ddsjoberg`)
broom,66,Fixed failures in `spdep` tidiers following breaking changes in the most recent release
broom,67,Various bug fixes and improvements to documentation
broom,68,Fixed bug in `augment` tidiers resulting in `.fitted` and `.se.fit` array columns.
broom,69,Fixed bug that made column `y` non-numeric after `tidy_xyz` (`#973` by `@​jiho`)
broom,70,Added tidiers for `MASS:glm.nb` (`#998` by `@​joshyam-k`)
broom,71,Fixed bug in `tidy.fixest` that sometimes prevented arguments like `se` from being used (`#1001` by `@​karldw`)
broom,72,Fixed bug in `tidy.fixest` that resulted in errors when columns with name `x` are present (`#1007` by `@​grantmcdermott`)
broom,73,Moved forward with planned deprecation of `gamlss` tidiers in favor of those provided in `broom.mixed`
broom,74,Various bug fixes and improvements to documentation
broom,75,Fixed bug in the `nnet::multinom` tidier in the case that the response variable has only two levels (`#993` by `@​vincentarelbundock` and `@​hughjonesd`)
broom,76,Various bug fixes and improvements to documentation
broom,77,Add tidiers for `Rchoice` objects (`#961` by `@​vincentarelbundock` and `@​Nateme16`)
broom,78,Add tidiers for objects produced by `car::leveneTest` (`#968` by `@​vincentarelbundock` and `@​mkirzon`)
broom,79,Add tidiers for objects produced by `cmprsk::crr` (`#971` and `#552` by `@​vincentarelbundock` and `@​margarethannum`)
broom,80,Add an `augment()` method for `gam` objects (`#975` and `#645` by `@​vincentarelbundock`)
broom,81,Add tidiers for `vars` objects (`#979` and `#161` by `@​vincentarelbundock` and `@​Diego-MX`)
broom,82,`tidy.emmGrid` can now return `std.error` and `conf.*` columns at the same time. (`#962` by `@​vincentarelbundock` and `@​jmbarbone`)
broom,83,`tidy.garch` can now produce confidence intervals (`#964` by `@​vincentarelbundock` and `@​IndrajeetPatil`)
broom,84,`tidy.coxph` can now report confidence intervals on models utilizing penalized/clustering terms (`#966` by `@​vincentarelbundock` and `@​matthieu-faron`)
broom,85,`augment.lm` now works when some regression weights are equal to zero (`#965` by `@​vincentarelbundock` and `@​vnijs`)
broom,86,"`tidy.coxph` can now handle models utilizing penalized/clustering terms (`#966` and `#969` by `@​vincentarelbundock`, `@​matthieu-faron`, and `@​KZARCA`)"
broom,87,Fix bug in `tidy.speedglm` on R 4.0.0+ (`#974` by `@​uqzwang`)
broom,88,tidy.multinom works with matrix response (`#977` and `#666` by `@​vincentarelbundock` and `@​atyre2`)
broom,89,Various bug fixes and improvements to documentation and errors.
broom,90,Restores tidiers for `summary.lm` objects (`#953` by `@​grantmcdermott`)
broom,91,"Deprecate tidiers for the `lfe` package, which was archived from CRAN."
broom,92,Various bug fixes and improvements to documentation and errors.
broom,93,Various bug fixes and improvements to documentation and errors.
broom,94,Add tidiers for `margins` objects. (`#700` by `@​grantmcdermott`)
broom,95,Added tidier methods for `mlogit` objects (`#887` by `@​gregmacfarlane`)
broom,96,Add `glance.coeftest()` method (`#932` by `@​grantmcdermott`)
broom,97,Extended the `glance.aov()` method to include an `r.squared` column!
broom,98,`glance.survfit()` now passes `...` to `summary.survfit()` to allow for adjustment of RMST and other measures (`#880` by `@​vincentarelbundock`)
broom,99,Several unsupported model objects that subclass `glm` and `lm` now error more informatively.
broom,100,A number of improvements to documentation throughout the package.
broom,101,Fixed `newdata` warning message in `augment.*()` output when the `newdata` didn't contain the response variable---augment methods no longer expect the response variable in the supplied `newdata` argument. (`#897` by `@​rudeboybert`)
broom,102,Fixed a bug related to `tidy.geeglm()` not being sensitive to the `exponentiate` argument (`#867`)
broom,103,Fixed `augment.fixest()` returning residuals in the `.fitted` column. The method also now takes a `type.residuals` argument and defaults to the same `type.predict` argument as the `fixest` `predict()` method. (`#877` by `@​karldw`)
broom,104,"Fix `tidy.felm` confidence interval bug. Replaces ""robust"" argument with ""se.type"". (`#919` by `@​grantmcdermott`; supersedes `#818` by `@​kuriwaki`)"
broom,105,Fix a bug in `tidy.drc()` where some term labels would result in the overwriting of entries in the `curve` column (`#914`)
broom,106,Fixed bug related to univariate zoo series in `tidy.zoo()` (`#916` by `@​WillemVervoort`)
broom,107,"Fixed a bug related to `tidy.prcomp()` assigning the wrong PC labels from ""loadings"" and ""scores"" matrices (`#910` by `@​tavareshugo`)"
broom,108,Fixed `tidy.polr()` bug where p-values could only be returned if `exponentiate = FALSE`.
broom,109,"We have changed how we report degrees of freedom for `lm` objects (#212, #273). This is especially important for instructors in statistics courses. Previously the `df` column in `glance.lm()` reported the rank of the design matrix. Now it reports degrees of freedom of the numerator for the overall F-statistic. This is equal to the rank of the model matrix minus one (unless you omit an intercept column), so the new `df` should be the old `df` minus one."
broom,110,"We are moving away from supporting `summary.*()` objects. In particular, we have removed `tidy.summary.lm()` as part of a major overhaul of internals. Instead of calling `tidy()` on `summary`-like objects, please call `tidy()` directly on model objects moving forward."
broom,111,"We have removed all support for the `quick` argument in `tidy()` methods. This is to simplify internals and is for maintainability purposes. We anticipate this will not influence many users as few people seemed to use it. If this majorly cramps your style, let us know, as we are considering a new verb to return only model parameters. In the meantime, `stats::coef()` together with `tibble::enframe()` provides most of the functionality of `tidy(..., quick = TRUE)`."
broom,112,"All `conf.int` arguments now default to `FALSE`, and all `conf.level` arguments now default to `0.95`. This should primarily affect `tidy.survreg()`, which previously always returned confidence intervals, although there are some others."
broom,113,"Tidiers for `emmeans`-objects use the arguments `conf.int` and `conf.level` instead of relying on the argument names native to the `emmeans::summary()`-methods (i.e., `infer` and `level`). Similarly, `multcomp`-tidiers now include a call to `summary()` as previous behavior was akin to setting the now removed argument `quick = TRUE`. Both families of tidiers now use the `adj.p.value` column name when appropriate. Finally, `emmeans`-, `multcomp`-, and `TukeyHSD`-tidiers now consistently use the column names `contrast` and `null.value` instead of `comparison`, `level1` and `level2`, or `lhs` and `rhs` (see #692)."
broom,114,"Tidier methods for data frames, rowwise data frames, vectors and matrices"
broom,115,`bootstrap()`
broom,116,`confint_tidy()`
broom,117,`fix_data_frame()`
broom,118,`finish_glance()`
broom,119,`augment.glmRob()`
broom,120,`tidy.table()` and `tidy.ftable()` have been deprecated in favor of `tibble::as_tibble()`
broom,121,`tidy.summaryDefault()` and `glance.summaryDefault()` have been deprecated in favor of `skimr::skim()`
broom,122,`tidy.brmsfit()`
broom,123,"`tidy.merMod()`, `glance.merMod()`, `augment.merMod()`"
broom,124,"`tidy.lme()`, `glance.lme()`, `augment.lme()`"
broom,125,"`tidy.stanreg()`, `glance.stanreg()`"
broom,126,"`tidyMCMC()`, `tidy.rjags()`, `tidy.stanfit()`"
broom,127,"`augment.factanal()` now returns a tibble with columns names `.fs1`, `.fs2`, ..., instead of `factor1`, `factor2`, ... (#650)"
broom,128,"We have renamed the output of `augment.htest()`. In particular, we have renamed the `.residuals` column to `.resid` and the `.stdres` to `.std.resid` for consistency. These changes will only affect chi-squared tests."
broom,129,`tidy.ridgelm()` now always return a `GCV` column and never returns an `xm` column. (#533 by @​jmuhlenkamp)
broom,130,`tidy.dist()` no longer supports the `upper` argument.
broom,131,"If you pass a dataset to `augment()` via the `data` or `newdata` arguments, you are now guaranteed that the augmented dataset will have exactly the same number of rows as the original dataset. This differs from previous behavior primarily when there are missing values. Previously `augment()` would drop rows containing `NA`. This should no longer be the case."
broom,132,`augment.*()` methods no longer accept an `na.action` argument.
broom,133,"In previous versions, several `augment.*()` methods inherited the `augment.lm()` method, but required additions to the `augment.lm()` method itself. We have shifted away from this approach in favor of re-implementing many `augment.*()` methods as standalone methods making use of internal helper functions. As a result, `augment.lm()` and some related methods have deprecated (previously unused) arguments."
broom,134,`augment()` tries to give an informative error when `data` isn't the original training data.
broom,135,The `.resid` column in the output of `augment().*` methods is now consistently defined as `y - y_hat`
broom,136,`anova` objects from the `car` package (#754)
broom,137,`pam` objects from the `cluster` package (#637 by @​abbylsmith)
broom,138,`drm` objects from the `drc` package (#574 by @​edild)
broom,139,`summary_emm` objects from the `emmeans` package (#691 by @​crsh)
broom,140,`epi.2by2` objects from the `epiR` package (#711)
broom,141,`fixest` objects from the `fixest` package (#785 by @​karldw)
broom,142,`regsubsets` objects from the `leaps` package (#535)
broom,143,`lm.beta` objects from the `lm.beta` package (#545 by @​mattle24)
broom,144,"`rma` objects from the `metafor` package (#674 by @​malcolmbarrett, @​softloud)"
broom,145,"`mfx`, `logitmfx`, `negbinmfx`, `poissonmfx`, `probitmfx`, and `betamfx` objects from the`mfx` package (#700 by @​grantmcdermott)"
broom,146,"`lmrob` and `glmrob` objects from the `robustbase` package (#205, #505)"
broom,147,`sarlm` objects from the `spatialreg` package (#847 by @​gregmacfarlane and @​petrhrobar)
broom,148,`speedglm` objects from the `speedglm` package (#685)
broom,149,`svyglm` objects from the `survey` package (#611)
broom,150,`systemfit` objects from the `systemfit` package (by @​jaspercooper)
broom,151,"We have restored a simplified version of `glance.aov()`, which used to inherit from the `glance.lm()` method and now contains only the following columns: `logLik`, `AIC`, `BIC, deviance`, `df.residual`, and `nobs` (see #212). Note that `tidy.aov()` gives more complete information about degrees of freedom in an `aov` object."
broom,152,`tidy.felm()` now has a `robust = TRUE/FALSE` option that supports robust and cluster standard errors. (#781 by @​kuriwaki)
broom,153,Make `.fitted` values respect `type.predict` argument of `augment.clm()`. (#617)
broom,154,Return factor rather than numeric class predictions in `.fitted` of `augment.polr()`. (#619) Add an option to return `p.values` in `tidy.polr()`. (#833 by @​LukasWallrich)
broom,155,`tidy.kmeans()` now uses the names of the input variables in the output by default. Set `col.names = NULL` to recover the old behavior.
broom,156,"Previously, F-statistics for weak instruments were returned through `glance.ivreg()`. F-statistics are now returned through `tidy.ivreg(instruments = TRUE)`. Default is `tidy.ivreg(instruments = FALSE)`. `glance.ivreg()` still returns Wu-Hausman and Sargan test statistics."
broom,157,`glance.biglm()` now returns a `df.residual` column.
broom,158,"`tidy.prcomp()` argument `matrix` gained new options `""scores""`, `""loadings""`, and `""eigenvalues""`. (#557 by @​GegznaV)"
broom,159,`tidy_optim()` now provides the standard error if the Hessian is present. (#529 by @​billdenney)
broom,160,`tidy.htest()` column names are now run through `make.names()` to ensure syntactic correctness. (#549 by @​karissawhiting)
broom,161,`tidy.lmodel2()` now returns a `p.value` column. (#570)
broom,162,`tidy.lsmobj()` gained a `conf.int` argument for consistency with other tidiers.
broom,163,`tidy.polr()` now returns p-values if `p.values` is set to TRUE and the model does not contain factors with more than two levels.
broom,164,`tidy.zoo()` now doesn't change column names that have spaces or other special characters (previously they were converted to `data.frame` friendly column names by `make.names`.)
broom,165,`glance.lavaan()` now uses lavaan extractor functions instead of subsetting the fit object manually. (#835)
broom,166,`glance.lm()` no longer errors when only an intercept is provided as an explanatory variable. (#865)
broom,167,"Bug fix for `tidy.survreg()` when `robust` is set to `TRUE` in model fitting (#842, #728)"
broom,168,Bug fixes in `glance.lavaan()`: address confidence interval error (#577) and correct reported `nobs` and `norig` (#835)
broom,169,Bug fix in muhaz tidiers to ensure output is always a `tibble` (#824)
broom,170,Several `glance.*()` methods have been refactored in order to return a one-row tibble even when the model matrix is rank-deficient (#823)
broom,171,Bug fix to return confidence intervals correct in `tidy.drc()` (#798)
broom,172,"Added default methods for objects that subclass `glm` and `lm` in order to error more informatively. (#749, #736, #708, #186)"
broom,173,Bug fix to allow `augment.kmeans()` to work with masked data (#609)
broom,174,Bug fix to allow `augment.Mclust()` to work on univariate data (#490)
broom,175,Bug fix to allow `tidy.htest()` to supports equal variances (#608)
broom,176,Bug fix to better allow `tidy.boot()` to support confidence intervals (#581)
broom,177,Bug fix for `tidy.polr()` when passed `conf.int = TRUE` (#498)
broom,178,"Many `glance()` methods now return a `nobs` column, which contains the number of data points used to fit the model! (#597 by @​vincentarelbundock)"
broom,179,"`tidy()` no longer checks for a log or logit link when `exponentiate = TRUE`, and we have refactored to remove extraneous `exponentiate` arguments. If you set `exponentiate = TRUE`, we assume you know what you are doing and that you want exponentiated coefficients (and confidence intervals if `conf.int = TRUE`) regardless of link function."
broom,180,We now use `rlang::arg_match()` when possible instead of `arg.match()` to give more informative errors on argument mismatches.
broom,181,The package's site has moved from https://broom.tidyverse.org/ to https://broom.tidymodels.org/.
broom,182,Revised several vignettes and moved them to the tidymodels.org website. The existing vignettes will now simply link to the revised versions.
broom,183,Many improvements to consistency and clarity of documentation.
broom,184,Various warnings resulting from changes to the tidyr API in v1.0.0 have been fixed. (#870)
broom,185,Removed dependencies on reshape2 and superseded functions in dplyr.
broom,186,All documentation now links to help files rather than topics.
broom,187,Moved core tests to the `modeltests` package.
broom,188,"Generally, after this release, the broom dev team will first ask that attempts to add tidier methods supporting a model object are first directed to the model-owning package. An article describing best practices in doing so can be found on the {tidymodels} website at https://www.tidymodels.org/learn/develop/broom/, and we will continue adding additional resources to that article as we develop them. In the case that the maintainer is uninterested in taking on the tidier methods, please note this in your issue or PR."
broom,189,Added a new vignette discussing how to implement new tidier methods in non-broom packages.
broom,190,Fix failing CRAN checks to due `tibble 3.0.0` release. Removed `xergm` dependency.
broom,191,Remove tidiers for robust package and drop robust dependency (temporarily)
broom,192,Fixes failing CRAN checks as the joineRML package has been removed from CRAN
broom,193,Fixes failing CRAN checks due to new matrix classing in R 4.0.0
broom,194,Fixes failing CRAN checks
broom,195,Changes to accommodate ergm 3.10 release. `tidy.ergm()` no longer has a `quick` argument. The old default of `quick = FALSE` is now the only option.
broom,196,"`tidy()`, `glance()` and `augment()` are now re-exported from the [generics](https://github.com/r-lib/generics) package."
broom,197,"subsetting tibbles with `[`, which returns a tibble rather than a vector."
broom,198,"setting rownames on tibbles, which is deprecated."
broom,199,"using matrix and vector tidiers, now deprecated."
broom,200,handling the additional tibble classes `tbl_df` and `tbl` beyond the `data.frame` class
broom,201,linking to defunct documentation files -- broom recently moved all tidiers to a `roxygen2` template based documentation system.
broom,202,"`vignette(""available-methods"", package = ""broom"")` contains a table detailing which tidying methods are available"
broom,203,"`vignette(""adding-tidiers"", package = ""broom"")` is an *in-progress* guide for contributors on how to add new tidiers to broom"
broom,204,"`vignette(""glossary"", package = ""broom"")` contains tables describing acceptable argument names and column names for the *in-progress* new specification."
broom,205,"`vignette(""bootstrapping"", package = ""broom"")` now relies on the `rsample` package and a `tidyr::nest`-`purrr::map`-`tidyr::unnest` workflow. This is now the recommended workflow for working with multiple models, as opposed to the old `dplyr::rowwise`-`dplyr::do` based workflow."
broom,206,Matrix and vector tidiers have been deprecated in favor of `tibble::as_tibble` and `tibble::enframe`
broom,207,Dataframe tidiers and rowwise dataframe tidiers have been deprecated
broom,208,`bootstrap()` has been deprecated in favor of the [`rsample`](https://rsample.tidymodels.org/)
broom,209,`inflate` has been removed from `broom`
broom,210,The `alpha` argument has been removed from `quantreg` tidy methods
broom,211,"The `separate.levels` argument has been removed from `tidy.TukeyHSD`. To obtain the effect of `separate.levels = TRUE`, users may `tidyr::separate` after tidying. This is consistent with the `multcomp` tidier behavior."
broom,212,"The `fe.error` argument was removed from `tidy.felm`. When fixed effects are tidier, their standard errors are now always included."
broom,213,The `diag` argument in `tidy.dist` has been renamed `diagonal`
broom,214,Advice to help beginners make PRs (#397 by @​karldw)
broom,215,"`glance` support for `arima` objects fit with `method = ""CSS""` (#396 by @​josue-rodriguez)"
broom,216,A bug fix to re-enable tidying `glmnet` objects with `family = multinomial` (#395 by @​erleholgersen)
broom,217,A bug fix to allow tidying `quantreg` intercept only models (#378 by @​erleholgersen)
broom,218,A bug fix for `aovlist` objects (#377 by @​mvevans89)
broom,219,Support for `glmnetUtils` objects (#352 by @​Hong-Revo)
broom,220,A bug fix to allow `tidy_emmeans` to handle column names with dashes (#351 by @​bmannakee)
broom,221,`augment.felm` no longer returns `.fe_` and `.comp` columns
broom,222,Support saved formulas in `augment.felm` (#347 by @​ShreyasSingh)
broom,223,`confint_tidy` now drops rows of all `NA` (#345 by @​atyre2)
broom,224,A new tidier for `caret::confusionMatrix` objects (#344 by @​mkuehn10)
broom,225,Tidiers for `Kendall::Kendall` objects (#343 by @​cimentadaj)
broom,226,A new tidying method for `car::durbinWatsonTest` objects (#341 by @​mkuehn10)
broom,227,`glance` throws an informative error for `quantreg:rq` models fit with multiple `tau` values (#338 by @​bfgray3)
broom,228,`tidy.glmnet` gains the ability to retain zero-valued coefficients with a `return_zeros` argument that defaults to `FALSE` (#337 by @​bfgray3)
broom,229,`tidy.manova` now retains a `Residuals` row (#334 by @​jarvisc1)
broom,230,"Tidiers for `ordinal::clm`, `ordinal::clmm`, `survey::svyolr` and `MASS::polr` ordinal model objects (#332 by @​larmarange)"
broom,231,Support for `anova` objects from `car::Anova` (#325 by @​mariusbarth)
broom,232,Tidiers for `tseries::garch` models (#323 by @​wilsonfreitas)
broom,233,Removed dependency on `psych` package (#313 by @​nutterb)
broom,234,Improved error messages (#303 by @​michaelweylandt)
broom,235,Compatibility with new `rstanarm` and `loo` packages (#298 by @​jgabry)
broom,236,Support for tidying lists return by `irlba::irlba`
broom,237,A truly huge increase in unit tests (#267 by @​dchiu911)
broom,238,Bug fix for `tidy.prcomp` when missing labels (#265 by @​corybrunson)
broom,239,Added a `pkgdown` site at https://broom.tidyverse.org/ (#260 by @​jayhesselberth)
broom,240,Added tidiers for `AER::ivreg` models (#247 by @​hughjonesd)
broom,241,Added tidiers for the `lavaan` package (#233 by @​puterleat)
broom,242,Added `conf.int` argument to `tidy.coxph` (#220 by @​larmarange)
broom,243,Added `augment` method for chi-squared tests (#138 by @​larmarange)
broom,244,changed default se.type for `tidy.rq` to match that of `quantreg::summary.rq()` (#404 by @​ethchr)
broom,245,Added argument `quick` for `tidy.plm` and `tidy.felm` (#502 and #509 by @​MatthieuStigler)
broom,246,Many small improvements throughout
broom,247,"Fixed gam tidiers to work with ""Gam"" objects, due to an update in gam 1.15. This fixes failing CRAN tests"
broom,248,Improved test coverage (thanks to #267 from Derek Chiu)
broom,249,Changed the deprecated `dplyr::failwith` to `purrr::possibly`
broom,250,`augment` and `glance` on NULLs now return an empty data frame
broom,251,Deprecated the `inflate()` function in favor of `tidyr::crossing`
broom,252,Fixed confidence intervals in the gmm tidier (thanks to #242 from David Hugh-Jones)
broom,253,Fixed a bug in bootstrap tidiers (thanks to #167 from Jeremy Biesanz)
broom,254,Fixed tidy.lm with `quick = TRUE` to return terms as character rather than factor (thanks to #191 from Matteo Sostero)
broom,255,Added tidiers for `ivreg` objects from the AER package (thanks to #245 from David Hugh-Jones)
broom,256,Added tidiers for `survdiff` objects from the survival package (thanks to #147 from Michał Bojanowski)
broom,257,Added tidiers for `emmeans` from the emmeans package (thanks to #252 from Matthew Kay)
broom,258,"Added tidiers for `speedlm` and `speedglm` from the speedglm package (#685, thanks to #248 from David Hugh-Jones)"
broom,259,Added tidiers for `muhaz` objects from the muhaz package (thanks to #251 from Andreas Bender)
broom,260,Added tidiers for `decompose` and `stl` objects from stats (thanks to #165 from Aaron Jacobs)
broom,261,Added tidiers for `lsmobj` and `ref.grid` objects from the lsmeans package
broom,262,Added tidiers for `betareg` objects from the betareg package
broom,263,Added tidiers for `lmRob` and `glmRob` objects from the robust package
broom,264,Added tidiers for `brms` objects from the brms package (thanks to #149 from Paul Buerkner)
broom,265,Fixed tidiers for orcutt 2.0
broom,266,Changed `tidy.glmnet` to filter out rows where estimate == 0.
broom,267,Updates to `rstanarm` tidiers (thanks to #177 from Jonah Gabry)
broom,268,Fixed issue with survival package 2.40-1 (thanks to #180 from Marcus Walz)
broom,269,"Added AppVeyor, codecov.io, and code of conduct"
broom,270,"Changed name of ""NA's"" column in summaryDefault output to ""na"""
broom,271,"Fixed `tidy.TukeyHSD` to include `term` column. Also added `separate.levels` argument, with option to separate `comparison` into `level1` and `level2`"
broom,272,"Fixed `tidy.manova` to use correct column name for test (previously, always `pillai`)"
broom,273,Added `kde_tidiers` to tidy kernel density estimates
broom,274,Added `orcutt_tidiers` to tidy the results of `cochrane.orcutt` orcutt package
broom,275,Added `tidy.dist` to tidy the distance matrix output of `dist` from the stats package
broom,276,Added `tidy` and `glance` for `lmodel2` objects from the lmodel2 package
broom,277,Added tidiers for `poLCA` objects from the poLCA package
broom,278,Added tidiers for sparse matrices from the Matrix package
broom,279,Added tidiers for `prcomp` objects
broom,280,Added tidiers for `Mclust` objects from the Mclust package
broom,281,Added tidiers for `acf` objects
broom,282,"Fixed to be compatible with dplyr 0.5, which is being submitted to CRAN"
broom,283,"Added tidiers for geeglm, nlrq, roc, boot, bgterm, kappa, binWidth, binDesign, rcorr, stanfit, rjags, gamlss, and mle2 objects."
broom,284,"Added `tidy` methods for lists, including u, d, v lists from `svd`, and x, y, z lists used by `image` and `persp`"
broom,285,"Added `quick` argument to `tidy.lm`, `tidy.nls`, and `tidy.biglm`, to create a smaller and faster version of the output."
broom,286,"Changed `rowwise_df_tidiers` to allow the original data to be saved as a list column, then provided as a column name to `augment`. This required removing `data` from the `augment` S3 signature. Also added `tests-rowwise.R`"
broom,287,Fixed various issues in ANOVA output
broom,288,Fixed various issues in lme4 output
broom,289,Fixed issues in tests caused by dev version of ggplot2
broom,290,"Added tidiers for ""plm"" (panel linear model) objects from the plm package."
broom,291,Added `tidy.coeftest` for coeftest objects from the lmtest package.
broom,292,"Set up `tidy.lm` to work with ""mlm"" (multiple linear model) objects (those with multiple response columns)."
broom,293,"Added `tidy` and `glance` for ""biglm"" and ""bigglm"" objects from the biglm package."
broom,294,Fixed bug in `tidy.coxph` when one-row matrices are returned
broom,295,Added `tidy.power.htest`
broom,296,Added `tidy` and `glance` for `summaryDefault` objects
broom,297,"Added tidiers for ""lme"" (linear mixed effects models) from the nlme package"
broom,298,Added `tidy` and `glance` for `multinom` objects from the nnet package.
broom,299,"Fixed bug in `tidy.pairwise.htest`, which now can handle cases where the grouping variable is numeric."
broom,300,Added `tidy.aovlist` method. This added `stringr` package to IMPORTS to trim whitespace from the beginning and end of the `term` and `stratum` columns. This also required adjusting `tidy.aov` so that it could handle strata that are missing p-values.
broom,301,Set up `glance.lm` to work with `aov` objects along with `lm` objects.
broom,302,"Added `tidy` and `glance` for matrix objects, with `tidy.matrix` converting a matrix to a data frame with rownames included, and `glance.matrix` returning the same result as `glance.data.frame`."
broom,303,Changed DESCRIPTION Authors@​R to new format
broom,304,Fixed small bug in `felm` where the `.fitted` and `.resid` columns were matrices rather than vectors.
broom,305,"Added tidiers for `rlm` (robust linear model) and `gam` (generalized additive model) objects, including adjustments to ""lm"" tidiers in order to handle them. See `?rlm_tidiers` and `?gam_tidiers` for more."
broom,306,Removed rownames from `tidy.cv.glmnet` output
broom,307,"The behavior of `augment`, particularly with regard to missing data and the `na.exclude` argument, has through the use of the `augment_columns` function been made consistent across the following models:"
broom,308,`lm`
broom,309,`glm`
broom,310,`nls`
broom,311,`merMod` (`lme4`)
broom,312,`survreg` (`survival`)
broom,313,`coxph` (`survival`)
broom,314,"`tidy`, `augment` and `glance` methods were added for `rowwise_df` objects, and are set up to apply across their rows. This allows for simple patterns such as:"
broom,315,"Added `tidy` and `glance` methods for `Arima` objects, and `tidy` for `pairwise.htest` objects."
broom,316,"Fixes for CRAN: change package description to title case, removed NOTES, mostly by adding `globals.R` to declare global variables."
broom,317,This is the original version published on CRAN.
broom,318,Tidiers have been added for S3 objects from the following packages:
broom,319,`lme4`
broom,320,`glmnet`
broom,321,`survival`
broom,322,`zoo`
broom,323,`felm`
broom,324,`MASS` (`ridgelm` objects)
broom,325,"`tidy` and `glance` methods for data.frames have also been added, and `augment.data.frame` produces an error (rather than returning the same data.frame)."
broom,326,`stderror` has been changed to `std.error` (affects many functions) to be consistent with broom's naming conventions for columns.
broom,327,"A function `bootstrap` has been added based on [this example](https://github.com/tidyverse/dplyr/issues/269), to perform the common use case of bootstrapping models."
broom,328,"Added ""augment"" S3 generic and various implementations. ""augment"" does something different from tidy: it adds columns to the original dataset, including predictions, residuals, or cluster assignments. This was originally described as ""fortify"" in ggplot2."
broom,329,"Added ""glance"" S3 generic and various implementations. ""glance"" produces a *one-row* data frame summary, which is necessary for tidy outputs with values like R\^2 or F-statistics."
broom,330,Re-wrote intro broom vignette/README to introduce all three methods.
broom,331,Wrote a new kmeans vignette.
broom,332,"Added tidying methods for multcomp, sp, and map objects (from fortify-multcomp, fortify-sp, and fortify-map from ggplot2)."
broom,333,"Because this integrates substantial amounts of ggplot2 code (with permission), added Hadley Wickham as an author in DESCRIPTION."
cli,1,"`ansi_collapse(x, trunc = 1, style = ""head"")` now indeed show one element if `length(x) == 2`, as documented (@​salim-b, #572)."
cli,2,"`ansi_collapse()` gains a `sep2` argument to specify a seperate separator for length-two inputs. It defaults to `"" and ""` which, in conjunction with the other defaults, produces a collapsed string that fully adheres to the [serial comma](https://en.wikipedia.org/wiki/Serial_comma) rules. (@​salim-b, #569)"
cli,3,"`ansi_string()` is now an exported function (@​multimeric, #573)."
cli,4,ANSI hyperlinks are now turned off on the RStudio render plane (#581).
cli,5,"The progressr progress handler now reports progress correctly (@​HenrikBengtsson, #558)."
cli,6,"New `hash_*sha1()` functions to calculate the SHA-1 hash of strings, objects, files."
cli,7,"cli now shows progress bars after one second by default, if they are less than half way at the point. (Or after two seconds, unconditionally, as before.) See the the `cli.progress_show_after` option in `?cli-config` for details (#542)."
cli,8,"`format_inline()` now has a new argument `keep_whitespace`, and it keeps whitespace, including newline and form feed characters by default."
cli,9,New `keypress()` function to read a single key press from a terminal.
cli,10,New function `pretty_print_code()` to print function objects with syntax highlighting at the R console.
cli,11,`col_*` and `bg_*` functions how handle zero-length input correctly (#532).
cli,12,New function `ansi_collapse()` to collapse character vectors into a single string.
cli,13,"`ansi_strtrim()` now handles some edge cases better, when `ellipsis` has length zero, and when it is wider than `width`."
cli,14,New `hash_file_md5()` function to calculate the MD5 hash of one or more files.
cli,15,cli has better error messages now.
cli,16,"New `format_inline()` argument: `collapse`, to collapse multi-line output, potentially because of `\f` characters."
cli,17,New experimental styles to create ANSI hyperlinks in RStudio and terminals that support them. See `?cli::links` for details (#513).
cli,18,Expressions that start and end with a `{}` substitution are now styled correctly. E.g. `{.code {var1} + {var2}}` (#517).
cli,19,New `{.obj_type_friendly}` inline style to format the type of an R object in a user friendly way (#463).
cli,20,"Improved vector collapsing behavior. cli now shows both the beginning and end of the collapsed vector, by default (#419)."
cli,21,Nested `cli()` calls work now (#497).
cli,22,Return values now work as they should within `cli()` calls (#496).
cli,23,"Style attributes with underscores have new names with dashes instead: `vec_sep`, `vec_last`, `vec_trunc`, `string-quote`. The old names still work, but the new ones take precedence (#483)."
cli,24,cli now does not crash at the end of the R session on Arm Windows (#494; @​kevinushey)
cli,25,"Vectors are truncated at 20 elements now by default, instead of 100 (#430)."
cli,26,"20 new spinners from the awesome [cli-spinners](https://github.com/sindresorhus/cli-spinners) package, and from @​HenrikBengtsson in #469. Run this to demo them, some need UTF-8 and emoji support:"
>>>>>>> 1b8eb09 (fix bugs and update tests)
cli,26,"```
>>>>>>> 9592342 (make remove_old_bullets() more intelligent)
new <- c(""dots13"", ""dots8Bit"", ""sand"", ""material"", ""weather"", ""christmas"",
  ""grenade"", ""point"", ""layer"", ""betaWave"", ""fingerDance"", ""fistBump"",
  ""soccerHeader"", ""mindblown"", ""speaker"", ""orangePulse"", ""bluePulse"",
  ""orangeBluePulse"", ""timeTravel"", ""aesthetic"", ""growVeriticalDotsLR"",
  ""growVeriticalDotsRL"", ""growVeriticalDotsLL"", ""growVeriticalDotsRR"")
demo_spinners(new)
```"
cli,27,cli exit handlers are now compatible again with the withr package (#437).
cli,28,cli functions now keep trailing `\f` characters as newlines. They also keep multiple consecutive `\f` as multiple newlinees (#491).
cli,29,"`{}` substitutions within inline styles are now formatted correctly. E.g. `{.code download({url})}` will not add backticks to `url`, and `{.val pre-{x}-post}` will format the whole value instead of `x`. (#422, #474)."
cli,30,"cli now replaces newline characters within `{.class ... }` inline styles with spaces. If the `cli.warn_inline_newlines` option is set to TRUE, then it also throws a warning. (#417)."
cli,31,"`code_highlight` now falls back to the default theme (instead of no theme) for unknown RStudio themes (#482, @​rossellhayes)."
cli,32,`cli_abort()` now supplies `.frame` to `abort()`. This fixes an issue with the `.internal = TRUE` argument (r-lib/rlang#1386).
cli,33,"cli now does a better job at detecting the RStudio build pane, job pane and render pane, and their capabilities w.r.t. ANSI colors and hyperlinks. Note that this requires a daily build of RStudio (#465)."
cli,34,"New functions for ANSI strings: `ansi_grep()`, `ansi_grepl()`, `ansi_nzchar()`. They work like the corresponding base R functions, but handle ANSI markup."
cli,35,"`style_hyperlink()` (really) no longer breaks if the env variable `VTE_VERSION` is of the form `\d{4}`, i.e., 4 consecutive numbers (#441, @​michaelchirico)"
cli,36,`cli_dl()` and its corresponding `cli_li()` can now style the labels.
cli,37,"The behavior cli's inline styling expressions is now more predictable. cli does not try to evaluate a styled string as an R expression any more. E.g. the meaning of `""{.emph +1}""` is now always the ""+1"", with style `.emph`, even if an `.emph` variable is available and the `.emph + 1` expression can be evaluated."
cli,38,"Functions that apply bright background colors (e.g. `bg_br_yellow()`) now close themselves. They no longer format text after the end of the function (#484, @​rossellhayes)."
cli,39,"`style_hyperlink()` no longer breaks if the env variable `VTE_VERSION` is of the form `\d{4}`, i.e., 4 consecutive numbers (#441, @​michaelchirico)"
cli,40,`ansi_*()` functions support ANSI hyperlinks again (#444).
cli,41,Turning off ANSI colors via the `cli.num_colors` option or the `R_CLI_NUM_COLORS` or the `NO_COLOR` environment variable now also turns off ANSI hyperlinks (#447).
cli,42,`symbol` now only has two variants: UTF-8 and ASCII. There are no special variants for RStudio and Windows RGui any more (#424).
cli,43,"The `cli_theme_dark` option is now known as `cli.theme_dark`, to be consistent with all other cli option names (#380)."
cli,44,"The preferred names of the S3 classes `ansi_string`, `ansi_style`, `boxx`, `rule` and `tree` now have `cli_` prefix: `cli_ansi_string`, etc. This will help avoiding name conflicts with other packages eventually, but for now the old names are kept as well, for compatibility."
cli,45,`cli_abort()` has been updated to work nicely with rlang 1.0. The default `call` and backtrace soft-truncation are set to `.envir` (which itself is set to the immediate caller of `cli_abort()` by default). Line formatting now happens lazily at display time via `rlang::cnd_message()` (which is called by the `conditionMessage()` method for rlang errors).
cli,46,"New `hash_sha256()` function to calculate SHA-256 hashes. New `hash_raw_*()`, `hash_obj_*()` and `hash_file_*()` functions to calculate various hashes of raw vectors, R objects and files."
cli,47,"You can use the new `cli.default_num_colors` option to set the default number of ANSI colors, only if ANSI support is otherwise detected. See the details in the manual of `num_ansi_colors()`."
cli,48,You can set the new `ESS_BACKGROUND_MODE` environment variable to `dark` to indicate dark mode.
cli,49,cli now handles quotes and comment characters better in the semantion `cli_*()` functions that perform glue string interpolation (#370).
cli,50,`style_hyperlink()` gains a `params=` argument (#384).
cli,51,The C progress bar API now uses `double` instead of `int` as the data type of the progress units (#335).
cli,52,Several improvements and changes in the `ansi_*()` functions:
cli,53,most `ansi_*()` functions are now implemented in C and they are much faster (#316).
cli,54,they handle `NA` values better.
cli,55,"many functions now use UTF-8 graphemes by default instead of code points. E.g. `ansi_nchar()` counts graphemes, etc."
cli,56,they convert their input to UTF-8 and always return UTF-8 encoded strings.
cli,57,new function `ansi_simplify()` to remove superfluous ANSI tags.
cli,58,new function `ansi_html()` to convert ANSI-highlighted strings to HTML.
cli,59,"`ansi_has_any()` and `ansi_strip()` now have `sgr` and `csi` arguments to look for SGR tags, CSI tags, or both."
cli,60,"New functions that handle UTF-8 encoded strings correctly: `utf8_graphemes()`, `utf8_nchar()`, `utf8_substr()`."
cli,61,"Support for palettes, including a colorblind friendly palette. See `?ansi_palettes` for details."
cli,62,"True color support: `num_ansi_colors()` now detects terminals with 24 bit color support, and `make_ansi_style()` uses the exact RGB colors on these terminals (#208)."
cli,63,The new `col_br_*()` and `bg_br_()` functions create bright versions of eight base ANSI colors (#327).
cli,64,"New function `code_highlight()` to syntax highlight R code. It supports several themes out of the box, see `code_theme_list()` (#348)."
cli,65,"New functions for hashing: `hash_animal()`, `hash_emoji()` and `hash_md5()`."
cli,66,New `diff_chr()` and `diff_str()` functions to calculate the difference of character vectors and letters of strings.
cli,67,"Progress bars with `clear = FALSE` now print the last, completed, state properly."
cli,68,The progress bar for Shiny apps now handles output from `cli_progress_output()`.
cli,69,Progress variables in C `format_done` strings work correctly now (#337).
cli,70,"`cli_dl()` now works with an empty description, and gives a better error for invalid input (#347)."
cli,71,`rule()` is now works better if the labels have ANSI markup.
cli,72,`cli_spark` objects now have `format()` and `print()` methods.
cli,73,`cli_process_done()` now does not error without a process (#351).
cli,74,ANSI markup is now supported in RStudio jobs (#353).
cli,75,The lack of ANSI support is now again correctly detected if there is an active `sink()` (#366).
cli,76,`ansi_strtrim()` now correctly keeps `NA` values (#309).
cli,77,"`format_inline()` now uses the correct environment (@​rundel, #314)."
cli,78,"New functions for progress bars, please see the new articles at https://cli.r-lib.org/articles/ for details."
cli,79,"New `cli_abort()`, `cli_warn()` and `cli_inform()` functions, to throw errors with cli pluralization and styling."
cli,80,New `format_inline()` function to format a cli string without emitting it (#278).
cli,81,New `style_no_*()` functions to locally undo styling. New `col_none()` and `bg_none()` functions to locally undo text color and background color.
cli,82,"It is now possible to undo text and background color in a theme, by setting them to `NULL` or `""none""`."
cli,83,"`cli_memo()` was renamed to `cli_bullets()`, as it is by default formatted as a bullet list (#250)."
cli,84,"New `ansi_toupper()`, `ansi_tolower` and `ansi_chartr()` functions, the ANSI styling aware variants of `toupper()`, `tolower()` and `chartr()` (#248)."
cli,85,New `test_that_cli()` helper function to write testthat tests for cli output.
cli,86,`tree()` now does not produce warnings for tibbles (#238).
cli,87,"New inline style: `.cls` to format class names, e.g. `""{.var fit} must be an {.cls lm} object""`."
cli,88,New `cli_memo()` function to create a list of items or tasks.
cli,89,New `cli::cli()` function to create a single cli message from multiple cli calls (#170).
cli,90,"cli now highlights weird names, e.g. path names with leading or trailing space (#227)."
cli,91,"Styling is fixed at several places. In particular, nested lists should be now formatted better (#221)."
cli,92,New `spark_bar()` and `spark_line()` functions to draw small bar or line charts.
cli,93,"ANSI color support detection works correctly now in older RStudio, and also on older R versions."
cli,94,"`cli_h1()`, `cli_h2()` and `cli_h3()` now work with multiple glue substitutions (#218)."
cli,95,`boxx()` now correctly calculates the width of the box for non-ASCII characters.
cli,96,"New `ansi_trimws()` and `ansi_strwrap()` functions, they are similar to `trimws()` and `strwrap()` but work on ANSI strings."
cli,97,New `ansi_columns()` function to format ANSI strings in multiple columns.
cli,98,"`ansi_substr()`, `ansi_substring()`, `ansi_strsplit()`, `ansi_align()` now always return `cli_ansi_string` objects."
cli,99,"`ansi_nchar()`, `ansi_align()`, `ansi_strtrim()` and the new `ansi_strwrap()` as well handle wide Unicode correctly, according to their display width."
cli,100,`boxx()` can now add headers and footers to boxes.
cli,101,"New `style_hyperlink()` function to add hyperlinks, on terminals that support them."
cli,102,"`cli_format_method()` now works properly in knitr, and other environments that catch message conditions (#159)."
cli,103,"ANSI strings created by `col_*`, `bg_*` and `style_*` now also add the `character` class to the result. This fixes issues with code that expect `character` objects."
cli,104,"New functions to manipulate ANSI strings: `ansi_aling()`, `ansi_has_any()`, `ansi_nchar()`, `ansi_regex()`, `ansi_strip()`, `ansi_strsplit()`, `ansi_substr()`, `ansi_substring()`."
cli,105,New `cli_vec()` function to allow easier formatting of collapsed vectors. It is now also possible to use styling to set the collapsing parameters (#129).
cli,106,New `pluralize()` function to perform pluralization without generating cli output (#155).
cli,107,"`console_width()` works better now in RStudio, and also in terminals."
cli,108,"Styling of verbatim text work properly now (#147, @​tzakharko)."
cli,109,"Messages (i.e. `message` conditions) coming from cli now have the `cliMessage` class, so you can easily suppress them without suppressing other messages (#156)."
cli,110,"cli prints the output to `stderr()` now, if there is an output or message sink. This is to make interactive and non-interactive sessions consistent (#153)."
cli,111,Pluralization works correctly now if the last alternative is the empty string (#158).
cli,112,cli now caches the result of the dark background detection in iTerm on macOS. Reload cli to delete the cache (#131).
cli,113,"The `is_dynamic_tty()`, `is_ansi_tty()` and `ansi_hide_cursor()` and related functions now default to the `""auto""` stream, which is automatically selected to be either `stdout()` or `stderr()`. See the manual for details (#144)."
cli,114,"The default theme now quotes file names, paths, email addresses if they don't start or end with an alphanumeric character or a slash. This is to make it easier to spot names that start or end with a space (#167)."
cli,115,"`make_spinner()` clears the line properly now (@​tzakharko, #164)."
cli,116,"Semantic cli functions now automatically replace Unicode non-breaking space characters (`\u00a0`) with regular space characters, right before output. They are still used to calculate the line breaks, but not outputted (#161)."
cli,117,"Progress bars now respect `is_dynamic_tty()` and do not output `\r` when this is false (@​jimhester, #177)"
cli,118,The status bar now does not simplify multiple spaces by a single space.
cli,119,cli now does not crash if it fails to detect whether the RStudio theme is a dark theme (#138).
cli,120,"cli now works better with wide Unicode characters, for example emojis. In particular, a status bar containing emojis is cleared properly (#133)."
cli,121,"The status bar now does not flicker when updated, in terminals (#135)."
cli,122,Symbols (`symbol$*`) are now correctly printed in RStudio on Windows (#124).
cli,123,"The default theme for `cli_code()` output looks better now, especially in RStudio (#123)."
cli,124,"Remove spurious newline after a `cli_process_start()` was cleared manually, and also at the end of the function."
cli,125,"Use Oxford comma when listing 3 or more items (@​jonocarroll, #128)."
cli,126,"Fix a bug in `is_dynamic_tty()`, setting `R_CLI_DYNAMIC=""FALSE""` now properly turns dynamic tty off (#70)."
cli,127,"cli has now functions to add ANSI styles to text. These use the crayon package internally, and provide a simpler interface. See the `col_*`, `bg_*`, `style_*` and also the `make_ansi_style()` and `combine_ansi_styles()` functions (#51)."
cli,128,New `is_dynamic_tty()` function detects if `\r` should be used for a stream (#62).
cli,129,New `is_ansi_tty()` function detects if ANSI control sequences can be used for a stream.
cli,130,"New `ansi_hide_cursor()`, `ansi_show_cursor()` and `ansi_with_hidden_cursor()` functions to hide and show the cursor in terminals."
cli,131,New `make_spinner()` function helps integrating spinners into your functions.
cli,132,Now `symbol` always uses ASCII symbols when the `cli.unicode` option is set to `FALSE`.
cli,133,"New `cli_sitrep()` function, situation report about UTF-8 and ANSI color support (#53)."
cli,134,"Fall back to ASCII only characters on non-Windows platforms without UTF-8 support, and also in LaTeX when running knitr (#34)."
crayon,24,`col_strsplit` and `col_substr` corner cases:
crayon,25,"handle empty chunks at beginning or end of strings like `base::strsplit` (@​brodieG, #26)"
crayon,26,explicitly deal with 'split' values that are not length 1 as that is not currently supported
crayon,27,"handle zero length `x` argument in `col_substr`, and add more explicit error messages for corner cases"
dbplyr,1,"Functions qualified with the base namespace are now also translated, e.g. `base::paste0(x, ""_1"")` is now translated (@​mgirlich, #1022)."
dbplyr,2,`lead()` translation coerces `n` to an integer.
dbplyr,3,"`sql_translator()` now checks for duplicated definitions (@​krlmlr, #1374)."
dbplyr,4,`reframe()` now gives an informative error that it isn't supported (#1148).
dbplyr,5,MySQL/MariaDB:
dbplyr,6,"Fix translation of `as.integer()` for MySQL (@​krlmlr, #1375)."
dbplyr,7,"New `simulate_mariadb()` (@​krlmlr, #1375)."
dbplyr,8,Oracle
dbplyr,9,Fix translation of `as.Date()` applied to a string (#1389).
dbplyr,10,"Using `compute(temporary = FALSE)` without providing a name is now deprecated (@​mgirlich, #1154)."
dbplyr,11,"`ntile()`'s first argument has been renamed from `order_by` to `x` to match the interface of `dplyr::ntile()` (@​mgirlich, #1242)."
dbplyr,12,"`simulate_vars()` and `simulate_vars_is_typed()` were removed as they weren't used and tidyselect now offers `tidyselect_data_proxy()` and `tidyselect_data_has_predicates()` (@​mgirllich, #1199)."
dbplyr,13,`sql_not_supported()` now expects a function name without parentheses.
dbplyr,14,"`sql_query_append()`, `sql_query_insert()`, `sql_query_update()`, `sql_query_upsert()`, and `sql_query_delete()` changed their arguments to make them more consistent to the other `sql_query_*()` functions:"
dbplyr,15,`x_name` was renamed to `table`.
dbplyr,16,`y` was renamed to `from` and must now be a table identifier or SQL instead of a lazy table.
dbplyr,17,`sql_query_append()` and `sql_query_insert()` have gained the argument `cols`.
dbplyr,18,"`remote_name()` now returns a string with the name of the table. To get the qualified identifier use the newly added `remote_table()` (@​mgirlich, #1280)."
dbplyr,19,"`tbl_lazy()` loses `src` argument after it has been deprecated for years (@​mgirlich, #1208)."
dbplyr,20,"`translate_sql()` now requires the `con` argument (@​mgirlich, #1311). The `vars` argument has been removed after it threw an error for the last 7 years (@​mgirlich)."
dbplyr,21,Preliminary databricks Spark SQL backend (#1377).
dbplyr,22,Joins
dbplyr,23,"`*_join()` after `full_join()` works again (@​mgirlich, #1178)."
dbplyr,24,"`*_join()` now allows specifying the relationship argument. It must be `NULL` or `""many-to-many""` (@​bairdj, #1305)."
dbplyr,25,"Queries now qualify `*` with the table alias for better compatibility (@​mgirlich, #1003)."
dbplyr,26,"`full_join()` can now handle column names that only differ in case (@​ejneer, #1255)."
dbplyr,27,"The `na_matches` argument of `semi_join()` and `anti_join()` works again (@​mgirlich, #1211)."
dbplyr,28,"A `semi/anti_join()` on fitlered `y` is inlined when possible (@​mgirlich, #884)."
dbplyr,29,"Joins now work again for Pool and Oracle connections (@​mgirlich, #1177, #1181)."
dbplyr,30,"A sequence of `union()` resp. `union_all()` now produces a flat query instead of subqueries (@​mgirlich, #1269)."
dbplyr,31,Added translations for:
dbplyr,32,"`nzchar()` (@​MichaelChirico, @​mgirlich, #1094)."
dbplyr,33,"`str_detect()`, `str_starts()` and `str_ends()` with fixed patterns (@​mgirlich, #1009)."
dbplyr,34,"`runif()` (@​mgirlich, #1200)."
dbplyr,35,"`if_any()` and `if_all()` translations are now wrapped in parentheses. This makes sure it can be combined via `&` with other conditions (@​mgirlich, #1153)."
dbplyr,36,"`nth()`, `first()`, and `last()` now support the `na_rm` argument (@​mgirlich, #1193)."
dbplyr,37,"`across()` now supports namespaced functions, e.g. `across(x, dplyr::dense_rank)` (@​mgirlich, #1231)."
dbplyr,38,`db_copy_to(overwrite = TRUE)` now actually works.
dbplyr,39,"`db_copy_to()`'s `...` are now passed to `db_write_table()` (@​mgirlich, #1237)."
dbplyr,40,Added `db_supports_table_alias_with_as()` to customise whether a backend supports specifying a table alias with `AS` or not (@​mgirlich).
dbplyr,41,`db_write_table()` and `db_save_query()` gain the `overwrite` argument.
dbplyr,42,`dbplyr_pivot_wider_spec()` is now exported. Unlike `pivot_wider()` this can be lazy. Note that this will be removed soon after `pivot_wider_spec()` becomes a generic (@​mgirlich).
dbplyr,43,"`filter()`ing with window functions now generates columns called `col01` rather than `q01` (@​mgirlich, #1258)."
dbplyr,44,`pivot_wider()` now matches tidyr `NA` column handling (@​ejneer #1238).
dbplyr,45,"`select()` can once again be used after `arrange(desc(x))` (@​ejneer, #1240)."
dbplyr,46,`show_query()` and `remote_query()` gain the argument `sql_options` that allows to control how the SQL is generated. It can be created via `sql_options()` which has the following arguments:
dbplyr,47,`cte`: use common table expressions?
dbplyr,48,`use_star`: use `SELECT *` or explicitly select every column?
dbplyr,49,"`qualify_all_columns`: qualify all columns in a join or only the ambiguous ones? (@​mgirlich, #1146). Consequently the `cte` argument of `show_query()` and `remote_query()` has been deprecated (@​mgirlich, #1146)."
dbplyr,50,"`slice_min/max()` can now order by multiple variables like dplyr, e.g. use `slice_min(lf, tibble(x, y))` (@​mgirlich, #1167)."
dbplyr,51,"`slice_*()` now supports the data masking pronouns `.env` and `.data` (@​mgirlich, #1294)."
dbplyr,52,`sql_join_suffix()` gains the argument `suffix` so that methods can check whether the suffix is valid for the backend (@​mgirlich).
dbplyr,53,"`sql_random()` is now deprecated. It was used to power `slice_sample()` which is now done via the translation for `runif()` (@​mgirlich, #1200)."
dbplyr,54,"`tbl()` now informs when the user probably forgot to wrap the table identifier with `in_schema()` or `sql()` (@​mgirlich, #1287)."
dbplyr,55,Access
dbplyr,56,"Added translation for `!=` to `<>` (@​erikvona, #1219)."
dbplyr,57,DuckDB
dbplyr,58,now supports the `returning` argument of `rows_*()`.
dbplyr,59,MySQL/MariaDB:
dbplyr,60,"`rows_update()` and `rows_patch()` now give an informative error when the unsupported `returning` argument is used (@​mgirlich, #1279)."
dbplyr,61,"`rows_upsert()` now gives an informative error that it isn't supported (@​mgirlich, #1279)."
dbplyr,62,"`rows_*()` use the column types of `x` when auto copying `y` (@​mgirlich, #1327)."
dbplyr,63,"`copy_inline()` now works (@​mgirlich, #1188)."
dbplyr,64,"Fix translation of `as.numeric()`, `as.POSIXct()`, `as_datetime()`, and `as.integer64()` (@​avsdev-cw, #1189)."
dbplyr,65,MS SQL:
dbplyr,66,"`row_number()` now works when no order is specified (@​ejneer, @​fh-mthomson, #1332)"
dbplyr,67,Oracle:
dbplyr,68,"Fix translation of `rows_upsert()` (@​mgirlich, @​TBlackmore, #1286)"
dbplyr,69,"`head(n)` is now translated to `WHERE ROWNUM <= n` to also support old versions \<= 11.2 (@​JeremyPasco, #1292)."
dbplyr,70,Postgres
dbplyr,71,"The `rows_*()` functions now also work inside a transaction (@​mgirlich, #1183)."
dbplyr,72,SQLite
dbplyr,73,Subqueries now also get an alias. This makes it consistent with other backends and simplifies the implementation.
dbplyr,74,SQL Server
dbplyr,75,"`distinct(.keep_all = TRUE)` now works (@​mgirlich, #1053)."
dbplyr,76,"The translation of `between()` now also works when used in `mutate()` (@​mgirlich, #1241)."
dbplyr,77,"`any()` and `all()` now work (@​ejneer, #1273)."
dbplyr,78,"Fixed negation of bit (boolean) fields (@​ejneer, #1239)"
dbplyr,79,Snowflake:
dbplyr,80,"`na.rm = TRUE` is now respected in `pmin()` and `pmax()` instead of being silently ignored (@​fh-mthomson, #1329)"
dbplyr,81,"`row_number()` now works when no order is specified (@​fh-mthomson, #1332)"
dbplyr,82,Teradata
dbplyr,83,"`distinct()` + `head()` now work (@​mgirlich, #685)."
dbplyr,84,"`as.Date(x)` is now translate to `CAST(x AS DATE)` again unless `x` is a string (@​mgirlich, #1285)."
dbplyr,85,"`row_number()` no longer defaults to partitioning by groups (now aligned with other databases when no order is specified: `ROW_NUMBER()` defaults to `ORDER BY (SELECT NULL)`) (@​fh-mthomson, #1331)"
dbplyr,86,Hot patch release to resolve R CMD check failures.
dbplyr,87,Hot patch to fix R CMD check issues
dbplyr,88,Hot patch to fix R CMD check issues
dbplyr,89,"`window_order()` now only accepts bare symbols or symbols wrapped in `desc()`. This breaking change is necessary to allow `select()` to drop and rename variables used in `window_order()` (@​mgirlich, #1103)."
dbplyr,90,"`quantile()` and `median()` now error for SQL Server when used in `summarise()` and for PostgreSQL when used in `mutate()` as they can't be properly translated (@​mgirlich, #1110)."
dbplyr,91,Added an informative error for unsupported join arguments `unmatched` and `multiple` (@​mgirlich).
dbplyr,92,"Using predicates, e.g. `where(is.integer)`, in `across()` now produces an error as they never worked anyway (@​mgirlich, #1169)."
dbplyr,93,"Catch unsupported argument `pivot_wider(id_expand = TRUE)` and `pivot_longer(cols_vary)` (@​mgirlich, #1109)."
dbplyr,94,"Fixed an issue when using a window function after a `summarise()` and `select()` (@​mgirlich, #1104)."
dbplyr,95,"Fixed an issue when there where at least 3 joins and renamed variables (@​mgirlich, #1101)."
dbplyr,96,"`mutate()` and `select()` after `distinct()` now again produce a subquery to generate the correct translation (@​mgirlich, #1119, #1141)."
dbplyr,97,"Fixed an issue when using `filter()` on a summarised variable (@​mgirlich, #1128)."
dbplyr,98,"`mutate()` + `filter()` now again produces a new query if the `mutate()` uses a window function or SQL (@​mgirlich, #1135)."
dbplyr,99,"`across()` and `pick()` can be used (again) in `distinct()` (@​mgirlich, #1125)."
dbplyr,100,"The `rows_*()` function work again for tables in a schema in PostgreSQL (@​mgirlich, #1133)."
dbplyr,101,"`sql()` now evaluates its arguments locally also when used in `across()` (@​mgirlich, #1039)."
dbplyr,102,"The rank functions (`row_number()`, `min_rank()`, `rank()`, `dense_rank()`, `percent_rank()`, and `cume_dist()`) now support multiple variables by wrapping them in `tibble()`, e.g. `rank(tibble(x, y))` (@​mgirlich, #1118)."
dbplyr,103,"`pull()` now supports the argument `name` (@​mgirlich, #1136)."
dbplyr,104,"Added support for `join_by()` added in dplyr 1.1.0 (@​mgirlich, #1074)."
dbplyr,105,Using `by = character()` to perform a cross join is now soft-deprecated in favor of `cross_join()`.
dbplyr,106,"`full_join()` and `right_join()` are now translated directly to `FULL JOIN` and `RIGHT JOIN` for SQLite as native support was finally added (@​mgirlich, #1150)."
dbplyr,107,"`case_match()` now works with strings on the left hand side (@​mgirlich, #1143)."
dbplyr,108,"The rank functions (`row_number()`, `min_rank()`, `rank()`, `dense_rank()`, `percent_rank()`, and `cume_dist()`) now work again for variables wrapped in `desc()`, e.g. `row_number(desc(x))` (@​mgirlich, #1118)."
dbplyr,109,"Moved argument `auto_index` after `...` in `*_join()` (@​mgirlich, #1115)."
dbplyr,110,"Removed dependency on assertthat (@​mgirlich, #1112)."
dbplyr,111,"`across()` now uses the original value when a column is overridden to match the behaviour of dplyr. For example `mutate(df, across(c(x, y), ~ .x / x))` now produces"
dbplyr,111,"```
SELECT `x` / `x` AS `x`, `y` / `x` AS `y`
FROM `df`
<<<<<<< HEAD
<<<<<<< HEAD
```"
dbplyr,111,ffbfd1a3442e8513e0cad384dcf8760d,instead of
dbplyr,111,ffbfd1a3442e8513e0cad384dcf8760d,"```
>>>>>>> 7d44e32 (update lua filter to strip URLs from links)
=======
```"
dbplyr,111,instead of
=======
```"
dbplyr,111,instead of
>>>>>>> 1b8eb09 (fix bugs and update tests)
dbplyr,111,"```
>>>>>>> 9592342 (make remove_old_bullets() more intelligent)
SELECT `x`, `y` / `x` AS `y`
FROM (
  SELECT `x` / `x` AS `x`, `y`
  FROM `df`
) 
<<<<<<< HEAD
<<<<<<< HEAD
```"
<<<<<<< HEAD
dbplyr,5,f8727655923321e58ecf929362af640f,"(@​mgirlich, #1015)."
dbplyr,6,87c1e220f9a433c76f1ff196d2f85817,"Compatibility with purrr 1.0.0 (@​mgirlich, #1085)."
dbplyr,1,d98d06668cd5a9df09014fdf0bce5307,"Moved argument `auto_index` after `...` in `*_join()` (@​mgirlich, #1115)."
dbplyr,2,9ba90983899440eefc9d282294482b84,"Removed dependency on assertthat (@​mgirlich, #1112)."
dbplyr,3,2f55564766edc9d04d742c1ef90d978a,"Catch unsupported argument `pivot_wider(id_expand = TRUE)` and `pivot_longer(cols_vary)` (@​mgirlich, #1109)."
dbplyr,4,0c7762ee43811ee9012ef8aac13c0815,"Fixed an issue when using a window function after a `summarise()` and `select()` (@​mgirlich, #1104)."
dbplyr,5,6f5b38acb60f74d23acb11b14f096f5f,"Fixed an issue when there where at least 3 joins and renamed variables (@​mgirlich, #1101)."
dbplyr,6,f8727655923321e58ecf929362af640f,"`across()` now uses the original value when a column is overriden to match the behaviour of dplyr. For example `mutate(df, across(c(x, y), ~ .x / x))` now produces"
dbplyr,6,f8727655923321e58ecf929362af640f,"```
SELECT `x` / `x` AS `x`, `y` / `x` AS `y`
FROM `df`
```"
dbplyr,6,f8727655923321e58ecf929362af640f,instead of
dbplyr,6,f8727655923321e58ecf929362af640f,"```
SELECT `x`, `y` / `x` AS `y`
FROM (
  SELECT `x` / `x` AS `x`, `y`
  FROM `df`
) 
```"
dbplyr,6,f8727655923321e58ecf929362af640f,"(@​mgirlich, #1015)."
dbplyr,1,b67e7e9c14e35da0e97977862db4d716,"`mutate()` after `distinct()` now again produces a subquery to produce the correct result (@​mgirlich, #1119)."
dbplyr,2,d98d06668cd5a9df09014fdf0bce5307,"Moved argument `auto_index` after `...` in `*_join()` (@​mgirlich, #1115)."
dbplyr,3,9ba90983899440eefc9d282294482b84,"Removed dependency on assertthat (@​mgirlich, #1112)."
dbplyr,4,2f55564766edc9d04d742c1ef90d978a,"Catch unsupported argument `pivot_wider(id_expand = TRUE)` and `pivot_longer(cols_vary)` (@​mgirlich, #1109)."
dbplyr,5,0c7762ee43811ee9012ef8aac13c0815,"Fixed an issue when using a window function after a `summarise()` and `select()` (@​mgirlich, #1104)."
dbplyr,6,6f5b38acb60f74d23acb11b14f096f5f,"Fixed an issue when there where at least 3 joins and renamed variables (@​mgirlich, #1101)."
dbplyr,7,f8727655923321e58ecf929362af640f,"`across()` now uses the original value when a column is overriden to match the behaviour of dplyr. For example `mutate(df, across(c(x, y), ~ .x / x))` now produces"
dbplyr,7,f8727655923321e58ecf929362af640f,"```
SELECT `x` / `x` AS `x`, `y` / `x` AS `y`
FROM `df`
```"
dbplyr,7,f8727655923321e58ecf929362af640f,instead of
dbplyr,7,f8727655923321e58ecf929362af640f,"```
SELECT `x`, `y` / `x` AS `y`
FROM (
  SELECT `x` / `x` AS `x`, `y`
  FROM `df`
) 
```"
dbplyr,7,f8727655923321e58ecf929362af640f,"(@​mgirlich, #1015)."
dbplyr,1,2db7ba9bee40698a9dec629feeffcf29,"The rank functions (`row_number()`, `min_rank()`, `rank()`, `dense_rank()`, `percent_rank()`, and `cume_dist()`) now work again for variables wrapped in `desc()`, e.g. `row_number(desc(x))` (@​mgirlich, #1118)."
dbplyr,2,b67e7e9c14e35da0e97977862db4d716,"`mutate()` after `distinct()` now again produces a subquery to produce the correct result (@​mgirlich, #1119)."
dbplyr,3,d98d06668cd5a9df09014fdf0bce5307,"Moved argument `auto_index` after `...` in `*_join()` (@​mgirlich, #1115)."
dbplyr,4,9ba90983899440eefc9d282294482b84,"Removed dependency on assertthat (@​mgirlich, #1112)."
dbplyr,5,2f55564766edc9d04d742c1ef90d978a,"Catch unsupported argument `pivot_wider(id_expand = TRUE)` and `pivot_longer(cols_vary)` (@​mgirlich, #1109)."
dbplyr,6,0c7762ee43811ee9012ef8aac13c0815,"Fixed an issue when using a window function after a `summarise()` and `select()` (@​mgirlich, #1104)."
dbplyr,7,6f5b38acb60f74d23acb11b14f096f5f,"Fixed an issue when there where at least 3 joins and renamed variables (@​mgirlich, #1101)."
dbplyr,8,f8727655923321e58ecf929362af640f,"`across()` now uses the original value when a column is overriden to match the behaviour of dplyr. For example `mutate(df, across(c(x, y), ~ .x / x))` now produces"
dbplyr,8,f8727655923321e58ecf929362af640f,"```
SELECT `x` / `x` AS `x`, `y` / `x` AS `y`
FROM `df`
```"
dbplyr,8,f8727655923321e58ecf929362af640f,instead of
dbplyr,8,f8727655923321e58ecf929362af640f,"```
SELECT `x`, `y` / `x` AS `y`
FROM (
  SELECT `x` / `x` AS `x`, `y`
  FROM `df`
) 
```"
dbplyr,8,f8727655923321e58ecf929362af640f,"(@​mgirlich, #1015)."
dbplyr,1,0b3e1c0443e7f0a6a9fe30d534cc1dc8,"`across()` and `pick()` can be used (again) in `distinct()` (@​mgirlich, #1125)."
dbplyr,2,2db7ba9bee40698a9dec629feeffcf29,"The rank functions (`row_number()`, `min_rank()`, `rank()`, `dense_rank()`, `percent_rank()`, and `cume_dist()`) now work again for variables wrapped in `desc()`, e.g. `row_number(desc(x))` (@​mgirlich, #1118)."
dbplyr,3,b67e7e9c14e35da0e97977862db4d716,"`mutate()` after `distinct()` now again produces a subquery to produce the correct result (@​mgirlich, #1119)."
dbplyr,4,d98d06668cd5a9df09014fdf0bce5307,"Moved argument `auto_index` after `...` in `*_join()` (@​mgirlich, #1115)."
dbplyr,5,9ba90983899440eefc9d282294482b84,"Removed dependency on assertthat (@​mgirlich, #1112)."
dbplyr,6,2f55564766edc9d04d742c1ef90d978a,"Catch unsupported argument `pivot_wider(id_expand = TRUE)` and `pivot_longer(cols_vary)` (@​mgirlich, #1109)."
dbplyr,7,0c7762ee43811ee9012ef8aac13c0815,"Fixed an issue when using a window function after a `summarise()` and `select()` (@​mgirlich, #1104)."
dbplyr,8,6f5b38acb60f74d23acb11b14f096f5f,"Fixed an issue when there where at least 3 joins and renamed variables (@​mgirlich, #1101)."
dbplyr,9,f8727655923321e58ecf929362af640f,"`across()` now uses the original value when a column is overriden to match the behaviour of dplyr. For example `mutate(df, across(c(x, y), ~ .x / x))` now produces"
dbplyr,9,f8727655923321e58ecf929362af640f,"```
SELECT `x` / `x` AS `x`, `y` / `x` AS `y`
FROM `df`
```"
dbplyr,9,f8727655923321e58ecf929362af640f,instead of
dbplyr,9,f8727655923321e58ecf929362af640f,"```
SELECT `x`, `y` / `x` AS `y`
FROM (
  SELECT `x` / `x` AS `x`, `y`
  FROM `df`
) 
```"
dbplyr,9,f8727655923321e58ecf929362af640f,"(@​mgirlich, #1015)."
dplyr,1,5bc37d9db73bcf042ad0414739b19198,"[`.by`/`by`](https://dplyr.tidyverse.org/reference/dplyr_by.html) is an experimental alternative to `group_by()` that supports per-operation grouping for `mutate()`, `summarise()`, `filter()`, and the `slice()` family (#6528). Rather than:"
dplyr,1,5bc37d9db73bcf042ad0414739b19198,"```
=======
dbplyr,111,ffbfd1a3442e8513e0cad384dcf8760d,"(@​mgirlich, #1015)."
dbplyr,112,7802e252ff3591f03fbdd1da5e495c7e,"Restricted length of table aliases to avoid truncation on certain backends (e.g., Postgres) (@​fh-mthomson, #1096)"
dbplyr,113,87c1e220f9a433c76f1ff196d2f85817,"Compatibility with purrr 1.0.0 (@​mgirlich, #1085)."
dbplyr,114,38b6dc317401ffedba5f761521b8dfea,"`stringr::str_like()` (new in 1.5.0) is translated to the closest `LIKE` equivalent (@​rjpat, #509)"
dbplyr,115,6fd16141429afb18fc9d066ae032e237,In preparation for dplyr 1.1.0:
dbplyr,116,d2612e7da0a418c63ae1a1d623df5949,"The `.by` argument is supported (@​mgirlich, #1051)."
dbplyr,117,09f94a6b60b39058a97f73eb166907dc,"Passing `...` to `across()` is deprecated because the evaluation timing of `...` is ambiguous. Now instead of (e.g.) `across(a:b, mean, na.rm = TRUE)` use `across(a:b, \(x) mean(x, na.rm = TRUE)`"
dbplyr,118,4f41cf66bd800480379da8e386decc9b,"`pick()` is translated (@​mgirlich, #1044)."
dbplyr,119,c6940644ba1b856287a93fedc611b2c3,"`case_match()` is translated (@​mgirlich, #1020)."
dbplyr,120,1664651b11755de214435e1a8772eb5f,"`case_when()` now supports the `.default` argument (@​mgirlich, #1017)."
dbplyr,121,e54c64e59eaf7003d1a93135a7052c9b,"Variables that aren't found in either the data or in the environment now produce an error (@​mgirlich, #907)."
dbplyr,122,ce8f64484dbf6224b95dd49e28a0ff4c,"dbplyr now produces fewer subqueries resulting in shorter, more readable, and, in some cases, faster SQL. The following combination of verbs now avoids a subquery if possible:"
dbplyr,123,56e41846241b284fe0e1b4370eb1a2ef,"`*_join()` + `select()` (@​mgirlich, #876)."
dbplyr,124,98f756c3e778280889a0cda967c73f54,"`select()` + `*_join()` (@​mgirlich, #875)."
dbplyr,125,a9015329021fc4aa31b265dfd485b81b,"`mutate()` + `filter()` and `filter()` + `filter()` (@​mgirlich, #792)."
dbplyr,126,2f0a9f9783d59cf978c815948452e303,"`distinct()` (@​mgirlich, #880)."
dbplyr,127,dd99a3a3865527102b55507138dc01a3,"`summarise()` + `filter()` now translates to `HAVING` (@​mgirlich, #877)."
dbplyr,128,da7d1e0e8069bd0a8cbc66f00eac62dd,"`left/inner_join()` + `left/inner_join()` (@​mgirlich, #865)."
dbplyr,129,7afe8a42a5dbe8a5e4f5c3dbcb6e672b,"dbplyr now uses `SELECT *` after a join instead of explicitly selecting every column, where possible (@​mgirlich, #898)."
dbplyr,130,a277a780851927739d3277d3a0735761,"Joins only use the table aliases (""LHS"" and ""RHS"") if necessary (@​mgirlich)."
dbplyr,131,749d2ff36afa823dc0ba8e0ae0dbffa7,"When using common table expressions, the results of joins and set operations are now reused (@​mgirlich, #978)."
dbplyr,132,c92e2681e3b71da79baa79c029863730,"Many errors have been improved and now show the function where the error happened instead of a helper function (@​mgirlich, #907)."
dbplyr,133,cd36a46b3bf8deb031534da47623a202,"Errors produced by the database, e.g. in `collect()` or `rows_*()`, now show the verb where the error happened (@​mgirlich)."
dbplyr,134,ea6aff9a3da95d09d3e6ac13bdf13deb,"`window_order()` now produces a better error message when applied to a data frame (@​mgirlich, #947)."
dbplyr,135,7ade9a042e9f72f3f35db152fc51975b,"Using a named `across()` now gives a clear error message (@​mgirlich, #761)."
dbplyr,136,a552b9aa5a43b81d6b0aa275300435a7,"Keyword highlighting can now be customised via the option `dbplyr_highlight`. Turn it off via `options(dbplyr_highlight = FALSE)` or pass a custom ansi style, e.g. `options(dbplyr_highlight = cli::combine_ansi_styles(""bold"", ""cyan""))` (@​mgirlich, #974)."
dbplyr,137,0e23e51aaed61c98b97e2617119fea2b,"The rank functions (`row_number()`, `min_rank()`, `rank()`, `dense_rank()`, `percent_rank()`, and `cume_dist()`) now give missing values the rank NA to match the behaviour of dplyr (@​mgirlich, #991)."
dbplyr,138,5bd10ee74144d53beaea35bf24557f79,`NA`s in `blob()`s are correctly translated to `NULL` (#983).
dbplyr,139,ccfb70d19ce05ee393bc5eee724c306a,"`copy_inline()` gains a `types` argument to specify the SQL column types (@​mgirlich, #963)."
dbplyr,140,1cd3f70e0fd01c0019b41f2c0e8192c6,"`cur_column()` is now supported (@​mgirlich, #951)."
dbplyr,141,801bdd5ce4d7293f1bc70d7d86c8d721,"`distinct()` returns columns ordered the way you request, not the same as the input data (@​mgirlich)."
dbplyr,142,4b1307b87e94b2ab6d654d36995244f5,"`fill()` can now fill ""downup"" and ""updown"" (@​mgirlich, #1057), and now order by non-numeric columns also in the up direction (@​mgirlich, #1057)."
dbplyr,143,d8fd43020d339074853f1053b1a0bacb,`filter()` now works when using a window function and an external vector (#1048).
dbplyr,144,2e5fb105d91ac18710bc03bc599707bd,"`group_by()` + renamed columns works once again (@​mgirlich, #928)."
dbplyr,145,bc1d1a04080c60d7739dcc12d73ae366,"`last()` is correctly translated when no window frame is specified (@​mgirlich, #1063)."
dbplyr,146,ec8d863c3da7c6aec1517428e0bad0ae,"`setOldClass()` uses a namespace, fixing an installation issue (@​mgirlich, #927)."
dbplyr,147,217edab8d203671e6e3f3800887d0366,"`sql()` is now translated differently. The `...` are now evaluated locally instead of being translated with `translate_sql()` (@​mgirlich, #952)."
dbplyr,148,392e2f8f6cd8bab5bee5b915fb3ae22e,HANA:
dbplyr,149,7ea2cd07a7590d0e1d067eb4d05e61be,Correctly translates `as.character()` (#1027).
dbplyr,150,56fe2da27a7bfccf8488f8ed2a77a6fd,`copy_inline()` now works for Hana (#950)
dbplyr,151,2e18265c4fb704a16bcc28a33da29d2a,MySQL:
dbplyr,152,465a21d596f3f28a0cc1fc675085d478,"`str_flatten()` uses `collapse = """"` by default (@​fh-afrachioni, #993)"
dbplyr,153,65eecb9e1612cd9b15d8b169fa72426c,Oracle:
dbplyr,154,ce935518890f8e7173fdeb70631f9df5,"`slice_sample()` now works for Oracle (@​mgirlich, #986)."
dbplyr,155,afeb838d6bd38ad1005bc3474a58f508,`copy_inline()` now works for Oracle (#972)
dbplyr,156,2e5e0d7d0082e4ced38b77e65f6447d0,PostgreSQL:
dbplyr,157,c1e71be0a622e4b56aed6286abadb5ad,Generates correct literals for Dates (#727).
dbplyr,158,465a21d596f3f28a0cc1fc675085d478,"`str_flatten()` uses `collapse = """"` by default (@​fh-afrachioni, #993)"
dbplyr,159,146f4518ab0967146cd6acb039b859ce,"`rows_*()` use the column types of `x` when auto copying (@​mgirlich, #909)."
dbplyr,160,8ef0fe50e770a26dbeebc8b309c26176,Redshift:
dbplyr,161,7669a1f2b23c65c7ff88014685e7e5a5,"`round()` now respects the `digits` argument (@​owenjonesuob, #1033)."
dbplyr,162,13e033824141afe6d72bdbbce6b666d1,"No longer tries to use named windows anymore (@​owenjonesuob, #1035)."
dbplyr,163,60b4aec707abc4ac9d8a94245cdda5f0,"`copy_inline()` now works for Redshift (#949, thanks to @​ejneer for an initial implementation)."
dbplyr,164,465a21d596f3f28a0cc1fc675085d478,"`str_flatten()` uses `collapse = """"` by default (@​fh-afrachioni, #993)"
dbplyr,165,26814386c445eac149866497a0c1f6f3,Snowflake:
dbplyr,166,1a4bce7a36c4a7ce12480f3469c3aef0,"numeric functions: `all()`, `any()`, `log10()`, `round()`, `cor()`, `cov()` and `sd()`."
dbplyr,167,8747e27f78f7792ee3412ef28c99f967,"date functions: `day()`, `mday()`, `wday()`, `yday()`, `week()`, `isoweek()`, `month()`, `quarter()`, `isoyear()`, `seconds()`, `minutes()`, `hours()`, `days()`, `weeks()`, `months()`, `years()` and `floor_date()`."
dbplyr,168,3cae533eed428ad6f7df821a154aeddb,"string functions: `grepl()`, `paste()`, `paste0()`, `str_c()`, `str_locate()`, `str_detect()`, `str_replace()`, `str_replace_all()`, `str_remove()`, `str_remove_all()`, `str_trim()`, `str_squish()` and `str_flatten()` (@​fh-afrachioni, #860)."
dbplyr,169,465a21d596f3f28a0cc1fc675085d478,"`str_flatten()` uses `collapse = """"` by default (@​fh-afrachioni, #993)"
dbplyr,170,fae85b671af3064390c48ad0cbee578f,SQLite:
dbplyr,171,a8c8f9a789e75158e9b4adb9c3c06073,"`quantile()` gives a better error saying that it is not supported (@​mgirlich, #1000)."
dbplyr,172,7d5cccc51725a44a9827c479ee1abb62,SQL server:
dbplyr,173,f8b291e80eaf3e3c04c09d4d8bfe286c,"`as.POSIXct()` now translated correctly (@​krlmlr, #1011)."
dbplyr,174,30d78303dbc0257c79e6c6e27a40c6f2,`median()` now translated correctly (#1008).
dbplyr,175,c543832599b10aa35d8da08811e3985a,"`pivot_wider()` works again for MS SQL (@​mgirlich, #929)."
dbplyr,176,9fb82e97689aca0d3dbbe10c909f26df,"Always use 1 and 0 as literals for logicals (@​krlmlr, #934)."
dbplyr,177,aae179378fa12544f1892c5d539b2f88,Teradata:
dbplyr,178,9882830464e6f886d5789f67588057a5,"Querying works again. Unfortunately, the fix requires every column to once again by explicitly selected (@​mgirlich, #966)."
dbplyr,179,f95ef2e23653e07d7be8ca5367250cdb,"New translations for `as.Date()`, `week()`, `quarter()`, `paste()`, `startsWith()`, `row_number()`, `weighted.mean()`, `lead()`, `lag()`, and `cumsum()` (@​overmar, #913)."
dbplyr,180,cf2fa6a4f1566b64e2100890c1fb1db2,"Querying Oracle databases works again. Unfortunately, the fix requires every column to be explicitly selected again (@​mgirlich, #908)."
dbplyr,181,11e76d0df8bef7621f06c82226c56e57,"`semi_join()` and `anti_join()` work again for Spark (@​mgirlich, #915)."
dbplyr,182,6f10b560ba69bf1e3c1ccb163d80379c,"`str_c()` is now translated to `||` in Oracle (@​mgirlich, #921)."
dbplyr,183,d7980ee73c6b9428e3da71697ff0cf2f,"`sd()`, `var()`, `cor()` and `cov()` now give clear error messages on databases that don't support them."
dbplyr,184,6182224d6b120e6c9ee48665f1ba91f5,`any()` and `all()` gain default translations for all backends.
dbplyr,185,c81d6c51aaba43834e9743df25a066fc,"SQL formatting has been considerably improved with new wrapping and indenting. `show_query()` creates more readable queries by printing the keywords in blue (@​mgirlich, #644). When possible dbplyr now uses `SELECT *` instead of explicitly selecting every column (@​mgirlich)."
dbplyr,186,c68481af097e3acce67ffcdcaa2f6084,"Added support for `rows_insert()`, `rows_append()`, `rows_update()`, `rows_patch()`, `rows_upsert()`, and `rows_delete()` (@​mgirlich, #736)."
dbplyr,187,d9e12566ac17c0b3f4d1b37a434e945f,"Added `copy_inline()` as a `copy_to()` equivalent that does not need write access (@​mgirlich, #628)."
dbplyr,188,7c84673225d297e9938f5a214ac7b7ef,"`remote_query()`, `show_query()`, `compute()` and `collect()` have an experimental `cte` argument. If `TRUE` the SQL query will use common table expressions instead of nested queries (@​mgirlich, #638)."
dbplyr,189,a8731f48723b7b7d37dd9d62aacce4e6,"New `in_catalog()`, which works like `in_schema()`, but allows creation of table identifiers consisting of three components: catalog, schema, name (#806, @​krlmlr)."
dbplyr,190,657f3f0ca766b178f72fe9470f270ecc,"When possible, dbplyr now uses `SELECT *` instead of explicitly selecting every column (@​mgirlich)."
dbplyr,191,f937f16cb2f0fb03ac985be658f058ae,"New translation for `cut()` (@​mgirlich, #697)."
dbplyr,192,9d0bd7064e62bdce24cf3bb3f328f296,Improved translations for specific backends:
dbplyr,193,e5f07c60da238a418a3c2f40fd4ef303,"`as.Date()` for Oracle (@​mgirlich, #661)."
dbplyr,194,a4355e419b11662e62e340c41d407ddb,"`case_when()` with a final clause of the form `TRUE ~ ...` uses `ELSE ...` for SQLite (@​mgirlich, #754)."
dbplyr,195,097b7c4341bf24f1dfb8ce5239782d19,"`day()`, `week()`, `isoweek()`, and `isoyear()` for Postgres (@​mgirlich, #675)."
dbplyr,196,9f06f39168b334b839554a4b9d75c659,`explain()` for ROracle (@​mgirlich).
dbplyr,197,78b56e7283490f4531915d1bb510727f,"`fill()` for SQL Server (#651, @​mgirlich) and RPostgreSQL (@​mgirlich)."
dbplyr,198,ab539869a76b00e944d2c5e6763b6862,"`quantile()` for SQL Server (@​mgirlich, #620)."
dbplyr,199,95192fe8561d4e124338189ff4cd47e8,"`str_flatten()` for Redshift (@​hdplsa, #804)"
dbplyr,200,34c834566bb95b56a80d6c9a3fc3591e,"`slice_sample()` for MySQL/MariaDB and SQL Server (@​mgirlich, #617)."
dbplyr,201,27d9cf500a43eea4a8110be4a90302f9,"`union()` for Hive (@​mgirlich, #663)."
dbplyr,202,21dd0e247cb8d460d4924a2466e63007,"The backend function `dbplyr_fill0()` (used for databases that lack `IGNORE NULLS` support) now respects database specific translations (@​rsund, #753)."
dbplyr,203,8b617167d76c12565a37011c663b1d8b,"Calls of the form `stringr::foo()` or `lubridate::foo()` are now evaluated in the database, rather than locally (#197)."
dbplyr,204,ef177c303e4da9d6c566c2c80d1fed6c,"Unary plus (e.g. `db %>% filter(x == +1)`) now works (@​mgirlich, #674)."
dbplyr,205,035836f5970c8b364535de07c5ea2115,"`is.na()`, `ifelse()`, `if_else()`, `case_when()`, and `if()` generate slightly more compact SQL (@​mgirlich, #738)."
dbplyr,206,be7b672c2dfaf05bd66ad1fd08e2c8de,"`if_else()` now supports the `missing` argument (@​mgirlich, #641)."
dbplyr,207,3fd62e1f68d7f5f2af6cab2839f18323,"`n()` now respects the window frame (@​mgirlich, #700)."
dbplyr,208,d7120bdac8658e639194b5854df7d40b,"`quantile()` no longer errors when using the `na.rm` argument (@​mgirlich, #600)."
dbplyr,209,68dd2dba58bebaadc88d43310a060e04,"`remote_name()` now returns a name in more cases where it makes sense (@​mgirlich, #850)."
dbplyr,210,f86b09ba356d700c11bbb17aee5e4b80,"The partial evaluation code is now more aligned with `dtplyr`. This makes it easier to transfer bug fixes and new features from one package to the other. In this process the second argument of `partial_eval()` was changed to a lazy frame instead of a character vector of variables (@​mgirlich, #766). Partially evaluated expressions with infix operations are now correctly translated. For example `translate_sql(!!expr(2 - 1) * x)` now works (@​mgirlich, #634)."
dbplyr,211,8c2678f187955547f5ad534bd28f2e59,"New `pillar::tbl_format_header()` method for lazy tables: Printing a lazy table where all rows are displayed also shows the exact number of rows in the header. The threshold is controlled by `getOption(""pillar.print_min"")`, with a default of 10 (#796, @​krlmlr)."
dbplyr,212,a0f0918759ba3ce883593ba53d69b8dd,The 1st edition extension mechanism is formally deprecated (#507).
dbplyr,213,9e46bd6d0b71f758cf8697a7632638ed,"`across()`, `if_any()` and `if_all()` now defaults to `.cols = everything()` (@​mgirlich, #760). If `.fns` is not provided `if_any()` and `if_all()` work like a parallel version of `any()`/`any()` (@​mgirlich, #734)."
dbplyr,214,37ba9e936c6840fe23e0059505943f54,"`across()`, `if_any()`, and `if_all()` can now translate evaluated lists and functions (@​mgirlich, #796), and accept the name of a list of functions (@​mgirlich, #817)."
dbplyr,215,8c87a4c47fd151f17837e2d7bcacfd37,"Multiple `across()` calls in `mutate()` and `transmute()` can now access freshly created variables (@​mgirlich, #802)."
dbplyr,216,ce7233c906f419d97bfa45563ea6b6e3,"`add_count()` now doesn't change the groups of the input (@​mgirlich, #614)."
dbplyr,217,d76f531089ab79b2eb407952561d7aa8,"`compute()` can now handle when `name` is named by unnaming it first (@​mgirlich, #623), and now works when `temporary = TRUE` for Oracle (@​mgirlich, #621)."
dbplyr,218,95273e4bae5b78004e752b90fc06e636,"`distinct()` now supports `.keep_all = TRUE` (@​mgirlich, #756)."
dbplyr,219,ad20fe99bb55858e6df548066cf17179,"`expand()` now works in DuckDB (@​mgirlich, #712)."
dbplyr,220,aad35276f736bec6d20415fc09b25edf,"`explain()` passes `...` to methods (@​mgirlich, #783), and works for Redshift (@​mgirlich, #740)."
dbplyr,221,781dd402f9dac5512fe8dffd7e997a67,"`filter()` throws an error if you supply a named argument (@​mgirlich, #764)."
dbplyr,222,89050b7757a9f0c12453ee189f1b74f4,"Joins disambiguates columns that only differ in case (@​mgirlich, #702). New arguments `x_as` and `y_as` allow you to control the table alias used in SQL query (@​mgirlich, #637). Joins with `na_matches = ""na""` now work for DuckDB (@​mgirlich, #704)."
dbplyr,223,14f569272f8c102de38e0e6dfc634f2b,"`mutate()` and `transmute()` use named windows if a window definition is used at least twice and the backend supports named windows (@​mgirlich, #624)."
dbplyr,224,0831067e8cae09b6364f5810fd5889a6,"`mutate()` now supports the arguments `.keep`, `.before`, and `.after` (@​mgirlich, #802)."
dbplyr,225,12611d1896f3005983149693859c5399,`na.rm = FALSE` only warns once every 8 hours across all functions (#899).
dbplyr,226,1c95bdebd649abe1abd7981f02d7861b,"`nesting()` now supports the `.name_repair` argument (@​mgirlich, #654)."
dbplyr,227,f43506ec979fd234866fd7ff10689a42,"`pivot_longer()` can now pivot a column named `name` (@​mgirlich, #692), can repair names (@​mgirlich, #694), and can work with multiple `names_from` columns (@​mgirlich, #693)."
dbplyr,228,1d67883873cbed684da75c9ee6a5948c,"`pivot_wider(values_fn = )` and `pivot_longer(values_transform = )` can now be formulas (@​mgirlich, #745)."
dbplyr,229,78e67c58459e6758dbb16875967a96bf,"`pivot_wider()` now supports the arguments `names_vary`, `names_expand`, and `unused_fn` (@​mgirlich, #774)."
dbplyr,230,68dd2dba58bebaadc88d43310a060e04,"`remote_name()` now returns a name in more cases where it makes sense (@​mgirlich, #850)."
dbplyr,231,49e621e2d1ab7cbce429db938e4954ba,`sql_random()` is now exported.
dbplyr,232,6bbfd12595ff9a754016b78a8f863f19,"`ungroup()` removes variables in `...` from grouping (@​mgirlich, #689)."
dbplyr,233,dcb3e6305f7b2bf77a530396ba1ce33c,"`transmute()` now keeps grouping variables (@​mgirlich, #802)."
dbplyr,234,0ae8ffc3ddcb302e371498a3dd0b5ccf,New support for Snowflake (@​edgararuiz)
dbplyr,235,1b8cc935b73dd3ec95c4a1d10c30edde,"`compute()`, `sql_table_index()`, and `sql_query_wrap()` now work with schemas (@​mgirlich, #595)."
dbplyr,236,12fa436baac2bd0fe909c605f6719836,`if_any()` and `if_all()` are now translated.
dbplyr,237,4ce7a9c672e14a8f1c1c68c0e13204ba,"`group_by()` now ungroups when the dots argument is empty and `.add` is `FALSE` (@​mgirlich, #615)."
dbplyr,238,67eee2b9d5d2cc0cde96f4b39ad098d6,"`sql_escape_date()` and `sql_escape_datetime` gain methods for MS Access (@​erikvona, #608)."
dbplyr,239,edae9381ccc17cf35c97d7f90816dcf3,"Thanks to @​mgirlich, dbplyr gains support for key verbs from tidyr: `pivot_longer()` (#532), `pivot_wider()` (#543), `expand()` (#538), `complete()` (#538), `replace_na()` (#538), `fill()` (#566)."
dbplyr,240,6e0729947535a04d50c21b2cddfd3c8e,@​mgirlich is now a dbplyr author in recognition of his significant and sustained contributions.
dbplyr,241,2af4e063c5db4ae733bf486963931b7e,"`across()` implementation has been rewritten to support more inputs: it now translates formulas (#525), works with SQL functions that don't have R translations (#534), and work with `NULL` (#554)"
dbplyr,242,ddfcbc92e64c8996083ad8e284077d79,"`summarise()` now supports argument `.groups` (@​mgirlich, #584)."
dbplyr,243,c83fed398191c5c1a9801d5435e6628f,"All backends: `str_sub()`, `substr()` and `substring()` get better translations (#577). Most importantly, the results of using negative locations should match the underlying R implementations more closely."
dbplyr,244,1957c3ea77c7ca6867d1a42302663594,MS SQL:
dbplyr,245,e297daeb3004badf60e1cecd8af59257,"`as.integer()` and `as.integer64()` translations cast first to `NUMERIC` to avoid CASTing weirdness (@​DavidPatShuiFong, #496)."
dbplyr,246,cf5049d7ea971959d0ed027f0a196859,Assumes a boolean context inside of `[` (#546)
dbplyr,247,334f35fa24f790f6cd11ab99d8215872,`str_sub()` with `end = -1` now works (#577).
dbplyr,248,d00a925ca1408c8a9c697f1231bb6942,"Redshift: `lag()` and `lead()` lose the `default` parameter since it's not supported (@​hdplsa, #548)."
dbplyr,249,73d8967d6171c99ae18cb36886e0089f,"SQLite: custom translation of `full_join()` and `right_join()` (@​mgirlich, #536)."
dbplyr,250,974eb7126096b3d6d75f6652734146b5,RPostgreSQL backend warns if `temporary = TRUE` since temporary tables are not supported by `RPostgreSQL::dbWriteTable()` (#574).
dbplyr,251,b319be47707f044273917974ae3fb8cf,`count()` method provides closer match to dplyr semantics (#347).
dbplyr,252,bc4c3ea42e0a56e2e861c075f58bfd2e,"`distinct()` now respects grouping (@​mgirlich, #535)."
dbplyr,253,6e25517aae68af64809ef64e77036576,"`db_connection_describe()` no longer uses partial matching (@​mgirlich, #564)."
dbplyr,254,9a963f880f057f8e513b0aabf4b2333e,`pull()` no longer `select()`s the result when there's already only one variable (#562).
dbplyr,255,072959e4360dec2d47b480a34a0036a8,"`select()` no longer relocates grouping variables to the front (@​mgirlich, #568). and informs when adding missing grouping variables (@​mgirlich, #559)."
dbplyr,256,4bbb74849cc0ba83c828cefed4e12fa5,`tbl.src_dbi(...)` now passed on to `tbl_sql()` (#530).
dbplyr,257,e18b150d302da8321a4ec334f0008461,`across()` is now translated into individual SQL statements (#480).
dbplyr,258,365d8c2bc99df148f4fc7f9ecc64d480,`rename()` and `select()` support dplyr 1.0.0 tidyselect syntax (apart from predicate functions which can't easily work on computed queries) (#502).
dbplyr,259,c6cd10e32ebd73f2993255fe06ff4aca,`relocate()` makes it easy to move columns (#494) and `rename_with()` makes it easy to rename columns programmatically (#502).
dbplyr,260,5da0687aacae01729518d74eb5b8fe71,"`slice_min()`, `slice_max()`, and `slice_order()` are now supported. `slice_head()` and `slice_tail()` throw clear error messages (#394)"
dbplyr,261,e6f22611c1c39f9de3cf1d640648fb90,Documentation has been radically improved with new topics for each major verb and each backend giving more details about the SQL translation.
dbplyr,262,393cbb2ed49003957e55d0a6469dbce2,"`intersect()`, `union()` and `setdiff()` gain an `all` argument to add the `ALL` argument (#414)."
dbplyr,263,4aa92d01f6bcfc287556cd682a919fcf,"Join functions gains a `na_matches` argument that allows you to control whether or not `NA` (`NULL`) values match other `NA` values. The default is `""never""`, which is the usual behaviour in databases. You can set `na_matches = ""na""` to match R's usual join behaviour (#180). Additional arguments error (instead of being silently swallowed) (#382)."
dbplyr,264,436b93165be46641383c682ce1d773e9,Joins now only use aliases where needed to disambiguate columns; this should make generated queries more readable.
dbplyr,265,859eed2b5412063271a4b9676d9e8fda,"Subqueries no longer include an `ORDER BY` clause. This is not part of the SQL spec, and has very limited support across databases. Now such queries generate a warning suggesting that you move your `arrange()` call later in the pipeline (#276). (There's one exception: `ORDER BY` is still generated if `LIMIT` is present; this tends to affect the returns rows but not necessarily their order)."
dbplyr,266,ca587a5b302faf893bce501f801147db,Subquery names are now scoped within the query. This makes query text deterministic which helps some query optimisers/cachers (#336).
dbplyr,267,df6b3a5fac4b586ce0a2b29accbb9400,`sql_optimise()` now can partially optimise a pipeline; due to an unfortunate bug it previously gave up too easily.
dbplyr,268,61a74dec93f025e0834e491b05521f68,"`in_schema()` quotes each input individually (#287) (use `sql()` to opt out of quoting, if needed). And `DBI::Id()` should work anywhere that `in_schema()` does."
dbplyr,269,ec70867ddcf1e1143cff8cb2ee088116,Experimental new SAP HANA backend (#233). Requires the latest version of odbc.
dbplyr,270,57066134dbf75d3315f2f778a92c180e,All backends:
dbplyr,271,0de9c55be4dfa9baab5391b8d5b84e50,"You can now use `::` in translations, so that (e.g.) `dbplyr::n()` is translated to `count(*)` (#207)."
dbplyr,272,b54f09bad1a0f5f8abf9f3638de40a0d,`[[` can now also translate numeric indices (#520).
dbplyr,273,42229973a44e4654e12eda116af0794b,`%/%` now generates a clear error message; previously it was translated to `/` which is not correct (#108).
dbplyr,274,71232e4e425799d4d67ed74089302f18,`n()` is translated to `count(*)` instead of `count()` (#343).
dbplyr,275,28d8e5a04cf5d85702f2d96206ce34ba,`sub_str()` translation is more consistent in edge cases (@​ianmcook).
dbplyr,276,0d446435b7229721e0edcfb739bb200d,"All `median()` (@​lorenzwalthert, #483), `pmin()`, `pmax()` (#479), `sd()` and `var()` functions have an `na.rm` argument that warns once when not `TRUE`. This makes them consistent with `mean()` and `sum()`."
dbplyr,277,55f30a0fdd5bfa027910a802dd50e736,`substring()` is now translated the same way as `substr()` (#378).
dbplyr,278,6c162baa131c3b3905343f50456dd72e,"[blob](https://blob.tidyverse.org/) vectors can now be used with `!!` and `!!!` operators, for example in `filter()` (@​okhoma, #433)"
dbplyr,279,f551055093ec06c2c0c71e088ac4a555,MySQL uses standard SQL for index creation.
dbplyr,280,757b161045c6ff3b367922d41d205211,"MS SQL translation does better a distinguishing between bit and boolean (#377, #318). `if` and `ifelse` once again generate `IIF`, creating simpler expressions. `as.*()` function uses `TRY_CAST()` instead of `CAST()` for version 11+ (2012+) (@​DavidPatShuiFong, #380)."
dbplyr,281,e7a1a0a6a787a2469b7209dc6b6ca6d1,odbc no longer translates `count()`; this was an accidental inclusion.
dbplyr,282,ec1382e4d3daeff9054efd3b002fb789,"Oracle translation now depends on Oracle 12c, and uses a ""row-limiting"" clause for `head()`. It gains translations for `today()` and `now()`, and improved `as.Date()` translation (@​rlh1994, #267)."
dbplyr,283,ebcb7e5eb6d41684b0acb5707df571d0,"PostgreSQL: new translations for lubridate period functions `years()`, `months()`, `days()`, and `floor_date()` (@​bkkkk, #333) and stringr functions `str_squish()`, `str_remove()`, and `str_remove_all()` (@​shosaco)."
dbplyr,284,285c585956aa9284f5e2368b44ddb4ea,New RedShift translations when used with `RPostgres::Redshift()`.
dbplyr,285,c93c59ec25a7fc2e987bdfa8bf27b8a3,"`str_replace()` errors since there's no Redshift translation, and `str_replace_all()` uses `REGEXP_REPLACE()` (#446)."
dbplyr,286,bca3d85ab3efad32f73238839c24b29a,`paste()` and `paste0()` use `||` (#458).
dbplyr,287,1176975c6e92de1232ffa4090a950137,`as.numeric()` and `as.double()` cast to `FLOAT` (#408).
dbplyr,288,bda638fc502f425e7595e26a446a4d11,`substr()` and `str_sub()` use `SUBSTRING()` (#327).
dbplyr,289,539839d891585ee64693e9e6ceeb7a36,"SQLite gains translations for lubridate functions `today()`, `now()`, `year()`, `month()`, `day()`, `hour()`, `minute()`, `second()`,`yday()` (#262), and correct translation for `median()` (#357)."
dbplyr,290,62dfa0f8e96e6912645a29366832da3c,New `dbplyr_edition()` generic allows you to opt-in to the 2nd edition of the dbplyr API.
dbplyr,291,d20b52e9396ff40cccdc615a3701ef96,"`db_write_table()` now calls `DBI::dbWriteTable()` instead of nine generics that formerly each did a small part: `db_create_indexes()`, `db_begin()`, `db_rollback()`, `db_commit()`, `db_list_tables()`, `drop_drop_table()`, `db_has_table()`, `db_create_table()`, and `db_data_types()`. You can now delete the methods for these generics. `db_query_rows()` is no longer used; it appears that it hasn't been used for some time, so if you have a method, you can delete it."
dbplyr,292,4dba2ad43be73deca7f516d99504a3a4,`DBI::dbQuoteIdentifier()` is now used instead of `sql_escape_ident()` and `DBI::dbQuoteString()` instead of `sql_escape_string()`.
dbplyr,293,0cac028ce24c226871f5c15532c6bb12,A number of `db_*` generics have been replaced with new SQL generation generics:
dbplyr,294,05ce24cc23015a961d1a3f43914d399d,`dplyr::db_analyze()` -\> `dbplyr::sql_table_analyze()`
dbplyr,295,b6789813ab2f954fe5d2aca6fce644ac,`dplyr::db_create_index()` -\> `dbplyr::sql_table_index()`
dbplyr,296,7a33d5688f00e57f917cda16734b006d,`dplyr::db_explain()` -\> `dbplyr::sql_queriy_explain()`
dbplyr,297,e11e1144f55ff2611f98d1f04f54e66c,`dplyr::db_query_fields()` -\> `dbplyr::sql_query_fields()`
dbplyr,298,4d4045954928c01184fb49b57996ad45,`dplyr::db_save_query()` -\> `dbplyr::sql_query_save()` This makes them easier to test and is an important part of the process of moving all database generics in dbplyr (#284).
dbplyr,299,a47b568e6e5cce3374fa6560ee8181ec,A number of other generics have been renamed to facilitate the move from dplyr to dbplyr:
dbplyr,300,af51034d47c4fdfd1ac50a5cec4f4b27,`dplyr::sql_select()` -\> `dbplyr::sql_query_select()`
dbplyr,301,f542186a23547fbb19c1c8d1ad82faec,`dplyr::sql_join()` -\> `dbplyr::sql_query_join()`
dbplyr,302,3b7096918fc124321023a8f6d54af83d,`dplyr::sql_semi_join()` -\> `dbplyr::sql_query_semi_join()`
dbplyr,303,66c56402adfae0f951424730decb966d,`dplyr::sql_set_op()` -\> `dbplyr::sql_query_set_op()`
dbplyr,304,df60e4a19c000ed331a5a14324282757,`dplyr::sql_subquery()` -\> `dbplyr::sql_query_wrap()`
dbplyr,305,13554e9e8d1e042330a2169d14eee88d,`dplyr::db_desc()` -\> `dbplyr::db_connection_describe()`
dbplyr,306,6b1393a1a75578cc3052167d213b2020,New `db_temporary_table()` generic makes it easier to work with databases that require temporary tables to be specially named.
dbplyr,307,9883a409487013a62fcdd93240700d16,"New `sql_expr_matches()` generic allows databases to use more efficient alternatives when determine if two values ""match"" (i.e. like equality but a pair of `NULL`s will also match). For more details, see <https://modern-sql.com/feature/is-distinct-from>"
dbplyr,308,972acc3436575cc88572837142b809ee,New `sql_join_suffix()` allows backends to control the default suffixes used (#254).
dbplyr,309,43bef3bb68b22b4d4d9b7a3a7b9374c5,All old lazy eval shims have been removed. These have been deprecated for some time.
dbplyr,310,e3c480fa568408a4340d8abee123a0b0,Date-time escaping methods for Athena and Presto have moved to the packages where they belong.
dbplyr,311,59a3d7aee0766046b9eeb99a59146348,Attempting to embed a Shiny reactive in a query now gives a helpful error (#439).
dbplyr,312,3f3bb28dada7e6e203d35adbce6c2ea7,`copy_lahman()` and `copy_nycflights13()` (and hence `nycflights13_sqlite()`) and friends now return DBI connections rather than the now deprecated `src_dbi()` (#440).
dbplyr,313,9683c7c2eda486edae7ca87d298ed461,"`copy_to()` can now `overwrite` when table is specified with schema (#489), and gains an `in_transaction` argument used to optionally suppress the transaction wrapper (#368)."
dbplyr,314,cdf07ae23876975bae1668ade582d38a,`distinct()` no longer duplicates column if grouped (#354).
dbplyr,315,5ccfd20ca5593ed04d9a80d3f9452e07,`transmute()` now correctly tracks variables it needs when creating subqueries (#313).
dbplyr,316,59b5a1f897c9106296ab52f9cdcba885,`mutate()` grouping variables no longer generates a downstream error (#396)
dbplyr,317,7fef5c692bf533643d10f6993b6763d5,`mutate()` correctly generates subqueries when you re-use the same variable three or more times (#412).
dbplyr,318,255cd18fb78950c403dc6e5f798c2053,"`window_order()` overrides ordering, rather than appending to it."
dbplyr,319,471758fd2f284cb0d45f173093be3675,"Internally `DBI::dbExecute()` now uses `immediate = TRUE`; this improves support for session-scoped temporary tables in MS SQL (@​krlmlr, #438)."
dbplyr,320,1c07260cae745dcff10afc5b2cca1030,"Subqueries with `ORDER BY` use `TOP 9223372036854775807` instead of `TOP 100 PERCENT` on SQL Server for compatibility with Azure Data Warehouse (#337, @​alexkyllo)."
dbplyr,321,45a1b9eb1ec71b9da66aea4bfd9cc59b,"`escape()` now supports `blob` vectors using new `sql_escape_raw()` generic. It enables using [blob](https://blob.tidyverse.org/) variables in dplyr verbs, for example to filter nvarchar values by UTF-16 blobs (see https://github.com/r-dbi/DBI/issues/215#issuecomment-356376133). (@​okhoma, #433)"
dbplyr,322,bb194b68c73e00453edb7cbe11e541ed,"Added `setOldClass()` calls for `""ident""` and `""ident_q""` classes for compatibility with dplyr 1.0.0 (#448, @​krlmlr)."
dbplyr,323,8903a2b220aad837884802346e5af2b2,"Postgres `str_detect()` translation uses same argument names as stringr, and gains a `negate` argument (#444)."
dbplyr,324,71edd5ce4b7e2283d5bb4f245efbe528,"`semi_join()` and `anti_join()` now correctly support the `sql_on` argument (#443, @​krlmlr)."
dbplyr,325,878aefc9d195c7b76cb2520b84fc9c02,dbplyr now uses RPostgres (instead of RPostgreSQL) and RMariaDB (instead of RMySQL) for its internal tests and data functions (#427).
dbplyr,326,f016254e2d8e0765752e220a70c5b65c,"The Date and POSIXt methods for `escape()` now use exported `sql_escape_date()` and `sql_escape_datetime()` generics to allow backend specific formatting of date and datetime literals. These are used to provide methods for Athena and Presto backends (@​OssiLehtinen, #384, #391)."
dbplyr,327,383158163c4a6f880cb383489bed1fb9,"`first()`, `last()`, `nth()`, `lead()` and `lag()` now respect the `window_frame()` (@​krlmlr, #366)."
dbplyr,328,6c2e753effcdbc47abc0e2c268370e75,"SQL server: new translations for `str_flatten()` (@​PauloJhonny, #405)."
dbplyr,329,691b0fb58df89e79d5dd7e983433ea1e,"SQL server: temporary datasets are now session-local, not global (#401)."
dbplyr,330,e0112a7caaaee541dbf1d135d78fa76e,"Postgres: correct `str_detect()`, `str_replace()` and `str_replace_all()` translation (@​shosaco, #362)."
dbplyr,331,85a8dfa4292cead626e65902deffe692,Fix bug when partially evaluating unquoting quosure containing a single symbol (#317)
dbplyr,332,4953500c440c82baacc96e1ea001849c,Fixes for rlang and dpylr compatibility.
dbplyr,333,4c6fc940f76a2852277e419d86db0549,`x %in% y` strips names of `y` (#269).
dbplyr,334,e2d8e3182a62338be55f8f74e94add44,"Enhancements for scoped verbs (`mutate_all()`, `summarise_if()`, `filter_at()` etc) (#296, #306)."
dbplyr,335,0c14d1e9aa7c2c31e1a0106aef761abc,MS SQL use `TOP 100 PERCENT` as stop-gap to allow subqueries with `ORDER BY` (#277).
dbplyr,336,f8e5442022978096a2e90ffba5a8f1f9,"Window functions now translated correctly for Hive (#293, @​cderv)."
dbplyr,337,fe23a6e8d6b3a07b57fa1a206103dfd8,"`` Error: `con` must not be NULL ``: If you see this error, it probably means that you have forgotten to pass `con` down to a dbplyr function. Previously, dbplyr defaulted to using `simulate_dbi()` which introduced subtle escaping bugs. (It's also possible I have forgotten to pass it somewhere that the dbplyr tests don't pick up, so if you can't figure it out, please let me know)."
dbplyr,338,04de4dd68159e344f8c3daf854db2ad1,"Subsetting (`[[`, `$`, and `[`) functions are no longer evaluated locally. This makes the translation more consistent and enables useful new idioms for modern databases (#200)."
dbplyr,339,ff8e2504054749a6595ff5d6870a9379,"MySQL/MariaDB (https://mariadb.com/kb/en/library/window-functions/) and SQLite (https://www.sqlite.org/windowfunctions.html) translations gain support for window functions, available in Maria DB 10.2, MySQL 8.0, and SQLite 3.25 (#191)."
dbplyr,340,ace78e8cd84d81f6cf07fc9a112b367d,"Overall, dplyr generates many fewer subqueries:"
dbplyr,341,a48e831cfa1816d11c524363b0c127e8,Joins and semi-joins no longer add an unneeded subquery (#236). This is facilitated by the new `bare_identifier_ok` argument to `sql_render()`; the previous argument was called `root` and confused me.
dbplyr,342,2ac66d7562dc44a75594cd3935f1b443,"Many sequences of `select()`, `rename()`, `mutate()`, and `transmute()` can be collapsed into a single query, instead of always generating a subquery (#213)."
dbplyr,343,76338b0112b7d082991f94dd27d6aedc,"New `vignette(""sql"")` describes some advantages of dbplyr over SQL (#205) and gives some advice about writing literal SQL inside of dplyr, when you need to (#196)."
dbplyr,344,03378b7d6eb7e2743d85bba59d855cf9,"New `vignette(""reprex"")` gives some hints on creating reprexes that work anywhere (#117). This is supported by a new `tbl_memdb()` that matches the existing `tbl_lazy()`."
dbplyr,345,9a27ed1bee8555b340e6690bf73b43ad,"All `..._join()` functions gain an `sql_on` argument that allows specifying arbitrary join predicates in SQL code (#146, @​krlmlr)."
dbplyr,346,1b7fc74eca2d31c86029f71f3bb4556c,"New translations for some lubridate functions: `today()`, `now()`, `year()`, `month()`, `day()`, `hour()`, `minute()`, `second()`, `quarter()`, `yday()` (@​colearendt, @​derekmorr). Also added new translation for `as.POSIXct()`."
dbplyr,347,ff98f229b91938c8937f2889b5f47aa1,"New translations for stringr functions: `str_c()`, `str_sub()`, `str_length()`, `str_to_upper()`, `str_to_lower()`, and `str_to_title()` (@​colearendt). Non-translated stringr functions throw a clear error."
dbplyr,348,ff269293cc3c58a9ac479c30fc428d17,"New translations for bitwise operations: `bitwNot()`, `bitwAnd()`, `bitwOr()`, `bitwXor()`, `bitwShiftL()`, and `bitwShiftR()`. Unlike the base R functions, the translations do not coerce arguments to integers (@​davidchall, #235)."
dbplyr,349,8f87bb62c9890ffd83f02acf67c4563a,New translation for `x[y]` to `CASE WHEN y THEN x END`. This enables `sum(a[b == 0])` to work as you expect from R (#202). `y` needs to be a logical expression; if not you will likely get a type error from your database.
dbplyr,350,b1d688837815bcc6c826758f53a4c441,"New translations for `x$y` and `x[[""y""]]` to `x.y`, enabling you to index into nested fields in databases that provide them (#158)."
dbplyr,351,c8bbf100fa08723228f25f4421361fcc,The `.data` and `.env` pronouns of tidy evaluation are correctly translated (#132).
dbplyr,352,0dd82467a04defc7cf1a5daa3160c864,"New translation for `median()` and `quantile()`. Works for all ANSI compliant databases (SQL Server, Postgres, MariaDB, Teradata) and has custom translations for Hive. Thanks to @​edavidaja for researching the SQL variants! (#169)"
dbplyr,353,04419b14708190e88c1de6e976bdf142,`na_if()` is correct translated to `NULLIF()` (rather than `NULL_IF`) (#211).
dbplyr,354,259418c69368a0c05c9cba7faff65de3,"`n_distinct()` translation throws an error when given more than one argument. (#101, #133)."
dbplyr,355,55bdb6d6443792b557ca9c770bdc9f9a,"New default translations for `paste()`, `paste0()`, and the hyperbolic functions (these previously were only available for ODBC databases)."
dbplyr,356,24134498d5075733ddc2e157a674b611,"Corrected translations of `pmin()` and `pmax()` to `LEAST()` and `GREATEST()` for ANSI compliant databases (#118), to `MIN()` and `MAX()` for SQLite, and to an error for SQL server."
dbplyr,357,53ffd1ec3d17a189de8719c78aa301fb,New translation for `switch()` to the simple form of `CASE WHEN` (#192).
dbplyr,358,e0a176c00412b9d48745a29dc950e16b,"SQL simulation has been overhauled. It now works reliably, is better documented, and always uses ANSI escaping (i.e. `` ` `` for field names and `'` for strings)."
dbplyr,359,eefd9f066d777a515bd413383ddb82cd,"`tbl_lazy()` now actually puts a `dbplyr::src` in the `$src` field. This shouldn't affect any downstream code unless you were previously working around this weird difference between `tbl_lazy` and `tbl_sql` classes. It also includes the `src` class in its class, and when printed, shows the generated SQL (#111)."
dbplyr,360,3026f5e66303443e842ae539d0a8438d,MySQL/MariaDB
dbplyr,361,753a73065c6f32bafe1942b4dd4beb54,"Translations also applied to connections via the odbc package (@​colearendt, #238)"
dbplyr,362,c4ce89e67c380940d9da78f01e4d938f,"Basic support for regular expressions via `str_detect()` and\ `str_replace_all()` (@​colearendt, #168)."
dbplyr,363,dbe6c87ccc6fb94f1b87d385ba46c564,"Improved translation for `as.logical(x)` to `IF(x, TRUE, FALSE)`."
dbplyr,364,86025ada44dd96dfcb6be91ba445f1fc,Oracle
dbplyr,365,b538e1008066e95aa7ded979673d012f,"New custom translation for `paste()` and `paste0()` (@​cderv, #221)"
dbplyr,366,76ec60b422a66575653629c71114b8f8,Postgres
dbplyr,367,c4ce89e67c380940d9da78f01e4d938f,"Basic support for regular expressions via `str_detect()` and\ `str_replace_all()` (@​colearendt, #168)."
dbplyr,368,acd1338e0cca849e7c08150eeb75f6d2,SQLite
dbplyr,369,cffe75d6b7b60f3bbe20326a64981582,"`explain()` translation now generates `EXPLAIN QUERY PLAN` which generates a higher-level, more human friendly explanation."
dbplyr,370,09809fc7538de8f730f660efca87e71a,SQL server
dbplyr,371,406d3744521d7c509a52a6371c895caa,Improved translation for `as.logical(x)` to `CAST(x as BIT)` (#250).
dbplyr,372,90a643fdab220a01f3fd8101c16888bf,"Translates `paste()`, `paste0()`, and `str_c()` to `+`."
dbplyr,373,480716d6aca6ae98e4ae966dc93bdfba,`copy_to()` method applies temporary table name transformation earlier so that you can now overwrite temporary tables (#258).
dbplyr,374,8b1fa3b8c8bdbde228a8ce39491bf97e,`db_write_table()` method uses correct argument name for passing along field types (#251).
dbplyr,375,2d913f4c18c1c590f5387f214d3a87e9,Aggregation functions only warn once per session about the use of `na.rm = TRUE` (#216).
dbplyr,376,9fe7b16636d7f587127e1b63807830cc,"table names generated by `random_table_name()` have the prefix ""dbplyr\_"", which makes it easier to find them programmatically (@​mattle24, #111)"
dbplyr,377,0c543db41012c6452b9cc9da7afe4d7d,Functions that are only available in a windowed (`mutate()`) query now throw an error when called in a aggregate (`summarise()`) query (#129)
dbplyr,378,b549b5c75f351e912f806b1be6d3fc53,"`arrange()` understands the `.by_group` argument, making it possible sort by groups if desired. The default is `FALSE` (#115)"
dbplyr,379,f4cd5df79c3b7a7d5afdd54c28837afd,"`distinct()` now handles computed variables like `distinct(df, y = x + y)` (#154)."
dbplyr,380,7db14be9f18f61576c04f21584fe3274,"`escape()`, `sql_expr()` and `build_sql()` no longer accept `con = NULL` as a shortcut for `con = simulate_dbi()`. This made it too easy to forget to pass `con` along, introducing extremely subtle escaping bugs. `win_over()` gains a `con` argument for the same reason."
dbplyr,381,763e13f736fd4a78268cbc9f3916120c,New `escape_ansi()` always uses ANSI SQL 92 standard escaping (for use in examples and documentation).
dbplyr,382,d437a97a6b3de02006dca2ffd2c8662d,"`mutate(df, x = NULL)` drops `x` from the output, just like when working with local data frames (#194)."
dbplyr,383,ef0bbe9b40449db6854bf62d5da357f9,"`partial_eval()` processes inlined functions (including rlang lambda functions). This makes dbplyr work with more forms of scoped verbs like `df %>% summarise_all(~ mean(.))`, `df %>% summarise_all(list(mean))` (#134)."
dbplyr,384,8912a7f45a973bbece5b4bf1bde5c139,"`sql_aggregate()` now takes an optional argument `f_r` for passing to `check_na_rm()`. This allows the warning to show the R function name rather than the SQL function name (@​sverchkov, #153)."
dbplyr,385,51bb1b13569c53b3f542dde5354cf460,`sql_infix()` gains a `pad` argument for the rare operator that doesn't need to be surrounded by spaces.
dbplyr,386,6da90bb1876440e8c075778889ee64c1,"`sql_prefix()` no longer turns SQL functions into uppercase, allowing for correct translation of case-sensitive SQL functions (#181, @​mtoto)."
dbplyr,387,4c6b252de5d347005c4cb6e112d69221,`summarise()` gives a clear error message if you refer to a variable created in that same `summarise()` (#114).
dbplyr,388,eba67222509afce53cb6b9f2e1a0c2f5,New `sql_call2()` which is to `rlang::call2()` as `sql_expr()` is to `rlang::expr()`.
dbplyr,389,e680bf9b0d785e0bdc7b7a4b52a6e848,`show_query()` and `explain()` use `cat()` rather than message.
dbplyr,390,825e76107fa92b3cec81999e1b4dfd94,"`union()`, `union_all()`, `setdiff()` and `intersect()` do a better job of matching columns across backends (#183)."
dbplyr,391,956d1dc38a2de172f15b34b3a0bbd1e4,Now supports for dplyr 0.8.0 (#190) and R 3.1.0
dbplyr,392,0fe00717fa3604e400189f8637861bf1,"Calls of the form `dplyr::foo()` are now evaluated in the database, rather than locally (#197)."
dbplyr,393,2e43a36c3e482f5a7b4f4ecdbe68a1b0,`vars` argument to `tbl_sql()` has been formally deprecated; it hasn't actually done anything for a while (#3254).
dbplyr,394,b3ba7821e315e195a56935410cb941dd,"`src` and `tbl` objects now include a class generated from the class of the underlying connection object. This makes it possible for dplyr backends to implement different behaviour at the dplyr level, when needed. (#2293)"
dbplyr,395,2eaa32972af41ef33d0ca7a3635bf250,"`x %in% y` is now translated to `FALSE` if `y` is empty (@​mgirlich, #160)."
dbplyr,396,f219e793092595a95ee789b6602d8db4,New `as.integer64(x)` translation to `CAST(x AS BIGINT)` (#3305)
dbplyr,397,a6ecddc5959359ec60a75e7156428f90,"`case_when` now translates with a ELSE clause if a formula of the form `TRUE~<RHS>` is provided . (@​cderv, #112)"
dbplyr,398,d0739a70d2f9e1028fbc37f2d2a90af3,`cummean()` now generates `AVG()` not `MEAN()` (#157)
dbplyr,399,60ebbb92edb2979f0ef6b655b266352f,`str_detect()` now uses correct parameter order (#3397)
dbplyr,400,4744bf0adac5db2fbbea427feb9fcfe1,MS SQL
dbplyr,401,b6fe28a66320d7d300bb830060186680,Cumulative summary functions now work (#157)
dbplyr,402,35b4075fe849002674ea69b1578f8e17,"`ifelse()` uses `CASE WHEN` instead of `IIF`; this allows more complex operations, such as `%in%`, to work properly (#93)"
dbplyr,403,86025ada44dd96dfcb6be91ba445f1fc,Oracle
dbplyr,404,e9dc70ed8c877e3b9046638d8cb4cac4,Custom `db_drop_table()` now only drops tables if they exist (#3306)
dbplyr,405,57734911386b1e16ecf3c5569cc259ba,Custom `setdiff()` translation (#3493)
dbplyr,406,a2287003bfb40b4305a6e066af13a55f,Custom `db_explain()` translation (#3471)
dbplyr,407,acd1338e0cca849e7c08150eeb75f6d2,SQLite
dbplyr,408,6997980cda98e09eb4b56a4f010de3dc,"Correct translation for `as.numeric()`/`as.double()` (@​chris-park, #171)."
dbplyr,409,088d09875dd96add68ddbcac8b62701d,Redshift
dbplyr,410,5ec4fce72ddf591e5f25a9a9cc975a0f,`substr()` translation improved (#3339)
dbplyr,411,61fd7b5781208e5fec63abedf0de784d,"`copy_to()` will only remove existing table when `overwrite = TRUE` and the table already exists, eliminating a confusing ""NOTICE"" from PostgreSQL (#3197)."
dbplyr,412,eb8f79c8055ca09d5e079b5a40058d42,`partial_eval()` handles unevaluated formulas (#184).
dbplyr,413,a4e613c327a2cc68d1ccc0ebca973dab,`pull.tbl_sql()` now extracts correctly from grouped tables (#3562).
dbplyr,414,87ba210667af7340bdd79a901c924301,"`sql_render.op()` now correctly forwards the `con` argument (@​kevinykuo, #73)."
dbplyr,415,00d26cf6f0bb9d094c988bf1a8d37d07,R CMD check fixes
dbplyr,416,a0e0fa89352565240702289bb2024fad,Forward compatibility fixes for rlang 0.2.0
dbplyr,417,6e9cdbb926812791bee22f4043f6b65a,New translations for
dbplyr,418,24a7a0660940b525c972cd0182b54db7,MS Access (#2946) (@​DavisVaughan)
dbplyr,419,e32f0862b87e764ce24883f0682b359d,"Oracle, via odbc or ROracle (#2928, #2732, @​edgararuiz)"
dbplyr,420,2683d5a6d97791dc4ace60dd60e5b1f4,Teradata.
dbplyr,421,be24fac2bc064dd38b1f14034814afc7,Redshift.
dbplyr,422,c4166b08246df1d82eb48e247e4c46b9,dbplyr now supplies appropriate translations for the RMariaDB and RPostgres packages (#3154). We generally recommend using these packages in favour of the older RMySQL and RPostgreSQL packages as they are fully DBI compliant and tested with DBItest.
dbplyr,423,f575ffbde75378484aca8087e604fab3,"`copy_to()` can now ""copy"" tbl_sql in the same src, providing another way to cache a query into a temporary table (#3064). You can also `copy_to` tbl_sqls from another source, and `copy_to()` will automatically collect then copy."
dbplyr,424,92e550b845fc13704a8cd0eada184a4a,"Initial support for stringr functions: `str_length()`, `str_to_upper()`, `str_to_lower()`, `str_replace_all()`, `str_detect()`, `str_trim()`. Regular expression support varies from database to database, but most simple regular expressions should be ok."
dbplyr,425,6685a33be54a2fec0af957da1e04d133,`db_compute()` gains an `analyze` argument to match `db_copy_to()`.
dbplyr,426,4dc95eb079dac30eef270d8b8ea02a55,"New `remote_name()`, `remote_con()`, `remote_src()`, `remote_query()` and `remote_query_plan()` provide a standard API for get metadata about a remote tbl (#3130, #2923, #2824)."
dbplyr,427,bb64da4bbe2c1208a602d4847d31f875,New `sql_expr()` is a more convenient building block for low-level SQL translation (#3169).
dbplyr,428,51458d2dc3468dac9241e87580de42cc,"New `sql_aggregate()` and `win_aggregate()` for generating SQL and windowed SQL functions for aggregates. These take one argument, `x`, and warn if `na.rm` is not `TRUE` (#3155). `win_recycled()` is equivalent to `win_aggregate()` and has been soft-deprecated."
dbplyr,429,d8cf0c315e392b570a45bea21ac3484c,`db_write_table` now needs to return the table name
dbplyr,430,4f0451a965ee2dd966a07c344f6a1b74,Multiple `head()` calls in a row now collapse to a single call. This avoids a printing problem with MS SQL (#3084).
dbplyr,431,98e1c3de767ced4bb6749baefadf2571,`escape()` now works with integer64 values from the bit64 package (#3230)
dbplyr,432,792bd73b9a646d40a29ee0e79bb16084,"`if`, `ifelse()`, and `if_else()` now correctly scope the false condition so that it only applies to non-NULL conditions (#3157)"
dbplyr,433,fd513533a31cee45928c6f2eb2981a7d,"`ident()` and `ident_q()` handle 0-length inputs better, and should be easier to use with S3 (#3212)"
dbplyr,434,36b71c335bc2ace703c9a0bf8d397718,"`in_schema()` should now work in more places, particularly in `copy_to()` (#3013, @​baileych)"
dbplyr,435,4cb8b8771cb65c2c0a13c79dbad6e463,SQL generation for joins no longer gets stuck in a endless loop if you request an empty suffix (#3220).
dbplyr,436,bd4fa25ad213a2f09cdcb0b8274a8034,`mutate()` has better logic for splitting a single mutate into multiple subqueries (#3095).
dbplyr,437,81c3eed93bcd3160ec9cea44c2bfc9c7,"Improved `paste()` and `paste0()` support in MySQL, PostgreSQL (#3168), and RSQLite (#3176). MySQL and PostgreSQL gain support for `str_flatten()` which behaves like `paste(x, collapse = ""-"")` (but for technical reasons can't be implemented as a straightforward translation of `paste()`)."
dbplyr,438,82c8a7348371cc88050c80215a85c5f2,`same_src.tbl_sql()` now performs correct comparison instead of always returning `TRUE`. This means that `copy = TRUE` once again allows you to perform cross-database joins (#3002).
dbplyr,439,051fc4175a09672d70f23dd99b045a8f,"`select()` queries no longer alias column names unnecessarily (#2968, @​DavisVaughan)."
dbplyr,440,62970c3324d9f5beda775d75797a7459,"`select()` and `rename()` are now powered by tidyselect, fixing a few renaming bugs (#3132, #2943, #2860)."
dbplyr,441,673d0384b7af5a302178dc956ab51bdf,`summarise()` once again performs partial evaluation before database submission (#3148).
dbplyr,442,762b0b216898a705412596d1b63ea674,`test_src()` makes it easier to access a single test source.
dbplyr,443,4744bf0adac5db2fbbea427feb9fcfe1,MS SQL
dbplyr,444,54add63d11ecd4f95d06476be5e6e719,Better support for temporary tables (@​Hong-Revo)
dbplyr,445,77d8879dae65265610aaacfe28cedc7f,"Different translations for filter/mutate contexts for: `NULL` evaluation (`is.na()`, `is.null()`), logical operators (`!`, `&`, `&&`, `|`, `||`), and comparison operators (`==`, `!=`, `<`, `>`, `>=`, `<=`)"
dbplyr,446,e3cd8e4db5b59a3aab964dcd5778711d,MySQL: `copy_to()` (via `db_write_table()`) correctly translates logical variables to integers (#3151).
dbplyr,447,9929f2cbbf6412e193997139f00abf8c,odbc: improved `n()` translation in windowed context.
dbplyr,448,aa314ecf1ed78fecab1aa60d7ac8fb1d,SQLite: improved `na_if` translation (@​cwarden)
dbplyr,449,deeaed22fb6518336187c9c7897bac2f,PostgreSQL: translation for `grepl()` added (@​zozlak)
dbplyr,450,8f65fef06f1fee0a98aa91132ac76e58,"Oracle: changed VARVHAR to VARCHAR2 datatype (@​washcycle, #66)"
dbplyr,451,6f81c79bf550e647efb7e2b640c6a1a1,`full_join()` over non-overlapping columns `by = character()` translated to `CROSS JOIN` (#2924).
dbplyr,452,87e71b352b3604c6e58327d42bc6cbfd,"`case_when()` now translates to SQL ""CASE WHEN"" (#2894)"
dbplyr,453,264395f107eb1bab94c9f20679d80f65,`x %in% c(1)` now generates the same SQL as `x %in% 1` (#2898).
dbplyr,454,393bfa908823699d1f7f04118e278836,"New `window_order()` and `window_frame()` give you finer control over the window functions that dplyr creates (#2874, #2593)."
dbplyr,455,d11ec22c7e2149523c9c0aec35b8f1b0,Added SQL translations for Oracle (@​edgararuiz).
dbplyr,456,264395f107eb1bab94c9f20679d80f65,`x %in% c(1)` now generates the same SQL as `x %in% 1` (#2898).
dbplyr,457,a047de703f238c172daf3994e7ef973f,"`head(tbl, 0)` is now supported (#2863)."
dbplyr,458,0854b71a4ea0598802918fe42c1bd962,`select()`ing zero columns gives a more information error message (#2863).
dbplyr,459,a2fbd90ea815b0b41767f002e063ed06,"Variables created in a join are now disambiguated against other variables in the same table, not just variables in the other table (#2823)."
dbplyr,460,b90d9a423055c1a8cc89cd0a16a6933c,PostgreSQL gains a better translation for `round()` (#60).
dbplyr,461,4e2a38a8c8f38ea7718ca45a1f05d7b3,"Added custom `db_analyze_table()` for MS SQL, Oracle, Hive and Impala (@​edgararuiz)"
dbplyr,462,73449d0c99b792958e63c9a0c70c1eef,Added support for `sd()` for aggregate and window functions (#2887) (@​edgararuiz)
dbplyr,463,c2a10a86ae5c0fed654560679b5b5cfe,"You can now use the magrittr pipe within expressions, e.g. `mutate(mtcars, cyl %>% as.character())`."
dbplyr,464,e36bfbedf62ce433828a0dcceebbcf55,"If a translation was supplied for a summarise function, but not for the equivalent windowed variant, the expression would be translated to `NULL` with a warning. Now `sql_variant()` checks that all aggregate functions have matching window functions so that correct translations or clean errors will be generated (#2887)"
dbplyr,465,b147c479c996490a0093f52e1437e667,"`tbl()` and `copy_to()` now work directly with DBI connections (#2423, #2576), so there is no longer a need to generate a dplyr src."
dbplyr,465,b147c479c996490a0093f52e1437e667,"```
=======
```"
dbplyr,111,"(@​mgirlich, #1015)."
dbplyr,112,"Restricted length of table aliases to avoid truncation on certain backends (e.g., Postgres) (@​fh-mthomson, #1096)"
dbplyr,113,"Compatibility with purrr 1.0.0 (@​mgirlich, #1085)."
dbplyr,114,"`stringr::str_like()` (new in 1.5.0) is translated to the closest `LIKE` equivalent (@​rjpat, #509)"
dbplyr,115,In preparation for dplyr 1.1.0:
dbplyr,116,"The `.by` argument is supported (@​mgirlich, #1051)."
dbplyr,117,"Passing `...` to `across()` is deprecated because the evaluation timing of `...` is ambiguous. Now instead of (e.g.) `across(a:b, mean, na.rm = TRUE)` use `across(a:b, \(x) mean(x, na.rm = TRUE)`"
dbplyr,118,"`pick()` is translated (@​mgirlich, #1044)."
dbplyr,119,"`case_match()` is translated (@​mgirlich, #1020)."
dbplyr,120,"`case_when()` now supports the `.default` argument (@​mgirlich, #1017)."
dbplyr,121,"Variables that aren't found in either the data or in the environment now produce an error (@​mgirlich, #907)."
dbplyr,122,"dbplyr now produces fewer subqueries resulting in shorter, more readable, and, in some cases, faster SQL. The following combination of verbs now avoids a subquery if possible:"
dbplyr,123,"`*_join()` + `select()` (@​mgirlich, #876)."
dbplyr,124,"`select()` + `*_join()` (@​mgirlich, #875)."
dbplyr,125,"`mutate()` + `filter()` and `filter()` + `filter()` (@​mgirlich, #792)."
dbplyr,126,"`distinct()` (@​mgirlich, #880)."
dbplyr,127,"`summarise()` + `filter()` now translates to `HAVING` (@​mgirlich, #877)."
dbplyr,128,"`left/inner_join()` + `left/inner_join()` (@​mgirlich, #865)."
dbplyr,129,"dbplyr now uses `SELECT *` after a join instead of explicitly selecting every column, where possible (@​mgirlich, #898)."
dbplyr,130,"Joins only use the table aliases (""LHS"" and ""RHS"") if necessary (@​mgirlich)."
dbplyr,131,"When using common table expressions, the results of joins and set operations are now reused (@​mgirlich, #978)."
dbplyr,132,"Many errors have been improved and now show the function where the error happened instead of a helper function (@​mgirlich, #907)."
dbplyr,133,"Errors produced by the database, e.g. in `collect()` or `rows_*()`, now show the verb where the error happened (@​mgirlich)."
dbplyr,134,"`window_order()` now produces a better error message when applied to a data frame (@​mgirlich, #947)."
dbplyr,135,"Using a named `across()` now gives a clear error message (@​mgirlich, #761)."
dbplyr,136,"Keyword highlighting can now be customised via the option `dbplyr_highlight`. Turn it off via `options(dbplyr_highlight = FALSE)` or pass a custom ansi style, e.g. `options(dbplyr_highlight = cli::combine_ansi_styles(""bold"", ""cyan""))` (@​mgirlich, #974)."
dbplyr,137,"The rank functions (`row_number()`, `min_rank()`, `rank()`, `dense_rank()`, `percent_rank()`, and `cume_dist()`) now give missing values the rank NA to match the behaviour of dplyr (@​mgirlich, #991)."
dbplyr,138,`NA`s in `blob()`s are correctly translated to `NULL` (#983).
dbplyr,139,"`copy_inline()` gains a `types` argument to specify the SQL column types (@​mgirlich, #963)."
dbplyr,140,"`cur_column()` is now supported (@​mgirlich, #951)."
dbplyr,141,"`distinct()` returns columns ordered the way you request, not the same as the input data (@​mgirlich)."
dbplyr,142,"`fill()` can now fill ""downup"" and ""updown"" (@​mgirlich, #1057), and now order by non-numeric columns also in the up direction (@​mgirlich, #1057)."
dbplyr,143,`filter()` now works when using a window function and an external vector (#1048).
dbplyr,144,"`group_by()` + renamed columns works once again (@​mgirlich, #928)."
dbplyr,145,"`last()` is correctly translated when no window frame is specified (@​mgirlich, #1063)."
dbplyr,146,"`setOldClass()` uses a namespace, fixing an installation issue (@​mgirlich, #927)."
dbplyr,147,"`sql()` is now translated differently. The `...` are now evaluated locally instead of being translated with `translate_sql()` (@​mgirlich, #952)."
dbplyr,148,HANA:
dbplyr,149,Correctly translates `as.character()` (#1027).
dbplyr,150,`copy_inline()` now works for Hana (#950)
dbplyr,151,MySQL:
dbplyr,152,"`str_flatten()` uses `collapse = """"` by default (@​fh-afrachioni, #993)"
dbplyr,153,Oracle:
dbplyr,154,"`slice_sample()` now works for Oracle (@​mgirlich, #986)."
dbplyr,155,`copy_inline()` now works for Oracle (#972)
dbplyr,156,PostgreSQL:
dbplyr,157,Generates correct literals for Dates (#727).
dbplyr,158,"`str_flatten()` uses `collapse = """"` by default (@​fh-afrachioni, #993)"
dbplyr,159,"`rows_*()` use the column types of `x` when auto copying (@​mgirlich, #909)."
dbplyr,160,Redshift:
dbplyr,161,"`round()` now respects the `digits` argument (@​owenjonesuob, #1033)."
dbplyr,162,"No longer tries to use named windows anymore (@​owenjonesuob, #1035)."
dbplyr,163,"`copy_inline()` now works for Redshift (#949, thanks to @​ejneer for an initial implementation)."
dbplyr,164,"`str_flatten()` uses `collapse = """"` by default (@​fh-afrachioni, #993)"
dbplyr,165,Snowflake:
dbplyr,166,"numeric functions: `all()`, `any()`, `log10()`, `round()`, `cor()`, `cov()` and `sd()`."
dbplyr,167,"date functions: `day()`, `mday()`, `wday()`, `yday()`, `week()`, `isoweek()`, `month()`, `quarter()`, `isoyear()`, `seconds()`, `minutes()`, `hours()`, `days()`, `weeks()`, `months()`, `years()` and `floor_date()`."
dbplyr,168,"string functions: `grepl()`, `paste()`, `paste0()`, `str_c()`, `str_locate()`, `str_detect()`, `str_replace()`, `str_replace_all()`, `str_remove()`, `str_remove_all()`, `str_trim()`, `str_squish()` and `str_flatten()` (@​fh-afrachioni, #860)."
dbplyr,169,"`str_flatten()` uses `collapse = """"` by default (@​fh-afrachioni, #993)"
dbplyr,170,SQLite:
dbplyr,171,"`quantile()` gives a better error saying that it is not supported (@​mgirlich, #1000)."
dbplyr,172,SQL server:
dbplyr,173,"`as.POSIXct()` now translated correctly (@​krlmlr, #1011)."
dbplyr,174,`median()` now translated correctly (#1008).
dbplyr,175,"`pivot_wider()` works again for MS SQL (@​mgirlich, #929)."
dbplyr,176,"Always use 1 and 0 as literals for logicals (@​krlmlr, #934)."
dbplyr,177,Teradata:
dbplyr,178,"Querying works again. Unfortunately, the fix requires every column to once again by explicitly selected (@​mgirlich, #966)."
dbplyr,179,"New translations for `as.Date()`, `week()`, `quarter()`, `paste()`, `startsWith()`, `row_number()`, `weighted.mean()`, `lead()`, `lag()`, and `cumsum()` (@​overmar, #913)."
dbplyr,180,"Querying Oracle databases works again. Unfortunately, the fix requires every column to be explicitly selected again (@​mgirlich, #908)."
dbplyr,181,"`semi_join()` and `anti_join()` work again for Spark (@​mgirlich, #915)."
dbplyr,182,"`str_c()` is now translated to `||` in Oracle (@​mgirlich, #921)."
dbplyr,183,"`sd()`, `var()`, `cor()` and `cov()` now give clear error messages on databases that don't support them."
dbplyr,184,`any()` and `all()` gain default translations for all backends.
dbplyr,185,"SQL formatting has been considerably improved with new wrapping and indenting. `show_query()` creates more readable queries by printing the keywords in blue (@​mgirlich, #644). When possible dbplyr now uses `SELECT *` instead of explicitly selecting every column (@​mgirlich)."
dbplyr,186,"Added support for `rows_insert()`, `rows_append()`, `rows_update()`, `rows_patch()`, `rows_upsert()`, and `rows_delete()` (@​mgirlich, #736)."
dbplyr,187,"Added `copy_inline()` as a `copy_to()` equivalent that does not need write access (@​mgirlich, #628)."
dbplyr,188,"`remote_query()`, `show_query()`, `compute()` and `collect()` have an experimental `cte` argument. If `TRUE` the SQL query will use common table expressions instead of nested queries (@​mgirlich, #638)."
dbplyr,189,"New `in_catalog()`, which works like `in_schema()`, but allows creation of table identifiers consisting of three components: catalog, schema, name (#806, @​krlmlr)."
dbplyr,190,"When possible, dbplyr now uses `SELECT *` instead of explicitly selecting every column (@​mgirlich)."
dbplyr,191,"New translation for `cut()` (@​mgirlich, #697)."
dbplyr,192,Improved translations for specific backends:
dbplyr,193,"`as.Date()` for Oracle (@​mgirlich, #661)."
dbplyr,194,"`case_when()` with a final clause of the form `TRUE ~ ...` uses `ELSE ...` for SQLite (@​mgirlich, #754)."
dbplyr,195,"`day()`, `week()`, `isoweek()`, and `isoyear()` for Postgres (@​mgirlich, #675)."
dbplyr,196,`explain()` for ROracle (@​mgirlich).
dbplyr,197,"`fill()` for SQL Server (#651, @​mgirlich) and RPostgreSQL (@​mgirlich)."
dbplyr,198,"`quantile()` for SQL Server (@​mgirlich, #620)."
dbplyr,199,"`str_flatten()` for Redshift (@​hdplsa, #804)"
dbplyr,200,"`slice_sample()` for MySQL/MariaDB and SQL Server (@​mgirlich, #617)."
dbplyr,201,"`union()` for Hive (@​mgirlich, #663)."
dbplyr,202,"The backend function `dbplyr_fill0()` (used for databases that lack `IGNORE NULLS` support) now respects database specific translations (@​rsund, #753)."
dbplyr,203,"Calls of the form `stringr::foo()` or `lubridate::foo()` are now evaluated in the database, rather than locally (#197)."
dbplyr,204,"Unary plus (e.g. `db %>% filter(x == +1)`) now works (@​mgirlich, #674)."
dbplyr,205,"`is.na()`, `ifelse()`, `if_else()`, `case_when()`, and `if()` generate slightly more compact SQL (@​mgirlich, #738)."
dbplyr,206,"`if_else()` now supports the `missing` argument (@​mgirlich, #641)."
dbplyr,207,"`n()` now respects the window frame (@​mgirlich, #700)."
dbplyr,208,"`quantile()` no longer errors when using the `na.rm` argument (@​mgirlich, #600)."
dbplyr,209,"`remote_name()` now returns a name in more cases where it makes sense (@​mgirlich, #850)."
dbplyr,210,"The partial evaluation code is now more aligned with `dtplyr`. This makes it easier to transfer bug fixes and new features from one package to the other. In this process the second argument of `partial_eval()` was changed to a lazy frame instead of a character vector of variables (@​mgirlich, #766). Partially evaluated expressions with infix operations are now correctly translated. For example `translate_sql(!!expr(2 - 1) * x)` now works (@​mgirlich, #634)."
dbplyr,211,"New `pillar::tbl_format_header()` method for lazy tables: Printing a lazy table where all rows are displayed also shows the exact number of rows in the header. The threshold is controlled by `getOption(""pillar.print_min"")`, with a default of 10 (#796, @​krlmlr)."
dbplyr,212,The 1st edition extension mechanism is formally deprecated (#507).
dbplyr,213,"`across()`, `if_any()` and `if_all()` now defaults to `.cols = everything()` (@​mgirlich, #760). If `.fns` is not provided `if_any()` and `if_all()` work like a parallel version of `any()`/`any()` (@​mgirlich, #734)."
dbplyr,214,"`across()`, `if_any()`, and `if_all()` can now translate evaluated lists and functions (@​mgirlich, #796), and accept the name of a list of functions (@​mgirlich, #817)."
dbplyr,215,"Multiple `across()` calls in `mutate()` and `transmute()` can now access freshly created variables (@​mgirlich, #802)."
dbplyr,216,"`add_count()` now doesn't change the groups of the input (@​mgirlich, #614)."
dbplyr,217,"`compute()` can now handle when `name` is named by unnaming it first (@​mgirlich, #623), and now works when `temporary = TRUE` for Oracle (@​mgirlich, #621)."
dbplyr,218,"`distinct()` now supports `.keep_all = TRUE` (@​mgirlich, #756)."
dbplyr,219,"`expand()` now works in DuckDB (@​mgirlich, #712)."
dbplyr,220,"`explain()` passes `...` to methods (@​mgirlich, #783), and works for Redshift (@​mgirlich, #740)."
dbplyr,221,"`filter()` throws an error if you supply a named argument (@​mgirlich, #764)."
dbplyr,222,"Joins disambiguates columns that only differ in case (@​mgirlich, #702). New arguments `x_as` and `y_as` allow you to control the table alias used in SQL query (@​mgirlich, #637). Joins with `na_matches = ""na""` now work for DuckDB (@​mgirlich, #704)."
dbplyr,223,"`mutate()` and `transmute()` use named windows if a window definition is used at least twice and the backend supports named windows (@​mgirlich, #624)."
dbplyr,224,"`mutate()` now supports the arguments `.keep`, `.before`, and `.after` (@​mgirlich, #802)."
dbplyr,225,`na.rm = FALSE` only warns once every 8 hours across all functions (#899).
dbplyr,226,"`nesting()` now supports the `.name_repair` argument (@​mgirlich, #654)."
dbplyr,227,"`pivot_longer()` can now pivot a column named `name` (@​mgirlich, #692), can repair names (@​mgirlich, #694), and can work with multiple `names_from` columns (@​mgirlich, #693)."
dbplyr,228,"`pivot_wider(values_fn = )` and `pivot_longer(values_transform = )` can now be formulas (@​mgirlich, #745)."
dbplyr,229,"`pivot_wider()` now supports the arguments `names_vary`, `names_expand`, and `unused_fn` (@​mgirlich, #774)."
dbplyr,230,"`remote_name()` now returns a name in more cases where it makes sense (@​mgirlich, #850)."
dbplyr,231,`sql_random()` is now exported.
dbplyr,232,"`ungroup()` removes variables in `...` from grouping (@​mgirlich, #689)."
dbplyr,233,"`transmute()` now keeps grouping variables (@​mgirlich, #802)."
dbplyr,234,New support for Snowflake (@​edgararuiz)
dbplyr,235,"`compute()`, `sql_table_index()`, and `sql_query_wrap()` now work with schemas (@​mgirlich, #595)."
dbplyr,236,`if_any()` and `if_all()` are now translated.
dbplyr,237,"`group_by()` now ungroups when the dots argument is empty and `.add` is `FALSE` (@​mgirlich, #615)."
dbplyr,238,"`sql_escape_date()` and `sql_escape_datetime` gain methods for MS Access (@​erikvona, #608)."
dbplyr,239,"Thanks to @​mgirlich, dbplyr gains support for key verbs from tidyr: `pivot_longer()` (#532), `pivot_wider()` (#543), `expand()` (#538), `complete()` (#538), `replace_na()` (#538), `fill()` (#566)."
dbplyr,240,@​mgirlich is now a dbplyr author in recognition of his significant and sustained contributions.
dbplyr,241,"`across()` implementation has been rewritten to support more inputs: it now translates formulas (#525), works with SQL functions that don't have R translations (#534), and work with `NULL` (#554)"
dbplyr,242,"`summarise()` now supports argument `.groups` (@​mgirlich, #584)."
dbplyr,243,"All backends: `str_sub()`, `substr()` and `substring()` get better translations (#577). Most importantly, the results of using negative locations should match the underlying R implementations more closely."
dbplyr,244,MS SQL:
dbplyr,245,"`as.integer()` and `as.integer64()` translations cast first to `NUMERIC` to avoid CASTing weirdness (@​DavidPatShuiFong, #496)."
dbplyr,246,Assumes a boolean context inside of `[` (#546)
dbplyr,247,`str_sub()` with `end = -1` now works (#577).
dbplyr,248,"Redshift: `lag()` and `lead()` lose the `default` parameter since it's not supported (@​hdplsa, #548)."
dbplyr,249,"SQLite: custom translation of `full_join()` and `right_join()` (@​mgirlich, #536)."
dbplyr,250,RPostgreSQL backend warns if `temporary = TRUE` since temporary tables are not supported by `RPostgreSQL::dbWriteTable()` (#574).
dbplyr,251,`count()` method provides closer match to dplyr semantics (#347).
dbplyr,252,"`distinct()` now respects grouping (@​mgirlich, #535)."
dbplyr,253,"`db_connection_describe()` no longer uses partial matching (@​mgirlich, #564)."
dbplyr,254,`pull()` no longer `select()`s the result when there's already only one variable (#562).
dbplyr,255,"`select()` no longer relocates grouping variables to the front (@​mgirlich, #568). and informs when adding missing grouping variables (@​mgirlich, #559)."
dbplyr,256,`tbl.src_dbi(...)` now passed on to `tbl_sql()` (#530).
dbplyr,257,`across()` is now translated into individual SQL statements (#480).
dbplyr,258,`rename()` and `select()` support dplyr 1.0.0 tidyselect syntax (apart from predicate functions which can't easily work on computed queries) (#502).
dbplyr,259,`relocate()` makes it easy to move columns (#494) and `rename_with()` makes it easy to rename columns programmatically (#502).
dbplyr,260,"`slice_min()`, `slice_max()`, and `slice_order()` are now supported. `slice_head()` and `slice_tail()` throw clear error messages (#394)"
dbplyr,261,Documentation has been radically improved with new topics for each major verb and each backend giving more details about the SQL translation.
dbplyr,262,"`intersect()`, `union()` and `setdiff()` gain an `all` argument to add the `ALL` argument (#414)."
dbplyr,263,"Join functions gains a `na_matches` argument that allows you to control whether or not `NA` (`NULL`) values match other `NA` values. The default is `""never""`, which is the usual behaviour in databases. You can set `na_matches = ""na""` to match R's usual join behaviour (#180). Additional arguments error (instead of being silently swallowed) (#382)."
dbplyr,264,Joins now only use aliases where needed to disambiguate columns; this should make generated queries more readable.
dbplyr,265,"Subqueries no longer include an `ORDER BY` clause. This is not part of the SQL spec, and has very limited support across databases. Now such queries generate a warning suggesting that you move your `arrange()` call later in the pipeline (#276). (There's one exception: `ORDER BY` is still generated if `LIMIT` is present; this tends to affect the returns rows but not necessarily their order)."
dbplyr,266,Subquery names are now scoped within the query. This makes query text deterministic which helps some query optimisers/cachers (#336).
dbplyr,267,`sql_optimise()` now can partially optimise a pipeline; due to an unfortunate bug it previously gave up too easily.
dbplyr,268,"`in_schema()` quotes each input individually (#287) (use `sql()` to opt out of quoting, if needed). And `DBI::Id()` should work anywhere that `in_schema()` does."
dbplyr,269,Experimental new SAP HANA backend (#233). Requires the latest version of odbc.
dbplyr,270,All backends:
dbplyr,271,"You can now use `::` in translations, so that (e.g.) `dbplyr::n()` is translated to `count(*)` (#207)."
dbplyr,272,`[[` can now also translate numeric indices (#520).
dbplyr,273,`%/%` now generates a clear error message; previously it was translated to `/` which is not correct (#108).
dbplyr,274,`n()` is translated to `count(*)` instead of `count()` (#343).
dbplyr,275,`sub_str()` translation is more consistent in edge cases (@​ianmcook).
dbplyr,276,"All `median()` (@​lorenzwalthert, #483), `pmin()`, `pmax()` (#479), `sd()` and `var()` functions have an `na.rm` argument that warns once when not `TRUE`. This makes them consistent with `mean()` and `sum()`."
dbplyr,277,`substring()` is now translated the same way as `substr()` (#378).
dbplyr,278,"[blob](https://blob.tidyverse.org/) vectors can now be used with `!!` and `!!!` operators, for example in `filter()` (@​okhoma, #433)"
dbplyr,279,MySQL uses standard SQL for index creation.
dbplyr,280,"MS SQL translation does better a distinguishing between bit and boolean (#377, #318). `if` and `ifelse` once again generate `IIF`, creating simpler expressions. `as.*()` function uses `TRY_CAST()` instead of `CAST()` for version 11+ (2012+) (@​DavidPatShuiFong, #380)."
dbplyr,281,odbc no longer translates `count()`; this was an accidental inclusion.
dbplyr,282,"Oracle translation now depends on Oracle 12c, and uses a ""row-limiting"" clause for `head()`. It gains translations for `today()` and `now()`, and improved `as.Date()` translation (@​rlh1994, #267)."
dbplyr,283,"PostgreSQL: new translations for lubridate period functions `years()`, `months()`, `days()`, and `floor_date()` (@​bkkkk, #333) and stringr functions `str_squish()`, `str_remove()`, and `str_remove_all()` (@​shosaco)."
dbplyr,284,New RedShift translations when used with `RPostgres::Redshift()`.
dbplyr,285,"`str_replace()` errors since there's no Redshift translation, and `str_replace_all()` uses `REGEXP_REPLACE()` (#446)."
dbplyr,286,`paste()` and `paste0()` use `||` (#458).
dbplyr,287,`as.numeric()` and `as.double()` cast to `FLOAT` (#408).
dbplyr,288,`substr()` and `str_sub()` use `SUBSTRING()` (#327).
dbplyr,289,"SQLite gains translations for lubridate functions `today()`, `now()`, `year()`, `month()`, `day()`, `hour()`, `minute()`, `second()`,`yday()` (#262), and correct translation for `median()` (#357)."
dbplyr,290,New `dbplyr_edition()` generic allows you to opt-in to the 2nd edition of the dbplyr API.
dbplyr,291,"`db_write_table()` now calls `DBI::dbWriteTable()` instead of nine generics that formerly each did a small part: `db_create_indexes()`, `db_begin()`, `db_rollback()`, `db_commit()`, `db_list_tables()`, `drop_drop_table()`, `db_has_table()`, `db_create_table()`, and `db_data_types()`. You can now delete the methods for these generics. `db_query_rows()` is no longer used; it appears that it hasn't been used for some time, so if you have a method, you can delete it."
dbplyr,292,`DBI::dbQuoteIdentifier()` is now used instead of `sql_escape_ident()` and `DBI::dbQuoteString()` instead of `sql_escape_string()`.
dbplyr,293,A number of `db_*` generics have been replaced with new SQL generation generics:
dbplyr,294,`dplyr::db_analyze()` -\> `dbplyr::sql_table_analyze()`
dbplyr,295,`dplyr::db_create_index()` -\> `dbplyr::sql_table_index()`
dbplyr,296,`dplyr::db_explain()` -\> `dbplyr::sql_queriy_explain()`
dbplyr,297,`dplyr::db_query_fields()` -\> `dbplyr::sql_query_fields()`
dbplyr,298,`dplyr::db_save_query()` -\> `dbplyr::sql_query_save()` This makes them easier to test and is an important part of the process of moving all database generics in dbplyr (#284).
dbplyr,299,A number of other generics have been renamed to facilitate the move from dplyr to dbplyr:
dbplyr,300,`dplyr::sql_select()` -\> `dbplyr::sql_query_select()`
dbplyr,301,`dplyr::sql_join()` -\> `dbplyr::sql_query_join()`
dbplyr,302,`dplyr::sql_semi_join()` -\> `dbplyr::sql_query_semi_join()`
dbplyr,303,`dplyr::sql_set_op()` -\> `dbplyr::sql_query_set_op()`
dbplyr,304,`dplyr::sql_subquery()` -\> `dbplyr::sql_query_wrap()`
dbplyr,305,`dplyr::db_desc()` -\> `dbplyr::db_connection_describe()`
dbplyr,306,New `db_temporary_table()` generic makes it easier to work with databases that require temporary tables to be specially named.
dbplyr,307,"New `sql_expr_matches()` generic allows databases to use more efficient alternatives when determine if two values ""match"" (i.e. like equality but a pair of `NULL`s will also match). For more details, see <https://modern-sql.com/feature/is-distinct-from>"
dbplyr,308,New `sql_join_suffix()` allows backends to control the default suffixes used (#254).
dbplyr,309,All old lazy eval shims have been removed. These have been deprecated for some time.
dbplyr,310,Date-time escaping methods for Athena and Presto have moved to the packages where they belong.
dbplyr,311,Attempting to embed a Shiny reactive in a query now gives a helpful error (#439).
dbplyr,312,`copy_lahman()` and `copy_nycflights13()` (and hence `nycflights13_sqlite()`) and friends now return DBI connections rather than the now deprecated `src_dbi()` (#440).
dbplyr,313,"`copy_to()` can now `overwrite` when table is specified with schema (#489), and gains an `in_transaction` argument used to optionally suppress the transaction wrapper (#368)."
dbplyr,314,`distinct()` no longer duplicates column if grouped (#354).
dbplyr,315,`transmute()` now correctly tracks variables it needs when creating subqueries (#313).
dbplyr,316,`mutate()` grouping variables no longer generates a downstream error (#396)
dbplyr,317,`mutate()` correctly generates subqueries when you re-use the same variable three or more times (#412).
dbplyr,318,"`window_order()` overrides ordering, rather than appending to it."
dbplyr,319,"Internally `DBI::dbExecute()` now uses `immediate = TRUE`; this improves support for session-scoped temporary tables in MS SQL (@​krlmlr, #438)."
dbplyr,320,"Subqueries with `ORDER BY` use `TOP 9223372036854775807` instead of `TOP 100 PERCENT` on SQL Server for compatibility with Azure Data Warehouse (#337, @​alexkyllo)."
dbplyr,321,"`escape()` now supports `blob` vectors using new `sql_escape_raw()` generic. It enables using [blob](https://blob.tidyverse.org/) variables in dplyr verbs, for example to filter nvarchar values by UTF-16 blobs (see https://github.com/r-dbi/DBI/issues/215#issuecomment-356376133). (@​okhoma, #433)"
dbplyr,322,"Added `setOldClass()` calls for `""ident""` and `""ident_q""` classes for compatibility with dplyr 1.0.0 (#448, @​krlmlr)."
dbplyr,323,"Postgres `str_detect()` translation uses same argument names as stringr, and gains a `negate` argument (#444)."
dbplyr,324,"`semi_join()` and `anti_join()` now correctly support the `sql_on` argument (#443, @​krlmlr)."
dbplyr,325,dbplyr now uses RPostgres (instead of RPostgreSQL) and RMariaDB (instead of RMySQL) for its internal tests and data functions (#427).
dbplyr,326,"The Date and POSIXt methods for `escape()` now use exported `sql_escape_date()` and `sql_escape_datetime()` generics to allow backend specific formatting of date and datetime literals. These are used to provide methods for Athena and Presto backends (@​OssiLehtinen, #384, #391)."
dbplyr,327,"`first()`, `last()`, `nth()`, `lead()` and `lag()` now respect the `window_frame()` (@​krlmlr, #366)."
dbplyr,328,"SQL server: new translations for `str_flatten()` (@​PauloJhonny, #405)."
dbplyr,329,"SQL server: temporary datasets are now session-local, not global (#401)."
dbplyr,330,"Postgres: correct `str_detect()`, `str_replace()` and `str_replace_all()` translation (@​shosaco, #362)."
dbplyr,331,Fix bug when partially evaluating unquoting quosure containing a single symbol (#317)
dbplyr,332,Fixes for rlang and dpylr compatibility.
dbplyr,333,`x %in% y` strips names of `y` (#269).
dbplyr,334,"Enhancements for scoped verbs (`mutate_all()`, `summarise_if()`, `filter_at()` etc) (#296, #306)."
dbplyr,335,MS SQL use `TOP 100 PERCENT` as stop-gap to allow subqueries with `ORDER BY` (#277).
dbplyr,336,"Window functions now translated correctly for Hive (#293, @​cderv)."
dbplyr,337,"`` Error: `con` must not be NULL ``: If you see this error, it probably means that you have forgotten to pass `con` down to a dbplyr function. Previously, dbplyr defaulted to using `simulate_dbi()` which introduced subtle escaping bugs. (It's also possible I have forgotten to pass it somewhere that the dbplyr tests don't pick up, so if you can't figure it out, please let me know)."
dbplyr,338,"Subsetting (`[[`, `$`, and `[`) functions are no longer evaluated locally. This makes the translation more consistent and enables useful new idioms for modern databases (#200)."
dbplyr,339,"MySQL/MariaDB (https://mariadb.com/kb/en/library/window-functions/) and SQLite (https://www.sqlite.org/windowfunctions.html) translations gain support for window functions, available in Maria DB 10.2, MySQL 8.0, and SQLite 3.25 (#191)."
dbplyr,340,"Overall, dplyr generates many fewer subqueries:"
dbplyr,341,Joins and semi-joins no longer add an unneeded subquery (#236). This is facilitated by the new `bare_identifier_ok` argument to `sql_render()`; the previous argument was called `root` and confused me.
dbplyr,342,"Many sequences of `select()`, `rename()`, `mutate()`, and `transmute()` can be collapsed into a single query, instead of always generating a subquery (#213)."
dbplyr,343,"New `vignette(""sql"")` describes some advantages of dbplyr over SQL (#205) and gives some advice about writing literal SQL inside of dplyr, when you need to (#196)."
dbplyr,344,"New `vignette(""reprex"")` gives some hints on creating reprexes that work anywhere (#117). This is supported by a new `tbl_memdb()` that matches the existing `tbl_lazy()`."
dbplyr,345,"All `..._join()` functions gain an `sql_on` argument that allows specifying arbitrary join predicates in SQL code (#146, @​krlmlr)."
dbplyr,346,"New translations for some lubridate functions: `today()`, `now()`, `year()`, `month()`, `day()`, `hour()`, `minute()`, `second()`, `quarter()`, `yday()` (@​colearendt, @​derekmorr). Also added new translation for `as.POSIXct()`."
dbplyr,347,"New translations for stringr functions: `str_c()`, `str_sub()`, `str_length()`, `str_to_upper()`, `str_to_lower()`, and `str_to_title()` (@​colearendt). Non-translated stringr functions throw a clear error."
dbplyr,348,"New translations for bitwise operations: `bitwNot()`, `bitwAnd()`, `bitwOr()`, `bitwXor()`, `bitwShiftL()`, and `bitwShiftR()`. Unlike the base R functions, the translations do not coerce arguments to integers (@​davidchall, #235)."
dbplyr,349,New translation for `x[y]` to `CASE WHEN y THEN x END`. This enables `sum(a[b == 0])` to work as you expect from R (#202). `y` needs to be a logical expression; if not you will likely get a type error from your database.
dbplyr,350,"New translations for `x$y` and `x[[""y""]]` to `x.y`, enabling you to index into nested fields in databases that provide them (#158)."
dbplyr,351,The `.data` and `.env` pronouns of tidy evaluation are correctly translated (#132).
dbplyr,352,"New translation for `median()` and `quantile()`. Works for all ANSI compliant databases (SQL Server, Postgres, MariaDB, Teradata) and has custom translations for Hive. Thanks to @​edavidaja for researching the SQL variants! (#169)"
dbplyr,353,`na_if()` is correct translated to `NULLIF()` (rather than `NULL_IF`) (#211).
dbplyr,354,"`n_distinct()` translation throws an error when given more than one argument. (#101, #133)."
dbplyr,355,"New default translations for `paste()`, `paste0()`, and the hyperbolic functions (these previously were only available for ODBC databases)."
dbplyr,356,"Corrected translations of `pmin()` and `pmax()` to `LEAST()` and `GREATEST()` for ANSI compliant databases (#118), to `MIN()` and `MAX()` for SQLite, and to an error for SQL server."
dbplyr,357,New translation for `switch()` to the simple form of `CASE WHEN` (#192).
dbplyr,358,"SQL simulation has been overhauled. It now works reliably, is better documented, and always uses ANSI escaping (i.e. `` ` `` for field names and `'` for strings)."
dbplyr,359,"`tbl_lazy()` now actually puts a `dbplyr::src` in the `$src` field. This shouldn't affect any downstream code unless you were previously working around this weird difference between `tbl_lazy` and `tbl_sql` classes. It also includes the `src` class in its class, and when printed, shows the generated SQL (#111)."
dbplyr,360,MySQL/MariaDB
dbplyr,361,"Translations also applied to connections via the odbc package (@​colearendt, #238)"
dbplyr,362,"Basic support for regular expressions via `str_detect()` and\ `str_replace_all()` (@​colearendt, #168)."
dbplyr,363,"Improved translation for `as.logical(x)` to `IF(x, TRUE, FALSE)`."
dbplyr,364,Oracle
dbplyr,365,"New custom translation for `paste()` and `paste0()` (@​cderv, #221)"
dbplyr,366,Postgres
dbplyr,367,"Basic support for regular expressions via `str_detect()` and\ `str_replace_all()` (@​colearendt, #168)."
dbplyr,368,SQLite
dbplyr,369,"`explain()` translation now generates `EXPLAIN QUERY PLAN` which generates a higher-level, more human friendly explanation."
dbplyr,370,SQL server
dbplyr,371,Improved translation for `as.logical(x)` to `CAST(x as BIT)` (#250).
dbplyr,372,"Translates `paste()`, `paste0()`, and `str_c()` to `+`."
dbplyr,373,`copy_to()` method applies temporary table name transformation earlier so that you can now overwrite temporary tables (#258).
dbplyr,374,`db_write_table()` method uses correct argument name for passing along field types (#251).
dbplyr,375,Aggregation functions only warn once per session about the use of `na.rm = TRUE` (#216).
dbplyr,376,"table names generated by `random_table_name()` have the prefix ""dbplyr\_"", which makes it easier to find them programmatically (@​mattle24, #111)"
dbplyr,377,Functions that are only available in a windowed (`mutate()`) query now throw an error when called in a aggregate (`summarise()`) query (#129)
dbplyr,378,"`arrange()` understands the `.by_group` argument, making it possible sort by groups if desired. The default is `FALSE` (#115)"
dbplyr,379,"`distinct()` now handles computed variables like `distinct(df, y = x + y)` (#154)."
dbplyr,380,"`escape()`, `sql_expr()` and `build_sql()` no longer accept `con = NULL` as a shortcut for `con = simulate_dbi()`. This made it too easy to forget to pass `con` along, introducing extremely subtle escaping bugs. `win_over()` gains a `con` argument for the same reason."
dbplyr,381,New `escape_ansi()` always uses ANSI SQL 92 standard escaping (for use in examples and documentation).
dbplyr,382,"`mutate(df, x = NULL)` drops `x` from the output, just like when working with local data frames (#194)."
dbplyr,383,"`partial_eval()` processes inlined functions (including rlang lambda functions). This makes dbplyr work with more forms of scoped verbs like `df %>% summarise_all(~ mean(.))`, `df %>% summarise_all(list(mean))` (#134)."
dbplyr,384,"`sql_aggregate()` now takes an optional argument `f_r` for passing to `check_na_rm()`. This allows the warning to show the R function name rather than the SQL function name (@​sverchkov, #153)."
dbplyr,385,`sql_infix()` gains a `pad` argument for the rare operator that doesn't need to be surrounded by spaces.
dbplyr,386,"`sql_prefix()` no longer turns SQL functions into uppercase, allowing for correct translation of case-sensitive SQL functions (#181, @​mtoto)."
dbplyr,387,`summarise()` gives a clear error message if you refer to a variable created in that same `summarise()` (#114).
dbplyr,388,New `sql_call2()` which is to `rlang::call2()` as `sql_expr()` is to `rlang::expr()`.
dbplyr,389,`show_query()` and `explain()` use `cat()` rather than message.
dbplyr,390,"`union()`, `union_all()`, `setdiff()` and `intersect()` do a better job of matching columns across backends (#183)."
dbplyr,391,Now supports for dplyr 0.8.0 (#190) and R 3.1.0
dbplyr,392,"Calls of the form `dplyr::foo()` are now evaluated in the database, rather than locally (#197)."
dbplyr,393,`vars` argument to `tbl_sql()` has been formally deprecated; it hasn't actually done anything for a while (#3254).
dbplyr,394,"`src` and `tbl` objects now include a class generated from the class of the underlying connection object. This makes it possible for dplyr backends to implement different behaviour at the dplyr level, when needed. (#2293)"
dbplyr,395,"`x %in% y` is now translated to `FALSE` if `y` is empty (@​mgirlich, #160)."
dbplyr,396,New `as.integer64(x)` translation to `CAST(x AS BIGINT)` (#3305)
dbplyr,397,"`case_when` now translates with a ELSE clause if a formula of the form `TRUE~<RHS>` is provided . (@​cderv, #112)"
dbplyr,398,`cummean()` now generates `AVG()` not `MEAN()` (#157)
dbplyr,399,`str_detect()` now uses correct parameter order (#3397)
dbplyr,400,MS SQL
dbplyr,401,Cumulative summary functions now work (#157)
dbplyr,402,"`ifelse()` uses `CASE WHEN` instead of `IIF`; this allows more complex operations, such as `%in%`, to work properly (#93)"
dbplyr,403,Oracle
dbplyr,404,Custom `db_drop_table()` now only drops tables if they exist (#3306)
dbplyr,405,Custom `setdiff()` translation (#3493)
dbplyr,406,Custom `db_explain()` translation (#3471)
dbplyr,407,SQLite
dbplyr,408,"Correct translation for `as.numeric()`/`as.double()` (@​chris-park, #171)."
dbplyr,409,Redshift
dbplyr,410,`substr()` translation improved (#3339)
dbplyr,411,"`copy_to()` will only remove existing table when `overwrite = TRUE` and the table already exists, eliminating a confusing ""NOTICE"" from PostgreSQL (#3197)."
dbplyr,412,`partial_eval()` handles unevaluated formulas (#184).
dbplyr,413,`pull.tbl_sql()` now extracts correctly from grouped tables (#3562).
dbplyr,414,"`sql_render.op()` now correctly forwards the `con` argument (@​kevinykuo, #73)."
dbplyr,415,R CMD check fixes
dbplyr,416,Forward compatibility fixes for rlang 0.2.0
dbplyr,417,New translations for
dbplyr,418,MS Access (#2946) (@​DavisVaughan)
dbplyr,419,"Oracle, via odbc or ROracle (#2928, #2732, @​edgararuiz)"
dbplyr,420,Teradata.
dbplyr,421,Redshift.
dbplyr,422,dbplyr now supplies appropriate translations for the RMariaDB and RPostgres packages (#3154). We generally recommend using these packages in favour of the older RMySQL and RPostgreSQL packages as they are fully DBI compliant and tested with DBItest.
dbplyr,423,"`copy_to()` can now ""copy"" tbl_sql in the same src, providing another way to cache a query into a temporary table (#3064). You can also `copy_to` tbl_sqls from another source, and `copy_to()` will automatically collect then copy."
dbplyr,424,"Initial support for stringr functions: `str_length()`, `str_to_upper()`, `str_to_lower()`, `str_replace_all()`, `str_detect()`, `str_trim()`. Regular expression support varies from database to database, but most simple regular expressions should be ok."
dbplyr,425,`db_compute()` gains an `analyze` argument to match `db_copy_to()`.
dbplyr,426,"New `remote_name()`, `remote_con()`, `remote_src()`, `remote_query()` and `remote_query_plan()` provide a standard API for get metadata about a remote tbl (#3130, #2923, #2824)."
dbplyr,427,New `sql_expr()` is a more convenient building block for low-level SQL translation (#3169).
dbplyr,428,"New `sql_aggregate()` and `win_aggregate()` for generating SQL and windowed SQL functions for aggregates. These take one argument, `x`, and warn if `na.rm` is not `TRUE` (#3155). `win_recycled()` is equivalent to `win_aggregate()` and has been soft-deprecated."
dbplyr,429,`db_write_table` now needs to return the table name
dbplyr,430,Multiple `head()` calls in a row now collapse to a single call. This avoids a printing problem with MS SQL (#3084).
dbplyr,431,`escape()` now works with integer64 values from the bit64 package (#3230)
dbplyr,432,"`if`, `ifelse()`, and `if_else()` now correctly scope the false condition so that it only applies to non-NULL conditions (#3157)"
dbplyr,433,"`ident()` and `ident_q()` handle 0-length inputs better, and should be easier to use with S3 (#3212)"
dbplyr,434,"`in_schema()` should now work in more places, particularly in `copy_to()` (#3013, @​baileych)"
dbplyr,435,SQL generation for joins no longer gets stuck in a endless loop if you request an empty suffix (#3220).
dbplyr,436,`mutate()` has better logic for splitting a single mutate into multiple subqueries (#3095).
dbplyr,437,"Improved `paste()` and `paste0()` support in MySQL, PostgreSQL (#3168), and RSQLite (#3176). MySQL and PostgreSQL gain support for `str_flatten()` which behaves like `paste(x, collapse = ""-"")` (but for technical reasons can't be implemented as a straightforward translation of `paste()`)."
dbplyr,438,`same_src.tbl_sql()` now performs correct comparison instead of always returning `TRUE`. This means that `copy = TRUE` once again allows you to perform cross-database joins (#3002).
dbplyr,439,"`select()` queries no longer alias column names unnecessarily (#2968, @​DavisVaughan)."
dbplyr,440,"`select()` and `rename()` are now powered by tidyselect, fixing a few renaming bugs (#3132, #2943, #2860)."
dbplyr,441,`summarise()` once again performs partial evaluation before database submission (#3148).
dbplyr,442,`test_src()` makes it easier to access a single test source.
dbplyr,443,MS SQL
dbplyr,444,Better support for temporary tables (@​Hong-Revo)
dbplyr,445,"Different translations for filter/mutate contexts for: `NULL` evaluation (`is.na()`, `is.null()`), logical operators (`!`, `&`, `&&`, `|`, `||`), and comparison operators (`==`, `!=`, `<`, `>`, `>=`, `<=`)"
dbplyr,446,MySQL: `copy_to()` (via `db_write_table()`) correctly translates logical variables to integers (#3151).
dbplyr,447,odbc: improved `n()` translation in windowed context.
dbplyr,448,SQLite: improved `na_if` translation (@​cwarden)
dbplyr,449,PostgreSQL: translation for `grepl()` added (@​zozlak)
dbplyr,450,"Oracle: changed VARVHAR to VARCHAR2 datatype (@​washcycle, #66)"
dbplyr,451,`full_join()` over non-overlapping columns `by = character()` translated to `CROSS JOIN` (#2924).
dbplyr,452,"`case_when()` now translates to SQL ""CASE WHEN"" (#2894)"
dbplyr,453,`x %in% c(1)` now generates the same SQL as `x %in% 1` (#2898).
dbplyr,454,"New `window_order()` and `window_frame()` give you finer control over the window functions that dplyr creates (#2874, #2593)."
dbplyr,455,Added SQL translations for Oracle (@​edgararuiz).
dbplyr,456,`x %in% c(1)` now generates the same SQL as `x %in% 1` (#2898).
dbplyr,457,"`head(tbl, 0)` is now supported (#2863)."
dbplyr,458,`select()`ing zero columns gives a more information error message (#2863).
dbplyr,459,"Variables created in a join are now disambiguated against other variables in the same table, not just variables in the other table (#2823)."
dbplyr,460,PostgreSQL gains a better translation for `round()` (#60).
dbplyr,461,"Added custom `db_analyze_table()` for MS SQL, Oracle, Hive and Impala (@​edgararuiz)"
dbplyr,462,Added support for `sd()` for aggregate and window functions (#2887) (@​edgararuiz)
dbplyr,463,"You can now use the magrittr pipe within expressions, e.g. `mutate(mtcars, cyl %>% as.character())`."
dbplyr,464,"If a translation was supplied for a summarise function, but not for the equivalent windowed variant, the expression would be translated to `NULL` with a warning. Now `sql_variant()` checks that all aggregate functions have matching window functions so that correct translations or clean errors will be generated (#2887)"
dbplyr,465,"`tbl()` and `copy_to()` now work directly with DBI connections (#2423, #2576), so there is no longer a need to generate a dplyr src."
=======
```"
dbplyr,111,"(@​mgirlich, #1015)."
dbplyr,112,"Restricted length of table aliases to avoid truncation on certain backends (e.g., Postgres) (@​fh-mthomson, #1096)"
dbplyr,113,"Compatibility with purrr 1.0.0 (@​mgirlich, #1085)."
dbplyr,114,"`stringr::str_like()` (new in 1.5.0) is translated to the closest `LIKE` equivalent (@​rjpat, #509)"
dbplyr,115,In preparation for dplyr 1.1.0:
dbplyr,116,"The `.by` argument is supported (@​mgirlich, #1051)."
dbplyr,117,"Passing `...` to `across()` is deprecated because the evaluation timing of `...` is ambiguous. Now instead of (e.g.) `across(a:b, mean, na.rm = TRUE)` use `across(a:b, \(x) mean(x, na.rm = TRUE)`"
dbplyr,118,"`pick()` is translated (@​mgirlich, #1044)."
dbplyr,119,"`case_match()` is translated (@​mgirlich, #1020)."
dbplyr,120,"`case_when()` now supports the `.default` argument (@​mgirlich, #1017)."
dbplyr,121,"Variables that aren't found in either the data or in the environment now produce an error (@​mgirlich, #907)."
dbplyr,122,"dbplyr now produces fewer subqueries resulting in shorter, more readable, and, in some cases, faster SQL. The following combination of verbs now avoids a subquery if possible:"
dbplyr,123,"`*_join()` + `select()` (@​mgirlich, #876)."
dbplyr,124,"`select()` + `*_join()` (@​mgirlich, #875)."
dbplyr,125,"`mutate()` + `filter()` and `filter()` + `filter()` (@​mgirlich, #792)."
dbplyr,126,"`distinct()` (@​mgirlich, #880)."
dbplyr,127,"`summarise()` + `filter()` now translates to `HAVING` (@​mgirlich, #877)."
dbplyr,128,"`left/inner_join()` + `left/inner_join()` (@​mgirlich, #865)."
dbplyr,129,"dbplyr now uses `SELECT *` after a join instead of explicitly selecting every column, where possible (@​mgirlich, #898)."
dbplyr,130,"Joins only use the table aliases (""LHS"" and ""RHS"") if necessary (@​mgirlich)."
dbplyr,131,"When using common table expressions, the results of joins and set operations are now reused (@​mgirlich, #978)."
dbplyr,132,"Many errors have been improved and now show the function where the error happened instead of a helper function (@​mgirlich, #907)."
dbplyr,133,"Errors produced by the database, e.g. in `collect()` or `rows_*()`, now show the verb where the error happened (@​mgirlich)."
dbplyr,134,"`window_order()` now produces a better error message when applied to a data frame (@​mgirlich, #947)."
dbplyr,135,"Using a named `across()` now gives a clear error message (@​mgirlich, #761)."
dbplyr,136,"Keyword highlighting can now be customised via the option `dbplyr_highlight`. Turn it off via `options(dbplyr_highlight = FALSE)` or pass a custom ansi style, e.g. `options(dbplyr_highlight = cli::combine_ansi_styles(""bold"", ""cyan""))` (@​mgirlich, #974)."
dbplyr,137,"The rank functions (`row_number()`, `min_rank()`, `rank()`, `dense_rank()`, `percent_rank()`, and `cume_dist()`) now give missing values the rank NA to match the behaviour of dplyr (@​mgirlich, #991)."
dbplyr,138,`NA`s in `blob()`s are correctly translated to `NULL` (#983).
dbplyr,139,"`copy_inline()` gains a `types` argument to specify the SQL column types (@​mgirlich, #963)."
dbplyr,140,"`cur_column()` is now supported (@​mgirlich, #951)."
dbplyr,141,"`distinct()` returns columns ordered the way you request, not the same as the input data (@​mgirlich)."
dbplyr,142,"`fill()` can now fill ""downup"" and ""updown"" (@​mgirlich, #1057), and now order by non-numeric columns also in the up direction (@​mgirlich, #1057)."
dbplyr,143,`filter()` now works when using a window function and an external vector (#1048).
dbplyr,144,"`group_by()` + renamed columns works once again (@​mgirlich, #928)."
dbplyr,145,"`last()` is correctly translated when no window frame is specified (@​mgirlich, #1063)."
dbplyr,146,"`setOldClass()` uses a namespace, fixing an installation issue (@​mgirlich, #927)."
dbplyr,147,"`sql()` is now translated differently. The `...` are now evaluated locally instead of being translated with `translate_sql()` (@​mgirlich, #952)."
dbplyr,148,HANA:
dbplyr,149,Correctly translates `as.character()` (#1027).
dbplyr,150,`copy_inline()` now works for Hana (#950)
dbplyr,151,MySQL:
dbplyr,152,"`str_flatten()` uses `collapse = """"` by default (@​fh-afrachioni, #993)"
dbplyr,153,Oracle:
dbplyr,154,"`slice_sample()` now works for Oracle (@​mgirlich, #986)."
dbplyr,155,`copy_inline()` now works for Oracle (#972)
dbplyr,156,PostgreSQL:
dbplyr,157,Generates correct literals for Dates (#727).
dbplyr,158,"`str_flatten()` uses `collapse = """"` by default (@​fh-afrachioni, #993)"
dbplyr,159,"`rows_*()` use the column types of `x` when auto copying (@​mgirlich, #909)."
dbplyr,160,Redshift:
dbplyr,161,"`round()` now respects the `digits` argument (@​owenjonesuob, #1033)."
dbplyr,162,"No longer tries to use named windows anymore (@​owenjonesuob, #1035)."
dbplyr,163,"`copy_inline()` now works for Redshift (#949, thanks to @​ejneer for an initial implementation)."
dbplyr,164,"`str_flatten()` uses `collapse = """"` by default (@​fh-afrachioni, #993)"
dbplyr,165,Snowflake:
dbplyr,166,"numeric functions: `all()`, `any()`, `log10()`, `round()`, `cor()`, `cov()` and `sd()`."
dbplyr,167,"date functions: `day()`, `mday()`, `wday()`, `yday()`, `week()`, `isoweek()`, `month()`, `quarter()`, `isoyear()`, `seconds()`, `minutes()`, `hours()`, `days()`, `weeks()`, `months()`, `years()` and `floor_date()`."
dbplyr,168,"string functions: `grepl()`, `paste()`, `paste0()`, `str_c()`, `str_locate()`, `str_detect()`, `str_replace()`, `str_replace_all()`, `str_remove()`, `str_remove_all()`, `str_trim()`, `str_squish()` and `str_flatten()` (@​fh-afrachioni, #860)."
dbplyr,169,"`str_flatten()` uses `collapse = """"` by default (@​fh-afrachioni, #993)"
dbplyr,170,SQLite:
dbplyr,171,"`quantile()` gives a better error saying that it is not supported (@​mgirlich, #1000)."
dbplyr,172,SQL server:
dbplyr,173,"`as.POSIXct()` now translated correctly (@​krlmlr, #1011)."
dbplyr,174,`median()` now translated correctly (#1008).
dbplyr,175,"`pivot_wider()` works again for MS SQL (@​mgirlich, #929)."
dbplyr,176,"Always use 1 and 0 as literals for logicals (@​krlmlr, #934)."
dbplyr,177,Teradata:
dbplyr,178,"Querying works again. Unfortunately, the fix requires every column to once again by explicitly selected (@​mgirlich, #966)."
dbplyr,179,"New translations for `as.Date()`, `week()`, `quarter()`, `paste()`, `startsWith()`, `row_number()`, `weighted.mean()`, `lead()`, `lag()`, and `cumsum()` (@​overmar, #913)."
dbplyr,180,"Querying Oracle databases works again. Unfortunately, the fix requires every column to be explicitly selected again (@​mgirlich, #908)."
dbplyr,181,"`semi_join()` and `anti_join()` work again for Spark (@​mgirlich, #915)."
dbplyr,182,"`str_c()` is now translated to `||` in Oracle (@​mgirlich, #921)."
dbplyr,183,"`sd()`, `var()`, `cor()` and `cov()` now give clear error messages on databases that don't support them."
dbplyr,184,`any()` and `all()` gain default translations for all backends.
dbplyr,185,"SQL formatting has been considerably improved with new wrapping and indenting. `show_query()` creates more readable queries by printing the keywords in blue (@​mgirlich, #644). When possible dbplyr now uses `SELECT *` instead of explicitly selecting every column (@​mgirlich)."
dbplyr,186,"Added support for `rows_insert()`, `rows_append()`, `rows_update()`, `rows_patch()`, `rows_upsert()`, and `rows_delete()` (@​mgirlich, #736)."
dbplyr,187,"Added `copy_inline()` as a `copy_to()` equivalent that does not need write access (@​mgirlich, #628)."
dbplyr,188,"`remote_query()`, `show_query()`, `compute()` and `collect()` have an experimental `cte` argument. If `TRUE` the SQL query will use common table expressions instead of nested queries (@​mgirlich, #638)."
dbplyr,189,"New `in_catalog()`, which works like `in_schema()`, but allows creation of table identifiers consisting of three components: catalog, schema, name (#806, @​krlmlr)."
dbplyr,190,"When possible, dbplyr now uses `SELECT *` instead of explicitly selecting every column (@​mgirlich)."
dbplyr,191,"New translation for `cut()` (@​mgirlich, #697)."
dbplyr,192,Improved translations for specific backends:
dbplyr,193,"`as.Date()` for Oracle (@​mgirlich, #661)."
dbplyr,194,"`case_when()` with a final clause of the form `TRUE ~ ...` uses `ELSE ...` for SQLite (@​mgirlich, #754)."
dbplyr,195,"`day()`, `week()`, `isoweek()`, and `isoyear()` for Postgres (@​mgirlich, #675)."
dbplyr,196,`explain()` for ROracle (@​mgirlich).
dbplyr,197,"`fill()` for SQL Server (#651, @​mgirlich) and RPostgreSQL (@​mgirlich)."
dbplyr,198,"`quantile()` for SQL Server (@​mgirlich, #620)."
dbplyr,199,"`str_flatten()` for Redshift (@​hdplsa, #804)"
dbplyr,200,"`slice_sample()` for MySQL/MariaDB and SQL Server (@​mgirlich, #617)."
dbplyr,201,"`union()` for Hive (@​mgirlich, #663)."
dbplyr,202,"The backend function `dbplyr_fill0()` (used for databases that lack `IGNORE NULLS` support) now respects database specific translations (@​rsund, #753)."
dbplyr,203,"Calls of the form `stringr::foo()` or `lubridate::foo()` are now evaluated in the database, rather than locally (#197)."
dbplyr,204,"Unary plus (e.g. `db %>% filter(x == +1)`) now works (@​mgirlich, #674)."
dbplyr,205,"`is.na()`, `ifelse()`, `if_else()`, `case_when()`, and `if()` generate slightly more compact SQL (@​mgirlich, #738)."
dbplyr,206,"`if_else()` now supports the `missing` argument (@​mgirlich, #641)."
dbplyr,207,"`n()` now respects the window frame (@​mgirlich, #700)."
dbplyr,208,"`quantile()` no longer errors when using the `na.rm` argument (@​mgirlich, #600)."
dbplyr,209,"`remote_name()` now returns a name in more cases where it makes sense (@​mgirlich, #850)."
dbplyr,210,"The partial evaluation code is now more aligned with `dtplyr`. This makes it easier to transfer bug fixes and new features from one package to the other. In this process the second argument of `partial_eval()` was changed to a lazy frame instead of a character vector of variables (@​mgirlich, #766). Partially evaluated expressions with infix operations are now correctly translated. For example `translate_sql(!!expr(2 - 1) * x)` now works (@​mgirlich, #634)."
dbplyr,211,"New `pillar::tbl_format_header()` method for lazy tables: Printing a lazy table where all rows are displayed also shows the exact number of rows in the header. The threshold is controlled by `getOption(""pillar.print_min"")`, with a default of 10 (#796, @​krlmlr)."
dbplyr,212,The 1st edition extension mechanism is formally deprecated (#507).
dbplyr,213,"`across()`, `if_any()` and `if_all()` now defaults to `.cols = everything()` (@​mgirlich, #760). If `.fns` is not provided `if_any()` and `if_all()` work like a parallel version of `any()`/`any()` (@​mgirlich, #734)."
dbplyr,214,"`across()`, `if_any()`, and `if_all()` can now translate evaluated lists and functions (@​mgirlich, #796), and accept the name of a list of functions (@​mgirlich, #817)."
dbplyr,215,"Multiple `across()` calls in `mutate()` and `transmute()` can now access freshly created variables (@​mgirlich, #802)."
dbplyr,216,"`add_count()` now doesn't change the groups of the input (@​mgirlich, #614)."
dbplyr,217,"`compute()` can now handle when `name` is named by unnaming it first (@​mgirlich, #623), and now works when `temporary = TRUE` for Oracle (@​mgirlich, #621)."
dbplyr,218,"`distinct()` now supports `.keep_all = TRUE` (@​mgirlich, #756)."
dbplyr,219,"`expand()` now works in DuckDB (@​mgirlich, #712)."
dbplyr,220,"`explain()` passes `...` to methods (@​mgirlich, #783), and works for Redshift (@​mgirlich, #740)."
dbplyr,221,"`filter()` throws an error if you supply a named argument (@​mgirlich, #764)."
dbplyr,222,"Joins disambiguates columns that only differ in case (@​mgirlich, #702). New arguments `x_as` and `y_as` allow you to control the table alias used in SQL query (@​mgirlich, #637). Joins with `na_matches = ""na""` now work for DuckDB (@​mgirlich, #704)."
dbplyr,223,"`mutate()` and `transmute()` use named windows if a window definition is used at least twice and the backend supports named windows (@​mgirlich, #624)."
dbplyr,224,"`mutate()` now supports the arguments `.keep`, `.before`, and `.after` (@​mgirlich, #802)."
dbplyr,225,`na.rm = FALSE` only warns once every 8 hours across all functions (#899).
dbplyr,226,"`nesting()` now supports the `.name_repair` argument (@​mgirlich, #654)."
dbplyr,227,"`pivot_longer()` can now pivot a column named `name` (@​mgirlich, #692), can repair names (@​mgirlich, #694), and can work with multiple `names_from` columns (@​mgirlich, #693)."
dbplyr,228,"`pivot_wider(values_fn = )` and `pivot_longer(values_transform = )` can now be formulas (@​mgirlich, #745)."
dbplyr,229,"`pivot_wider()` now supports the arguments `names_vary`, `names_expand`, and `unused_fn` (@​mgirlich, #774)."
dbplyr,230,"`remote_name()` now returns a name in more cases where it makes sense (@​mgirlich, #850)."
dbplyr,231,`sql_random()` is now exported.
dbplyr,232,"`ungroup()` removes variables in `...` from grouping (@​mgirlich, #689)."
dbplyr,233,"`transmute()` now keeps grouping variables (@​mgirlich, #802)."
dbplyr,234,New support for Snowflake (@​edgararuiz)
dbplyr,235,"`compute()`, `sql_table_index()`, and `sql_query_wrap()` now work with schemas (@​mgirlich, #595)."
dbplyr,236,`if_any()` and `if_all()` are now translated.
dbplyr,237,"`group_by()` now ungroups when the dots argument is empty and `.add` is `FALSE` (@​mgirlich, #615)."
dbplyr,238,"`sql_escape_date()` and `sql_escape_datetime` gain methods for MS Access (@​erikvona, #608)."
dbplyr,239,"Thanks to @​mgirlich, dbplyr gains support for key verbs from tidyr: `pivot_longer()` (#532), `pivot_wider()` (#543), `expand()` (#538), `complete()` (#538), `replace_na()` (#538), `fill()` (#566)."
dbplyr,240,@​mgirlich is now a dbplyr author in recognition of his significant and sustained contributions.
dbplyr,241,"`across()` implementation has been rewritten to support more inputs: it now translates formulas (#525), works with SQL functions that don't have R translations (#534), and work with `NULL` (#554)"
dbplyr,242,"`summarise()` now supports argument `.groups` (@​mgirlich, #584)."
dbplyr,243,"All backends: `str_sub()`, `substr()` and `substring()` get better translations (#577). Most importantly, the results of using negative locations should match the underlying R implementations more closely."
dbplyr,244,MS SQL:
dbplyr,245,"`as.integer()` and `as.integer64()` translations cast first to `NUMERIC` to avoid CASTing weirdness (@​DavidPatShuiFong, #496)."
dbplyr,246,Assumes a boolean context inside of `[` (#546)
dbplyr,247,`str_sub()` with `end = -1` now works (#577).
dbplyr,248,"Redshift: `lag()` and `lead()` lose the `default` parameter since it's not supported (@​hdplsa, #548)."
dbplyr,249,"SQLite: custom translation of `full_join()` and `right_join()` (@​mgirlich, #536)."
dbplyr,250,RPostgreSQL backend warns if `temporary = TRUE` since temporary tables are not supported by `RPostgreSQL::dbWriteTable()` (#574).
dbplyr,251,`count()` method provides closer match to dplyr semantics (#347).
dbplyr,252,"`distinct()` now respects grouping (@​mgirlich, #535)."
dbplyr,253,"`db_connection_describe()` no longer uses partial matching (@​mgirlich, #564)."
dbplyr,254,`pull()` no longer `select()`s the result when there's already only one variable (#562).
dbplyr,255,"`select()` no longer relocates grouping variables to the front (@​mgirlich, #568). and informs when adding missing grouping variables (@​mgirlich, #559)."
dbplyr,256,`tbl.src_dbi(...)` now passed on to `tbl_sql()` (#530).
dbplyr,257,`across()` is now translated into individual SQL statements (#480).
dbplyr,258,`rename()` and `select()` support dplyr 1.0.0 tidyselect syntax (apart from predicate functions which can't easily work on computed queries) (#502).
dbplyr,259,`relocate()` makes it easy to move columns (#494) and `rename_with()` makes it easy to rename columns programmatically (#502).
dbplyr,260,"`slice_min()`, `slice_max()`, and `slice_order()` are now supported. `slice_head()` and `slice_tail()` throw clear error messages (#394)"
dbplyr,261,Documentation has been radically improved with new topics for each major verb and each backend giving more details about the SQL translation.
dbplyr,262,"`intersect()`, `union()` and `setdiff()` gain an `all` argument to add the `ALL` argument (#414)."
dbplyr,263,"Join functions gains a `na_matches` argument that allows you to control whether or not `NA` (`NULL`) values match other `NA` values. The default is `""never""`, which is the usual behaviour in databases. You can set `na_matches = ""na""` to match R's usual join behaviour (#180). Additional arguments error (instead of being silently swallowed) (#382)."
dbplyr,264,Joins now only use aliases where needed to disambiguate columns; this should make generated queries more readable.
dbplyr,265,"Subqueries no longer include an `ORDER BY` clause. This is not part of the SQL spec, and has very limited support across databases. Now such queries generate a warning suggesting that you move your `arrange()` call later in the pipeline (#276). (There's one exception: `ORDER BY` is still generated if `LIMIT` is present; this tends to affect the returns rows but not necessarily their order)."
dbplyr,266,Subquery names are now scoped within the query. This makes query text deterministic which helps some query optimisers/cachers (#336).
dbplyr,267,`sql_optimise()` now can partially optimise a pipeline; due to an unfortunate bug it previously gave up too easily.
dbplyr,268,"`in_schema()` quotes each input individually (#287) (use `sql()` to opt out of quoting, if needed). And `DBI::Id()` should work anywhere that `in_schema()` does."
dbplyr,269,Experimental new SAP HANA backend (#233). Requires the latest version of odbc.
dbplyr,270,All backends:
dbplyr,271,"You can now use `::` in translations, so that (e.g.) `dbplyr::n()` is translated to `count(*)` (#207)."
dbplyr,272,`[[` can now also translate numeric indices (#520).
dbplyr,273,`%/%` now generates a clear error message; previously it was translated to `/` which is not correct (#108).
dbplyr,274,`n()` is translated to `count(*)` instead of `count()` (#343).
dbplyr,275,`sub_str()` translation is more consistent in edge cases (@​ianmcook).
dbplyr,276,"All `median()` (@​lorenzwalthert, #483), `pmin()`, `pmax()` (#479), `sd()` and `var()` functions have an `na.rm` argument that warns once when not `TRUE`. This makes them consistent with `mean()` and `sum()`."
dbplyr,277,`substring()` is now translated the same way as `substr()` (#378).
dbplyr,278,"[blob](https://blob.tidyverse.org/) vectors can now be used with `!!` and `!!!` operators, for example in `filter()` (@​okhoma, #433)"
dbplyr,279,MySQL uses standard SQL for index creation.
dbplyr,280,"MS SQL translation does better a distinguishing between bit and boolean (#377, #318). `if` and `ifelse` once again generate `IIF`, creating simpler expressions. `as.*()` function uses `TRY_CAST()` instead of `CAST()` for version 11+ (2012+) (@​DavidPatShuiFong, #380)."
dbplyr,281,odbc no longer translates `count()`; this was an accidental inclusion.
dbplyr,282,"Oracle translation now depends on Oracle 12c, and uses a ""row-limiting"" clause for `head()`. It gains translations for `today()` and `now()`, and improved `as.Date()` translation (@​rlh1994, #267)."
dbplyr,283,"PostgreSQL: new translations for lubridate period functions `years()`, `months()`, `days()`, and `floor_date()` (@​bkkkk, #333) and stringr functions `str_squish()`, `str_remove()`, and `str_remove_all()` (@​shosaco)."
dbplyr,284,New RedShift translations when used with `RPostgres::Redshift()`.
dbplyr,285,"`str_replace()` errors since there's no Redshift translation, and `str_replace_all()` uses `REGEXP_REPLACE()` (#446)."
dbplyr,286,`paste()` and `paste0()` use `||` (#458).
dbplyr,287,`as.numeric()` and `as.double()` cast to `FLOAT` (#408).
dbplyr,288,`substr()` and `str_sub()` use `SUBSTRING()` (#327).
dbplyr,289,"SQLite gains translations for lubridate functions `today()`, `now()`, `year()`, `month()`, `day()`, `hour()`, `minute()`, `second()`,`yday()` (#262), and correct translation for `median()` (#357)."
dbplyr,290,New `dbplyr_edition()` generic allows you to opt-in to the 2nd edition of the dbplyr API.
dbplyr,291,"`db_write_table()` now calls `DBI::dbWriteTable()` instead of nine generics that formerly each did a small part: `db_create_indexes()`, `db_begin()`, `db_rollback()`, `db_commit()`, `db_list_tables()`, `drop_drop_table()`, `db_has_table()`, `db_create_table()`, and `db_data_types()`. You can now delete the methods for these generics. `db_query_rows()` is no longer used; it appears that it hasn't been used for some time, so if you have a method, you can delete it."
dbplyr,292,`DBI::dbQuoteIdentifier()` is now used instead of `sql_escape_ident()` and `DBI::dbQuoteString()` instead of `sql_escape_string()`.
dbplyr,293,A number of `db_*` generics have been replaced with new SQL generation generics:
dbplyr,294,`dplyr::db_analyze()` -\> `dbplyr::sql_table_analyze()`
dbplyr,295,`dplyr::db_create_index()` -\> `dbplyr::sql_table_index()`
dbplyr,296,`dplyr::db_explain()` -\> `dbplyr::sql_queriy_explain()`
dbplyr,297,`dplyr::db_query_fields()` -\> `dbplyr::sql_query_fields()`
dbplyr,298,`dplyr::db_save_query()` -\> `dbplyr::sql_query_save()` This makes them easier to test and is an important part of the process of moving all database generics in dbplyr (#284).
dbplyr,299,A number of other generics have been renamed to facilitate the move from dplyr to dbplyr:
dbplyr,300,`dplyr::sql_select()` -\> `dbplyr::sql_query_select()`
dbplyr,301,`dplyr::sql_join()` -\> `dbplyr::sql_query_join()`
dbplyr,302,`dplyr::sql_semi_join()` -\> `dbplyr::sql_query_semi_join()`
dbplyr,303,`dplyr::sql_set_op()` -\> `dbplyr::sql_query_set_op()`
dbplyr,304,`dplyr::sql_subquery()` -\> `dbplyr::sql_query_wrap()`
dbplyr,305,`dplyr::db_desc()` -\> `dbplyr::db_connection_describe()`
dbplyr,306,New `db_temporary_table()` generic makes it easier to work with databases that require temporary tables to be specially named.
dbplyr,307,"New `sql_expr_matches()` generic allows databases to use more efficient alternatives when determine if two values ""match"" (i.e. like equality but a pair of `NULL`s will also match). For more details, see <https://modern-sql.com/feature/is-distinct-from>"
dbplyr,308,New `sql_join_suffix()` allows backends to control the default suffixes used (#254).
dbplyr,309,All old lazy eval shims have been removed. These have been deprecated for some time.
dbplyr,310,Date-time escaping methods for Athena and Presto have moved to the packages where they belong.
dbplyr,311,Attempting to embed a Shiny reactive in a query now gives a helpful error (#439).
dbplyr,312,`copy_lahman()` and `copy_nycflights13()` (and hence `nycflights13_sqlite()`) and friends now return DBI connections rather than the now deprecated `src_dbi()` (#440).
dbplyr,313,"`copy_to()` can now `overwrite` when table is specified with schema (#489), and gains an `in_transaction` argument used to optionally suppress the transaction wrapper (#368)."
dbplyr,314,`distinct()` no longer duplicates column if grouped (#354).
dbplyr,315,`transmute()` now correctly tracks variables it needs when creating subqueries (#313).
dbplyr,316,`mutate()` grouping variables no longer generates a downstream error (#396)
dbplyr,317,`mutate()` correctly generates subqueries when you re-use the same variable three or more times (#412).
dbplyr,318,"`window_order()` overrides ordering, rather than appending to it."
dbplyr,319,"Internally `DBI::dbExecute()` now uses `immediate = TRUE`; this improves support for session-scoped temporary tables in MS SQL (@​krlmlr, #438)."
dbplyr,320,"Subqueries with `ORDER BY` use `TOP 9223372036854775807` instead of `TOP 100 PERCENT` on SQL Server for compatibility with Azure Data Warehouse (#337, @​alexkyllo)."
dbplyr,321,"`escape()` now supports `blob` vectors using new `sql_escape_raw()` generic. It enables using [blob](https://blob.tidyverse.org/) variables in dplyr verbs, for example to filter nvarchar values by UTF-16 blobs (see https://github.com/r-dbi/DBI/issues/215#issuecomment-356376133). (@​okhoma, #433)"
dbplyr,322,"Added `setOldClass()` calls for `""ident""` and `""ident_q""` classes for compatibility with dplyr 1.0.0 (#448, @​krlmlr)."
dbplyr,323,"Postgres `str_detect()` translation uses same argument names as stringr, and gains a `negate` argument (#444)."
dbplyr,324,"`semi_join()` and `anti_join()` now correctly support the `sql_on` argument (#443, @​krlmlr)."
dbplyr,325,dbplyr now uses RPostgres (instead of RPostgreSQL) and RMariaDB (instead of RMySQL) for its internal tests and data functions (#427).
dbplyr,326,"The Date and POSIXt methods for `escape()` now use exported `sql_escape_date()` and `sql_escape_datetime()` generics to allow backend specific formatting of date and datetime literals. These are used to provide methods for Athena and Presto backends (@​OssiLehtinen, #384, #391)."
dbplyr,327,"`first()`, `last()`, `nth()`, `lead()` and `lag()` now respect the `window_frame()` (@​krlmlr, #366)."
dbplyr,328,"SQL server: new translations for `str_flatten()` (@​PauloJhonny, #405)."
dbplyr,329,"SQL server: temporary datasets are now session-local, not global (#401)."
dbplyr,330,"Postgres: correct `str_detect()`, `str_replace()` and `str_replace_all()` translation (@​shosaco, #362)."
dbplyr,331,Fix bug when partially evaluating unquoting quosure containing a single symbol (#317)
dbplyr,332,Fixes for rlang and dpylr compatibility.
dbplyr,333,`x %in% y` strips names of `y` (#269).
dbplyr,334,"Enhancements for scoped verbs (`mutate_all()`, `summarise_if()`, `filter_at()` etc) (#296, #306)."
dbplyr,335,MS SQL use `TOP 100 PERCENT` as stop-gap to allow subqueries with `ORDER BY` (#277).
dbplyr,336,"Window functions now translated correctly for Hive (#293, @​cderv)."
dbplyr,337,"`` Error: `con` must not be NULL ``: If you see this error, it probably means that you have forgotten to pass `con` down to a dbplyr function. Previously, dbplyr defaulted to using `simulate_dbi()` which introduced subtle escaping bugs. (It's also possible I have forgotten to pass it somewhere that the dbplyr tests don't pick up, so if you can't figure it out, please let me know)."
dbplyr,338,"Subsetting (`[[`, `$`, and `[`) functions are no longer evaluated locally. This makes the translation more consistent and enables useful new idioms for modern databases (#200)."
dbplyr,339,"MySQL/MariaDB (https://mariadb.com/kb/en/library/window-functions/) and SQLite (https://www.sqlite.org/windowfunctions.html) translations gain support for window functions, available in Maria DB 10.2, MySQL 8.0, and SQLite 3.25 (#191)."
dbplyr,340,"Overall, dplyr generates many fewer subqueries:"
dbplyr,341,Joins and semi-joins no longer add an unneeded subquery (#236). This is facilitated by the new `bare_identifier_ok` argument to `sql_render()`; the previous argument was called `root` and confused me.
dbplyr,342,"Many sequences of `select()`, `rename()`, `mutate()`, and `transmute()` can be collapsed into a single query, instead of always generating a subquery (#213)."
dbplyr,343,"New `vignette(""sql"")` describes some advantages of dbplyr over SQL (#205) and gives some advice about writing literal SQL inside of dplyr, when you need to (#196)."
dbplyr,344,"New `vignette(""reprex"")` gives some hints on creating reprexes that work anywhere (#117). This is supported by a new `tbl_memdb()` that matches the existing `tbl_lazy()`."
dbplyr,345,"All `..._join()` functions gain an `sql_on` argument that allows specifying arbitrary join predicates in SQL code (#146, @​krlmlr)."
dbplyr,346,"New translations for some lubridate functions: `today()`, `now()`, `year()`, `month()`, `day()`, `hour()`, `minute()`, `second()`, `quarter()`, `yday()` (@​colearendt, @​derekmorr). Also added new translation for `as.POSIXct()`."
dbplyr,347,"New translations for stringr functions: `str_c()`, `str_sub()`, `str_length()`, `str_to_upper()`, `str_to_lower()`, and `str_to_title()` (@​colearendt). Non-translated stringr functions throw a clear error."
dbplyr,348,"New translations for bitwise operations: `bitwNot()`, `bitwAnd()`, `bitwOr()`, `bitwXor()`, `bitwShiftL()`, and `bitwShiftR()`. Unlike the base R functions, the translations do not coerce arguments to integers (@​davidchall, #235)."
dbplyr,349,New translation for `x[y]` to `CASE WHEN y THEN x END`. This enables `sum(a[b == 0])` to work as you expect from R (#202). `y` needs to be a logical expression; if not you will likely get a type error from your database.
dbplyr,350,"New translations for `x$y` and `x[[""y""]]` to `x.y`, enabling you to index into nested fields in databases that provide them (#158)."
dbplyr,351,The `.data` and `.env` pronouns of tidy evaluation are correctly translated (#132).
dbplyr,352,"New translation for `median()` and `quantile()`. Works for all ANSI compliant databases (SQL Server, Postgres, MariaDB, Teradata) and has custom translations for Hive. Thanks to @​edavidaja for researching the SQL variants! (#169)"
dbplyr,353,`na_if()` is correct translated to `NULLIF()` (rather than `NULL_IF`) (#211).
dbplyr,354,"`n_distinct()` translation throws an error when given more than one argument. (#101, #133)."
dbplyr,355,"New default translations for `paste()`, `paste0()`, and the hyperbolic functions (these previously were only available for ODBC databases)."
dbplyr,356,"Corrected translations of `pmin()` and `pmax()` to `LEAST()` and `GREATEST()` for ANSI compliant databases (#118), to `MIN()` and `MAX()` for SQLite, and to an error for SQL server."
dbplyr,357,New translation for `switch()` to the simple form of `CASE WHEN` (#192).
dbplyr,358,"SQL simulation has been overhauled. It now works reliably, is better documented, and always uses ANSI escaping (i.e. `` ` `` for field names and `'` for strings)."
dbplyr,359,"`tbl_lazy()` now actually puts a `dbplyr::src` in the `$src` field. This shouldn't affect any downstream code unless you were previously working around this weird difference between `tbl_lazy` and `tbl_sql` classes. It also includes the `src` class in its class, and when printed, shows the generated SQL (#111)."
dbplyr,360,MySQL/MariaDB
dbplyr,361,"Translations also applied to connections via the odbc package (@​colearendt, #238)"
dbplyr,362,"Basic support for regular expressions via `str_detect()` and\ `str_replace_all()` (@​colearendt, #168)."
dbplyr,363,"Improved translation for `as.logical(x)` to `IF(x, TRUE, FALSE)`."
dbplyr,364,Oracle
dbplyr,365,"New custom translation for `paste()` and `paste0()` (@​cderv, #221)"
dbplyr,366,Postgres
dbplyr,367,"Basic support for regular expressions via `str_detect()` and\ `str_replace_all()` (@​colearendt, #168)."
dbplyr,368,SQLite
dbplyr,369,"`explain()` translation now generates `EXPLAIN QUERY PLAN` which generates a higher-level, more human friendly explanation."
dbplyr,370,SQL server
dbplyr,371,Improved translation for `as.logical(x)` to `CAST(x as BIT)` (#250).
dbplyr,372,"Translates `paste()`, `paste0()`, and `str_c()` to `+`."
dbplyr,373,`copy_to()` method applies temporary table name transformation earlier so that you can now overwrite temporary tables (#258).
dbplyr,374,`db_write_table()` method uses correct argument name for passing along field types (#251).
dbplyr,375,Aggregation functions only warn once per session about the use of `na.rm = TRUE` (#216).
dbplyr,376,"table names generated by `random_table_name()` have the prefix ""dbplyr\_"", which makes it easier to find them programmatically (@​mattle24, #111)"
dbplyr,377,Functions that are only available in a windowed (`mutate()`) query now throw an error when called in a aggregate (`summarise()`) query (#129)
dbplyr,378,"`arrange()` understands the `.by_group` argument, making it possible sort by groups if desired. The default is `FALSE` (#115)"
dbplyr,379,"`distinct()` now handles computed variables like `distinct(df, y = x + y)` (#154)."
dbplyr,380,"`escape()`, `sql_expr()` and `build_sql()` no longer accept `con = NULL` as a shortcut for `con = simulate_dbi()`. This made it too easy to forget to pass `con` along, introducing extremely subtle escaping bugs. `win_over()` gains a `con` argument for the same reason."
dbplyr,381,New `escape_ansi()` always uses ANSI SQL 92 standard escaping (for use in examples and documentation).
dbplyr,382,"`mutate(df, x = NULL)` drops `x` from the output, just like when working with local data frames (#194)."
dbplyr,383,"`partial_eval()` processes inlined functions (including rlang lambda functions). This makes dbplyr work with more forms of scoped verbs like `df %>% summarise_all(~ mean(.))`, `df %>% summarise_all(list(mean))` (#134)."
dbplyr,384,"`sql_aggregate()` now takes an optional argument `f_r` for passing to `check_na_rm()`. This allows the warning to show the R function name rather than the SQL function name (@​sverchkov, #153)."
dbplyr,385,`sql_infix()` gains a `pad` argument for the rare operator that doesn't need to be surrounded by spaces.
dbplyr,386,"`sql_prefix()` no longer turns SQL functions into uppercase, allowing for correct translation of case-sensitive SQL functions (#181, @​mtoto)."
dbplyr,387,`summarise()` gives a clear error message if you refer to a variable created in that same `summarise()` (#114).
dbplyr,388,New `sql_call2()` which is to `rlang::call2()` as `sql_expr()` is to `rlang::expr()`.
dbplyr,389,`show_query()` and `explain()` use `cat()` rather than message.
dbplyr,390,"`union()`, `union_all()`, `setdiff()` and `intersect()` do a better job of matching columns across backends (#183)."
dbplyr,391,Now supports for dplyr 0.8.0 (#190) and R 3.1.0
dbplyr,392,"Calls of the form `dplyr::foo()` are now evaluated in the database, rather than locally (#197)."
dbplyr,393,`vars` argument to `tbl_sql()` has been formally deprecated; it hasn't actually done anything for a while (#3254).
dbplyr,394,"`src` and `tbl` objects now include a class generated from the class of the underlying connection object. This makes it possible for dplyr backends to implement different behaviour at the dplyr level, when needed. (#2293)"
dbplyr,395,"`x %in% y` is now translated to `FALSE` if `y` is empty (@​mgirlich, #160)."
dbplyr,396,New `as.integer64(x)` translation to `CAST(x AS BIGINT)` (#3305)
dbplyr,397,"`case_when` now translates with a ELSE clause if a formula of the form `TRUE~<RHS>` is provided . (@​cderv, #112)"
dbplyr,398,`cummean()` now generates `AVG()` not `MEAN()` (#157)
dbplyr,399,`str_detect()` now uses correct parameter order (#3397)
dbplyr,400,MS SQL
dbplyr,401,Cumulative summary functions now work (#157)
dbplyr,402,"`ifelse()` uses `CASE WHEN` instead of `IIF`; this allows more complex operations, such as `%in%`, to work properly (#93)"
dbplyr,403,Oracle
dbplyr,404,Custom `db_drop_table()` now only drops tables if they exist (#3306)
dbplyr,405,Custom `setdiff()` translation (#3493)
dbplyr,406,Custom `db_explain()` translation (#3471)
dbplyr,407,SQLite
dbplyr,408,"Correct translation for `as.numeric()`/`as.double()` (@​chris-park, #171)."
dbplyr,409,Redshift
dbplyr,410,`substr()` translation improved (#3339)
dbplyr,411,"`copy_to()` will only remove existing table when `overwrite = TRUE` and the table already exists, eliminating a confusing ""NOTICE"" from PostgreSQL (#3197)."
dbplyr,412,`partial_eval()` handles unevaluated formulas (#184).
dbplyr,413,`pull.tbl_sql()` now extracts correctly from grouped tables (#3562).
dbplyr,414,"`sql_render.op()` now correctly forwards the `con` argument (@​kevinykuo, #73)."
dbplyr,415,R CMD check fixes
dbplyr,416,Forward compatibility fixes for rlang 0.2.0
dbplyr,417,New translations for
dbplyr,418,MS Access (#2946) (@​DavisVaughan)
dbplyr,419,"Oracle, via odbc or ROracle (#2928, #2732, @​edgararuiz)"
dbplyr,420,Teradata.
dbplyr,421,Redshift.
dbplyr,422,dbplyr now supplies appropriate translations for the RMariaDB and RPostgres packages (#3154). We generally recommend using these packages in favour of the older RMySQL and RPostgreSQL packages as they are fully DBI compliant and tested with DBItest.
dbplyr,423,"`copy_to()` can now ""copy"" tbl_sql in the same src, providing another way to cache a query into a temporary table (#3064). You can also `copy_to` tbl_sqls from another source, and `copy_to()` will automatically collect then copy."
dbplyr,424,"Initial support for stringr functions: `str_length()`, `str_to_upper()`, `str_to_lower()`, `str_replace_all()`, `str_detect()`, `str_trim()`. Regular expression support varies from database to database, but most simple regular expressions should be ok."
dbplyr,425,`db_compute()` gains an `analyze` argument to match `db_copy_to()`.
dbplyr,426,"New `remote_name()`, `remote_con()`, `remote_src()`, `remote_query()` and `remote_query_plan()` provide a standard API for get metadata about a remote tbl (#3130, #2923, #2824)."
dbplyr,427,New `sql_expr()` is a more convenient building block for low-level SQL translation (#3169).
dbplyr,428,"New `sql_aggregate()` and `win_aggregate()` for generating SQL and windowed SQL functions for aggregates. These take one argument, `x`, and warn if `na.rm` is not `TRUE` (#3155). `win_recycled()` is equivalent to `win_aggregate()` and has been soft-deprecated."
dbplyr,429,`db_write_table` now needs to return the table name
dbplyr,430,Multiple `head()` calls in a row now collapse to a single call. This avoids a printing problem with MS SQL (#3084).
dbplyr,431,`escape()` now works with integer64 values from the bit64 package (#3230)
dbplyr,432,"`if`, `ifelse()`, and `if_else()` now correctly scope the false condition so that it only applies to non-NULL conditions (#3157)"
dbplyr,433,"`ident()` and `ident_q()` handle 0-length inputs better, and should be easier to use with S3 (#3212)"
dbplyr,434,"`in_schema()` should now work in more places, particularly in `copy_to()` (#3013, @​baileych)"
dbplyr,435,SQL generation for joins no longer gets stuck in a endless loop if you request an empty suffix (#3220).
dbplyr,436,`mutate()` has better logic for splitting a single mutate into multiple subqueries (#3095).
dbplyr,437,"Improved `paste()` and `paste0()` support in MySQL, PostgreSQL (#3168), and RSQLite (#3176). MySQL and PostgreSQL gain support for `str_flatten()` which behaves like `paste(x, collapse = ""-"")` (but for technical reasons can't be implemented as a straightforward translation of `paste()`)."
dbplyr,438,`same_src.tbl_sql()` now performs correct comparison instead of always returning `TRUE`. This means that `copy = TRUE` once again allows you to perform cross-database joins (#3002).
dbplyr,439,"`select()` queries no longer alias column names unnecessarily (#2968, @​DavisVaughan)."
dbplyr,440,"`select()` and `rename()` are now powered by tidyselect, fixing a few renaming bugs (#3132, #2943, #2860)."
dbplyr,441,`summarise()` once again performs partial evaluation before database submission (#3148).
dbplyr,442,`test_src()` makes it easier to access a single test source.
dbplyr,443,MS SQL
dbplyr,444,Better support for temporary tables (@​Hong-Revo)
dbplyr,445,"Different translations for filter/mutate contexts for: `NULL` evaluation (`is.na()`, `is.null()`), logical operators (`!`, `&`, `&&`, `|`, `||`), and comparison operators (`==`, `!=`, `<`, `>`, `>=`, `<=`)"
dbplyr,446,MySQL: `copy_to()` (via `db_write_table()`) correctly translates logical variables to integers (#3151).
dbplyr,447,odbc: improved `n()` translation in windowed context.
dbplyr,448,SQLite: improved `na_if` translation (@​cwarden)
dbplyr,449,PostgreSQL: translation for `grepl()` added (@​zozlak)
dbplyr,450,"Oracle: changed VARVHAR to VARCHAR2 datatype (@​washcycle, #66)"
dbplyr,451,`full_join()` over non-overlapping columns `by = character()` translated to `CROSS JOIN` (#2924).
dbplyr,452,"`case_when()` now translates to SQL ""CASE WHEN"" (#2894)"
dbplyr,453,`x %in% c(1)` now generates the same SQL as `x %in% 1` (#2898).
dbplyr,454,"New `window_order()` and `window_frame()` give you finer control over the window functions that dplyr creates (#2874, #2593)."
dbplyr,455,Added SQL translations for Oracle (@​edgararuiz).
dbplyr,456,`x %in% c(1)` now generates the same SQL as `x %in% 1` (#2898).
dbplyr,457,"`head(tbl, 0)` is now supported (#2863)."
dbplyr,458,`select()`ing zero columns gives a more information error message (#2863).
dbplyr,459,"Variables created in a join are now disambiguated against other variables in the same table, not just variables in the other table (#2823)."
dbplyr,460,PostgreSQL gains a better translation for `round()` (#60).
dbplyr,461,"Added custom `db_analyze_table()` for MS SQL, Oracle, Hive and Impala (@​edgararuiz)"
dbplyr,462,Added support for `sd()` for aggregate and window functions (#2887) (@​edgararuiz)
dbplyr,463,"You can now use the magrittr pipe within expressions, e.g. `mutate(mtcars, cyl %>% as.character())`."
dbplyr,464,"If a translation was supplied for a summarise function, but not for the equivalent windowed variant, the expression would be translated to `NULL` with a warning. Now `sql_variant()` checks that all aggregate functions have matching window functions so that correct translations or clean errors will be generated (#2887)"
dbplyr,465,"`tbl()` and `copy_to()` now work directly with DBI connections (#2423, #2576), so there is no longer a need to generate a dplyr src."
>>>>>>> 1b8eb09 (fix bugs and update tests)
dbplyr,465,"```
>>>>>>> 9592342 (make remove_old_bullets() more intelligent)
library(dplyr)

con <- DBI::dbConnect(RSQLite::SQLite(), "":memory:"")
copy_to(con, mtcars)

mtcars2 <- tbl(con, ""mtcars"")
mtcars2
<<<<<<< HEAD
<<<<<<< HEAD
```"
dbplyr,466,2782add1facab842699cc7fa720a5378,`glimpse()` now works with remote tables (#2665)
dbplyr,467,b615eea52a4e5a126852bfb4860b7a2f,"dplyr has gained a basic SQL optimiser, which collapses certain nested SELECT queries into a single query (#1979). This will improve query execution performance for databases with less sophisticated query optimisers, and fixes certain problems with ordering and limits in subqueries (#1979). A big thanks goes to @​hhoeflin for figuring out this optimisation."
dbplyr,468,19e11baaf9ceefcc58c67bd641ac394e,"`compute()` and `collapse()` now preserve the ""ordering"" of rows. This only affects the computation of window functions, as the rest of SQL does not care about row order (#2281)."
dbplyr,469,0133a9cec6671c3724e6689c14bccd02,`copy_to()` gains an `overwrite` argument which allows you to overwrite an existing table. Use with care! (#2296)
dbplyr,470,b6d9c8c910d2bd7839fde283e78ab43c,"New `in_schema()` function makes it easy to refer to tables in schema: `in_schema(""my_schema_name"", ""my_table_name"")`."
dbplyr,471,c9f13ab33564766e48914ad8852faae2,`query()` is no longer exported. It hasn't been useful for a while so this shouldn't break any code.
dbplyr,472,6afc7103d6d1741c40309d2e599c9bef,Partial evaluation occurs immediately when you execute a verb (like `filter()` or `mutate()`) rather than happening when the query is executed (#2370).
dbplyr,473,07334c1139d712a8da655bbde96c6fc0,"`mutate.tbl_sql()` will now generate as many subqueries as necessary so that you can refer to variables that you just created (like in mutate with regular dataframes) (#2481, #2483)."
dbplyr,474,0fe574a7729c25c164cf30e8f6811d35,SQL joins have been improved:
dbplyr,475,11dca860fd041ad5d980a3bf0b37e681,"SQL joins always use the `ON ...` syntax, avoiding `USING ...` even for natural joins. Improved handling of tables with columns of the same name (#1997, @​javierluraschi). They now generate SQL more similar to what you'd write by hand, eliminating a layer or two of subqueries (#2333)"
dbplyr,476,b70d603e74d472c11c6492bb761e015a,"\[API\] They now follow the same rules for including duplicated key variables that the data frame methods do, namely that key variables are only kept from `x`, and never from `y` (#2410)"
dbplyr,477,092b5a52f95baaf3635e1a574cb8b578,"\[API\] The `sql_join()` generic now gains a `vars` argument which lists the variables taken from the left and right sides of the join. If you have a custom `sql_join()` method, you'll need to update how your code generates joins, following the template in `sql_join.generic()`."
dbplyr,478,c5099f148c078162496e778db1f2a003,`full_join()` throws a clear error when you attempt to use it with a MySQL backend (#2045)
dbplyr,479,85972870271e740ba76919f40b95516b,"`right_join()` and `full_join()` now return results consistent with local data frame sources when there are records in the right table with no match in the left table. `right_join()` returns values of `by` columns from the right table. `full_join()` returns coalesced values of `by` columns from the left and right tables (#2578, @​ianmcook)"
dbplyr,480,1c72502699d6cf5cd68981ce90912d30,`group_by()` can now perform an inline mutate for database backends (#2422).
dbplyr,481,288f8992d5d5c247cc78cb0cb3c84497,"The SQL generation set operations (`intersect()`, `setdiff()`, `union()`, and `union_all()`) have been considerably improved. By default, the component SELECT are surrounded with parentheses, except on SQLite. The SQLite backend will now throw an error if you attempt a set operation on a query that contains a LIMIT, as that is not supported in SQLite (#2270). All set operations match column names across inputs, filling in non-matching variables with NULL (#2556)."
dbplyr,482,fb2cb03306c6dc2ab69e2914a51368f5,`rename()` and `group_by()` now combine correctly (#1962)
dbplyr,483,28a6b024057aed18387c4fddff3e8264,`tbl_lazy()` and `lazy_tbl()` have been exported. These help you test generated SQL with out an active database connection.
dbplyr,484,4fb4ea95cf6a0660d997a5bc56c92c0f,`ungroup()` correctly resets grouping variables (#2704).
dbplyr,485,90d4f1b0dcd71a5efc02faeebd3d626f,New `as.sql()` safely coerces an input to SQL.
dbplyr,486,fce46873496ec323a732ad11b9d213ab,"More translators for `as.character()`, `as.integer()` and `as.double()` (#2775)."
dbplyr,487,ab5d981f9beca79e4fa873b4a5b16574,New `ident_q()` makes it possible to specifier identifiers that do not need to be quoted.
dbplyr,488,add3c5d6abdaee85e7956634f5009091,Translation of inline scalars:
dbplyr,489,bd728341a4a2716e4cd6facb6aec74c8,"Logical values are now translated differently depending on the backend. The default is to use ""true"" and ""false"" which is the SQL-99 standard, but not widely support. SQLite translates to ""0"" and ""1"" (#2052)."
dbplyr,490,5ee9ad6b8edb73b4abf1064a1ebb23a6,`Inf` and `-Inf` are correctly escaped
dbplyr,491,aade24c3c59de17cbac7663790fcf1a9,Better test for whether or not a double is similar to an integer and hence needs a trailing 0.0 added (#2004).
dbplyr,492,64909de6da8fe606389e2a7ecbb27c37,Quoting defaults to `DBI::dbEscapeString()` and `DBI::dbQuoteIdentifier()` respectively.
dbplyr,493,1a899e8e3c7deb811841bc4708980d78,`::` and `:::` are handled correctly (#2321)
dbplyr,494,092f518ace3141d83d8c930af2f7c1ed,`x %in% 1` is now correctly translated to `x IN (1)` (#511).
dbplyr,495,6ad277fe2f57f3e66d0ca2cb92e71417,`ifelse()` and `if_else()` use correct argument names in SQL translation (#2225).
dbplyr,496,dc92751e430195c112432061c16032c0,"`ident()` now returns an object with class `c(""ident"", ""character"")`. It no longer contains ""sql"" to indicate that this is not already escaped."
dbplyr,497,4350d17005e5a389cbecb5f46cbb9ba7,`is.na()` and `is.null()` gain extra parens in SQL translation to preserve correct precedence (#2302).
dbplyr,498,469bab4422bdb411870d1c02b14775c7,"\[API\] `log(x, b)` is now correctly translated to the SQL `log(b, x)` (#2288). SQLite does not support the 2-argument log function so it is translated to `log(x) / log(b)`."
dbplyr,499,3796786cabe09a7abba0462983803b72,"`nth(x, i)` is now correctly translated to `nth_value(x, i)`."
dbplyr,500,2100ba73a9745e71cc3db4ff1219416e,`n_distinct()` now accepts multiple variables (#2148).
dbplyr,501,d42e8126e7d742432b9564860275f487,"\[API\] `substr()` is now translated to SQL, correcting for the difference in the third argument. In R, it's the position of the last character, in SQL it's the length of the string (#2536)."
dbplyr,502,9bb0985cde88197ae6a91502c3ba15d8,`win_over()` escapes expression using current database rules.
dbplyr,503,089d6f7cca18ad42f19e27f97202c9f9,`copy_to()` now uses `db_write_table()` instead of `db_create_table()` and `db_insert_into()`. `db_write_table.DBIConnection()` uses `dbWriteTable()`.
dbplyr,504,d5138ace8a4d3c5e05d66350c31d852a,"New `db_copy_to()`, `db_compute()` and `db_collect()` allow backends to override the entire database process behind `copy_to()`, `compute()` and `collect()`. `db_sql_render()` allow additional control over the SQL rendering process."
dbplyr,505,db97c02b9b869451b02b2ab7ffa34416,All generics whose behaviour can vary from database to database now provide a DBIConnection method. That means that you can easily scan the NAMESPACE to see the extension points.
dbplyr,506,1b988b1601d3af025a7f7b1e54272d6e,`sql_escape_logical()` allows you to control the translation of literal logicals (#2614).
dbplyr,507,f390c3b1ffd09a58f10463898272d7d7,"`src_desc()` has been replaced by `db_desc()` and now dispatches on the connection, eliminating the last method that required dispatch on the class of the src."
dbplyr,508,5c39151127addfa728b0940ab97a5f05,"`win_over()`, `win_rank()`, `win_recycled()`, `win_cumulative()`, `win_current_group()` and `win_current_order()` are now exported. This should make it easier to provide customised SQL for window functions (#2051, #2126)."
dbplyr,509,4e638ea1def4cd63fd60c34c90fd19d6,SQL translation for Microsoft SQL Server (@​edgararuiz)
dbplyr,510,5fa9bc070cc9c72e817d305f9ef42df8,SQL translation for Apache Hive (@​edgararuiz)
dbplyr,511,e07bb8bf344b2e51fe23bf583bea6fde,SQL translation for Apache Impala (@​edgararuiz)
dbplyr,512,9a1b34d699f774335b007d17b106d79b,`collect()` once again defaults to return all rows in the data (#1968). This makes it behave the same as `as.data.frame()` and `as_tibble()`.
dbplyr,513,d79c7b623ee77ecfbbffc65fc455088a,`collect()` only regroups by variables present in the data (#2156)
dbplyr,514,dafee1c13455fd2dd555e0195c6fe5d2,"`collect()` will automatically LIMIT the result to the `n`, the number of rows requested. This will provide the query planner with more information that it may be able to use to improve execution time (#2083)."
dbplyr,515,6628c8f2ce446868c74800af99da4701,`common_by()` gets a better error message for unexpected inputs (#2091)
dbplyr,516,76efbddc8c6ffd20ded0a02139c05cdc,"`copy_to()` no longer checks that the table doesn't exist before creation, instead preferring to fall back on the database for error messages. This should reduce both false positives and false negative (#1470)"
dbplyr,517,ffc2c45853cb00031d044ce290a96111,"`copy_to()` now succeeds for MySQL if a character column contains `NA` (#1975, #2256, #2263, #2381, @​demorenoc, @​eduardgrebe)."
dbplyr,518,ee2054fa0ee3ba45d34a9e992f72970b,`copy_to()` now returns its output invisibly (since you're often just calling for the side-effect).
dbplyr,519,5bb52eab5021682a9148ad8b01f8c2a4,`distinct()` reports improved variable information for SQL backends. This means that it is more likely to work in the middle of a pipeline (#2359).
dbplyr,520,85111a3c6354a5349160fce2a4ca5b2b,Ungrouped `do()` on database backends now collects all data locally first (#2392).
dbplyr,521,42b772c1b41b4c1297ea0f69af9c92af,Call `dbFetch()` instead of the deprecated `fetch()` (#2134). Use `DBI::dbExecute()` for non-query SQL commands (#1912)
dbplyr,522,e025ae091d7e8c3de9fec9dc396dede7,"`explain()` and `show_query()` now invisibly return the first argument, making them easier to use inside a pipeline."
dbplyr,523,1061e1abb80efde3533528962aca20e9,"`print.tbl_sql()` displays ordering (#2287) and prints table name, if known."
dbplyr,524,ed7e742973f6b3e13d27a781deaa8457,"`print(df, n = Inf)` and `head(df, n = Inf)` now work with remote tables (#2580)."
dbplyr,525,13f77cfa2677af7c541ff406ae5a2aef,`db_desc()` and `sql_translate_env()` get defaults for DBIConnection.
dbplyr,526,082de7dc419493ed1973c96bd96c68fb,"Formatting now works by overriding the `tbl_sum()` generic instead of `print()`. This means that the output is more consistent with tibble, and that `format()` is now supported also for SQL sources (tidyverse/dbplyr#14)."
dbplyr,527,10f4151f56d6e6b3d5093ac7c335d329,"\[API\] The signature of `op_base` has changed to `op_base(x, vars, class)`"
dbplyr,528,7dbf596ef0d6933ae1410bcc43400d4c,\[API\] `translate_sql()` and `partial_eval()` have been refined:
dbplyr,529,41b34ceaeb3e009dc272f362fa4f455a,`translate_sql()` no longer takes a vars argument; instead call `partial_eval()` yourself.
dbplyr,530,a2274c3e580ddcaa495a4ab1a44e5a75,"Because it no longer needs the environment `translate_sql()_` now works with a list of dots, rather than a `lazy_dots`."
dbplyr,531,61702f4887fe7ff607f751986216f126,`partial_eval()` now takes a character vector of variable names rather than a tbl.
dbplyr,532,390c16052960b401b1e13a2a947d90cf,This leads to a simplification of the `op` data structure: dots is now a list of expressions rather than a `lazy_dots`.
dbplyr,533,5d00b2287469959492e0f1200045c0f5,\[API\] `op_vars()` now returns a list of quoted expressions. This enables escaping to happen at the correct time (i.e. when the connection is known).
dplyr,1,669ff6e35e082287e6e7d74a6cbebd15,`left_join()` and friends now return a specialized error message if they detect that your join would return more rows than dplyr can handle (#6912).
dplyr,2,69292924103828dcfac08a73a54af389,`slice_*()` now throw the correct error if you forget to name `n` while also prefixing the call with `dplyr::` (#6946).
dplyr,3,a44e4f0ba284fc0c35810e995295f680,"`join_by()` now allows its helper functions to be namespaced with `dplyr::`, like `join_by(dplyr::between(x, lower, upper))` (#6838)."
dplyr,4,2e89d193425227e1891b955f628a3385,`dplyr_reconstruct()`'s default method has been rewritten to avoid materializing duckplyr queries too early (#6947).
dplyr,5,2131bb0f130bda2125241f2a4e285bd3,"Updated the `storms` data to include 2022 data (#6937, @​steveharoz)."
dplyr,6,89009637960587017fc04fbbd1ec2df8,"Updated the `starwars` data to use a new API, because the old one is defunct. There are very minor changes to the data itself (#6938, @​steveharoz)."
dplyr,7,fd42651fa77802a5c5a0d45cc5190fa7,`mutate_each()` and `summarise_each()` now throw correct deprecation messages (#6869).
dplyr,8,87298c1e9157df05c334cb66727ae476,"`setequal()` now requires the input data frames to be compatible, similar to the other set methods like `setdiff()` or `intersect()` (#6786)."
dplyr,9,2a611fae9c1d21a773a79474a51cb75b,`count()` better documents that it has a `.drop` argument (#6820).
dplyr,10,729e22295a7b27b950cee0d4e684638d,Fixed tests to maintain compatibility with the next version of waldo (#6823).
dplyr,11,a0dcc32487d3e8c9c87aa62b4b501f76,Joins better handle key columns will all `NA`s (#6804).
dplyr,12,5c01035505c10720a4ad909a781256ef,"Mutating joins now warn about multiple matches much less often. At a high level, a warning was previously being thrown when a one-to-many or many-to-many relationship was detected between the keys of `x` and `y`, but is now only thrown for a many-to-many relationship, which is much rarer and much more dangerous than one-to-many because it can result in a Cartesian explosion in the number of rows returned from the join (#6731, #6717). We've accomplished this in two steps:"
dplyr,13,cb789403aa2750ee6cdddc8749deec0b,"`multiple` now defaults to `""all""`, and the options of `""error""` and `""warning""` are now deprecated in favor of using `relationship` (see below). We are using an accelerated deprecation process for these two options because they've only been available for a few weeks, and `relationship` is a clearly superior alternative."
dplyr,14,325b0bd44bdbd7d682d9dd923d5a712e,"The mutating joins gain a new `relationship` argument, allowing you to optionally enforce one of the following relationship constraints between the keys of `x` and `y`: `""one-to-one""`, `""one-to-many""`, `""many-to-one""`, or `""many-to-many""`. For example, `""many-to-one""` enforces that each row in `x` can match at most 1 row in `y`. If a row in `x` matches \>1 rows in `y`, an error is thrown. This option serves as the replacement for `multiple = ""error""`. The default behavior of `relationship` doesn't assume that there is any relationship between `x` and `y`. However, for equality joins it will check for the presence of a many-to-many relationship, and will warn if it detects one. This change unfortunately does mean that if you have set `multiple = ""all""` to avoid a warning and you happened to be doing a many-to-many style join, then you will need to replace `multiple = ""all""` with `relationship = ""many-to-many""` to silence the new warning, but we believe this should be rare since many-to-many relationships are fairly uncommon."
dplyr,15,7afb7fd3bc5365908a30a5fbec11159d,"Fixed a major performance regression in `case_when()`. It is still a little slower than in dplyr 1.0.10, but we plan to improve this further in the future (#6674)."
dplyr,16,dcd4048ff240e3a06202aba961005940,"Fixed a performance regression related to `nth()`, `first()`, and `last()` (#6682)."
dplyr,17,02c4cf66a98009aa998fa2c4d0c9995f,Fixed an issue where expressions involving infix operators had an abnormally large amount of overhead (#6681).
dplyr,18,3f4846af042239bea794ecfd6b8d9322,`group_data()` on ungrouped data frames is faster (#6736).
dplyr,19,d9fc743b81760548f0b958161311e767,`n()` is a little faster when there are many groups (#6727).
dplyr,20,2a1fbfb5dd0679824a9603b10eee7e6a,"`pick()` now returns a 1 row, 0 column tibble when `...` evaluates to an empty selection. This makes it more compatible with [tidyverse recycling rules](https://vctrs.r-lib.org/reference/theory-faq-recycling.html) in some edge cases (#6685)."
dplyr,21,96dcac006388b8c620b4763bd928fb7a,`if_else()` and `case_when()` again accept logical conditions that have attributes (#6678).
dplyr,22,9c532a3a6c07a25b5e25bf7a2c138cbe,`arrange()` can once again sort the `numeric_version` type from base R (#6680).
dplyr,23,24fc8f9fa6f93d59a27cc3c0b75490c3,`slice_sample()` now works when the input has a column named `replace`. `slice_min()` and `slice_max()` now work when the input has columns named `na_rm` or `with_ties` (#6725).
dplyr,24,56b51a5f5e6f5ad7d6c6081d50794d4a,`nth()` now errors informatively if `n` is `NA` (#6682).
dplyr,25,aa9023430465937d883c713166c621d2,Joins now throw a more informative error when `y` doesn't have the same source as `x` (#6798).
dplyr,26,c21ea2c44f6cb20d14fa36b8a719b1c3,"All major dplyr verbs now throw an informative error message if the input data frame contains a column named `NA` or `""""` (#6758)."
dplyr,27,fa9f962d49f9a42ad7031f861b508cda,Deprecation warnings thrown by `filter()` now mention the correct package where the problem originated from (#6679).
dplyr,28,4d6ac6c482f04a06d9aea628740b2b4f,Fixed an issue where using `<-` within a grouped `mutate()` or `summarise()` could cross contaminate other groups (#6666).
dplyr,29,0823958e58d969074811023b19534240,"The compatibility vignette has been replaced with a more general vignette on using dplyr in packages, `vignette(""in-packages"")` (#6702)."
dplyr,30,2db664426f13d6a92141c1192e45fffd,The developer documentation in `?dplyr_extending` has been refreshed and brought up to date with all changes made in 1.1.0 (#6695).
dplyr,31,8e30499e941d9066a7c82da4465094d3,`rename_with()` now includes an example of using `paste0(recycle0 = TRUE)` to correctly handle empty selections (#6688).
dplyr,32,0a4f74723eee5e7de47213ce7a96d237,R \>=3.5.0 is now explicitly required. This is in line with the tidyverse policy of supporting the [5 most recent versions of R](https://www.tidyverse.org/blog/2019/04/r-version-support/).
dplyr,33,5bc37d9db73bcf042ad0414739b19198,"[`.by`/`by`](https://dplyr.tidyverse.org/reference/dplyr_by.html) is an experimental alternative to `group_by()` that supports per-operation grouping for `mutate()`, `summarise()`, `filter()`, and the `slice()` family (#6528). Rather than:"
dplyr,33,5bc37d9db73bcf042ad0414739b19198,"```
>>>>>>> 7d44e32 (update lua filter to strip URLs from links)
starwars %>%
  group_by(species, homeworld) %>%
  summarise(mean_height = mean(height))
```"
<<<<<<< HEAD
dplyr,1,5bc37d9db73bcf042ad0414739b19198,You can now write:
dplyr,1,5bc37d9db73bcf042ad0414739b19198,"```
=======
dplyr,33,5bc37d9db73bcf042ad0414739b19198,You can now write:
dplyr,33,5bc37d9db73bcf042ad0414739b19198,"```
>>>>>>> 7d44e32 (update lua filter to strip URLs from links)
=======
```"
dbplyr,466,`glimpse()` now works with remote tables (#2665)
dbplyr,467,"dplyr has gained a basic SQL optimiser, which collapses certain nested SELECT queries into a single query (#1979). This will improve query execution performance for databases with less sophisticated query optimisers, and fixes certain problems with ordering and limits in subqueries (#1979). A big thanks goes to @​hhoeflin for figuring out this optimisation."
dbplyr,468,"`compute()` and `collapse()` now preserve the ""ordering"" of rows. This only affects the computation of window functions, as the rest of SQL does not care about row order (#2281)."
dbplyr,469,`copy_to()` gains an `overwrite` argument which allows you to overwrite an existing table. Use with care! (#2296)
dbplyr,470,"New `in_schema()` function makes it easy to refer to tables in schema: `in_schema(""my_schema_name"", ""my_table_name"")`."
dbplyr,471,`query()` is no longer exported. It hasn't been useful for a while so this shouldn't break any code.
dbplyr,472,Partial evaluation occurs immediately when you execute a verb (like `filter()` or `mutate()`) rather than happening when the query is executed (#2370).
dbplyr,473,"`mutate.tbl_sql()` will now generate as many subqueries as necessary so that you can refer to variables that you just created (like in mutate with regular dataframes) (#2481, #2483)."
dbplyr,474,SQL joins have been improved:
dbplyr,475,"SQL joins always use the `ON ...` syntax, avoiding `USING ...` even for natural joins. Improved handling of tables with columns of the same name (#1997, @​javierluraschi). They now generate SQL more similar to what you'd write by hand, eliminating a layer or two of subqueries (#2333)"
dbplyr,476,"\[API\] They now follow the same rules for including duplicated key variables that the data frame methods do, namely that key variables are only kept from `x`, and never from `y` (#2410)"
dbplyr,477,"\[API\] The `sql_join()` generic now gains a `vars` argument which lists the variables taken from the left and right sides of the join. If you have a custom `sql_join()` method, you'll need to update how your code generates joins, following the template in `sql_join.generic()`."
dbplyr,478,`full_join()` throws a clear error when you attempt to use it with a MySQL backend (#2045)
dbplyr,479,"`right_join()` and `full_join()` now return results consistent with local data frame sources when there are records in the right table with no match in the left table. `right_join()` returns values of `by` columns from the right table. `full_join()` returns coalesced values of `by` columns from the left and right tables (#2578, @​ianmcook)"
dbplyr,480,`group_by()` can now perform an inline mutate for database backends (#2422).
dbplyr,481,"The SQL generation set operations (`intersect()`, `setdiff()`, `union()`, and `union_all()`) have been considerably improved. By default, the component SELECT are surrounded with parentheses, except on SQLite. The SQLite backend will now throw an error if you attempt a set operation on a query that contains a LIMIT, as that is not supported in SQLite (#2270). All set operations match column names across inputs, filling in non-matching variables with NULL (#2556)."
dbplyr,482,`rename()` and `group_by()` now combine correctly (#1962)
dbplyr,483,`tbl_lazy()` and `lazy_tbl()` have been exported. These help you test generated SQL with out an active database connection.
dbplyr,484,`ungroup()` correctly resets grouping variables (#2704).
dbplyr,485,New `as.sql()` safely coerces an input to SQL.
dbplyr,486,"More translators for `as.character()`, `as.integer()` and `as.double()` (#2775)."
dbplyr,487,New `ident_q()` makes it possible to specifier identifiers that do not need to be quoted.
dbplyr,488,Translation of inline scalars:
dbplyr,489,"Logical values are now translated differently depending on the backend. The default is to use ""true"" and ""false"" which is the SQL-99 standard, but not widely support. SQLite translates to ""0"" and ""1"" (#2052)."
dbplyr,490,`Inf` and `-Inf` are correctly escaped
dbplyr,491,Better test for whether or not a double is similar to an integer and hence needs a trailing 0.0 added (#2004).
dbplyr,492,Quoting defaults to `DBI::dbEscapeString()` and `DBI::dbQuoteIdentifier()` respectively.
dbplyr,493,`::` and `:::` are handled correctly (#2321)
dbplyr,494,`x %in% 1` is now correctly translated to `x IN (1)` (#511).
dbplyr,495,`ifelse()` and `if_else()` use correct argument names in SQL translation (#2225).
dbplyr,496,"`ident()` now returns an object with class `c(""ident"", ""character"")`. It no longer contains ""sql"" to indicate that this is not already escaped."
dbplyr,497,`is.na()` and `is.null()` gain extra parens in SQL translation to preserve correct precedence (#2302).
dbplyr,498,"\[API\] `log(x, b)` is now correctly translated to the SQL `log(b, x)` (#2288). SQLite does not support the 2-argument log function so it is translated to `log(x) / log(b)`."
dbplyr,499,"`nth(x, i)` is now correctly translated to `nth_value(x, i)`."
dbplyr,500,`n_distinct()` now accepts multiple variables (#2148).
dbplyr,501,"\[API\] `substr()` is now translated to SQL, correcting for the difference in the third argument. In R, it's the position of the last character, in SQL it's the length of the string (#2536)."
dbplyr,502,`win_over()` escapes expression using current database rules.
dbplyr,503,`copy_to()` now uses `db_write_table()` instead of `db_create_table()` and `db_insert_into()`. `db_write_table.DBIConnection()` uses `dbWriteTable()`.
dbplyr,504,"New `db_copy_to()`, `db_compute()` and `db_collect()` allow backends to override the entire database process behind `copy_to()`, `compute()` and `collect()`. `db_sql_render()` allow additional control over the SQL rendering process."
dbplyr,505,All generics whose behaviour can vary from database to database now provide a DBIConnection method. That means that you can easily scan the NAMESPACE to see the extension points.
dbplyr,506,`sql_escape_logical()` allows you to control the translation of literal logicals (#2614).
dbplyr,507,"`src_desc()` has been replaced by `db_desc()` and now dispatches on the connection, eliminating the last method that required dispatch on the class of the src."
dbplyr,508,"`win_over()`, `win_rank()`, `win_recycled()`, `win_cumulative()`, `win_current_group()` and `win_current_order()` are now exported. This should make it easier to provide customised SQL for window functions (#2051, #2126)."
dbplyr,509,SQL translation for Microsoft SQL Server (@​edgararuiz)
dbplyr,510,SQL translation for Apache Hive (@​edgararuiz)
dbplyr,511,SQL translation for Apache Impala (@​edgararuiz)
dbplyr,512,`collect()` once again defaults to return all rows in the data (#1968). This makes it behave the same as `as.data.frame()` and `as_tibble()`.
dbplyr,513,`collect()` only regroups by variables present in the data (#2156)
dbplyr,514,"`collect()` will automatically LIMIT the result to the `n`, the number of rows requested. This will provide the query planner with more information that it may be able to use to improve execution time (#2083)."
dbplyr,515,`common_by()` gets a better error message for unexpected inputs (#2091)
dbplyr,516,"`copy_to()` no longer checks that the table doesn't exist before creation, instead preferring to fall back on the database for error messages. This should reduce both false positives and false negative (#1470)"
dbplyr,517,"`copy_to()` now succeeds for MySQL if a character column contains `NA` (#1975, #2256, #2263, #2381, @​demorenoc, @​eduardgrebe)."
dbplyr,518,`copy_to()` now returns its output invisibly (since you're often just calling for the side-effect).
dbplyr,519,`distinct()` reports improved variable information for SQL backends. This means that it is more likely to work in the middle of a pipeline (#2359).
dbplyr,520,Ungrouped `do()` on database backends now collects all data locally first (#2392).
dbplyr,521,Call `dbFetch()` instead of the deprecated `fetch()` (#2134). Use `DBI::dbExecute()` for non-query SQL commands (#1912)
dbplyr,522,"`explain()` and `show_query()` now invisibly return the first argument, making them easier to use inside a pipeline."
dbplyr,523,"`print.tbl_sql()` displays ordering (#2287) and prints table name, if known."
dbplyr,524,"`print(df, n = Inf)` and `head(df, n = Inf)` now work with remote tables (#2580)."
dbplyr,525,`db_desc()` and `sql_translate_env()` get defaults for DBIConnection.
dbplyr,526,"Formatting now works by overriding the `tbl_sum()` generic instead of `print()`. This means that the output is more consistent with tibble, and that `format()` is now supported also for SQL sources (tidyverse/dbplyr#14)."
dbplyr,527,"\[API\] The signature of `op_base` has changed to `op_base(x, vars, class)`"
dbplyr,528,\[API\] `translate_sql()` and `partial_eval()` have been refined:
dbplyr,529,`translate_sql()` no longer takes a vars argument; instead call `partial_eval()` yourself.
dbplyr,530,"Because it no longer needs the environment `translate_sql()_` now works with a list of dots, rather than a `lazy_dots`."
dbplyr,531,`partial_eval()` now takes a character vector of variable names rather than a tbl.
dbplyr,532,This leads to a simplification of the `op` data structure: dots is now a list of expressions rather than a `lazy_dots`.
dbplyr,533,\[API\] `op_vars()` now returns a list of quoted expressions. This enables escaping to happen at the correct time (i.e. when the connection is known).
dplyr,1,`left_join()` and friends now return a specialized error message if they detect that your join would return more rows than dplyr can handle (#6912).
dplyr,2,`slice_*()` now throw the correct error if you forget to name `n` while also prefixing the call with `dplyr::` (#6946).
dplyr,3,"`join_by()` now allows its helper functions to be namespaced with `dplyr::`, like `join_by(dplyr::between(x, lower, upper))` (#6838)."
dplyr,4,`dplyr_reconstruct()`'s default method has been rewritten to avoid materializing duckplyr queries too early (#6947).
dplyr,5,"Updated the `storms` data to include 2022 data (#6937, @​steveharoz)."
dplyr,6,"Updated the `starwars` data to use a new API, because the old one is defunct. There are very minor changes to the data itself (#6938, @​steveharoz)."
dplyr,7,`mutate_each()` and `summarise_each()` now throw correct deprecation messages (#6869).
dplyr,8,"`setequal()` now requires the input data frames to be compatible, similar to the other set methods like `setdiff()` or `intersect()` (#6786)."
dplyr,9,`count()` better documents that it has a `.drop` argument (#6820).
dplyr,10,Fixed tests to maintain compatibility with the next version of waldo (#6823).
dplyr,11,Joins better handle key columns will all `NA`s (#6804).
dplyr,12,"Mutating joins now warn about multiple matches much less often. At a high level, a warning was previously being thrown when a one-to-many or many-to-many relationship was detected between the keys of `x` and `y`, but is now only thrown for a many-to-many relationship, which is much rarer and much more dangerous than one-to-many because it can result in a Cartesian explosion in the number of rows returned from the join (#6731, #6717). We've accomplished this in two steps:"
dplyr,13,"`multiple` now defaults to `""all""`, and the options of `""error""` and `""warning""` are now deprecated in favor of using `relationship` (see below). We are using an accelerated deprecation process for these two options because they've only been available for a few weeks, and `relationship` is a clearly superior alternative."
dplyr,14,"The mutating joins gain a new `relationship` argument, allowing you to optionally enforce one of the following relationship constraints between the keys of `x` and `y`: `""one-to-one""`, `""one-to-many""`, `""many-to-one""`, or `""many-to-many""`. For example, `""many-to-one""` enforces that each row in `x` can match at most 1 row in `y`. If a row in `x` matches \>1 rows in `y`, an error is thrown. This option serves as the replacement for `multiple = ""error""`. The default behavior of `relationship` doesn't assume that there is any relationship between `x` and `y`. However, for equality joins it will check for the presence of a many-to-many relationship, and will warn if it detects one. This change unfortunately does mean that if you have set `multiple = ""all""` to avoid a warning and you happened to be doing a many-to-many style join, then you will need to replace `multiple = ""all""` with `relationship = ""many-to-many""` to silence the new warning, but we believe this should be rare since many-to-many relationships are fairly uncommon."
dplyr,15,"Fixed a major performance regression in `case_when()`. It is still a little slower than in dplyr 1.0.10, but we plan to improve this further in the future (#6674)."
dplyr,16,"Fixed a performance regression related to `nth()`, `first()`, and `last()` (#6682)."
dplyr,17,Fixed an issue where expressions involving infix operators had an abnormally large amount of overhead (#6681).
dplyr,18,`group_data()` on ungrouped data frames is faster (#6736).
dplyr,19,`n()` is a little faster when there are many groups (#6727).
dplyr,20,"`pick()` now returns a 1 row, 0 column tibble when `...` evaluates to an empty selection. This makes it more compatible with [tidyverse recycling rules](https://vctrs.r-lib.org/reference/theory-faq-recycling.html) in some edge cases (#6685)."
dplyr,21,`if_else()` and `case_when()` again accept logical conditions that have attributes (#6678).
dplyr,22,`arrange()` can once again sort the `numeric_version` type from base R (#6680).
dplyr,23,`slice_sample()` now works when the input has a column named `replace`. `slice_min()` and `slice_max()` now work when the input has columns named `na_rm` or `with_ties` (#6725).
dplyr,24,`nth()` now errors informatively if `n` is `NA` (#6682).
dplyr,25,Joins now throw a more informative error when `y` doesn't have the same source as `x` (#6798).
dplyr,26,"All major dplyr verbs now throw an informative error message if the input data frame contains a column named `NA` or `""""` (#6758)."
dplyr,27,Deprecation warnings thrown by `filter()` now mention the correct package where the problem originated from (#6679).
dplyr,28,Fixed an issue where using `<-` within a grouped `mutate()` or `summarise()` could cross contaminate other groups (#6666).
dplyr,29,"The compatibility vignette has been replaced with a more general vignette on using dplyr in packages, `vignette(""in-packages"")` (#6702)."
dplyr,30,The developer documentation in `?dplyr_extending` has been refreshed and brought up to date with all changes made in 1.1.0 (#6695).
dplyr,31,`rename_with()` now includes an example of using `paste0(recycle0 = TRUE)` to correctly handle empty selections (#6688).
dplyr,32,R \>=3.5.0 is now explicitly required. This is in line with the tidyverse policy of supporting the [5 most recent versions of R](https://www.tidyverse.org/blog/2019/04/r-version-support/).
dplyr,33,"[`.by`/`by`](https://dplyr.tidyverse.org/reference/dplyr_by.html) is an experimental alternative to `group_by()` that supports per-operation grouping for `mutate()`, `summarise()`, `filter()`, and the `slice()` family (#6528). Rather than:"
=======
```"
dbplyr,466,`glimpse()` now works with remote tables (#2665)
dbplyr,467,"dplyr has gained a basic SQL optimiser, which collapses certain nested SELECT queries into a single query (#1979). This will improve query execution performance for databases with less sophisticated query optimisers, and fixes certain problems with ordering and limits in subqueries (#1979). A big thanks goes to @​hhoeflin for figuring out this optimisation."
dbplyr,468,"`compute()` and `collapse()` now preserve the ""ordering"" of rows. This only affects the computation of window functions, as the rest of SQL does not care about row order (#2281)."
dbplyr,469,`copy_to()` gains an `overwrite` argument which allows you to overwrite an existing table. Use with care! (#2296)
dbplyr,470,"New `in_schema()` function makes it easy to refer to tables in schema: `in_schema(""my_schema_name"", ""my_table_name"")`."
dbplyr,471,`query()` is no longer exported. It hasn't been useful for a while so this shouldn't break any code.
dbplyr,472,Partial evaluation occurs immediately when you execute a verb (like `filter()` or `mutate()`) rather than happening when the query is executed (#2370).
dbplyr,473,"`mutate.tbl_sql()` will now generate as many subqueries as necessary so that you can refer to variables that you just created (like in mutate with regular dataframes) (#2481, #2483)."
dbplyr,474,SQL joins have been improved:
dbplyr,475,"SQL joins always use the `ON ...` syntax, avoiding `USING ...` even for natural joins. Improved handling of tables with columns of the same name (#1997, @​javierluraschi). They now generate SQL more similar to what you'd write by hand, eliminating a layer or two of subqueries (#2333)"
dbplyr,476,"\[API\] They now follow the same rules for including duplicated key variables that the data frame methods do, namely that key variables are only kept from `x`, and never from `y` (#2410)"
dbplyr,477,"\[API\] The `sql_join()` generic now gains a `vars` argument which lists the variables taken from the left and right sides of the join. If you have a custom `sql_join()` method, you'll need to update how your code generates joins, following the template in `sql_join.generic()`."
dbplyr,478,`full_join()` throws a clear error when you attempt to use it with a MySQL backend (#2045)
dbplyr,479,"`right_join()` and `full_join()` now return results consistent with local data frame sources when there are records in the right table with no match in the left table. `right_join()` returns values of `by` columns from the right table. `full_join()` returns coalesced values of `by` columns from the left and right tables (#2578, @​ianmcook)"
dbplyr,480,`group_by()` can now perform an inline mutate for database backends (#2422).
dbplyr,481,"The SQL generation set operations (`intersect()`, `setdiff()`, `union()`, and `union_all()`) have been considerably improved. By default, the component SELECT are surrounded with parentheses, except on SQLite. The SQLite backend will now throw an error if you attempt a set operation on a query that contains a LIMIT, as that is not supported in SQLite (#2270). All set operations match column names across inputs, filling in non-matching variables with NULL (#2556)."
dbplyr,482,`rename()` and `group_by()` now combine correctly (#1962)
dbplyr,483,`tbl_lazy()` and `lazy_tbl()` have been exported. These help you test generated SQL with out an active database connection.
dbplyr,484,`ungroup()` correctly resets grouping variables (#2704).
dbplyr,485,New `as.sql()` safely coerces an input to SQL.
dbplyr,486,"More translators for `as.character()`, `as.integer()` and `as.double()` (#2775)."
dbplyr,487,New `ident_q()` makes it possible to specifier identifiers that do not need to be quoted.
dbplyr,488,Translation of inline scalars:
dbplyr,489,"Logical values are now translated differently depending on the backend. The default is to use ""true"" and ""false"" which is the SQL-99 standard, but not widely support. SQLite translates to ""0"" and ""1"" (#2052)."
dbplyr,490,`Inf` and `-Inf` are correctly escaped
dbplyr,491,Better test for whether or not a double is similar to an integer and hence needs a trailing 0.0 added (#2004).
dbplyr,492,Quoting defaults to `DBI::dbEscapeString()` and `DBI::dbQuoteIdentifier()` respectively.
dbplyr,493,`::` and `:::` are handled correctly (#2321)
dbplyr,494,`x %in% 1` is now correctly translated to `x IN (1)` (#511).
dbplyr,495,`ifelse()` and `if_else()` use correct argument names in SQL translation (#2225).
dbplyr,496,"`ident()` now returns an object with class `c(""ident"", ""character"")`. It no longer contains ""sql"" to indicate that this is not already escaped."
dbplyr,497,`is.na()` and `is.null()` gain extra parens in SQL translation to preserve correct precedence (#2302).
dbplyr,498,"\[API\] `log(x, b)` is now correctly translated to the SQL `log(b, x)` (#2288). SQLite does not support the 2-argument log function so it is translated to `log(x) / log(b)`."
dbplyr,499,"`nth(x, i)` is now correctly translated to `nth_value(x, i)`."
dbplyr,500,`n_distinct()` now accepts multiple variables (#2148).
dbplyr,501,"\[API\] `substr()` is now translated to SQL, correcting for the difference in the third argument. In R, it's the position of the last character, in SQL it's the length of the string (#2536)."
dbplyr,502,`win_over()` escapes expression using current database rules.
dbplyr,503,`copy_to()` now uses `db_write_table()` instead of `db_create_table()` and `db_insert_into()`. `db_write_table.DBIConnection()` uses `dbWriteTable()`.
dbplyr,504,"New `db_copy_to()`, `db_compute()` and `db_collect()` allow backends to override the entire database process behind `copy_to()`, `compute()` and `collect()`. `db_sql_render()` allow additional control over the SQL rendering process."
dbplyr,505,All generics whose behaviour can vary from database to database now provide a DBIConnection method. That means that you can easily scan the NAMESPACE to see the extension points.
dbplyr,506,`sql_escape_logical()` allows you to control the translation of literal logicals (#2614).
dbplyr,507,"`src_desc()` has been replaced by `db_desc()` and now dispatches on the connection, eliminating the last method that required dispatch on the class of the src."
dbplyr,508,"`win_over()`, `win_rank()`, `win_recycled()`, `win_cumulative()`, `win_current_group()` and `win_current_order()` are now exported. This should make it easier to provide customised SQL for window functions (#2051, #2126)."
dbplyr,509,SQL translation for Microsoft SQL Server (@​edgararuiz)
dbplyr,510,SQL translation for Apache Hive (@​edgararuiz)
dbplyr,511,SQL translation for Apache Impala (@​edgararuiz)
dbplyr,512,`collect()` once again defaults to return all rows in the data (#1968). This makes it behave the same as `as.data.frame()` and `as_tibble()`.
dbplyr,513,`collect()` only regroups by variables present in the data (#2156)
dbplyr,514,"`collect()` will automatically LIMIT the result to the `n`, the number of rows requested. This will provide the query planner with more information that it may be able to use to improve execution time (#2083)."
dbplyr,515,`common_by()` gets a better error message for unexpected inputs (#2091)
dbplyr,516,"`copy_to()` no longer checks that the table doesn't exist before creation, instead preferring to fall back on the database for error messages. This should reduce both false positives and false negative (#1470)"
dbplyr,517,"`copy_to()` now succeeds for MySQL if a character column contains `NA` (#1975, #2256, #2263, #2381, @​demorenoc, @​eduardgrebe)."
dbplyr,518,`copy_to()` now returns its output invisibly (since you're often just calling for the side-effect).
dbplyr,519,`distinct()` reports improved variable information for SQL backends. This means that it is more likely to work in the middle of a pipeline (#2359).
dbplyr,520,Ungrouped `do()` on database backends now collects all data locally first (#2392).
dbplyr,521,Call `dbFetch()` instead of the deprecated `fetch()` (#2134). Use `DBI::dbExecute()` for non-query SQL commands (#1912)
dbplyr,522,"`explain()` and `show_query()` now invisibly return the first argument, making them easier to use inside a pipeline."
dbplyr,523,"`print.tbl_sql()` displays ordering (#2287) and prints table name, if known."
dbplyr,524,"`print(df, n = Inf)` and `head(df, n = Inf)` now work with remote tables (#2580)."
dbplyr,525,`db_desc()` and `sql_translate_env()` get defaults for DBIConnection.
dbplyr,526,"Formatting now works by overriding the `tbl_sum()` generic instead of `print()`. This means that the output is more consistent with tibble, and that `format()` is now supported also for SQL sources (tidyverse/dbplyr#14)."
dbplyr,527,"\[API\] The signature of `op_base` has changed to `op_base(x, vars, class)`"
dbplyr,528,\[API\] `translate_sql()` and `partial_eval()` have been refined:
dbplyr,529,`translate_sql()` no longer takes a vars argument; instead call `partial_eval()` yourself.
dbplyr,530,"Because it no longer needs the environment `translate_sql()_` now works with a list of dots, rather than a `lazy_dots`."
dbplyr,531,`partial_eval()` now takes a character vector of variable names rather than a tbl.
dbplyr,532,This leads to a simplification of the `op` data structure: dots is now a list of expressions rather than a `lazy_dots`.
dbplyr,533,\[API\] `op_vars()` now returns a list of quoted expressions. This enables escaping to happen at the correct time (i.e. when the connection is known).
dplyr,1,`left_join()` and friends now return a specialized error message if they detect that your join would return more rows than dplyr can handle (#6912).
dplyr,2,`slice_*()` now throw the correct error if you forget to name `n` while also prefixing the call with `dplyr::` (#6946).
dplyr,3,"`join_by()` now allows its helper functions to be namespaced with `dplyr::`, like `join_by(dplyr::between(x, lower, upper))` (#6838)."
dplyr,4,`dplyr_reconstruct()`'s default method has been rewritten to avoid materializing duckplyr queries too early (#6947).
dplyr,5,"Updated the `storms` data to include 2022 data (#6937, @​steveharoz)."
dplyr,6,"Updated the `starwars` data to use a new API, because the old one is defunct. There are very minor changes to the data itself (#6938, @​steveharoz)."
dplyr,7,`mutate_each()` and `summarise_each()` now throw correct deprecation messages (#6869).
dplyr,8,"`setequal()` now requires the input data frames to be compatible, similar to the other set methods like `setdiff()` or `intersect()` (#6786)."
dplyr,9,`count()` better documents that it has a `.drop` argument (#6820).
dplyr,10,Fixed tests to maintain compatibility with the next version of waldo (#6823).
dplyr,11,Joins better handle key columns will all `NA`s (#6804).
dplyr,12,"Mutating joins now warn about multiple matches much less often. At a high level, a warning was previously being thrown when a one-to-many or many-to-many relationship was detected between the keys of `x` and `y`, but is now only thrown for a many-to-many relationship, which is much rarer and much more dangerous than one-to-many because it can result in a Cartesian explosion in the number of rows returned from the join (#6731, #6717). We've accomplished this in two steps:"
dplyr,13,"`multiple` now defaults to `""all""`, and the options of `""error""` and `""warning""` are now deprecated in favor of using `relationship` (see below). We are using an accelerated deprecation process for these two options because they've only been available for a few weeks, and `relationship` is a clearly superior alternative."
dplyr,14,"The mutating joins gain a new `relationship` argument, allowing you to optionally enforce one of the following relationship constraints between the keys of `x` and `y`: `""one-to-one""`, `""one-to-many""`, `""many-to-one""`, or `""many-to-many""`. For example, `""many-to-one""` enforces that each row in `x` can match at most 1 row in `y`. If a row in `x` matches \>1 rows in `y`, an error is thrown. This option serves as the replacement for `multiple = ""error""`. The default behavior of `relationship` doesn't assume that there is any relationship between `x` and `y`. However, for equality joins it will check for the presence of a many-to-many relationship, and will warn if it detects one. This change unfortunately does mean that if you have set `multiple = ""all""` to avoid a warning and you happened to be doing a many-to-many style join, then you will need to replace `multiple = ""all""` with `relationship = ""many-to-many""` to silence the new warning, but we believe this should be rare since many-to-many relationships are fairly uncommon."
dplyr,15,"Fixed a major performance regression in `case_when()`. It is still a little slower than in dplyr 1.0.10, but we plan to improve this further in the future (#6674)."
dplyr,16,"Fixed a performance regression related to `nth()`, `first()`, and `last()` (#6682)."
dplyr,17,Fixed an issue where expressions involving infix operators had an abnormally large amount of overhead (#6681).
dplyr,18,`group_data()` on ungrouped data frames is faster (#6736).
dplyr,19,`n()` is a little faster when there are many groups (#6727).
dplyr,20,"`pick()` now returns a 1 row, 0 column tibble when `...` evaluates to an empty selection. This makes it more compatible with [tidyverse recycling rules](https://vctrs.r-lib.org/reference/theory-faq-recycling.html) in some edge cases (#6685)."
dplyr,21,`if_else()` and `case_when()` again accept logical conditions that have attributes (#6678).
dplyr,22,`arrange()` can once again sort the `numeric_version` type from base R (#6680).
dplyr,23,`slice_sample()` now works when the input has a column named `replace`. `slice_min()` and `slice_max()` now work when the input has columns named `na_rm` or `with_ties` (#6725).
dplyr,24,`nth()` now errors informatively if `n` is `NA` (#6682).
dplyr,25,Joins now throw a more informative error when `y` doesn't have the same source as `x` (#6798).
dplyr,26,"All major dplyr verbs now throw an informative error message if the input data frame contains a column named `NA` or `""""` (#6758)."
dplyr,27,Deprecation warnings thrown by `filter()` now mention the correct package where the problem originated from (#6679).
dplyr,28,Fixed an issue where using `<-` within a grouped `mutate()` or `summarise()` could cross contaminate other groups (#6666).
dplyr,29,"The compatibility vignette has been replaced with a more general vignette on using dplyr in packages, `vignette(""in-packages"")` (#6702)."
dplyr,30,The developer documentation in `?dplyr_extending` has been refreshed and brought up to date with all changes made in 1.1.0 (#6695).
dplyr,31,`rename_with()` now includes an example of using `paste0(recycle0 = TRUE)` to correctly handle empty selections (#6688).
dplyr,32,R \>=3.5.0 is now explicitly required. This is in line with the tidyverse policy of supporting the [5 most recent versions of R](https://www.tidyverse.org/blog/2019/04/r-version-support/).
dplyr,33,"[`.by`/`by`](https://dplyr.tidyverse.org/reference/dplyr_by.html) is an experimental alternative to `group_by()` that supports per-operation grouping for `mutate()`, `summarise()`, `filter()`, and the `slice()` family (#6528). Rather than:"
>>>>>>> 1b8eb09 (fix bugs and update tests)
dplyr,33,"```
starwars %>%
  group_by(species, homeworld) %>%
  summarise(mean_height = mean(height))
```"
dplyr,33,You can now write:
dplyr,33,"```
>>>>>>> 9592342 (make remove_old_bullets() more intelligent)
starwars %>%
  summarise(
    mean_height = mean(height),
    .by = c(species, homeworld)
  )
<<<<<<< HEAD
<<<<<<< HEAD
```"
<<<<<<< HEAD
dplyr,1,5bc37d9db73bcf042ad0414739b19198,"The most useful reason to do this is because `.by` only affects a single operation. In the example above, an ungrouped data frame went into the `summarise()` call, so an ungrouped data frame will come out; with `.by`, you never need to remember to `ungroup()` afterwards and you never need to use the `.groups` argument. Additionally, using `summarise()` with `.by` will never sort the results by the group key, unlike with `group_by()`. Instead, the results are returned using the existing ordering of the groups from the original data. We feel this is more predictable, better maintains any ordering you might have already applied with a previous call to `arrange()`, and provides a way to maintain the current ordering without having to resort to factors. This feature was inspired by [data.table](https://CRAN.R-project.org/package=data.table), where the equivalent syntax looks like:"
dplyr,1,5bc37d9db73bcf042ad0414739b19198,"```
starwars[, .(mean_height = mean(height)), by = .(species, homeworld)]
```"
dplyr,1,5bc37d9db73bcf042ad0414739b19198,`with_groups()` is superseded in favor of `.by` (#6582).
dbplyr,1,39d09186b4134d27a004f3e54149e207,"Fixed an issue when using `filter()` on a summarised variable (@​mgirlich, #1128)."
dbplyr,2,0b3e1c0443e7f0a6a9fe30d534cc1dc8,"`across()` and `pick()` can be used (again) in `distinct()` (@​mgirlich, #1125)."
dbplyr,3,2db7ba9bee40698a9dec629feeffcf29,"The rank functions (`row_number()`, `min_rank()`, `rank()`, `dense_rank()`, `percent_rank()`, and `cume_dist()`) now work again for variables wrapped in `desc()`, e.g. `row_number(desc(x))` (@​mgirlich, #1118)."
dbplyr,4,b67e7e9c14e35da0e97977862db4d716,"`mutate()` after `distinct()` now again produces a subquery to produce the correct result (@​mgirlich, #1119)."
dbplyr,5,d98d06668cd5a9df09014fdf0bce5307,"Moved argument `auto_index` after `...` in `*_join()` (@​mgirlich, #1115)."
dbplyr,6,9ba90983899440eefc9d282294482b84,"Removed dependency on assertthat (@​mgirlich, #1112)."
dbplyr,7,2f55564766edc9d04d742c1ef90d978a,"Catch unsupported argument `pivot_wider(id_expand = TRUE)` and `pivot_longer(cols_vary)` (@​mgirlich, #1109)."
dbplyr,8,0c7762ee43811ee9012ef8aac13c0815,"Fixed an issue when using a window function after a `summarise()` and `select()` (@​mgirlich, #1104)."
dbplyr,9,6f5b38acb60f74d23acb11b14f096f5f,"Fixed an issue when there where at least 3 joins and renamed variables (@​mgirlich, #1101)."
dbplyr,10,f8727655923321e58ecf929362af640f,"`across()` now uses the original value when a column is overriden to match the behaviour of dplyr. For example `mutate(df, across(c(x, y), ~ .x / x))` now produces"
dbplyr,10,f8727655923321e58ecf929362af640f,"```
SELECT `x` / `x` AS `x`, `y` / `x` AS `y`
FROM `df`
```"
dbplyr,10,f8727655923321e58ecf929362af640f,instead of
dbplyr,10,f8727655923321e58ecf929362af640f,"```
SELECT `x`, `y` / `x` AS `y`
FROM (
  SELECT `x` / `x` AS `x`, `y`
  FROM `df`
) 
```"
dbplyr,10,f8727655923321e58ecf929362af640f,"(@​mgirlich, #1015)."
dbplyr,1,2251dd7be1714567c712ddc9fe4e91b7,"`quantile()` and `median()` now error for SQL Server when used in `summarise()` and for PostgreSQL when used in `mutate()` as they can't be properly translated (@​mgirlich, #1110)."
dbplyr,2,39d09186b4134d27a004f3e54149e207,"Fixed an issue when using `filter()` on a summarised variable (@​mgirlich, #1128)."
dbplyr,3,0b3e1c0443e7f0a6a9fe30d534cc1dc8,"`across()` and `pick()` can be used (again) in `distinct()` (@​mgirlich, #1125)."
dbplyr,4,2db7ba9bee40698a9dec629feeffcf29,"The rank functions (`row_number()`, `min_rank()`, `rank()`, `dense_rank()`, `percent_rank()`, and `cume_dist()`) now work again for variables wrapped in `desc()`, e.g. `row_number(desc(x))` (@​mgirlich, #1118)."
dbplyr,5,b67e7e9c14e35da0e97977862db4d716,"`mutate()` after `distinct()` now again produces a subquery to produce the correct result (@​mgirlich, #1119)."
dbplyr,6,d98d06668cd5a9df09014fdf0bce5307,"Moved argument `auto_index` after `...` in `*_join()` (@​mgirlich, #1115)."
dbplyr,7,9ba90983899440eefc9d282294482b84,"Removed dependency on assertthat (@​mgirlich, #1112)."
dbplyr,8,2f55564766edc9d04d742c1ef90d978a,"Catch unsupported argument `pivot_wider(id_expand = TRUE)` and `pivot_longer(cols_vary)` (@​mgirlich, #1109)."
dbplyr,9,0c7762ee43811ee9012ef8aac13c0815,"Fixed an issue when using a window function after a `summarise()` and `select()` (@​mgirlich, #1104)."
dbplyr,10,6f5b38acb60f74d23acb11b14f096f5f,"Fixed an issue when there where at least 3 joins and renamed variables (@​mgirlich, #1101)."
dplyr,1,8e30499e941d9066a7c82da4465094d3,`rename_with()` now includes an example of using `paste0(recycle0 = TRUE)` to correctly handle empty selections (#6688).
dplyr,2,5bc37d9db73bcf042ad0414739b19198,"[`.by`/`by`](https://dplyr.tidyverse.org/reference/dplyr_by.html) is an experimental alternative to `group_by()` that supports per-operation grouping for `mutate()`, `summarise()`, `filter()`, and the `slice()` family (#6528). Rather than:"
dplyr,2,5bc37d9db73bcf042ad0414739b19198,"```
starwars %>%
  group_by(species, homeworld) %>%
  summarise(mean_height = mean(height))
```"
dplyr,2,5bc37d9db73bcf042ad0414739b19198,You can now write:
dplyr,2,5bc37d9db73bcf042ad0414739b19198,"```
starwars %>%
  summarise(
    mean_height = mean(height),
    .by = c(species, homeworld)
  )
```"
dplyr,2,5bc37d9db73bcf042ad0414739b19198,"The most useful reason to do this is because `.by` only affects a single operation. In the example above, an ungrouped data frame went into the `summarise()` call, so an ungrouped data frame will come out; with `.by`, you never need to remember to `ungroup()` afterwards and you never need to use the `.groups` argument. Additionally, using `summarise()` with `.by` will never sort the results by the group key, unlike with `group_by()`. Instead, the results are returned using the existing ordering of the groups from the original data. We feel this is more predictable, better maintains any ordering you might have already applied with a previous call to `arrange()`, and provides a way to maintain the current ordering without having to resort to factors. This feature was inspired by [data.table](https://CRAN.R-project.org/package=data.table), where the equivalent syntax looks like:"
dplyr,2,5bc37d9db73bcf042ad0414739b19198,"```
starwars[, .(mean_height = mean(height)), by = .(species, homeworld)]
```"
dplyr,2,5bc37d9db73bcf042ad0414739b19198,`with_groups()` is superseded in favor of `.by` (#6582).
dplyr,3,fa3babb7116e14e0793f737bb02c444c,"`reframe()` is a new experimental verb that creates a new data frame by applying functions to columns of an existing data frame. It is very similar to `summarise()`, with two big differences:"
dplyr,3,fa3babb7116e14e0793f737bb02c444c,"• `reframe()` can return an arbitrary number of rows per group, while `summarise()` reduces each group down to a single row."
dplyr,3,fa3babb7116e14e0793f737bb02c444c,"• `reframe()` always returns an ungrouped data frame, while `summarise()` might return a grouped or rowwise data frame, depending on the scenario."
readxl,1,c4269fd14ecbd19a5a45dac7485e5a0c,[CVE-2021-27836](https://nvd.nist.gov/vuln/detail/CVE-2021-27836)
readxl,2,ad551e126cdd56b1f849cd06d7a91386,Updating the embedded version of libxls (more below)
readxl,3,8b9707388900d64c7505f63d4b2e5d74,Switching from Rcpp to cpp11 (more below)
readxl,4,f71660959b69dc93d022127b5a022229,Refactoring to reduce duplication between the `.xls` and `.xlsx` branches
readxl,5,89989fb267bf6a9fc9f678a755140c08,"""Date or Not Date"": The classification of number formats as being datetime-ish is more sophisticated and should no longer be so easily fooled by, e.g., colours or currencies. This affects cell and column type guessing, hopefully for the better (#388, #559, @​nacnudus, @​reviewher)."
readxl,6,774eb694c9a8d98ffa1ec571bff3a3a6,"Cell location is determined more robustly in `.xlsx` files, guarding against the idiosyncratic way in which certain 3rd party tools include (or, rather, do not include) cell location in individual cell nodes (#648, #671)."
readxl,7,2876f4651c05bdf7921104fa046e89fb,"Warning messages for impossible dates are more specific. Unsupported dates prior to 1900 have their own message now, instead of being lumped in with dates on the non-existent day of February 29, 1900 (#551, #554, @​cderv)."
readxl,8,5a1f8cf6e03a32c5f0d76cf3384206f2,readxl is now licensed as MIT (#632).
readxl,9,971ae1ccc74a19a237a59550a2c994a5,"readxl now states its support for R \>= 3.4 explicitly. Why 3.4? Because the [tidyverse policy](https://www.tidyverse.org/blog/2019/04/r-version-support/) is to support the current version, the devel version, and four previous versions of R. It was necessary to introduce a minimum R version, in order to state a minimum version for a package listed in `LinkingTo`."
readxl,10,06386401a64770cde134ed7c4b38e7e1,readxl embeds libxls v1.6.2 (the previous release embedded v1.5.0). The libxls project is hosted at <https://github.com/libxls/libxls> and you can learn more about the cumulative changes in its release notes:
readxl,10,06386401a64770cde134ed7c4b38e7e1,• [v1.6.2](https://github.com/libxls/libxls/releases/tag/v1.6.2)
readxl,10,06386401a64770cde134ed7c4b38e7e1,• [v1.6.1](https://github.com/libxls/libxls/releases/tag/v1.6.1)
readxl,10,06386401a64770cde134ed7c4b38e7e1,• [v1.6.0](https://github.com/libxls/libxls/releases/tag/v1.6.0)
readxl,10,06386401a64770cde134ed7c4b38e7e1,• [v1.5.3](https://github.com/libxls/libxls/releases/tag/v1.5.3)
readxl,10,06386401a64770cde134ed7c4b38e7e1,• [v1.5.2](https://github.com/libxls/libxls/releases/tag/v1.5.2)
readxl,10,06386401a64770cde134ed7c4b38e7e1,• [v1.5.1](https://github.com/libxls/libxls/releases/tag/v1.5.1)
dbplyr,1,aa39cd378238c03694cb8b30f65a7de0,"`mutate()` + `filter()` now again produces a new query if the `mutate()` uses a window function or SQL (@​mgirlich, #1135)."
dbplyr,2,2251dd7be1714567c712ddc9fe4e91b7,"`quantile()` and `median()` now error for SQL Server when used in `summarise()` and for PostgreSQL when used in `mutate()` as they can't be properly translated (@​mgirlich, #1110)."
dbplyr,3,39d09186b4134d27a004f3e54149e207,"Fixed an issue when using `filter()` on a summarised variable (@​mgirlich, #1128)."
dbplyr,4,0b3e1c0443e7f0a6a9fe30d534cc1dc8,"`across()` and `pick()` can be used (again) in `distinct()` (@​mgirlich, #1125)."
dbplyr,5,2db7ba9bee40698a9dec629feeffcf29,"The rank functions (`row_number()`, `min_rank()`, `rank()`, `dense_rank()`, `percent_rank()`, and `cume_dist()`) now work again for variables wrapped in `desc()`, e.g. `row_number(desc(x))` (@​mgirlich, #1118)."
dbplyr,6,b67e7e9c14e35da0e97977862db4d716,"`mutate()` after `distinct()` now again produces a subquery to produce the correct result (@​mgirlich, #1119)."
dbplyr,7,d98d06668cd5a9df09014fdf0bce5307,"Moved argument `auto_index` after `...` in `*_join()` (@​mgirlich, #1115)."
dbplyr,8,9ba90983899440eefc9d282294482b84,"Removed dependency on assertthat (@​mgirlich, #1112)."
dbplyr,9,2f55564766edc9d04d742c1ef90d978a,"Catch unsupported argument `pivot_wider(id_expand = TRUE)` and `pivot_longer(cols_vary)` (@​mgirlich, #1109)."
dbplyr,10,0c7762ee43811ee9012ef8aac13c0815,"Fixed an issue when using a window function after a `summarise()` and `select()` (@​mgirlich, #1104)."
dbplyr,1,fb1ec50355a17671d04751753d4b9265,"The `rows_*()` function work again for tables in a schema in PostgreSQL (@​mgirlich, #1133)."
dbplyr,2,aa39cd378238c03694cb8b30f65a7de0,"`mutate()` + `filter()` now again produces a new query if the `mutate()` uses a window function or SQL (@​mgirlich, #1135)."
dbplyr,3,2251dd7be1714567c712ddc9fe4e91b7,"`quantile()` and `median()` now error for SQL Server when used in `summarise()` and for PostgreSQL when used in `mutate()` as they can't be properly translated (@​mgirlich, #1110)."
dbplyr,4,39d09186b4134d27a004f3e54149e207,"Fixed an issue when using `filter()` on a summarised variable (@​mgirlich, #1128)."
dbplyr,5,0b3e1c0443e7f0a6a9fe30d534cc1dc8,"`across()` and `pick()` can be used (again) in `distinct()` (@​mgirlich, #1125)."
dbplyr,6,2db7ba9bee40698a9dec629feeffcf29,"The rank functions (`row_number()`, `min_rank()`, `rank()`, `dense_rank()`, `percent_rank()`, and `cume_dist()`) now work again for variables wrapped in `desc()`, e.g. `row_number(desc(x))` (@​mgirlich, #1118)."
dbplyr,7,b67e7e9c14e35da0e97977862db4d716,"`mutate()` after `distinct()` now again produces a subquery to produce the correct result (@​mgirlich, #1119)."
dbplyr,8,d98d06668cd5a9df09014fdf0bce5307,"Moved argument `auto_index` after `...` in `*_join()` (@​mgirlich, #1115)."
dbplyr,9,9ba90983899440eefc9d282294482b84,"Removed dependency on assertthat (@​mgirlich, #1112)."
dbplyr,10,2f55564766edc9d04d742c1ef90d978a,"Catch unsupported argument `pivot_wider(id_expand = TRUE)` and `pivot_longer(cols_vary)` (@​mgirlich, #1109)."
dplyr,1,2db664426f13d6a92141c1192e45fffd,The developer documentation in `?dplyr_extending` has been refreshed and brought up to date with all changes made in 1.1.0 (#6695).
dplyr,2,0a4f74723eee5e7de47213ce7a96d237,R \>=3.5.0 is now explicitly required. This is in line with the tidyverse policy of supporting the [5 most recent versions of R](https://www.tidyverse.org/blog/2019/04/r-version-support/).
dplyr,3,8e30499e941d9066a7c82da4465094d3,`rename_with()` now includes an example of using `paste0(recycle0 = TRUE)` to correctly handle empty selections (#6688).
dplyr,4,5bc37d9db73bcf042ad0414739b19198,"[`.by`/`by`](https://dplyr.tidyverse.org/reference/dplyr_by.html) is an experimental alternative to `group_by()` that supports per-operation grouping for `mutate()`, `summarise()`, `filter()`, and the `slice()` family (#6528). Rather than:"
dplyr,4,5bc37d9db73bcf042ad0414739b19198,"```
starwars %>%
  group_by(species, homeworld) %>%
  summarise(mean_height = mean(height))
```"
dplyr,4,5bc37d9db73bcf042ad0414739b19198,You can now write:
dplyr,4,5bc37d9db73bcf042ad0414739b19198,"```
starwars %>%
  summarise(
    mean_height = mean(height),
    .by = c(species, homeworld)
  )
```"
dplyr,4,5bc37d9db73bcf042ad0414739b19198,"The most useful reason to do this is because `.by` only affects a single operation. In the example above, an ungrouped data frame went into the `summarise()` call, so an ungrouped data frame will come out; with `.by`, you never need to remember to `ungroup()` afterwards and you never need to use the `.groups` argument. Additionally, using `summarise()` with `.by` will never sort the results by the group key, unlike with `group_by()`. Instead, the results are returned using the existing ordering of the groups from the original data. We feel this is more predictable, better maintains any ordering you might have already applied with a previous call to `arrange()`, and provides a way to maintain the current ordering without having to resort to factors. This feature was inspired by [data.table](https://CRAN.R-project.org/package=data.table), where the equivalent syntax looks like:"
dplyr,4,5bc37d9db73bcf042ad0414739b19198,"```
starwars[, .(mean_height = mean(height)), by = .(species, homeworld)]
```"
dplyr,4,5bc37d9db73bcf042ad0414739b19198,`with_groups()` is superseded in favor of `.by` (#6582).
readxl,1,c5ef89ff9014a29c5e42b0efb2000c6f,"We embed a development version of libxls (<https://github.com/libxls/libxls>), which is based on the most recent released version, v1.6.2. The reason for embedding a development version is to ship a version of libxls that incorporates the fix for this CVE (#679):"
readxl,1,c5ef89ff9014a29c5e42b0efb2000c6f,• [CVE-2021-27836](https://nvd.nist.gov/vuln/detail/CVE-2021-27836)
readxl,3,e4e3708502c2155a464fba9b76dd28d5,readxl no longer declares the use of C++11.
readxl,4,52fa7cf1cb28e11b119482026d0b047c,readxl should once again compile on Alpine Linux.
readxl,5,5dcd0c4f087170de87002c471676d917,"Other small readxl-specific patches have been made to the embedded libxls code to comply with CRAN requests, such as avoiding the use of `sprintf()`."
readxl,6,ad551e126cdd56b1f849cd06d7a91386,Updating the embedded version of libxls (more below)
readxl,7,8b9707388900d64c7505f63d4b2e5d74,Switching from Rcpp to cpp11 (more below)
readxl,8,f71660959b69dc93d022127b5a022229,Refactoring to reduce duplication between the `.xls` and `.xlsx` branches
readxl,9,89989fb267bf6a9fc9f678a755140c08,"""Date or Not Date"": The classification of number formats as being datetime-ish is more sophisticated and should no longer be so easily fooled by, e.g., colours or currencies. This affects cell and column type guessing, hopefully for the better (#388, #559, @​nacnudus, @​reviewher)."
readxl,10,774eb694c9a8d98ffa1ec571bff3a3a6,"Cell location is determined more robustly in `.xlsx` files, guarding against the idiosyncratic way in which certain 3rd party tools include (or, rather, do not include) cell location in individual cell nodes (#648, #671)."
dbplyr,7,fb68c46ecafe8779a1ee36e2a8f79529,"`mutate()` and `select()` after `distinct()` now again produce a subquery to generate the correct translation (@​mgirlich, #1119, #1141)."
dbplyr,1,5108b6627e7eed7844cba836aa6406bf,"`case_match()` now works with strings on the left hand side (@​mgirlich, #1143)."
dbplyr,2,fb1ec50355a17671d04751753d4b9265,"The `rows_*()` function work again for tables in a schema in PostgreSQL (@​mgirlich, #1133)."
dbplyr,3,aa39cd378238c03694cb8b30f65a7de0,"`mutate()` + `filter()` now again produces a new query if the `mutate()` uses a window function or SQL (@​mgirlich, #1135)."
dbplyr,4,2251dd7be1714567c712ddc9fe4e91b7,"`quantile()` and `median()` now error for SQL Server when used in `summarise()` and for PostgreSQL when used in `mutate()` as they can't be properly translated (@​mgirlich, #1110)."
dbplyr,5,39d09186b4134d27a004f3e54149e207,"Fixed an issue when using `filter()` on a summarised variable (@​mgirlich, #1128)."
dbplyr,6,0b3e1c0443e7f0a6a9fe30d534cc1dc8,"`across()` and `pick()` can be used (again) in `distinct()` (@​mgirlich, #1125)."
dbplyr,7,2db7ba9bee40698a9dec629feeffcf29,"The rank functions (`row_number()`, `min_rank()`, `rank()`, `dense_rank()`, `percent_rank()`, and `cume_dist()`) now work again for variables wrapped in `desc()`, e.g. `row_number(desc(x))` (@​mgirlich, #1118)."
dbplyr,8,fb68c46ecafe8779a1ee36e2a8f79529,"`mutate()` and `select()` after `distinct()` now again produce a subquery to generate the correct translation (@​mgirlich, #1119, #1141)."
dbplyr,9,d98d06668cd5a9df09014fdf0bce5307,"Moved argument `auto_index` after `...` in `*_join()` (@​mgirlich, #1115)."
dbplyr,10,9ba90983899440eefc9d282294482b84,"Removed dependency on assertthat (@​mgirlich, #1112)."
rlang,1,db6bfde560df2ec505c44c1224997072,`new_data_mask()` is now slightly faster due to a smaller initial mask size and usage of the C level function `R_NewEnv()` on R \>=4.1.0 (#1553).
rlang,2,43fc3296fc1578af4c9db186595dad5d,The C level `r_dyn_*_push_back()` utilities are now faster (#1542).
rlang,3,e9bd18941fb9ae785222da157dfe3199,rlang is now compliant with `-Wstrict-prototypes` as requested by CRAN (#1508).
rlang,4,c10348bae601f3a0079755c860bddb1e,`as_closure(seq.int)` now works (#1468).
rlang,5,637c9311bb18234db17a98ab3ae249bd,rlang no longer stores errors and backtraces in a `org:r-lib` environment on the search path.
rlang,6,646cfe267906ad5b7b359e6a6dfcbdc9,The low-level function `error_call()` is now exported (#1474).
rlang,7,ab136a888c60ab4a896ffe213593869d,Fixed an issue that caused a failure about a missing `is_character` function when rlang is installed alongside an old version of vctrs (#1482).
rlang,8,f6369c1c276a8ca4f16297784d043d05,Fixed an issue that caused multiline calls in backtraces.
rlang,9,4475efca225f7230ed47b4a232d96ede,The C API function `r_lgl_which()` now propagates the names of the input (#1471).
rlang,10,0f0e787b1ec24cd227ea503bc55e5384,"The `pkg_version_info()` function now allows `==` for package version comparison (#1469, @​kryekuzhinieri)."
ggplot2,1,f710ce1c08db4e9fafa42319c72df652,"The `datetime_scale()` scale constructor is now exported for use in extension packages (@​teunbrand, #4701)."
ggplot2,2,a121b551ee9c5a4843f9ca36b48f5bcc,"`geom_text()` drops observations where `angle = NA` instead of throwing an error (@​teunbrand, #2757)."
ggplot2,3,f63f21b8667b4a86fb8cc87a0c5deabf,"Using two ordered factors as facetting variables in `facet_grid(..., as.table = FALSE)` now throws a warning instead of an error (@​teunbrand, #5109)."
ggplot2,4,c7d7f1973473fb5f25b41120bf6d8750,"Added `scale_linewidth_manual()` and `scale_linewidth_identity()` to support the `linewidth` aesthetic (@​teunbrand, #5050)."
ggplot2,5,0525ab048411ba25012272e3eda042d4,"Automatic breaks in `scale_*_binned()` should no longer be out-of-bounds, and automatic limits expand to include these (@​teunbrand, #5095, #5100)."
ggplot2,6,17b44ae76a2a4342b5e495997d970a86,"Renamed computed aesthetic in `stat_ecdf()` to `ecdf`, to prevent incorrect scale transformations (@​teunbrand, #5113 and #5112)."
ggplot2,7,4c89f530903704f10b3badaf246c0957,"Fixed misbehaviour of `draw_key_boxplot()` and `draw_key_crossbar()` with skewed key aspect ratio (@​teunbrand, #5082)."
ggplot2,8,16aff1333d53f9c54ab0ea1fbde2f6de,"`scale_*_binned()` handles zero-range limits more gracefully (@​teunbrand, #5066)"
ggplot2,9,92b02b9a17deb051c4fecfec7a139383,"Binned scales are now compatible with `trans = ""date""` and `trans = ""time""` (@​teunbrand, #4217)."
ggplot2,10,3ed939a33f474c2f8766a415a9339e69,"`ggsave()` warns when multiple `filename`s are given, and only writes to the first file (@​teunbrand, #5114)"
ggplot2,1,ebbc087c0f9189d1fcbef070206bde19,"Fixed bug in `coord_sf()` where graticule lines didn't obey `panel.grid.major`'s linewidth setting (@​teunbrand, #5179)"
ggplot2,2,f710ce1c08db4e9fafa42319c72df652,"The `datetime_scale()` scale constructor is now exported for use in extension packages (@​teunbrand, #4701)."
ggplot2,3,a121b551ee9c5a4843f9ca36b48f5bcc,"`geom_text()` drops observations where `angle = NA` instead of throwing an error (@​teunbrand, #2757)."
ggplot2,4,f63f21b8667b4a86fb8cc87a0c5deabf,"Using two ordered factors as facetting variables in `facet_grid(..., as.table = FALSE)` now throws a warning instead of an error (@​teunbrand, #5109)."
ggplot2,5,c7d7f1973473fb5f25b41120bf6d8750,"Added `scale_linewidth_manual()` and `scale_linewidth_identity()` to support the `linewidth` aesthetic (@​teunbrand, #5050)."
ggplot2,6,0525ab048411ba25012272e3eda042d4,"Automatic breaks in `scale_*_binned()` should no longer be out-of-bounds, and automatic limits expand to include these (@​teunbrand, #5095, #5100)."
ggplot2,7,17b44ae76a2a4342b5e495997d970a86,"Renamed computed aesthetic in `stat_ecdf()` to `ecdf`, to prevent incorrect scale transformations (@​teunbrand, #5113 and #5112)."
ggplot2,8,4c89f530903704f10b3badaf246c0957,"Fixed misbehaviour of `draw_key_boxplot()` and `draw_key_crossbar()` with skewed key aspect ratio (@​teunbrand, #5082)."
ggplot2,9,16aff1333d53f9c54ab0ea1fbde2f6de,"`scale_*_binned()` handles zero-range limits more gracefully (@​teunbrand, #5066)"
ggplot2,10,92b02b9a17deb051c4fecfec7a139383,"Binned scales are now compatible with `trans = ""date""` and `trans = ""time""` (@​teunbrand, #4217)."
=======
dplyr,33,5bc37d9db73bcf042ad0414739b19198,"The most useful reason to do this is because `.by` only affects a single operation. In the example above, an ungrouped data frame went into the `summarise()` call, so an ungrouped data frame will come out; with `.by`, you never need to remember to `ungroup()` afterwards and you never need to use the `.groups` argument. Additionally, using `summarise()` with `.by` will never sort the results by the group key, unlike with `group_by()`. Instead, the results are returned using the existing ordering of the groups from the original data. We feel this is more predictable, better maintains any ordering you might have already applied with a previous call to `arrange()`, and provides a way to maintain the current ordering without having to resort to factors. This feature was inspired by [data.table](https://CRAN.R-project.org/package=data.table), where the equivalent syntax looks like:"
dplyr,33,5bc37d9db73bcf042ad0414739b19198,"```
=======
```"
dplyr,33,"The most useful reason to do this is because `.by` only affects a single operation. In the example above, an ungrouped data frame went into the `summarise()` call, so an ungrouped data frame will come out; with `.by`, you never need to remember to `ungroup()` afterwards and you never need to use the `.groups` argument. Additionally, using `summarise()` with `.by` will never sort the results by the group key, unlike with `group_by()`. Instead, the results are returned using the existing ordering of the groups from the original data. We feel this is more predictable, better maintains any ordering you might have already applied with a previous call to `arrange()`, and provides a way to maintain the current ordering without having to resort to factors. This feature was inspired by [data.table](https://CRAN.R-project.org/package=data.table), where the equivalent syntax looks like:"
=======
```"
dplyr,33,"The most useful reason to do this is because `.by` only affects a single operation. In the example above, an ungrouped data frame went into the `summarise()` call, so an ungrouped data frame will come out; with `.by`, you never need to remember to `ungroup()` afterwards and you never need to use the `.groups` argument. Additionally, using `summarise()` with `.by` will never sort the results by the group key, unlike with `group_by()`. Instead, the results are returned using the existing ordering of the groups from the original data. We feel this is more predictable, better maintains any ordering you might have already applied with a previous call to `arrange()`, and provides a way to maintain the current ordering without having to resort to factors. This feature was inspired by [data.table](https://CRAN.R-project.org/package=data.table), where the equivalent syntax looks like:"
>>>>>>> 1b8eb09 (fix bugs and update tests)
dplyr,33,"```
>>>>>>> 9592342 (make remove_old_bullets() more intelligent)
starwars[, .(mean_height = mean(height)), by = .(species, homeworld)]
```"
dplyr,33,`with_groups()` is superseded in favor of `.by` (#6582).
dplyr,34,"`reframe()` is a new experimental verb that creates a new data frame by applying functions to columns of an existing data frame. It is very similar to `summarise()`, with two big differences:"
dplyr,35,"`reframe()` can return an arbitrary number of rows per group, while `summarise()` reduces each group down to a single row."
dplyr,36,"`reframe()` always returns an ungrouped data frame, while `summarise()` might return a grouped or rowwise data frame, depending on the scenario. `reframe()` has been added in response to valid concern from the community that allowing `summarise()` to return any number of rows per group increases the chance for accidental bugs. We still feel that this is a powerful technique, and is a principled replacement for `do()`, so we have moved these features to `reframe()` (#6382)."
dplyr,37,"`group_by()` now uses a new algorithm for computing groups. It is often faster than the previous approach (especially when there are many groups), and in most cases there should be no changes. The one exception is with character vectors, see the C locale news bullet below for more details (#4406, #6297)."
dplyr,38,"`arrange()` now uses a faster algorithm for sorting character vectors, which is heavily inspired by data.table's `forder()`. See the C locale news bullet below for more details (#4962)."
dplyr,39,"Joins have been completely overhauled to enable more flexible join operations and provide more tools for quality control. Many of these changes are inspired by data.table's join syntax (#5914, #5661, #5413, #2240)."
dplyr,40,"A *join specification* can now be created through `join_by()`. This allows you to specify both the left and right hand side of a join using unquoted column names, such as `join_by(sale_date == commercial_date)`. Join specifications can be supplied to any `*_join()` function as the `by` argument."
dplyr,41,Join specifications allow for new types of joins:
dplyr,42,"Equality joins: The most common join, specified by `==`. For example, `join_by(sale_date == commercial_date)`."
dplyr,43,"Inequality joins: For joining on inequalities, i.e.`>=`, `>`, `<`, and `<=`. For example, use `join_by(sale_date >= commercial_date)` to find every commercial that aired before a particular sale."
dplyr,44,"Rolling joins: For ""rolling"" the closest match forward or backwards when there isn't an exact match, specified by using the rolling helper, `closest()`. For example, `join_by(closest(sale_date >= commercial_date))` to find only the most recent commercial that aired before a particular sale."
dplyr,45,"Overlap joins: For detecting overlaps between sets of columns, specified by using one of the overlap helpers: `between()`, `within()`, or `overlaps()`. For example, use `join_by(between(commercial_date, sale_date_lower, sale_date))` to find commercials that aired before a particular sale, as long as they occurred after some lower bound, such as 40 days before the sale was made. Note that you cannot use arbitrary expressions in the join conditions, like `join_by(sale_date - 40 >= commercial_date)`. Instead, use `mutate()` to create a new column containing the result of `sale_date - 40` and refer to that by name in `join_by()`."
dplyr,46,"`multiple` is a new argument for controlling what happens when a row in `x` matches multiple rows in `y`. For equality joins and rolling joins, where this is usually surprising, this defaults to signalling a `""warning""`, but still returns all of the matches. For inequality joins, where multiple matches are usually expected, this defaults to returning `""all""` of the matches. You can also return only the `""first""` or `""last""` match, `""any""` of the matches, or you can `""error""`."
dplyr,47,"`keep` now defaults to `NULL` rather than `FALSE`. `NULL` implies `keep = FALSE` for equality conditions, but `keep = TRUE` for inequality conditions, since you generally want to preserve both sides of an inequality join."
dplyr,48,"`unmatched` is a new argument for controlling what happens when a row would be dropped because it doesn't have a match. For backwards compatibility, the default is `""drop""`, but you can also choose to `""error""` if dropped rows would be surprising."
dplyr,49,"`across()` gains an experimental `.unpack` argument to optionally unpack (as in, `tidyr::unpack()`) data frames returned by functions in `.fns` (#6360)."
dplyr,50,"`consecutive_id()` for creating groups based on contiguous runs of the same values, like `data.table::rleid()` (#1534)."
dplyr,51,"`case_match()` is a ""vectorised switch"" variant of `case_when()` that matches on values rather than logical expressions. It is like a SQL ""simple"" `CASE WHEN` statement, whereas `case_when()` is like a SQL ""searched"" `CASE WHEN` statement (#6328)."
dplyr,52,`cross_join()` is a more explicit and slightly more correct replacement for using `by = character()` during a join (#6604).
dplyr,53,"`pick()` makes it easy to access a subset of columns from the current group. `pick()` is intended as a replacement for `across(.fns = NULL)`, `cur_data()`, and `cur_data_all()`. We feel that `pick()` is a much more evocative name when you are just trying to select a subset of columns from your data (#6204)."
dplyr,54,`symdiff()` computes the symmetric difference (#4811).
dplyr,55,"`arrange()` and `group_by()` now use the C locale, not the system locale, when ordering or grouping character vectors. This brings *substantial* performance improvements, increases reproducibility across R sessions, makes dplyr more consistent with data.table, and we believe it should affect little existing code. If it does affect your code, you can use `options(dplyr.legacy_locale = TRUE)` to quickly revert to the previous behavior. However, in general, we instead recommend that you use the new `.locale` argument to precisely specify the desired locale. For a full explanation please read the associated [grouping](https://github.com/tidyverse/tidyups/blob/main/006-dplyr-group-by-ordering.md) and [ordering](https://github.com/tidyverse/tidyups/blob/main/003-dplyr-radix-ordering.md) tidyups."
dplyr,56,"`bench_tbls()`, `compare_tbls()`, `compare_tbls2()`, `eval_tbls()`, `eval_tbls2()`, `location()` and `changes()`, deprecated in 1.0.0, are now defunct (#6387)."
dplyr,57,"`frame_data()`, `data_frame_()`, `lst_()` and `tbl_sum()` are no longer re-exported from tibble (#6276, #6277, #6278, #6284)."
dplyr,58,"`select_vars()`, `rename_vars()`, `select_var()` and `current_vars()`, deprecated in 0.8.4, are now defunct (#6387)."
dplyr,59,"`across()`, `c_across()`, `if_any()`, and `if_all()` now require the `.cols` and `.fns` arguments. In general, we now recommend that you use `pick()` instead of an empty `across()` call or `across()` with no `.fns` (e.g. `across(c(x, y))`. (#6523)."
dplyr,60,"Relying on the previous default of `.cols = everything()` is deprecated. We have skipped the soft-deprecation stage in this case, because indirect usage of `across()` and friends in this way is rare."
dplyr,61,"Relying on the previous default of `.fns = NULL` is not yet formally soft-deprecated, because there was no good alternative until now, but it is discouraged and will be soft-deprecated in the next minor release."
dplyr,62,"Passing `...` to `across()` is soft-deprecated because it's ambiguous when those arguments are evaluated. Now, instead of (e.g.) `across(a:b, mean, na.rm = TRUE)` you should write `across(a:b, ~ mean(.x, na.rm = TRUE))` (#6073)."
dplyr,63,"`all_equal()` is deprecated. We've advised against it for some time, and we explicitly recommend you use `all.equal()`, manually reordering the rows and columns as needed (#6324)."
dplyr,64,`cur_data()` and `cur_data_all()` are soft-deprecated in favour of `pick()` (#6204).
dplyr,65,Using `by = character()` to perform a cross join is now soft-deprecated in favor of `cross_join()` (#6604).
dplyr,66,`filter()`ing with a 1-column matrix is deprecated (#6091).
dplyr,67,`progress_estimate()` is deprecated for all uses (#6387).
dplyr,68,"Using `summarise()` to produce a 0 or \>1 row ""summary"" is deprecated in favor of the new `reframe()`. See the NEWS bullet about `reframe()` for more details (#6382)."
dplyr,69,"All functions deprecated in 1.0.0 (released April 2020) and earlier now warn every time you use them (#6387). This includes `combine()`, `src_local()`, `src_mysql()`, `src_postgres()`, `src_sqlite()`, `rename_vars_()`, `select_vars_()`, `summarise_each_()`, `mutate_each_()`, `as.tbl()`, `tbl_df()`, and a handful of older arguments. They are likely to be made defunct in the next major version (but not before mid 2024)."
dplyr,70,`slice()`ing with a 1-column matrix is deprecated.
dplyr,71,`recode()` is superseded in favour of `case_match()` (#6433).
dplyr,72,"`recode_factor()` is superseded. We don't have a direct replacement for it yet, but we plan to add one to forcats. In the meantime you can often use `case_match(.ptype = factor(levels = ))` instead (#6433)."
dplyr,73,"`transmute()` is superseded in favour of `mutate(.keep = ""none"")` (#6414)."
dplyr,74,"The `.keep`, `.before`, and `.after` arguments to `mutate()` have moved from experimental to stable."
dplyr,75,The `rows_*()` family of functions have moved from experimental to stable.
dplyr,76,"`between()` can now work with all vector types, not just numeric and date-time. Additionally, `left` and `right` can now also be vectors (with the same length as `x`), and `x`, `left`, and `right` are cast to the common type before the comparison is made (#6183, #6260, #6478)."
dplyr,77,`case_when()` (#5106):
dplyr,78,"Has a new `.default` argument that is intended to replace usage of `TRUE ~ default_value` as a more explicit and readable way to specify a default value. In the future, we will deprecate the unsafe recycling of the LHS inputs that allows `TRUE ~` to work, so we encourage you to switch to using `.default`."
dplyr,79,"No longer requires exact matching of the types of RHS values. For example, the following no longer requires you to use `NA_character_`."
dplyr,79,"```
x <- c(""little"", ""unknown"", ""small"", ""missing"", ""large"")

case_when(
  x %in% c(""little"", ""small"") ~ ""one"",
  x %in% c(""big"", ""large"") ~ ""two"",
  x %in% c(""missing"", ""unknown"") ~ NA
)
```"
dplyr,80,"Supports a larger variety of RHS value types. For example, you can use a data frame to create multiple columns at once."
dplyr,81,Has new `.ptype` and `.size` arguments which allow you to enforce a particular output type and size.
dplyr,82,"Has a better error when types or lengths were incompatible (#6261, #6206)."
dplyr,83,`coalesce()` (#6265):
dplyr,84,Discards `NULL` inputs up front.
dplyr,85,"No longer iterates over the columns of data frame input. Instead, a row is now only coalesced if it is entirely missing, which is consistent with `vctrs::vec_detect_missing()` and greatly simplifies the implementation."
dplyr,86,Has new `.ptype` and `.size` arguments which allow you to enforce a particular output type and size.
dplyr,87,"`first()`, `last()`, and `nth()` (#6331):"
dplyr,88,"When used on a data frame, these functions now return a single row rather than a single column. This is more consistent with the vctrs principle that a data frame is generally treated as a vector of rows."
dplyr,89,"The `default` is no longer ""guessed"", and will always automatically be set to a missing value appropriate for the type of `x`."
dplyr,90,"Error if `n` is not an integer. `nth(x, n = 2)` is fine, but `nth(x, n = 2.5)` is now an error."
dplyr,91,"No longer support indexing into scalar objects, like `<lm>` or scalar S4 objects (#6670). Additionally, they have all gained an `na_rm` argument since they are summary functions (#6242, with contributions from @​tnederlof)."
dplyr,92,"`if_else()` gains most of the same benefits as `case_when()`. In particular,\ `if_else()` now takes the common type of `true`, `false`, and `missing` to determine the output type, meaning that you can now reliably use `NA`, rather than `NA_character_` and friends (#6243). `if_else()` also no longer allows you to supply `NULL` for either `true` or `false`, which was an undocumented usage that we consider to be off-label, because `true` and `false` are intended to be (and documented to be) vector inputs (#6730)."
dplyr,93,"`na_if()` (#6329) now casts `y` to the type of `x` before comparison, which makes it clearer that this function is type and size stable on `x`. In particular, this means that you can no longer do `na_if(<tibble>, 0)`, which previously accidentally allowed you to replace any instance of `0` across every column of the tibble with `NA`. `na_if()` was never intended to work this way, and this is considered off-label usage. You can also now replace `NaN` values in `x` with `na_if(x, NaN)`."
dplyr,94,"`lag()` and `lead()` now cast `default` to the type of `x`, rather than taking the common type. This ensures that these functions are type stable on `x` (#6330)."
dplyr,95,"`row_number()`, `min_rank()`, `dense_rank()`, `ntile()`, `cume_dist()`, and `percent_rank()` are faster and work for more types. You can now rank by multiple columns by supplying a data frame (#6428)."
dplyr,96,"`with_order()` now checks that the size of `order_by` is the same size as `x`, and now works correctly when `order_by` is a data frame (#6334)."
dplyr,97,Fixed an issue with latest rlang that caused internal tools (such as `mask$eval_all_summarise()`) to be mentioned in error messages (#6308).
dplyr,98,Warnings are enriched with contextualised information in `summarise()` and `filter()` just like they have been in `mutate()` and `arrange()`.
dplyr,99,Joins now reference the correct column in `y` when a type error is thrown while joining on two columns with different names (#6465).
dplyr,100,Joins on very wide tables are no longer bottlenecked by the application of `suffix` (#6642).
dplyr,101,`*_join()` now error if you supply them with additional arguments that aren't used (#6228).
dplyr,102,`across()` used without functions inside a rowwise-data frame no longer generates an invalid data frame (#6264).
dplyr,103,"Anonymous functions supplied with `function()` and `\()` are now inlined by `across()` if possible, which slightly improves performance and makes possible further optimisations in the future."
dplyr,104,"Functions supplied to `across()` are no longer masked by columns (#6545). For instance, `across(1:2, mean)` will now work as expected even if there is a column called `mean`."
dplyr,105,`across()` will now error when supplied `...` without a `.fns` argument (#6638).
dplyr,106,`arrange()` now correctly ignores `NULL` inputs (#6193).
dplyr,107,`arrange()` now works correctly when `across()` calls are used as the 2nd (or more) ordering expression (#6495).
dplyr,108,"`arrange(df, mydesc::desc(x))` works correctly when mydesc re-exports `dplyr::desc()` (#6231)."
dplyr,109,`c_across()` now evaluates `all_of()` correctly and no longer allows you to accidentally select grouping variables (#6522).
dplyr,110,`c_across()` now throws a more informative error if you try to rename during column selection (#6522).
dplyr,111,"dplyr no longer provides `count()` and `tally()` methods for `tbl_sql`. These methods have been accidentally overriding the `tbl_lazy` methods that dbplyr provides, which has resulted in issues with the grouping structure of the output (#6338, tidyverse/dbplyr#940)."
dplyr,112,`cur_group()` now works correctly with zero row grouped data frames (#6304).
dplyr,113,`desc()` gives a useful error message if you give it a non-vector (#6028).
dplyr,114,`distinct()` now retains attributes of bare data frames (#6318).
dplyr,115,"`distinct()` returns columns ordered the way you request, not the same as the input data (#6156)."
dplyr,116,"Error messages in `group_by()`, `distinct()`, `tally()`, and `count()` are now more relevant (#6139)."
dplyr,117,`group_by_prepare()` loses the `caller_env` argument. It was rarely used and it is no longer needed (#6444).
dplyr,118,`group_walk()` gains an explicit `.keep` argument (#6530).
dplyr,119,"Warnings emitted inside `mutate()` and variants are now collected and stashed away. Run the new `last_dplyr_warnings()` function to see the warnings emitted within dplyr verbs during the last top-level command. This fixes performance issues when thousands of warnings are emitted with rowwise and grouped data frames (#6005, #6236)."
dplyr,120,`mutate()` behaves a little better with 0-row rowwise inputs (#6303).
dplyr,121,A rowwise `mutate()` now automatically unlists list-columns containing length 1 vectors (#6302).
dplyr,122,`nest_join()` has gained the `na_matches` argument that all other joins have.
dplyr,123,`nest_join()` now preserves the type of `y` (#6295).
dplyr,124,`n_distinct()` now errors if you don't give it any input (#6535).
dplyr,125,"`nth()`, `first()`, `last()`, and `with_order()` now sort character `order_by` vectors in the C locale. Using character vectors for `order_by` is rare, so we expect this to have little practical impact (#6451)."
dplyr,126,`ntile()` now requires `n` to be a single positive integer.
dplyr,127,`relocate()` now works correctly with empty data frames and when `.before` or `.after` result in empty selections (#6167).
dplyr,128,`relocate()` no longer drops attributes of bare data frames (#6341).
dplyr,129,"`relocate()` now retains the last name change when a single column is renamed multiple times while it is being moved. This better matches the behavior of `rename()` (#6209, with help from @​eutwt)."
dplyr,130,`rename()` now contains examples of using `all_of()` and `any_of()` to rename using a named character vector (#6644).
dplyr,131,`rename_with()` now disallows renaming in the `.cols` tidy-selection (#6561).
dplyr,132,`rename_with()` now checks that the result of `.fn` is the right type and size (#6561).
dplyr,133,`rows_insert()` now checks that `y` contains the `by` columns (#6652).
dplyr,134,`setequal()` ignores differences between freely coercible types (e.g. integer and double) (#6114) and ignores duplicated rows (#6057).
dplyr,135,"`slice()` helpers again produce output equivalent to `slice(.data, 0)` when the `n` or `prop` argument is 0, fixing a bug introduced in the previous version (@​eutwt, #6184)."
dplyr,136,`slice()` with no inputs now returns 0 rows. This is mostly for theoretical consistency (#6573).
dplyr,137,"`slice()` now errors if any expressions in `...` are named. This helps avoid accidentally misspelling an optional argument, such as `.by` (#6554)."
dplyr,138,`slice_*()` now requires `n` to be an integer.
dplyr,139,`slice_*()` generics now perform argument validation. This should make methods more consistent and simpler to implement (#6361).
dplyr,140,`slice_min()` and `slice_max()` can `order_by` multiple variables if you supply them as a data.frame or tibble (#6176).
dplyr,141,"`slice_min()` and `slice_max()` now consistently include missing values in the result if necessary (i.e. there aren't enough non-missing values to reach the `n` or `prop` you have selected). If you don't want missing values to be included at all, set `na_rm = TRUE` (#6177)."
dplyr,142,`slice_sample()` now accepts negative `n` and `prop` values (#6402).
dplyr,143,"`slice_sample()` returns a data frame or group with the same number of rows as the input when `replace = FALSE` and `n` is larger than the number of rows or `prop` is larger than 1. This reverts a change made in 1.0.8, returning to the behavior of 1.0.7 (#6185)"
dplyr,144,`slice_sample()` now gives a more informative error when `replace = FALSE` and the number of rows requested in the sample exceeds the number of rows in the data (#6271).
dplyr,145,"`storms` has been updated to include 2021 data and some missing storms that were omitted due to an error (@​steveharoz, #6320)."
dplyr,146,`summarise()` now correctly recycles named 0-column data frames (#6509).
dplyr,147,"`union_all()`, like `union()`, now requires that data frames be compatible: i.e. they have the same columns, and the columns have compatible types."
dplyr,148,`where()` is re-exported from tidyselect (#6597).
dplyr,149,"New `rows_append()` which works like `rows_insert()` but ignores keys and allows you to insert arbitrary rows with a guarantee that the type of `x` won't change (#6249, thanks to @​krlmlr for the implementation and @​mgirlich for the idea)."
dplyr,150,"The `rows_*()` functions no longer require that the key values in `x` uniquely identify each row. Additionally, `rows_insert()` and `rows_delete()` no longer require that the key values in `y` uniquely identify each row. Relaxing this restriction should make these functions more practically useful for data frames, and alternative backends can enforce this in other ways as needed (i.e. through primary keys) (#5553)."
dplyr,151,"`rows_insert()` gained a new `conflict` argument allowing you greater control over rows in `y` with keys that conflict with keys in `x`. A conflict arises if a key in `y` already exists in `x`. By default, a conflict results in an error, but you can now also `""ignore""` these `y` rows. This is very similar to the `ON CONFLICT DO NOTHING` command from SQL (#5588, with helpful additions from @​mgirlich and @​krlmlr)."
dplyr,152,"`rows_update()`, `rows_patch()`, and `rows_delete()` gained a new `unmatched` argument allowing you greater control over rows in `y` with keys that are unmatched by the keys in `x`. By default, an unmatched key results in an error, but you can now also `""ignore""` these `y` rows (#5984, #5699)."
dplyr,153,"`rows_delete()` no longer requires that the columns of `y` be a strict subset of `x`. Only the columns specified through `by` will be utilized from `y`, all others will be dropped with a message."
dplyr,154,"The `rows_*()` functions now always retain the column types of `x`. This behavior was documented, but previously wasn't being applied correctly (#6240)."
dplyr,155,The `rows_*()` functions now fail elegantly if `y` is a zero column data frame and `by` isn't specified (#6179).
dplyr,156,Better display of error messages thanks to rlang 1.0.0.
dplyr,157,"`mutate(.keep = ""none"")` is no longer identical to `transmute()`. `transmute()` has not been changed, and completely ignores the column ordering of the existing data, instead relying on the ordering of expressions supplied through `...`. `mutate(.keep = ""none"")` has been changed to ensure that pre-existing columns are never moved, which aligns more closely with the other `.keep` options (#6086)."
dplyr,158,"`filter()` forbids matrix results (#5973) and warns about data frame results, especially data frames created from `across()` with a hint to use `if_any()` or `if_all()`."
dplyr,159,"`slice()` helpers (`slice_head()`, `slice_tail()`, `slice_min()`, `slice_max()`) now accept negative values for `n` and `prop` (#5961)."
dplyr,160,`slice()` now indicates which group produces an error (#5931).
dplyr,161,`cur_data()` and `cur_data_all()` don't simplify list columns in rowwise data frames (#5901).
dplyr,162,dplyr now uses `rlang::check_installed()` to prompt you whether to install required packages that are missing.
dplyr,163,"`storms` data updated to 2020 (@​steveharoz, #5899)."
dplyr,164,`coalesce()` accepts 1-D arrays (#5557).
dplyr,165,The deprecated `trunc_mat()` is no longer reexported from dplyr (#6141).
dplyr,166,`across()` uses the formula environment when inlining them (#5886).
dplyr,167,`summarise.rowwise_df()` is quiet when the result is ungrouped (#5875).
dplyr,168,`c_across()` and `across()` key deparsing not confused by long calls (#5883).
dplyr,169,`across()` handles named selections (#5207).
dplyr,170,`add_count()` is now generic (#5837).
dplyr,171,`if_any()` and `if_all()` abort when a predicate is mistakingly used as `.cols=` (#5732).
dplyr,172,Multiple calls to `if_any()` and/or `if_all()` in the same expression are now properly disambiguated (#5782).
dplyr,173,`filter()` now inlines `if_any()` and `if_all()` expressions. This greatly improves performance with grouped data frames.
dplyr,174,"Fixed behaviour of `...` in top-level `across()` calls (#5813, #5832)."
dplyr,175,`across()` now inlines lambda-formulas. This is slightly more performant and will allow more optimisations in the future.
dplyr,176,"Fixed issue in `bind_rows()` causing lists to be incorrectly transformed as data frames (#5417, #5749)."
dplyr,177,`select()` no longer creates duplicate variables when renaming a variable to the same name as a grouping variable (#5841).
dplyr,178,"`dplyr_col_select()` keeps attributes for bare data frames (#5294, #5831)."
dplyr,179,Fixed quosure handling in `dplyr::group_by()` that caused issues with extra arguments (tidyverse/lubridate#959).
dplyr,180,"Removed the `name` argument from the `compute()` generic (@​ianmcook, #5783)."
dplyr,181,row-wise data frames of 0 rows and list columns are supported again (#5804).
dplyr,182,Fixed edge case of `slice_sample()` when `weight_by=` is used and there 0 rows (#5729).
dplyr,183,`across()` can again use columns in functions defined inline (#5734).
dplyr,184,Using testthat 3rd edition.
dplyr,185,Fixed bugs introduced in `across()` in previous version (#5765).
dplyr,186,`group_by()` keeps attributes unrelated to the grouping (#5760).
dplyr,187,The `.cols=` argument of `if_any()` and `if_all()` defaults to `everything()`.
dplyr,188,Improved performance for `across()`. This makes `summarise(across())` and `mutate(across())` perform as well as the superseded colwise equivalents (#5697).
dplyr,189,"New functions `if_any()` and `if_all()` (#4770, #5713)."
dplyr,190,`summarise()` silently ignores NULL results (#5708).
dplyr,191,Fixed a performance regression in `mutate()` when warnings occur once per group (#5675). We no longer instrument warnings with debugging information when `mutate()` is called within `suppressWarnings()`.
dplyr,192,`summarise()` no longer informs when the result is ungrouped (#5633).
dplyr,193,"`group_by(.drop = FALSE)` preserves ordered factors (@​brianrice2, #5545)."
dplyr,194,`count()` and `tally()` are now generic.
dplyr,195,"Removed default fallbacks to lazyeval methods; this will yield better error messages when you call a dplyr function with the wrong input, and is part of our long term plan to remove the deprecated lazyeval interface."
dplyr,196,"`inner_join()` gains a `keep` parameter for consistency with the other mutating joins (@​patrickbarks, #5581)."
dplyr,197,"Improved performance with many columns, with a dynamic data mask using active bindings and lazy chops (#5017)."
dplyr,198,`mutate()` and friends preserves row names in data frames once more (#5418).
dplyr,199,"`group_by()` uses the ungrouped data for the implicit mutate step (#5598). You might have to define an `ungroup()` method for custom classes. For example, see https://github.com/hadley/cubelyr/pull/3."
dplyr,200,`relocate()` can rename columns it relocates (#5569).
dplyr,201,`distinct()` and `group_by()` have better error messages when the mutate step fails (#5060).
dplyr,202,Clarify that `between()` is not vectorised (#5493).
dplyr,203,Fixed `across()` issue where data frame columns would could not be referred to with `all_of()` in the nested case (`mutate()` within `mutate()`) (#5498).
dplyr,204,`across()` handles data frames with 0 columns (#5523).
dplyr,205,"`mutate()` always keeps grouping variables, unconditional to `.keep=` (#5582)."
dplyr,206,dplyr now depends on R 3.3.0
dplyr,207,Fixed `across()` issue where data frame columns would mask objects referred to from `all_of()` (#5460).
dplyr,208,"`bind_cols()` gains a `.name_repair` argument, passed to `vctrs::vec_cbind()` (#5451)"
dplyr,209,"`summarise(.groups = ""rowwise"")` makes a rowwise data frame even if the input data is not grouped (#5422)."
dplyr,210,New function `cur_data_all()` similar to `cur_data()` but includes the grouping variables (#5342).
dplyr,211,"`count()` and `tally()` no longer automatically weights by column `n` if present (#5298). dplyr 1.0.0 introduced this behaviour because of Hadley's faulty memory. Historically `tally()` automatically weighted and `count()` did not, but this behaviour was accidentally changed in 0.8.2 (#4408) so that neither automatically weighted by `n`. Since 0.8.2 is almost a year old, and the automatically weighting behaviour was a little confusing anyway, we've removed it from both `count()` and `tally()`. Use of `wt = n()` is now deprecated; now just omit the `wt` argument."
dplyr,212,`coalesce()` now supports data frames correctly (#5326).
dplyr,213,"`cummean()` no longer has off-by-one indexing problem (@​cropgen, #5287)."
dplyr,214,The call stack is preserved on error. This makes it possible to `recover()` into problematic code called from dplyr verbs (#5308).
dplyr,215,"`bind_cols()` no longer converts to a tibble, returns a data frame if the input is a data frame."
dplyr,216,"`bind_rows()`, `*_join()`, `summarise()` and `mutate()` use vctrs coercion rules. There are two main user facing changes:"
dplyr,217,Combining factor and character vectors silently creates a character vector; previously it created a character vector with a warning.
dplyr,218,Combining multiple factors creates a factor with combined levels; previously it created a character vector with a warning.
dplyr,219,"`bind_rows()` and other functions use vctrs name repair, see `?vctrs::vec_as_names`."
dplyr,220,`all.equal.tbl_df()` removed.
dplyr,221,"Data frames, tibbles and grouped data frames are no longer considered equal, even if the data is the same."
dplyr,222,Equality checks for data frames no longer ignore row order or groupings.
dplyr,223,"`expect_equal()` uses `all.equal()` internally. When comparing data frames, tests that used to pass may now fail."
dplyr,224,`distinct()` keeps the original column order.
dplyr,225,"`distinct()` on missing columns now raises an error, it has been a compatibility warning for a long time."
dplyr,226,`group_modify()` puts the grouping variable to the front.
dplyr,227,"`n()` and `row_number()` can no longer be called directly when dplyr is not loaded, and this now generates an error: `dplyr::mutate(mtcars, x = n())`. Fix by prefixing with `dplyr::` as in `dplyr::mutate(mtcars, x = dplyr::n())`"
dplyr,228,"The old data format for `grouped_df` is no longer supported. This may affect you if you have serialized grouped data frames to disk, e.g. with `saveRDS()` or when using knitr caching."
dplyr,229,`lead()` and `lag()` are stricter about their inputs.
dplyr,230,"Extending data frames requires that the extra class or classes are added first, not last. Having the extra class at the end causes some vctrs operations to fail with a message like:"
dplyr,230,"```
Input must be a vector, not a `<data.frame/...>` object
```"
dplyr,231,`right_join()` no longer sorts the rows of the resulting tibble according to the order of the RHS `by` argument in tibble `y`.
dplyr,232,"The `cur_` functions (`cur_data()`, `cur_group()`, `cur_group_id()`, `cur_group_rows()`) provide a full set of options to you access information about the ""current"" group in dplyr verbs. They are inspired by data.table's `.SD`, `.GRP`, `.BY`, and `.I`."
dplyr,233,"The `rows_` functions (`rows_insert()`, `rows_update()`, `rows_upsert()`, `rows_patch()`, `rows_delete()`) provide a new API to insert and delete rows from a second data frame or table. Support for updating mutable backends is planned (#4654)."
dplyr,234,`mutate()` and `summarise()` create multiple columns from a single expression if you return a data frame (#2326).
dplyr,235,"`select()` and `rename()` use the latest version of the tidyselect interface. Practically, this means that you can now combine selections using Boolean logic (i.e. `!`, `&` and `|`), and use predicate functions with `where()` (e.g. `where(is.character)`) to select variables by type (#4680). It also makes it possible to use `select()` and `rename()` to repair data frames with duplicated names (#4615) and prevents you from accidentally introducing duplicate names (#4643). This also means that dplyr now re-exports `any_of()` and `all_of()` (#5036)."
dplyr,236,`slice()` gains a new set of helpers:
dplyr,237,"`slice_head()` and `slice_tail()` select the first and last rows, like `head()` and `tail()`, but return `n` rows *per group*."
dplyr,238,"`slice_sample()` randomly selects rows, taking over from `sample_frac()` and `sample_n()`."
dplyr,239,"`slice_min()` and `slice_max()` select the rows with the minimum or maximum values of a variable, taking over from the confusing `top_n()`."
dplyr,240,`summarise()` can create summaries of greater than length 1 if you use a summary function that returns multiple values.
dplyr,241,`summarise()` gains a `.groups=` argument to control the grouping structure.
dplyr,242,New `relocate()` verb makes it easy to move columns around within a data frame (#4598).
dplyr,243,New `rename_with()` is designed specifically for the purpose of renaming selected columns with a function (#4771).
dplyr,244,`ungroup()` can now selectively remove grouping variables (#3760).
dplyr,245,"`pull()` can now return named vectors by specifying an additional column name (@​ilarischeinin, #4102)."
dplyr,246,"`mutate()` (for data frames only), gains experimental new arguments `.before` and `.after` that allow you to control where the new columns are placed (#2047)."
dplyr,247,"`mutate()` (for data frames only), gains an experimental new argument called `.keep` that allows you to control which variables are kept from the input `.data`. `.keep = ""all""` is the default; it keeps all variables. `.keep = ""none""` retains no input variables (except for grouping keys), so behaves like `transmute()`. `.keep = ""unused""` keeps only variables not used to make new columns. `.keep = ""used""` keeps only the input variables used to create new columns; it's useful for double checking your work (#3721)."
dplyr,248,"New, experimental, `with_groups()` makes it easy to temporarily group or ungroup (#4711)."
dplyr,249,"New function `across()` that can be used inside `summarise()`, `mutate()`, and other verbs to apply a function (or a set of functions) to a selection of columns. See `vignette(""colwise"")` for more details."
dplyr,250,"New function `c_across()` that can be used inside `summarise()` and `mutate()` in row-wise data frames to easily (e.g.) compute a row-wise mean of all numeric variables. See `vignette(""rowwise"")` for more details."
dplyr,251,`rowwise()` is no longer questioning; we now understand that it's an important tool when you don't have vectorised code. It now also allows you to specify additional variables that should be preserved in the output when summarising (#4723). The rowwise-ness is preserved by all operations; you need to explicit drop it with `as_tibble()` or `group_by()`.
dplyr,252,"New, experimental, `nest_by()`. It has the same interface as `group_by()`, but returns a rowwise data frame of grouping keys, supplemental with a list-column of data frames containing the rest of the data."
dplyr,253,"The implementation of all dplyr verbs have been changed to use primitives provided by the vctrs package. This makes it easier to add support for new types of vector, radically simplifies the implementation, and makes all dplyr verbs more consistent."
dplyr,254,"The place where you are mostly likely to be impacted by the coercion changes is when working with factors in joins or grouped mutates: now when combining factors with different levels, dplyr creates a new factor with the union of the levels. This matches base R more closely, and while perhaps strictly less correct, is much more convenient."
dplyr,255,dplyr dropped its two heaviest dependencies: Rcpp and BH. This should make it considerably easier and faster to build from source.
dplyr,256,"The implementation of all verbs has been carefully thought through. This mostly makes implementation simpler but should hopefully increase consistency, and also makes it easier to adapt to dplyr to new data structures in the new future. Pragmatically, the biggest difference for most people will be that each verb documents its return value in terms of rows, columns, groups, and data frame attributes."
dplyr,257,Row names are now preserved when working with data frames.
dplyr,258,`group_by()` uses hashing from the `vctrs` package.
dplyr,259,"Grouped data frames now have `names<-`, `[[<-`, `[<-` and `$<-` methods that re-generate the underlying grouping. Note that modifying grouping variables in multiple steps (i.e. `df$grp1 <- 1; df$grp2 <- 1`) will be inefficient since the data frame will be regrouped after each modification."
dplyr,260,`[.grouped_df` now regroups to respect any grouping columns that have been removed (#4708).
dplyr,261,`mutate()` and `summarise()` can now modify grouping variables (#4709).
dplyr,262,"`group_modify()` works with additional arguments (@​billdenney and @​cderv, #4509)"
dplyr,263,`group_by()` does not create an arbitrary NA group when grouping by factors with `drop = TRUE` (#4460).
dplyr,264,"All deprecations now use the [lifecycle](https://lifecycle.r-lib.org), that means by default you'll only see a deprecation warning once per session, and you can control with `options(lifecycle_verbosity = x)` where `x` is one of NULL, ""quiet"", ""warning"", and ""error""."
dplyr,265,"`id()`, deprecated in dplyr 0.5.0, is now defunct."
dplyr,266,"`failwith()`, deprecated in dplyr 0.7.0, is now defunct."
dplyr,267,`tbl_cube()` and `nasa` have been pulled out into a separate cubelyr package (#4429).
dplyr,268,"`rbind_all()` and `rbind_list()` have been removed (@​bjungbogati, #4430)."
dplyr,269,"`dr_dplyr()` has been removed as it is no longer needed (#4433, @​smwindecker)."
dplyr,270,"Use of pkgconfig for setting `na_matches` argument to join functions is now deprecated (#4914). This was rarely used, and I'm now confident that the default is correct for R."
dplyr,271,"In `add_count()`, the `drop` argument has been deprecated because it didn't actually affect the output."
dplyr,272,`add_rownames()`: please use `tibble::rownames_to_column()` instead.
dplyr,273,`as.tbl()` and `tbl_df()`: please use `as_tibble()` instead.
dplyr,274,"`bench_tbls()`, `compare_tbls()`, `compare_tbls2()`, `eval_tbls()` and `eval_tbls2()` are now deprecated. That were only used in a handful of packages, and we now believe that you're better off performing comparisons more directly (#4675)."
dplyr,275,`combine()`: please use `vctrs::vec_c()` instead.
dplyr,276,`funs()`: please use `list()` instead.
dplyr,277,`group_by(add = )`: please use `.add` instead.
dplyr,278,`group_by(.dots = )`/`group_by_prepare(.dots = )`: please use `!!!` instead (#4734).
dplyr,279,"The use of zero-arg `group_indices()` to retrieve the group id for the ""current"" group is deprecated; instead use `cur_group_id()`."
dplyr,280,"Passing arguments to `group_keys()` or `group_indices()` to change the grouping has been deprecated, instead do grouping first yourself."
dplyr,281,`location()` and `changes()`: please use `lobstr::ref()` instead.
dplyr,282,`progress_estimated()` is soft deprecated; it's not the responsibility of dplyr to provide progress bars (#4935).
dplyr,283,`src_local()` has been deprecated; it was part of an approach to testing dplyr backends that didn't pan out.
dplyr,284,"`src_mysql()`, `src_postgres()`, and `src_sqlite()` has been deprecated. We've recommended against them for some time. Instead please use the approach described at <https://dbplyr.tidyverse.org/>."
dplyr,285,"`select_vars()`, `rename_vars()`, `select_var()`, `current_vars()` are now deprecated (@​perezp44, #4432)"
dplyr,286,"The scoped helpers (all functions ending in `_if`, `_at`, or `_all`) have been superseded by `across()`. This dramatically reduces the API surface for dplyr, while at the same providing providing a more flexible and less error-prone interface (#4769). `rename_*()` and `select_*()` have been superseded by `rename_with()`."
dplyr,287,`do()` is superseded in favour of `summarise()`.
dplyr,288,"`sample_n()` and `sample_frac()` have been superseded by `slice_sample()`. See `?sample_n` for details about why, and for examples converting from old to new usage."
dplyr,289,"`top_n()` has been superseded by`slice_min()`/`slice_max()`. See `?top_n` for details about why, and how to convert old to new usage (#4494)."
dplyr,290,`all_equal()` is questioning; it solves a problem that no longer seems important.
dplyr,291,`rowwise()` is no longer questioning.
dplyr,292,"New `vignette(""base"")` which describes how dplyr verbs relate to the base R equivalents (@​sastoudt, #4755)"
dplyr,293,"New `vignette(""grouping"")` gives more details about how dplyr verbs change when applied to grouped data frames (#4779, @​MikeKSmith)."
dplyr,294,"`vignette(""programming"")` has been completely rewritten to reflect our latest vocabulary, the most recent rlang features, and our current recommendations. It should now be substantially easier to program with dplyr."
dplyr,295,"dplyr now has a rudimentary, experimental, and stop-gap, extension mechanism documented in `?dplyr_extending`"
dplyr,296,"dplyr no longer provides a `all.equal.tbl_df()` method. It never should have done so in the first place because it owns neither the generic nor the class. It also provided a problematic implementation because, by default, it ignored the order of the rows and the columns which is usually important. This is likely to cause new test failures in downstream packages; but on the whole we believe those failures to either reflect unexpected behaviour or tests that need to be strengthened (#2751)."
dplyr,297,`coalesce()` now uses vctrs recycling and common type coercion rules (#5186).
dplyr,298,`count()` and `add_count()` do a better job of preserving input class and attributes (#4086).
dplyr,299,`distinct()` errors if you request it use variables that don't exist (this was previously a warning) (#4656).
dplyr,300,"`filter()`, `mutate()` and `summarise()` get better error messages."
dplyr,301,`filter()` handles data frame results when all columns are logical vectors by reducing them with `&` (#4678). In particular this means `across()` can be used in `filter()`.
dplyr,302,"`left_join()`, `right_join()`, and `full_join()` gain a `keep` argument so that you can optionally choose to keep both sets of join keys (#4589). This is useful when you want to figure out which rows were missing from either side."
dplyr,303,Join functions can now perform a cross-join by specifying `by = character()` (#4206.)
dplyr,304,`groups()` now returns `list()` for ungrouped data; previously it returned `NULL` which was type-unstable (when there are groups it returns a list of symbols).
dplyr,305,"The first argument of `group_map()`, `group_modify()` and `group_walk()` has been changed to `.data` for consistency with other generics."
dplyr,306,`group_keys.rowwise_df()` gives a 0 column data frame with `n()` rows.
dplyr,307,`group_map()` is now a generic (#4576).
dplyr,308,"`group_by(..., .add = TRUE)` replaces `group_by(..., add = TRUE)`, with a deprecation message. The old argument name was a mistake because it prevents you from creating a new grouping var called `add` and it violates our naming conventions (#4137)."
dplyr,309,"`intersect()`, `union()`, `setdiff()` and `setequal()` generics are now imported from the generics package. This reduces a conflict with lubridate."
dplyr,310,`order_by()` gives an informative hint if you accidentally call it instead of `arrange()` #3357.
dplyr,311,"`tally()` and `count()` now message if the default output `name` (n), already exists in the data frame. To quiet the message, you'll need to supply an explicit `name` (#4284). You can override the default weighting to using a constant by setting `wt = 1`."
dplyr,312,"`starwars` dataset now does a better job of separating biological sex from gender identity. The previous `gender` column has been renamed to `sex`, since it actually describes the individual's biological sex. A new `gender` column encodes the actual gender identity using other information about the Star Wars universe (@​MeganBeckett, #4456)."
dplyr,313,"`src_tbls()` accepts `...` arguments (#4485, @​ianmcook). This could be a breaking change for some dplyr backend packages that implement `src_tbls()`."
dplyr,314,Better performance for extracting slices of factors and ordered factors (#4501).
dplyr,315,"`rename_at()` and `rename_all()` call the function with a simple character vector, not a `dplyr_sel_vars` (#4459)."
dplyr,316,`ntile()` is now more consistent with database implementations if the buckets have irregular size (#4495).
dplyr,317,Maintenance release for compatibility with R-devel.
dplyr,318,Adapt tests to changes in dependent packages.
dplyr,319,Fixed performance regression introduced in version 0.8.2 (#4458).
dplyr,320,"`top_frac(data, proportion)` is a shorthand for `top_n(data, proportion * n())` (#4017)."
dplyr,321,Using quosures in colwise verbs is deprecated (#4330).
dplyr,322,"Updated `distinct_if()`, `distinct_at()` and `distinct_all()` to include `.keep_all` argument (@​beansrowning, #4343)."
dplyr,323,`rename_at()` handles empty selection (#4324).
dplyr,324,`*_if()` functions correctly handle columns with special names (#4380).
dplyr,325,colwise functions support constants in formulas (#4374).
dplyr,326,hybrid rank functions correctly handle NA (#4427).
dplyr,327,"`first()`, `last()` and `nth()` hybrid version handles factors (#4295)."
dplyr,328,"`top_n()` quotes its `n` argument, `n` no longer needs to be constant for all groups (#4017)."
dplyr,329,`tbl_vars()` keeps information on grouping columns by returning a `dplyr_sel_vars` object (#4106).
dplyr,330,"`group_split()` always sets the `ptype` attribute, which make it more robust in the case where there are 0 groups."
dplyr,331,`group_map()` and `group_modify()` work in the 0 group edge case (#4421)
dplyr,332,`select.list()` method added so that `select()` does not dispatch on lists (#4279).
dplyr,333,`view()` is reexported from tibble (#4423).
dplyr,334,`group_by()` puts NA groups last in character vectors (#4227).
dplyr,335,`arrange()` handles integer64 objects (#4366).
dplyr,336,`summarise()` correctly resolves summarised list columns (#4349).
dplyr,337,`group_modify()` is the new name of the function previously known as `group_map()`
dplyr,338,`group_map()` now only calls the function on each group and return a list.
dplyr,339,"`group_by_drop_default()`, previously known as `dplyr:::group_drops()` is exported (#4245)."
dplyr,340,Lists of formulas passed to colwise verbs are now automatically named.
dplyr,341,`group_by()` does a shallow copy even in the no groups case (#4221).
dplyr,342,Fixed `mutate()` on rowwise data frames with 0 rows (#4224).
dplyr,343,Fixed handling of bare formulas in colwise verbs (#4183).
dplyr,344,Fixed performance of `n_distinct()` (#4202).
dplyr,345,"`group_indices()` now ignores empty groups by default for `data.frame`, which is consistent with the default of `group_by()` (@​yutannihilation, #4208)."
dplyr,346,Fixed integer overflow in hybrid `ntile()` (#4186).
dplyr,347,colwise functions `summarise_at()` ... can rename vars in the case of multiple functions (#4180).
dplyr,348,`select_if()` and `rename_if()` handle logical vector predicate (#4213).
dplyr,349,hybrid `min()` and `max()` cast to integer when possible (#4258).
dplyr,350,`bind_rows()` correctly handles the cases where there are multiple consecutive `NULL` (#4296).
dplyr,351,Support for R 3.1.\* has been dropped. The minimal R version supported is now 3.2.0. https://www.tidyverse.org/articles/2019/04/r-version-support/
dplyr,352,`rename_at()` handles empty selection (#4324).
dplyr,353,"Fixed integer C/C++ division, forced released by CRAN (#4185)."
dplyr,354,"The error `could not find function ""n""` or the warning `` Calling `n()` without importing or prefixing it is deprecated, use `dplyr::n()` `` indicates when functions like `n()`, `row_number()`, ... are not imported or prefixed. The easiest fix is to import dplyr with `import(dplyr)` in your `NAMESPACE` or `#' @​import dplyr` in a roxygen comment, alternatively such functions can be imported selectively as any other function with `importFrom(dplyr, n)` in the `NAMESPACE` or `#' @​importFrom dplyr n` in a roxygen comment. The third option is to prefix them, i.e. use `dplyr::n()`"
dplyr,355,"If you see `checking S3 generic/method consistency` in R CMD check for your package, note that :"
dplyr,356,`sample_n()` and `sample_frac()` have gained `...`
dplyr,357,`filter()` and `slice()` have gained `.preserve`
dplyr,358,`group_by()` has gained `.drop`
dplyr,359,"`` Error: `.data` is a corrupt grouped_df, ... `` signals code that makes wrong assumptions about the internals of a grouped data frame."
dplyr,360,New selection helpers `group_cols()`. It can be called in selection contexts such as `select()` and matches the grouping variables of grouped tibbles.
dplyr,361,`last_col()` is re-exported from tidyselect (#3584).
dplyr,362,`group_trim()` drops unused levels of factors that are used as grouping variables.
dplyr,363,`nest_join()` creates a list column of the matching rows. `nest_join()` + `tidyr::unnest()` is equivalent to `inner_join` (#3570).
dplyr,363,"```
band_members %>% 
  nest_join(band_instruments)
```"
dplyr,364,`group_nest()` is similar to `tidyr::nest()` but focusing on the variables to nest by instead of the nested columns.
dplyr,364,"```
starwars %>%
  group_by(species, homeworld) %>% 
  group_nest()

starwars %>%
  group_nest(species, homeworld)
```"
dplyr,365,"`group_split()` is similar to `base::split()` but operating on existing groups when applied to a grouped data frame, or subject to the data mask on ungrouped data frames"
dplyr,365,"```
starwars %>%
  group_by(species, homeworld) %>%   
  group_split()

starwars %>%
  group_split(species, homeworld)
```"
dplyr,366,"`group_map()` and `group_walk()` are purrr-like functions to iterate on groups of a grouped data frame, jointly identified by the data subset (exposed as `.x`) and the data key (a one row tibble, exposed as `.y`). `group_map()` returns a grouped data frame that combines the results of the function, `group_walk()` is only used for side effects and returns its input invisibly."
dplyr,366,"```
mtcars %>%
  group_by(cyl) %>%
  group_map(~ head(.x, 2L))
```"
dplyr,367,"`distinct_prepare()`, previously known as `distinct_vars()` is exported. This is mostly useful for alternative backends (e.g. `dbplyr`)."
dplyr,368,"`group_by()` gains the `.drop` argument. When set to `FALSE` the groups are generated based on factor levels, hence some groups may be empty (#341)."
dplyr,368,"```
# 3 groups
tibble(
  x = 1:2, 
  f = factor(c(""a"", ""b""), levels = c(""a"", ""b"", ""c""))
) %>% 
  group_by(f, .drop = FALSE)

# the order of the grouping variables matter
df <- tibble(
  x = c(1,2,1,2), 
  f = factor(c(""a"", ""b"", ""a"", ""b""), levels = c(""a"", ""b"", ""c""))
)
df %>% group_by(f, x, .drop = FALSE)
df %>% group_by(x, f, .drop = FALSE)
```"
dplyr,368,The default behaviour drops the empty groups as in the previous versions.
dplyr,368,"```
tibble(
    x = 1:2, 
    f = factor(c(""a"", ""b""), levels = c(""a"", ""b"", ""c""))
  ) %>% 
    group_by(f)
```"
dplyr,369,"`filter()` and `slice()` gain a `.preserve` argument to control which groups it should keep. The default `filter(.preserve = FALSE)` recalculates the grouping structure based on the resulting data, otherwise it is kept as is."
dplyr,369,"```
df <- tibble(
  x = c(1,2,1,2), 
  f = factor(c(""a"", ""b"", ""a"", ""b""), levels = c(""a"", ""b"", ""c""))
) %>% 
  group_by(x, f, .drop = FALSE)

df %>% filter(x == 1)
df %>% filter(x == 1, .preserve = TRUE)
```"
dplyr,370,"The notion of lazily grouped data frames have disappeared. All dplyr verbs now recalculate immediately the grouping structure, and respect the levels of factors."
dplyr,371,"Subsets of columns now properly dispatch to the `[` or `[[` method when the column is an object (a vector with a class) instead of making assumptions on how the column should be handled. The `[` method must handle integer indices, including `NA_integer_`, i.e. `x[NA_integer_]` should produce a vector of the same class as `x` with whatever represents a missing value."
dplyr,372,`tally()` works correctly on non-data frame table sources such as `tbl_sql` (#3075).
dplyr,373,`sample_n()` and `sample_frac()` can use `n()` (#3527)
dplyr,374,"`distinct()` respects the order of the variables provided (#3195, @​foo-bar-baz-qux) and handles the 0 rows and 0 columns special case (#2954)."
dplyr,375,`combine()` uses tidy dots (#3407).
dplyr,376,`group_indices()` can be used without argument in expressions in verbs (#1185).
dplyr,377,"Using `mutate_all()`, `transmute_all()`, `mutate_if()` and `transmute_if()` with grouped tibbles now informs you that the grouping variables are ignored. In the case of the `_all()` verbs, the message invites you to use `mutate_at(df, vars(-group_cols()))` (or the equivalent `transmute_at()` call) instead if you'd like to make it explicit in your code that the operation is not applied on the grouping variables."
dplyr,378,Scoped variants of `arrange()` respect the `.by_group` argument (#3504).
dplyr,379,`first()` and `last()` hybrid functions fall back to R evaluation when given no arguments (#3589).
dplyr,380,`mutate()` removes a column when the expression evaluates to `NULL` for all groups (#2945).
dplyr,381,"grouped data frames support `[, drop = TRUE]` (#3714)."
dplyr,382,New low-level constructor `new_grouped_df()` and validator `validate_grouped_df` (#3837).
dplyr,383,`glimpse()` prints group information on grouped tibbles (#3384).
dplyr,384,`sample_n()` and `sample_frac()` gain `...` (#2888).
dplyr,385,Scoped filter variants now support functions and purrr-like lambdas:
dplyr,385,"```
mtcars %>% filter_at(vars(hp, vs), ~ . %% 2 == 0)
```"
dplyr,386,"`do()`, `rowwise()` and `combine()` are questioning (#3494)."
dplyr,387,`funs()` is soft-deprecated and will start issuing warnings in a future version.
dplyr,388,"Scoped variants for `distinct()`: `distinct_at()`, `distinct_if()`, `distinct_all()` (#2948)."
dplyr,389,`summarise_at()` excludes the grouping variables (#3613).
dplyr,390,"`mutate_all()`, `mutate_at()`, `summarise_all()` and `summarise_at()` handle utf-8 names (#2967)."
dplyr,391,"R expressions that cannot be handled with native code are now evaluated with unwind-protection when available (on R 3.5 and later). This improves the performance of dplyr on data frames with many groups (and hence many expressions to evaluate). We benchmarked that computing a grouped average is consistently twice as fast with unwind-protection enabled. Unwind-protection also makes dplyr more robust in corner cases because it ensures the C++ destructors are correctly called in all circumstances (debugger exit, captured condition, restart invocation)."
dplyr,392,`sample_n()` and `sample_frac()` gain `...` (#2888).
dplyr,393,Improved performance for wide tibbles (#3335).
dplyr,394,"Faster hybrid `sum()`, `mean()`, `var()` and `sd()` for logical vectors (#3189)."
dplyr,395,Hybrid version of `sum(na.rm = FALSE)` exits early when there are missing values. This considerably improves performance when there are missing values early in the vector (#3288).
dplyr,396,`group_by()` does not trigger the additional `mutate()` on simple uses of the `.data` pronoun (#3533).
dplyr,397,"The grouping metadata of grouped data frame has been reorganized in a single tidy tibble, that can be accessed with the new `group_data()` function. The grouping tibble consists of one column per grouping variable, followed by a list column of the (1-based) indices of the groups. The new `group_rows()` function retrieves that list of indices (#3489)."
dplyr,397,"```
# the grouping metadata, as a tibble
group_by(starwars, homeworld) %>% 
  group_data()

# the indices
group_by(starwars, homeworld) %>% 
  group_data() %>% 
  pull(.rows)

group_by(starwars, homeworld) %>% 
  group_rows()
```"
dplyr,398,Hybrid evaluation has been completely redesigned for better performance and stability.
dplyr,399,Add documentation example for moving variable to back in `?select` (#3051).
dplyr,400,"column wise functions are better documented, in particular explaining when grouping variables are included as part of the selection."
dplyr,401,`mutate_each()` and `summarise_each()` are deprecated.
dplyr,402,`exprs()` is no longer exported to avoid conflicts with `Biobase::exprs()` (#3638).
dplyr,403,The MASS package is explicitly suggested to fix CRAN warnings on R-devel (#3657).
dplyr,404,Set operations like `intersect()` and `setdiff()` reconstruct groups metadata (#3587) and keep the order of the rows (#3839).
dplyr,405,Using namespaced calls to `base::sort()` and `base::unique()` from C++ code to avoid ambiguities when these functions are overridden (#3644).
dplyr,406,Fix rchk errors (#3693).
dplyr,407,"The major change in this version is that dplyr now depends on the selecting backend of the tidyselect package. If you have been linking to `dplyr::select_helpers` documentation topic, you should update the link to point to `tidyselect::select_helpers`."
dplyr,408,"Another change that causes warnings in packages is that dplyr now exports the `exprs()` function. This causes a collision with `Biobase::exprs()`. Either import functions from dplyr selectively rather than in bulk, or do not import `Biobase::exprs()` and refer to it with a namespace qualifier."
dplyr,409,"`distinct(data, ""string"")` now returns a one-row data frame again. (The previous behavior was to return the data unchanged.)"
dplyr,410,`do()` operations with more than one named argument can access `.` (#2998).
dplyr,411,"Reindexing grouped data frames (e.g. after `filter()` or `..._join()`) never updates the `""class""` attribute. This also avoids unintended updates to the original object (#3438)."
dplyr,412,Fixed rare column name clash in `..._join()` with non-join columns of the same name in both tables (#3266).
dplyr,413,"Fix `ntile()` and `row_number()` ordering to use the locale-dependent ordering functions in R when dealing with character vectors, rather than always using the C-locale ordering function in C (#2792, @​foo-bar-baz-qux)."
dplyr,414,"Summaries of summaries (such as `summarise(b = sum(a), c = sum(b))`) are now computed using standard evaluation for simplicity and correctness, but slightly slower (#3233)."
dplyr,415,Fixed `summarise()` for empty data frames with zero columns (#3071).
dplyr,416,"`enexpr()`, `expr()`, `exprs()`, `sym()` and `syms()` are now exported. `sym()` and `syms()` construct symbols from strings or character vectors. The `expr()` variants are equivalent to `quo()`, `quos()` and `enquo()` but return simple expressions rather than quosures. They support quasiquotation."
dplyr,417,"dplyr now depends on the new tidyselect package to power `select()`, `rename()`, `pull()` and their variants (#2896). Consequently `select_vars()`, `select_var()` and `rename_vars()` are soft-deprecated and will start issuing warnings in a future version. Following the switch to tidyselect, `select()` and `rename()` fully support character vectors. You can now unquote variables like this:"
dplyr,417,"```
vars <- c(""disp"", ""cyl"")
select(mtcars, !! vars)
select(mtcars, -(!! vars))
```"
dplyr,417,"Note that this only works in selecting functions because in other contexts strings and character vectors are ambiguous. For instance strings are a valid input in mutating operations and `mutate(df, ""foo"")` creates a new column by recycling ""foo"" to the number of rows."
dplyr,418,"Support for raw vector columns in `arrange()`, `group_by()`, `mutate()`, `summarise()` and `..._join()` (minimal `raw` x `raw` support initially) (#1803)."
dplyr,419,`bind_cols()` handles unnamed list (#3402).
dplyr,420,`bind_rows()` works around corrupt columns that have the object bit set while having no class attribute (#3349).
dplyr,421,"`combine()` returns `logical()` when all inputs are `NULL` (or when there are no inputs) (#3365, @​zeehio)."
dplyr,422,`distinct()` now supports renaming columns (#3234).
dplyr,423,Hybrid evaluation simplifies `dplyr::foo()` to `foo()` (#3309). Hybrid functions can now be masked by regular R functions to turn off hybrid evaluation (#3255). The hybrid evaluator finds functions from dplyr even if dplyr is not attached (#3456).
dplyr,424,In `mutate()` it is now illegal to use `data.frame` in the rhs (#3298).
dplyr,425,Support `!!!` in `recode_factor()` (#3390).
dplyr,426,`row_number()` works on empty subsets (#3454).
dplyr,427,`select()` and `vars()` now treat `NULL` as empty inputs (#3023).
dplyr,428,"Scoped select and rename functions (`select_all()`, `rename_if()` etc.) now work with grouped data frames, adapting the grouping as necessary (#2947, #3410). `group_by_at()` can group by an existing grouping variable (#3351). `arrange_at()` can use grouping variables (#3332)."
dplyr,429,"`slice()` no longer enforce tibble classes when input is a simple `data.frame`, and ignores 0 (#3297, #3313)."
dplyr,430,`transmute()` no longer prints a message when including a group variable.
dplyr,431,"Improved documentation for `funs()` (#3094) and set operations (e.g. `union()`) (#3238, @​edublancas)."
dplyr,432,Better error message if dbplyr is not installed when accessing database backends (#3225).
dplyr,433,`arrange()` fails gracefully on `data.frame` columns (#3153).
dplyr,434,Corrected error message when calling `cbind()` with an object of wrong length (#3085).
dplyr,435,"Add warning with explanation to `distinct()` if any of the selected columns are of type `list` (#3088, @​foo-bar-baz-qux), or when used on unknown columns (#2867, @​foo-bar-baz-qux)."
dplyr,436,Show clear error message for bad arguments to `funs()` (#3368).
dplyr,437,"Better error message in `..._join()` when joining data frames with duplicate or `NA` column names. Joining such data frames with a semi- or anti-join now gives a warning, which may be converted to an error in future versions (#3243, #3417)."
dplyr,438,Dedicated error message when trying to use columns of the `Interval` or `Period` classes (#2568).
dplyr,439,"Added an `.onDetach()` hook that allows for plyr to be loaded and attached without the warning message that says functions in dplyr will be masked, since dplyr is no longer attached (#3359, @​jwnorman)."
dplyr,440,"`sample_n()` and `sample_frac()` on grouped data frame are now faster especially for those with large number of groups (#3193, @​saurfang)."
dplyr,441,Compute variable names for joins in R (#3430).
dplyr,442,Bumped Rcpp dependency to 0.12.15 to avoid imperfect detection of `NA` values in hybrid evaluation fixed in RcppCore/Rcpp#790 (#2919).
dplyr,443,"Avoid cleaning the data mask, a temporary environment used to evaluate expressions. If the environment, in which e.g. a `mutate()` expression is evaluated, is preserved until after the operation, accessing variables from that environment now gives a warning but still returns `NULL` (#3318)."
dplyr,444,Fix recent Fedora and ASAN check errors (#3098).
dplyr,445,Avoid dependency on Rcpp 0.12.10 (#3106).
dplyr,446,Fixed protection error that occurred when creating a character column using grouped `mutate()` (#2971).
dplyr,447,Fixed a rare problem with accessing variable values in `summarise()` when all groups have size one (#3050).
dplyr,448,"`distinct()` now throws an error when used on unknown columns (#2867, @​foo-bar-baz-qux)."
dplyr,449,Fixed rare out-of-bounds memory write in `slice()` when negative indices beyond the number of rows were involved (#3073).
dplyr,450,"`select()`, `rename()` and `summarise()` no longer change the grouped vars of the original data (#3038)."
dplyr,451,"`nth(default = var)`, `first(default = var)` and `last(default = var)` fall back to standard evaluation in a grouped operation instead of triggering an error (#3045)."
dplyr,452,"`case_when()` now works if all LHS are atomic (#2909), or when LHS or RHS values are zero-length vectors (#3048)."
dplyr,453,`case_when()` accepts `NA` on the LHS (#2927).
dplyr,454,Semi- and anti-joins now preserve the order of left-hand-side data frame (#3089).
dplyr,455,Improved error message for invalid list arguments to `bind_rows()` (#3068).
dplyr,456,Grouping by character vectors is now faster (#2204).
dplyr,457,Fixed a crash that occurred when an unexpected input was supplied to the `call` argument of `order_by()` (#3065).
dplyr,458,Move build-time vs. run-time checks out of `.onLoad()` and into `dr_dplyr()`.
dplyr,459,Use new versions of bindrcpp and glue to avoid protection problems. Avoid wrapping arguments to internal error functions (#2877). Fix two protection mistakes found by rchk (#2868).
dplyr,460,Fix C++ error that caused compilation to fail on mac cran (#2862)
dplyr,461,"Fix undefined behaviour in `between()`, where `NA_REAL` were assigned instead of `NA_LOGICAL`. (#2855, @​zeehio)"
dplyr,462,`top_n()` now executes operations lazily for compatibility with database backends (#2848).
dplyr,463,"Reuse of new variables created in ungrouped `mutate()` possible again, regression introduced in dplyr 0.7.0 (#2869)."
dplyr,464,Quosured symbols do not prevent hybrid handling anymore. This should fix many performance issues introduced with tidyeval (#2822).
dplyr,465,Five new datasets provide some interesting built-in datasets to demonstrate dplyr verbs (#2094):
dplyr,466,`starwars` dataset about starwars characters; has list columns
dplyr,467,`storms` has the trajectories of \~200 tropical storms
dplyr,468,"`band_members`, `band_instruments` and `band_instruments2` has some simple data to demonstrate joins."
dplyr,469,"New `add_count()` and `add_tally()` for adding an `n` column within groups (#2078, @​dgrtwo)."
dplyr,470,`arrange()` for grouped data frames gains a `.by_group` argument so you can choose to sort by groups if you want to (defaults to `FALSE`) (#2318)
dplyr,471,"New `pull()` generic for extracting a single column either by name or position (either from the left or the right). Thanks to @​paulponcet for the idea (#2054). This verb is powered with the new `select_var()` internal helper, which is exported as well. It is like `select_vars()` but returns a single variable."
dplyr,472,"`as_tibble()` is re-exported from tibble. This is the recommend way to create tibbles from existing data frames. `tbl_df()` has been softly deprecated. `tribble()` is now imported from tibble (#2336, @​chrMongeau); this is now preferred to `frame_data()`."
dplyr,473,dplyr no longer messages that you need dtplyr to work with data.table (#2489).
dplyr,474,"Long deprecated `regroup()`, `mutate_each_q()` and `summarise_each_q()` functions have been removed."
dplyr,475,Deprecated `failwith()`. I'm not even sure why it was here.
dplyr,476,"Soft-deprecated `mutate_each()` and `summarise_each()`, these functions print a message which will be changed to a warning in the next release."
dplyr,477,"The `.env` argument to `sample_n()` and `sample_frac()` is defunct, passing a value to this argument print a message which will be changed to a warning in the next release."
dplyr,478,"Almost all database related code has been moved out of dplyr and into a new package, [dbplyr](https://github.com/tidyverse/dbplyr/). This makes dplyr simpler, and will make it easier to release fixes for bugs that only affect databases. `src_mysql()`, `src_postgres()`, and `src_sqlite()` will still live dplyr so your existing code continues to work."
dplyr,479,"It is no longer necessary to create a remote ""src"". Instead you can work directly with the database connection returned by DBI. This reflects the maturity of the DBI ecosystem. Thanks largely to the work of Kirill Muller (funded by the R Consortium) DBI backends are now much more consistent, comprehensive, and easier to use. That means that there's no longer a need for a layer in between you and DBI."
dplyr,480,"Internally, column names are always represented as character vectors, and not as language symbols, to avoid encoding problems on Windows (#1950, #2387, #2388)."
dplyr,481,"Error messages and explanations of data frame inequality are now encoded in UTF-8, also on Windows (#2441)."
dplyr,482,"Joins now always reencode character columns to UTF-8 if necessary. This gives a nice speedup, because now pointer comparison can be used instead of string comparison, but relies on a proper encoding tag for all strings (#2514)."
dplyr,483,"Fixed problems when joining factor or character encodings with a mix of native and UTF-8 encoded values (#1885, #2118, #2271, #2451)."
dplyr,484,"Fix `group_by()` for data frames that have UTF-8 encoded names (#2284, #2382)."
dplyr,485,"New `group_vars()` generic that returns the grouping as character vector, to avoid the potentially lossy conversion to language symbols. The list returned by `group_by_prepare()` now has a new `group_names` component (#1950, #2384)."
dplyr,486,"`rename()`, `select()`, `group_by()`, `filter()`, `arrange()` and `transmute()` now have scoped variants (verbs suffixed with `_if()`, `_at()` and `_all()`). Like `mutate_all()`, `summarise_if()`, etc, these variants apply an operation to a selection of variables."
dplyr,487,"The scoped verbs taking predicates (`mutate_if()`, `summarise_if()`, etc) now support S3 objects and lazy tables. S3 objects should implement methods for `length()`, `[[` and `tbl_vars()`. For lazy tables, the first 100 rows are collected and the predicate is applied on this subset of the data. This is robust for the common case of checking the type of a column (#2129)."
dplyr,488,Summarise and mutate colwise functions pass `...` on to the manipulation functions.
dplyr,489,The performance of colwise verbs like `mutate_all()` is now back to where it was in `mutate_each()`.
dplyr,490,`funs()` has better handling of namespaced functions (#2089).
dplyr,491,"Fix issue with `mutate_if()` and `summarise_if()` when a predicate function returns a vector of `FALSE` (#1989, #2009, #2011)."
dplyr,492,"`order_by()`, `top_n()`, `sample_n()` and `sample_frac()` now use tidyeval to capture their arguments by expression. This makes it possible to use unquoting idioms (see `vignette(""programming"")`) and fixes scoping issues (#2297)."
dplyr,493,Most verbs taking dots now ignore the last argument if empty. This makes it easier to copy lines of code without having to worry about deleting trailing commas (#1039).
dplyr,494,"\[API\] The new `.data` and `.env` environments can be used inside all verbs that operate on data: `.data$column_name` accesses the column `column_name`, whereas `.env$var` accesses the external variable `var`. Columns or external variables named `.data` or `.env` are shadowed, use `.data$...` and/or `.env$...` to access them. (`.data` implements strict matching also for the `$` operator (#2591).) The `column()` and `global()` functions have been removed. They were never documented officially. Use the new `.data` and `.env` environments instead."
dplyr,495,"Expressions in verbs are now interpreted correctly in many cases that failed before (e.g., use of `$`, `case_when()`, nonstandard evaluation, ...). These expressions are now evaluated in a specially constructed temporary environment that retrieves column data on demand with the help of the `bindrcpp` package (#2190). This temporary environment poses restrictions on assignments using `<-` inside verbs. To prevent leaking of broken bindings, the temporary environment is cleared after the evaluation (#2435)."
dplyr,496,"\[API\] `xxx_join.tbl_df(na_matches = ""never"")` treats all `NA` values as different from each other (and from any other value), so that they never match. This corresponds to the behavior of joins for database sources, and of database joins in general. To match `NA` values, pass `na_matches = ""na""` to the join verbs; this is only supported for data frames. The default is `na_matches = ""na""`, kept for the sake of compatibility to v0.5.0. It can be tweaked by calling `pkgconfig::set_config(""dplyr::na_matches"", ""na"")` (#2033)."
dplyr,497,`common_by()` gets a better error message for unexpected inputs (#2091)
dplyr,498,"Fix groups when joining grouped data frames with duplicate columns (#2330, #2334, @​davidkretch)."
dplyr,499,"One of the two join suffixes can now be an empty string, dplyr no longer hangs (#2228, #2445)."
dplyr,500,Anti- and semi-joins warn if factor levels are inconsistent (#2741).
dplyr,501,Warnings about join column inconsistencies now contain the column names (#2728).
dplyr,502,"For selecting variables, the first selector decides if it's an inclusive selection (i.e., the initial column list is empty), or an exclusive selection (i.e., the initial column list contains all columns). This means that `select(mtcars, contains(""am""), contains(""FOO""), contains(""vs""))` now returns again both `am` and `vs` columns like in dplyr 0.4.3 (#2275, #2289, @​r2evans)."
dplyr,503,Select helpers now throw an error if called when no variables have been set (#2452)
dplyr,504,Helper functions in `select()` (and related verbs) are now evaluated in a context where column names do not exist (#2184).
dplyr,505,"`select()` (and the internal function `select_vars()`) now support column names in addition to column positions. As a result, expressions like `select(mtcars, ""cyl"")` are now allowed."
dplyr,506,"`recode()`, `case_when()` and `coalesce()` now support splicing of arguments with rlang's `!!!` operator."
dplyr,507,`count()` now preserves the grouping of its input (#2021).
dplyr,508,`distinct()` no longer duplicates variables (#2001).
dplyr,509,"Empty `distinct()` with a grouped data frame works the same way as an empty `distinct()` on an ungrouped data frame, namely it uses all variables (#2476)."
dplyr,510,`copy_to()` now returns its output invisibly (since you're often just calling for the side-effect).
dplyr,511,`filter()` and `lag()` throw informative error if used with ts objects (#2219)
dplyr,512,`mutate()` recycles list columns of length 1 (#2171).
dplyr,513,"`mutate()` gives better error message when attempting to add a non-vector column (#2319), or attempting to remove a column with `NULL` (#2187, #2439)."
dplyr,514,"`summarise()` now correctly evaluates newly created factors (#2217), and can create ordered factors (#2200)."
dplyr,515,"Ungrouped `summarise()` uses summary variables correctly (#2404, #2453)."
dplyr,516,Grouped `summarise()` no longer converts character `NA` to empty strings (#1839).
dplyr,517,"`all_equal()` now reports multiple problems as a character vector (#1819, #2442)."
dplyr,518,"`all_equal()` checks that factor levels are equal (#2440, #2442)."
dplyr,519,`bind_rows()` and `bind_cols()` give an error for database tables (#2373).
dplyr,520,"`bind_rows()` works correctly with `NULL` arguments and an `.id` argument (#2056), and also for zero-column data frames (#2175)."
dplyr,521,"Breaking change: `bind_rows()` and `combine()` are more strict when coercing. Logical values are no longer coerced to integer and numeric. Date, POSIXct and other integer or double-based classes are no longer coerced to integer or double as there is chance of attributes or information being lost (#2209, @​zeehio)."
dplyr,522,`bind_cols()` now calls `tibble::repair_names()` to ensure that all names are unique (#2248).
dplyr,523,`bind_cols()` handles empty argument list (#2048).
dplyr,524,"`bind_cols()` better handles `NULL` inputs (#2303, #2443)."
dplyr,525,"`bind_rows()` explicitly rejects columns containing data frames (#2015, #2446)."
dplyr,526,"`bind_rows()` and `bind_cols()` now accept vectors. They are treated as rows by the former and columns by the latter. Rows require inner names like `c(col1 = 1, col2 = 2)`, while columns require outer names: `col1 = c(1, 2)`. Lists are still treated as data frames but can be spliced explicitly with `!!!`, e.g. `bind_rows(!!! x)` (#1676)."
dplyr,527,"`rbind_list()` and `rbind_all()` now call `.Deprecated()`, they will be removed in the next CRAN release. Please use `bind_rows()` instead."
dplyr,528,"`combine()` accepts `NA` values (#2203, @​zeehio)"
dplyr,529,"`combine()` and `bind_rows()` with character and factor types now always warn about the coercion to character (#2317, @​zeehio)"
dplyr,530,`combine()` and `bind_rows()` accept `difftime` objects.
dplyr,531,"`mutate` coerces results from grouped dataframes accepting combinable data types (such as `integer` and `numeric`). (#1892, @​zeehio)"
dplyr,532,`%in%` gets new hybrid handler (#126).
dplyr,533,`between()` returns NA if `left` or `right` is `NA` (fixes #2562).
dplyr,534,"`case_when()` supports `NA` values (#2000, @​tjmahr)."
dplyr,535,"`first()`, `last()`, and `nth()` have better default values for factor, Dates, POSIXct, and data frame inputs (#2029)."
dplyr,536,"Fixed segmentation faults in hybrid evaluation of `first()`, `last()`, `nth()`, `lead()`, and `lag()`. These functions now always fall back to the R implementation if called with arguments that the hybrid evaluator cannot handle (#948, #1980)."
dplyr,537,`n_distinct()` gets larger hash tables given slightly better performance (#977).
dplyr,538,`nth()` and `ntile()` are more careful about proper data types of their return values (#2306).
dplyr,539,`ntile()` ignores `NA` when computing group membership (#2564).
dplyr,540,"`lag()` enforces integer `n` (#2162, @​kevinushey)."
dplyr,541,"hybrid `min()` and `max()` now always return a `numeric` and work correctly in edge cases (empty input, all `NA`, ...) (#2305, #2436)."
dplyr,542,"`min_rank(""string"")` no longer segfaults in hybrid evaluation (#2279, #2444)."
dplyr,543,`recode()` can now recode a factor to other types (#2268)
dplyr,544,"`recode()` gains `.dots` argument to support passing replacements as list (#2110, @​jlegewie)."
dplyr,545,Many error messages are more helpful by referring to a column name or a position in the argument list (#2448).
dplyr,546,New `is_grouped_df()` alias to `is.grouped_df()`.
dplyr,547,"`tbl_vars()` now has a `group_vars` argument set to `TRUE` by default. If `FALSE`, group variables are not returned."
dplyr,548,Fixed segmentation fault after calling `rename()` on an invalid grouped data frame (#2031).
dplyr,549,`rename_vars()` gains a `strict` argument to control if an error is thrown when you try and rename a variable that doesn't exist.
dplyr,550,Fixed undefined behavior for `slice()` on a zero-column data frame (#2490).
dplyr,551,Fixed very rare case of false match during join (#2515).
dplyr,552,Restricted workaround for `match()` to R 3.3.0. (#1858).
dplyr,553,dplyr now warns on load when the version of R or Rcpp during installation is different to the currently installed version (#2514).
dplyr,554,Fixed improper reuse of attributes when creating a list column in `summarise()` and perhaps `mutate()` (#2231).
dplyr,555,"`mutate()` and `summarise()` always strip the `names` attribute from new or updated columns, even for ungrouped operations (#1689)."
dplyr,556,Fixed rare error that could lead to a segmentation fault in `all_equal(ignore_col_order = FALSE)` (#2502).
dplyr,557,"The ""dim"" and ""dimnames"" attributes are always stripped when copying a vector (#1918, #2049)."
dplyr,558,"`grouped_df` and `rowwise` are registered officially as S3 classes. This makes them easier to use with S4 (#2276, @​joranE, #2789)."
dplyr,559,"All operations that return tibbles now include the `""tbl""` class. This is important for correct printing with tibble 1.3.1 (#2789)."
dplyr,560,Makeflags uses PKG_CPPFLAGS for defining preprocessor macros.
dplyr,561,"astyle formatting for C++ code, tested but not changed as part of the tests (#2086, #2103)."
dplyr,562,Update RStudio project settings to install tests (#1952).
dplyr,563,"Using `Rcpp::interfaces()` to register C callable interfaces, and registering all native exported functions via `R_registerRoutines()` and `useDynLib(.registration = TRUE)` (#2146)."
dplyr,564,"Formatting of grouped data frames now works by overriding the `tbl_sum()` generic instead of `print()`. This means that the output is more consistent with tibble, and that `format()` is now supported also for SQL sources (#2781)."
dplyr,565,`arrange()` once again ignores grouping (#1206).
dplyr,566,"`distinct()` now only keeps the distinct variables. If you want to return all variables (using the first row for non-distinct values) use `.keep_all = TRUE` (#1110). For SQL sources, `.keep_all = FALSE` is implemented using `GROUP BY`, and `.keep_all = TRUE` raises an error (#1937, #1942, @​krlmlr). (The default behaviour of using all variables when none are specified remains - this note only applies if you select some variables)."
dplyr,567,"The select helper functions `starts_with()`, `ends_with()` etc are now real exported functions. This means that you'll need to import those functions if you're using from a package where dplyr is not attached. i.e. `dplyr::select(mtcars, starts_with(""m""))` used to work, but now you'll need `dplyr::select(mtcars, dplyr::starts_with(""m""))`."
dplyr,568,"The long deprecated `chain()`, `chain_q()` and `%.%` have been removed. Please use `%>%` instead."
dplyr,569,`id()` has been deprecated. Please use `group_indices()` instead (#808).
dplyr,570,`rbind_all()` and `rbind_list()` are formally deprecated. Please use `bind_rows()` instead (#803).
dplyr,571,Outdated benchmarking demos have been removed (#1487).
dplyr,572,Code related to starting and signalling clusters has been moved out to [multidplyr](https://github.com/tidyverse/multidplyr).
dplyr,573,"`coalesce()` finds the first non-missing value from a set of vectors. (#1666, thanks to @​krlmlr for initial implementation)."
dplyr,574,`case_when()` is a general vectorised if + else if (#631).
dplyr,575,"`if_else()` is a vectorised if statement: it's a stricter (type-safe), faster, and more predictable version of `ifelse()`. In SQL it is translated to a `CASE` statement."
dplyr,576,`na_if()` makes it easy to replace a certain value with an `NA` (#1707). In SQL it is translated to `NULL_IF`.
dplyr,577,"`near(x, y)` is a helper for `abs(x - y) < tol` (#1607)."
dplyr,578,`recode()` is vectorised equivalent to `switch()` (#1710).
dplyr,579,"`union_all()` method. Maps to `UNION ALL` for SQL sources, `bind_rows()` for data frames/tbl_dfs, and `combine()` for vectors (#1045)."
dplyr,580,"A new family of functions replace `summarise_each()` and `mutate_each()` (which will thus be deprecated in a future release). `summarise_all()` and `mutate_all()` apply a function to all columns while `summarise_at()` and `mutate_at()` operate on a subset of columns. These columns are selected with either a character vector of columns names, a numeric vector of column positions, or a column specification with `select()` semantics generated by the new `columns()` helper. In addition, `summarise_if()` and `mutate_if()` take a predicate function or a logical vector (these verbs currently require local sources). All these functions can now take ordinary functions instead of a list of functions generated by `funs()` (though this is only useful for local sources). (#1845, @​lionel-)"
dplyr,581,"`select_if()` lets you select columns with a predicate function. Only compatible with local sources. (#497, #1569, @​lionel-)"
dplyr,582,"`$` and `[[` methods that never do partial matching (#1504), and throw an error if the variable does not exist."
dplyr,583,"`all_equal()` allows to compare data frames ignoring row and column order, and optionally ignoring minor differences in type (e.g. int vs. double) (#821). The test handles the case where the df has 0 columns (#1506). The test fails fails when convert is `FALSE` and types don't match (#1484)."
dplyr,584,"`all_equal()` shows better error message when comparing raw values or when types are incompatible and `convert = TRUE` (#1820, @​krlmlr)."
dplyr,585,`add_row()` makes it easy to add a new row to data frame (#1021)
dplyr,586,"`as_data_frame()` is now an S3 generic with methods for lists (the old `as_data_frame()`), data frames (trivial), and matrices (with efficient C++ implementation) (#876). It no longer strips subclasses."
dplyr,587,"The internals of `data_frame()` and `as_data_frame()` have been aligned, so `as_data_frame()` will now automatically recycle length-1 vectors. Both functions give more informative error messages if you attempting to create an invalid data frame. You can no longer create a data frame with duplicated names (#820). Both check for `POSIXlt` columns, and tell you to use `POSIXct` instead (#813)."
dplyr,588,"`frame_data()` properly constructs rectangular tables (#1377, @​kevinushey), and supports list-cols."
dplyr,589,`glimpse()` is now a generic. The default method dispatches to `str()` (#1325). It now (invisibly) returns its first argument (#1570).
dplyr,590,`lst()` and `lst_()` which create lists in the same way that `data_frame()` and `data_frame_()` create data frames (#1290).
dplyr,591,`print.tbl_df()` is considerably faster if you have very wide data frames. It will now also only list the first 100 additional variables not already on screen - control this with the new `n_extra` parameter to `print()` (#1161). When printing a grouped data frame the number of groups is now printed with thousands separators (#1398). The type of list columns is correctly printed (#1379)
dplyr,592,"Package includes `setOldClass(c(""tbl_df"", ""tbl"", ""data.frame""))` to help with S4 dispatch (#969)."
dplyr,593,`tbl_df` automatically generates column names (#1606).
dplyr,594,"new `as_data_frame.tbl_cube()` (#1563, @​krlmlr)."
dplyr,595,"`tbl_cube`s are now constructed correctly from data frames, duplicate dimension values are detected, missing dimension values are filled with `NA`. The construction from data frames now guesses the measure variables by default, and allows specification of dimension and/or measure variables (#1568, @​krlmlr)."
dplyr,596,"Swap order of `dim_names` and `met_name` arguments in `as.tbl_cube` (for `array`, `table` and `matrix`) for consistency with `tbl_cube` and `as.tbl_cube.data.frame`. Also, the `met_name` argument to `as.tbl_cube.table` now defaults to `""Freq""` for consistency with `as.data.frame.table` (@​krlmlr, #1374)."
dplyr,597,"`as_data_frame()` on SQL sources now returns all rows (#1752, #1821, @​krlmlr)."
dplyr,598,"`compute()` gets new parameters `indexes` and `unique_indexes` that make it easier to add indexes (#1499, @​krlmlr)."
dplyr,599,`db_explain()` gains a default method for DBIConnections (#1177).
dplyr,600,"The backend testing system has been improved. This lead to the removal of `temp_srcs()`. In the unlikely event that you were using this function, you can instead use `test_register_src()`, `test_load()`, and `test_frame()`."
dplyr,601,You can now use `right_join()` and `full_join()` with remote tables (#1172).
dplyr,602,"`src_memdb()` is a session-local in-memory SQLite database. `memdb_frame()` works like `data_frame()`, but creates a new table in that database."
dplyr,603,"`src_sqlite()` now uses a stricter quoting character, `` ` ``, instead of `""`. SQLite ""helpfully"" will convert `""x""` into a string if there is no identifier called x in the current scope (#1426)."
dplyr,604,`src_sqlite()` throws errors if you try and use it with window functions (#907).
dplyr,605,`filter.tbl_sql()` now puts parens around each argument (#934).
dplyr,606,Unary `-` is better translated (#1002).
dplyr,607,"`escape.POSIXt()` method makes it easier to use date times. The date is rendered in ISO 8601 format in UTC, which should work in most databases (#857)."
dplyr,608,`is.na()` gets a missing space (#1695).
dplyr,609,"`if`, `is.na()`, and `is.null()` get extra parens to make precedence more clear (#1695)."
dplyr,610,`pmin()` and `pmax()` are translated to `MIN()` and `MAX()` (#1711).
dplyr,611,Window functions:
dplyr,612,Work on ungrouped data (#1061).
dplyr,613,Warning if order is not set on cumulative window functions.
dplyr,614,"Multiple partitions or ordering variables in windowed functions no longer generate extra parentheses, so should work for more databases (#1060)"
dplyr,615,"`sql_join()` has been considerably simplified - it is now only responsible for generating the join query, not for generating the intermediate selects that rename the variable. Similarly for `sql_semi_join()`. If you've provided new methods in your backend, you'll need to rewrite."
dplyr,616,`select_query()` gains a distinct argument which is used for generating queries for `distinct()`. It loses the `offset` argument which was never used (and hence never tested).
dplyr,617,`src_translate_env()` has been replaced by `sql_translate_env()` which should have methods for the connection object.
dplyr,618,"`translate_sql()` and `partial_eval()` got a new API: now use connection + variable names, rather than a `tbl`. This makes testing considerably easier. `translate_sql_q()` has been renamed to `translate_sql_()`."
dplyr,619,"Also note that the sql generation generics now have a default method, instead methods for DBIConnection and NULL."
dplyr,620,"Avoiding segfaults in presence of `raw` columns (#1803, #1817, @​krlmlr)."
dplyr,621,"`arrange()` fails gracefully on list columns (#1489) and matrices (#1870, #1945, @​krlmlr)."
dplyr,622,"`count()` now adds additional grouping variables, rather than overriding existing (#1703). `tally()` and `count()` can now count a variable called `n` (#1633). Weighted `count()`/`tally()` ignore `NA`s (#1145)."
dplyr,623,"The progress bar in `do()` is now updated at most 20 times per second, avoiding unnecessary redraws (#1734, @​mkuhn)"
dplyr,624,`distinct()` doesn't crash when given a 0-column data frame (#1437).
dplyr,625,"`filter()` throws an error if you supply an named arguments. This is usually a type: `filter(df, x = 1)` instead of `filter(df, x == 1)` (#1529)."
dplyr,626,"`summarise()` correctly coerces factors with different levels (#1678), handles min/max of already summarised variable (#1622), and supports data frames as columns (#1425)."
dplyr,627,"`select()` now informs you that it adds missing grouping variables (#1511). It works even if the grouping variable has a non-syntactic name (#1138). Negating a failed match (e.g. `select(mtcars, -contains(""x""))`) returns all columns, instead of no columns (#1176) The `select()` helpers are now exported and have their own documentation (#1410). `one_of()` gives a useful error message if variables names are not found in data frame (#1407)."
dplyr,628,"The naming behaviour of `summarise_each()` and `mutate_each()` has been tweaked so that you can force inclusion of both the function and the variable name: `summarise_each(mtcars, funs(mean = mean), everything())` (#442)."
dplyr,629,"`mutate()` handles factors that are all `NA` (#1645), or have different levels in different groups (#1414). It disambiguates `NA` and `NaN` (#1448), and silently promotes groups that only contain `NA` (#1463). It deep copies data in list columns (#1643), and correctly fails on incompatible columns (#1641). `mutate()` on a grouped data no longer groups grouping attributes (#1120). `rowwise()` mutate gives expected results (#1381)."
dplyr,630,"`one_of()` tolerates unknown variables in `vars`, but warns (#1848, @​jennybc)."
dplyr,631,`print.grouped_df()` passes on `...` to `print()` (#1893).
dplyr,632,`slice()` correctly handles grouped attributes (#1405).
dplyr,633,`ungroup()` generic gains `...` (#922).
dplyr,634,`bind_cols()` matches the behaviour of `bind_rows()` and ignores `NULL` inputs (#1148). It also handles `POSIXct`s with integer base type (#1402).
dplyr,635,"`bind_rows()` handles 0-length named lists (#1515), promotes factors to characters (#1538), and warns when binding factor and character (#1485). bind_rows()\` is more flexible in the way it can accept data frames, lists, list of data frames, and list of lists (#1389)."
dplyr,636,"`bind_rows()` rejects `POSIXlt` columns (#1875, @​krlmlr)."
dplyr,637,Both `bind_cols()` and `bind_rows()` infer classes and grouping information from the first data frame (#1692).
dplyr,638,`rbind()` and `cbind()` get `grouped_df()` methods that make it harder to create corrupt data frames (#1385). You should still prefer `bind_rows()` and `bind_cols()`.
dplyr,639,"Joins now use correct class when joining on `POSIXct` columns (#1582, @​joel23888), and consider time zones (#819). Joins handle a `by` that is empty (#1496), or has duplicates (#1192). Suffixes grow progressively to avoid creating repeated column names (#1460). Joins on string columns should be substantially faster (#1386). Extra attributes are ok if they are identical (#1636). Joins work correct when factor levels not equal (#1712, #1559). Anti- and semi-joins give correct result when by variable is a factor (#1571), but warn if factor levels are inconsistent (#2741). A clear error message is given for joins where an explicit `by` contains unavailable columns (#1928, #1932). Warnings about join column inconsistencies now contain the column names (#2728)."
dplyr,640,"`inner_join()`, `left_join()`, `right_join()`, and `full_join()` gain a `suffix` argument which allows you to control what suffix duplicated variable names receive (#1296)."
dplyr,641,"Set operations (`intersect()`, `union()` etc) respect coercion rules (#799). `setdiff()` handles factors with `NA` levels (#1526)."
dplyr,642,"There were a number of fixes to enable joining of data frames that don't have the same encoding of column names (#1513), including working around bug 16885 regarding `match()` in R 3.3.0 (#1806, #1810, @​krlmlr)."
dplyr,643,`combine()` silently drops `NULL` inputs (#1596).
dplyr,644,Hybrid `cummean()` is more stable against floating point errors (#1387).
dplyr,645,"Hybrid `lead()` and `lag()` received a considerable overhaul. They are more careful about more complicated expressions (#1588), and falls back more readily to pure R evaluation (#1411). They behave correctly in `summarise()` (#1434). and handle default values for string columns."
dplyr,646,Hybrid `min()` and `max()` handle empty sets (#1481).
dplyr,647,"`n_distinct()` uses multiple arguments for data frames (#1084), falls back to R evaluation when needed (#1657), reverting decision made in (#567). Passing no arguments gives an error (#1957, #1959, @​krlmlr)."
dplyr,648,"`nth()` now supports negative indices to select from end, e.g. `nth(x, -2)` selects the 2nd value from the end of `x` (#1584)."
dplyr,649,"`top_n()` can now also select bottom `n` values by passing a negative value to `n` (#1008, #1352)."
dplyr,650,Hybrid evaluation leaves formulas untouched (#1447).
dplyr,651,"`frame_data()` provides a means for constructing `data_frame`s using a simple row-wise language. (#1358, @​kevinushey)"
dplyr,652,`all.equal()` no longer runs all outputs together (#1130).
dplyr,653,`as_data_frame()` gives better error message with NA column names (#1101).
dplyr,654,`[.tbl_df` is more careful about subsetting column names (#1245).
dplyr,655,`arrange()` and `mutate()` work on empty data frames (#1142).
dplyr,656,"`arrange()`, `filter()`, `slice()`, and `summarise()` preserve data frame meta attributes (#1064)."
dplyr,657,"`bind_rows()` and `bind_cols()` accept lists (#1104): during initial data cleaning you no longer need to convert lists to data frames, but can instead feed them to `bind_rows()` directly."
dplyr,658,"`bind_rows()` gains a `.id` argument. When supplied, it creates a new column that gives the name of each data frame (#1337, @​lionel-)."
dplyr,659,"`bind_rows()` respects the `ordered` attribute of factors (#1112), and does better at comparing `POSIXct`s (#1125). The `tz` attribute is ignored when determining if two `POSIXct` vectors are comparable. If the `tz` of all inputs is the same, it's used, otherwise its set to `UTC`."
dplyr,660,"`data_frame()` always produces a `tbl_df` (#1151, @​kevinushey)"
dplyr,661,"`filter(x, TRUE, TRUE)` now just returns `x` (#1210), it doesn't internally modify the first argument (#971), and it now works with rowwise data (#1099). It once again works with data tables (#906)."
dplyr,662,"`glimpse()` also prints out the number of variables in addition to the number of observations (@​ilarischeinin, #988)."
dplyr,663,"Joins handles matrix columns better (#1230), and can join `Date` objects with heterogeneous representations (some `Date`s are integers, while other are numeric). This also improves `all.equal()` (#1204)."
dplyr,664,Fixed `percent_rank()` and `cume_dist()` so that missing values no longer affect denominator (#1132).
dplyr,665,"`print.tbl_df()` now displays the class for all variables, not just those that don't fit on the screen (#1276). It also displays duplicated column names correctly (#1159)."
dplyr,666,`print.grouped_df()` now tells you how many groups there are.
dplyr,667,"`mutate()` can set to `NULL` the first column (used to segfault, #1329) and it better protects intermediary results (avoiding random segfaults, #1231)."
dplyr,668,"`mutate()` on grouped data handles the special case where for the first few groups, the result consists of a `logical` vector with only `NA`. This can happen when the condition of an `ifelse` is an all `NA` logical vector (#958)."
dplyr,669,`mutate.rowwise_df()` handles factors (#886) and correctly handles 0-row inputs (#1300).
dplyr,670,`n_distinct()` gains an `na_rm` argument (#1052).
dplyr,671,"The `Progress` bar used by `do()` now respects global option `dplyr.show_progress` (default is TRUE) so you can turn it off globally (@​jimhester #1264, #1226)."
dplyr,672,"`summarise()` handles expressions that returning heterogenous outputs, e.g. `median()`, which that sometimes returns an integer, and other times a numeric (#893)."
dplyr,673,`slice()` silently drops columns corresponding to an NA (#1235).
dplyr,674,`ungroup.rowwise_df()` gives a `tbl_df` (#936).
dplyr,675,More explicit duplicated column name error message (#996).
dplyr,676,"When "","" is already being used as the decimal point (`getOption(""OutDec"")`), use ""."" as the thousands separator when printing out formatted numbers (@​ilarischeinin, #988)."
dplyr,677,"`db_query_fields.SQLiteConnection` uses `build_sql` rather than `paste0` (#926, @​NikNakk)"
dplyr,678,Improved handling of `log()` (#1330).
dplyr,679,"`n_distinct(x)` is translated to `COUNT(DISTINCT(x))` (@​skparkes, #873)."
dplyr,680,`print(n = Inf)` now works for remote sources (#1310).
dplyr,681,Hybrid evaluation does not take place for objects with a class (#1237).
dplyr,682,Improved `$` handling (#1134).
dplyr,683,Simplified code for `lead()` and `lag()` and make sure they work properly on factors (#955). Both respect the `default` argument (#915).
dplyr,684,"`mutate` can set to `NULL` the first column (used to segfault, #1329)."
dplyr,685,`filter` on grouped data handles indices correctly (#880).
dplyr,686,`sum()` issues a warning about integer overflow (#1108).
dplyr,687,"`lag()` and `lead()` for grouped data were confused about indices and therefore produced wrong results (#925, #937). `lag()` once again overrides `lag()` instead of just the default method `lag.default()`. This is necessary due to changes in R CMD check. To use the lag function provided by another package, use `pkg::lag`."
dplyr,688,Fixed a number of memory issues identified by valgrind.
dplyr,689,Improved performance when working with large number of columns (#879).
dplyr,690,Lists-cols that contain data frames now print a slightly nicer summary (#1147)
dplyr,691,Set operations give more useful error message on incompatible data frames (#903).
dplyr,692,`all.equal()` gives the correct result when `ignore_row_order` is `TRUE` (#1065) and `all.equal()` correctly handles character missing values (#1095).
dplyr,693,`bind_cols()` always produces a `tbl_df` (#779).
dplyr,694,`bind_rows()` gains a test for a form of data frame corruption (#1074).
dplyr,695,`bind_rows()` and `summarise()` now handles complex columns (#933).
dplyr,696,Workaround for using the constructor of `DataFrame` on an unprotected object (#998)
dplyr,697,Improved performance when working with large number of columns (#879).
dplyr,698,Don't assume that RPostgreSQL is available.
dplyr,699,`add_rownames()` turns row names into an explicit variable (#639).
dplyr,700,`as_data_frame()` efficiently coerces a list into a data frame (#749).
dplyr,701,`bind_rows()` and `bind_cols()` efficiently bind a list of data frames by row or column. `combine()` applies the same coercion rules to vectors (it works like `c()` or `unlist()` but is consistent with the `bind_rows()` rules).
dplyr,702,"`right_join()` (include all rows in `y`, and matching rows in `x`) and `full_join()` (include all rows in `x` and `y`) complete the family of mutating joins (#96)."
dplyr,703,`group_indices()` computes a unique integer id for each group (#771). It can be called on a grouped_df without any arguments or on a data frame with same arguments as `group_by()`.
dplyr,704,"`vignette(""data_frames"")` describes dplyr functions that make it easier and faster to create and coerce data frames. It subsumes the old `memory` vignette."
dplyr,705,"`vignette(""two-table"")` describes how two-table verbs work in dplyr."
dplyr,706,`data_frame()` (and `as_data_frame()` & `tbl_df()`) now explicitly forbid columns that are data frames or matrices (#775). All columns must be either a 1d atomic vector or a 1d list.
dplyr,707,"`do()` uses lazyeval to correctly evaluate its arguments in the correct environment (#744), and new `do_()` is the SE equivalent of `do()` (#718). You can modify grouped data in place: this is probably a bad idea but it's sometimes convenient (#737). `do()` on grouped data tables now passes in all columns (not all columns except grouping vars) (#735, thanks to @​kismsu). `do()` with database tables no longer potentially includes grouping variables twice (#673). Finally, `do()` gives more consistent outputs when there are no rows or no groups (#625)."
dplyr,708,"`first()` and `last()` preserve factors, dates and times (#509)."
dplyr,709,Overhaul of single table verbs for data.table backend. They now all use a consistent (and simpler) code base. This ensures that (e.g.) `n()` now works in all verbs (#579).
dplyr,710,"In `*_join()`, you can now name only those variables that are different between the two tables, e.g. `inner_join(x, y, c(""a"", ""b"", ""c"" = ""d""))` (#682). If non-join columns are the same, dplyr will add `.x` and `.y` suffixes to distinguish the source (#655)."
dplyr,711,`mutate()` handles complex vectors (#436) and forbids `POSIXlt` results (instead of crashing) (#670).
dplyr,712,"`select()` now implements a more sophisticated algorithm so if you're doing multiples includes and excludes with and without names, you're more likely to get what you expect (#644). You'll also get a better error message if you supply an input that doesn't resolve to an integer column position (#643)."
dplyr,713,"Printing has received a number of small tweaks. All `print()` methods invisibly return their input so you can interleave `print()` statements into a pipeline to see interim results. `print()` will column names of 0 row data frames (#652), and will never print more 20 rows (i.e. `options(dplyr.print_max)` is now 20), not 100 (#710). Row names are no never printed since no dplyr method is guaranteed to preserve them (#669). `glimpse()` prints the number of observations (#692) `type_sum()` gains a data frame method."
dplyr,714,`summarise()` handles list output columns (#832)
dplyr,715,"`slice()` works for data tables (#717). Documentation clarifies that slice can't work with relational databases, and the examples show how to achieve the same results using `filter()` (#720)."
dplyr,716,dplyr now requires RSQLite \>= 1.0. This shouldn't affect your code in any way (except that RSQLite now doesn't need to be attached) but does simplify the internals (#622).
dplyr,717,"Functions that need to combine multiple results into a single column (e.g. `join()`, `bind_rows()` and `summarise()`) are more careful about coercion. Joining factors with the same levels in the same order preserves the original levels (#675). Joining factors with non-identical levels generates a warning and coerces to character (#684). Joining a character to a factor (or vice versa) generates a warning and coerces to character. Avoid these warnings by ensuring your data is compatible before joining. `rbind_list()` will throw an error if you attempt to combine an integer and factor (#751). `rbind()`ing a column full of `NA`s is allowed and just collects the appropriate missing value for the column type being collected (#493). `summarise()` is more careful about `NA`, e.g. the decision on the result type will be delayed until the first non NA value is returned (#599). It will complain about loss of precision coercions, which can happen for expressions that return integers for some groups and a doubles for others (#599)."
dplyr,718,"A number of functions gained new or improved hybrid handlers: `first()`, `last()`, `nth()` (#626), `lead()` & `lag()` (#683), `%in%` (#126). That means when you use these functions in a dplyr verb, we handle them in C++, rather than calling back to R, and hence improving performance. Hybrid `min_rank()` correctly handles `NaN` values (#726). Hybrid implementation of `nth()` falls back to R evaluation when `n` is not a length one integer or numeric, e.g. when it's an expression (#734). Hybrid `dense_rank()`, `min_rank()`, `cume_dist()`, `ntile()`, `row_number()` and `percent_rank()` now preserve NAs (#774)"
dplyr,719,`filter` returns its input when it has no rows or no columns (#782).
dplyr,720,"Join functions keep attributes (e.g. time zone information) from the left argument for `POSIXct` and `Date` objects (#819), and only only warn once about each incompatibility (#798)."
dplyr,721,"`[.tbl_df` correctly computes row names for 0-column data frames, avoiding problems with xtable (#656). `[.grouped_df` will silently drop grouping if you don't include the grouping columns (#733)."
dplyr,722,`data_frame()` now acts correctly if the first argument is a vector to be recycled. (#680 thanks @​jimhester)
dplyr,723,"`filter.data.table()` works if the table has a variable called ""V1"" (#615)."
dplyr,724,"`*_join()` keeps columns in original order (#684). Joining a factor to a character vector doesn't segfault (#688). `*_join` functions can now deal with multiple encodings (#769), and correctly name results (#855)."
dplyr,725,`*_join.data.table()` works when data.table isn't attached (#786).
dplyr,726,`group_by()` on a data table preserves original order of the rows (#623). `group_by()` supports variables with more than 39 characters thanks to a fix in lazyeval (#705). It gives meaningful error message when a variable is not found in the data frame (#716).
dplyr,727,`grouped_df()` requires `vars` to be a list of symbols (#665).
dplyr,728,"`min(.,na.rm = TRUE)` works with `Date`s built on numeric vectors (#755)."
dplyr,729,`rename_()` generic gets missing `.dots` argument (#708).
dplyr,730,"`row_number()`, `min_rank()`, `percent_rank()`, `dense_rank()`, `ntile()` and `cume_dist()` handle data frames with 0 rows (#762). They all preserve missing values (#774). `row_number()` doesn't segfault when giving an external variable with the wrong number of variables (#781)."
dplyr,731,`group_indices` handles the edge case when there are no variables (#867).
dplyr,732,Removed bogus `NAs introduced by coercion to integer range` on 32-bit Windows (#2708).
dplyr,733,Fixed problem with test script on Windows.
dplyr,734,"`between()` vector function efficiently determines if numeric values fall in a range, and is translated to special form for SQL (#503)."
dplyr,735,`count()` makes it even easier to do (weighted) counts (#358).
dplyr,736,"`data_frame()` by @​kevinushey is a nicer way of creating data frames. It never coerces column types (no more `stringsAsFactors = FALSE`!), never munges column names, and never adds row names. You can use previously defined columns to compute new columns (#376)."
dplyr,737,`distinct()` returns distinct (unique) rows of a tbl (#97). Supply additional variables to return the first row for each unique combination of variables.
dplyr,738,"Set operations, `intersect()`, `union()` and `setdiff()` now have methods for data frames, data tables and SQL database tables (#93). They pass their arguments down to the base functions, which will ensure they raise errors if you pass in two many arguments."
dplyr,739,"Joins (e.g. `left_join()`, `inner_join()`, `semi_join()`, `anti_join()`) now allow you to join on different variables in `x` and `y` tables by supplying a named vector to `by`. For example, `by = c(""a"" = ""b"")` joins `x.a` to `y.b`."
dplyr,740,`n_groups()` function tells you how many groups in a tbl. It returns 1 for ungrouped data. (#477)
dplyr,741,`transmute()` works like `mutate()` but drops all variables that you didn't explicitly refer to (#302).
dplyr,742,`rename()` makes it easy to rename variables - it works similarly to `select()` but it preserves columns that you didn't otherwise touch.
dplyr,743,"`slice()` allows you to selecting rows by position (#226). It includes positive integers, drops negative integers and you can use expression like `n()`."
dplyr,744,You can now program with dplyr - every function that does non-standard evaluation (NSE) has a standard evaluation (SE) version ending in `_`. This is powered by the new lazyeval package which provides all the tools needed to implement NSE consistently and correctly.
dplyr,745,"See `vignette(""nse"")` for full details."
dplyr,746,`regroup()` is deprecated. Please use the more flexible `group_by_()` instead.
dplyr,747,`summarise_each_q()` and `mutate_each_q()` are deprecated. Please use `summarise_each_()` and `mutate_each_()` instead.
dplyr,748,`funs_q` has been replaced with `funs_`.
dplyr,749,`%.%` has been deprecated: please use `%>%` instead. `chain()` is defunct. (#518)
dplyr,750,`filter.numeric()` removed. Need to figure out how to reimplement with new lazy eval system.
dplyr,751,The `Progress` refclass is no longer exported to avoid conflicts with shiny. Instead use `progress_estimated()` (#535).
dplyr,752,"`src_monetdb()` is now implemented in MonetDB.R, not dplyr."
dplyr,753,`show_sql()` and `explain_sql()` and matching global options `dplyr.show_sql` and `dplyr.explain_sql` have been removed. Instead use `show_query()` and `explain()`.
dplyr,754,Main verbs now have individual documentation pages (#519).
dplyr,755,"`%>%` is simply re-exported from magrittr, instead of creating a local copy (#496, thanks to @​jimhester)"
dplyr,756,"Examples now use `nycflights13` instead of `hflights` because it the variables have better names and there are a few interlinked tables (#562). `Lahman` and `nycflights13` are (once again) suggested packages. This means many examples will not work unless you explicitly install them with `install.packages(c(""Lahman"", ""nycflights13""))` (#508). dplyr now depends on Lahman 3.0.1. A number of examples have been updated to reflect modified field names (#586)."
dplyr,757,"`do()` now displays the progress bar only when used in interactive prompts and not when knitting (#428, @​jimhester)."
dplyr,758,`glimpse()` now prints a trailing new line (#590).
dplyr,759,`group_by()` has more consistent behaviour when grouping by constants: it creates a new column with that value (#410). It renames grouping variables (#410). The first argument is now `.data` so you can create new groups with name x (#534).
dplyr,760,"Now instead of overriding `lag()`, dplyr overrides `lag.default()`, which should avoid clobbering lag methods added by other packages. (#277)."
dplyr,761,"`mutate(data, a = NULL)` removes the variable `a` from the returned dataset (#462)."
dplyr,762,`trunc_mat()` and hence `print.tbl_df()` and friends gets a `width` argument to control the default output width. Set `options(dplyr.width = Inf)` to always show all columns (#589).
dplyr,763,"`select()` gains `one_of()` selector: this allows you to select variables provided by a character vector (#396). It fails immediately if you give an empty pattern to `starts_with()`, `ends_with()`, `contains()` or `matches()` (#481, @​leondutoit). Fixed buglet in `select()` so that you can now create variables called `val` (#564)."
dplyr,764,Switched from RC to R6.
dplyr,765,"`tally()` and `top_n()` work consistently: neither accidentally evaluates the `wt` param. (#426, @​mnel)"
dplyr,766,`rename` handles grouped data (#640).
dplyr,767,"Correct SQL generation for `paste()` when used with the collapse parameter targeting a Postgres database. (@​rbdixon, #1357)"
dplyr,768,"The db backend system has been completely overhauled in order to make it possible to add backends in other packages, and to support a much wider range of databases. See `vignette(""new-sql-backend"")` for instruction on how to create your own (#568)."
dplyr,769,`src_mysql()` gains a method for `explain()`.
dplyr,770,"When `mutate()` creates a new variable that uses a window function, automatically wrap the result in a subquery (#484)."
dplyr,771,Correct SQL generation for `first()` and `last()` (#531).
dplyr,772,`order_by()` now works in conjunction with window functions in databases that support them.
dplyr,773,"All verbs now understand how to work with `difftime()` (#390) and `AsIs` (#453) objects. They all check that colnames are unique (#483), and are more robust when columns are not present (#348, #569, #600)."
dplyr,774,Hybrid evaluation bugs fixed:
dplyr,775,Call substitution stopped too early when a sub expression contained a `$` (#502).
dplyr,776,Handle `::` and `:::` (#412).
dplyr,777,`cumany()` and `cumall()` properly handle `NA` (#408).
dplyr,778,"`nth()` now correctly preserve the class when using dates, times and factors (#509)."
dplyr,779,no longer substitutes within `order_by()` because `order_by()` needs to do its own NSE (#169).
dplyr,780,"`[.tbl_df` always returns a tbl_df (i.e. `drop = FALSE` is the default) (#587, #610). `[.grouped_df` preserves important output attributes (#398)."
dplyr,781,"`arrange()` keeps the grouping structure of grouped data (#491, #605), and preserves input classes (#563)."
dplyr,782,"`contains()` accidentally matched regular expressions, now it passes `fixed = TRUE` to `grep()` (#608)."
dplyr,783,`filter()` asserts all variables are white listed (#566).
dplyr,784,`mutate()` makes a `rowwise_df` when given a `rowwise_df` (#463).
dplyr,785,`rbind_all()` creates `tbl_df` objects instead of raw `data.frame`s.
dplyr,786,"If `select()` doesn't match any variables, it returns a 0-column data frame, instead of the original (#498). It no longer fails when if some columns are not named (#492)"
dplyr,787,"`sample_n()` and `sample_frac()` methods for data.frames exported. (#405, @​alyst)"
dplyr,788,"A grouped data frame may have 0 groups (#486). Grouped df objects gain some basic validity checking, which should prevent some crashes related to corrupt `grouped_df` objects made by `rbind()` (#606)."
dplyr,789,"More coherence when joining columns of compatible but different types, e.g. when joining a character vector and a factor (#455), or a numeric and integer (#450)"
dplyr,790,"`mutate()` works for on zero-row grouped data frame, and with list columns (#555)."
dplyr,791,`LazySubset` was confused about input data size (#452).
dplyr,792,Internal `n_distinct()` is stricter about its inputs: it requires one symbol which must be from the data frame (#567).
dplyr,793,`rbind_*()` handle data frames with 0 rows (#597). They fill character vector columns with `NA` instead of blanks (#595). They work with list columns (#463).
dplyr,794,Improved handling of encoding for column names (#636).
dplyr,795,Improved handling of hybrid evaluation re \$ and @​ (#645).
dplyr,796,Fix major omission in `tbl_dt()` and `grouped_dt()` methods - I was accidentally doing a deep copy on every result :(
dplyr,797,"`summarise()` and `group_by()` now retain over-allocation when working with data.tables (#475, @​arunsrinivasan)."
dplyr,798,"joining two data.tables now correctly dispatches to data table methods, and result is a data table (#470)"
dplyr,799,`summarise.tbl_cube()` works with single grouping variable (#480).
dplyr,800,"`glimpse()` makes it possible to see all the columns in a tbl, displaying as much data for each variable as can be fit on a single line."
dplyr,801,`sample_n()` randomly samples a fixed number of rows from a tbl; `sample_frac()` randomly samples a fixed fraction of rows. Only works for local data frames and data tables (#202).
dplyr,802,`summarise_each()` and `mutate_each()` make it easy to apply one or more functions to multiple columns in a tbl (#178).
dplyr,803,"If you load plyr after dplyr, you'll get a message suggesting that you load plyr first (#347)."
dplyr,804,"`as.tbl_cube()` gains a method for matrices (#359, @​paulstaab)"
dplyr,805,"`compute()` gains `temporary` argument so you can control whether the results are temporary or permanent (#382, @​cpsievert)"
dplyr,806,"`group_by()` now defaults to `add = FALSE` so that it sets the grouping variables rather than adding to the existing list. I think this is how most people expected `group_by` to work anyway, so it's unlikely to cause problems (#385)."
dplyr,807,"Support for [MonetDB](http://www.monetdb.org) tables with `src_monetdb()` (#8, thanks to @​hannesmuehleisen)."
dplyr,808,New vignettes:
dplyr,809,`memory` vignette which discusses how dplyr minimises memory usage for local data frames (#198).
dplyr,810,`new-sql-backend` vignette which discusses how to add a new SQL backend/source to dplyr.
dplyr,811,`changes()` output more clearly distinguishes which columns were added or deleted.
dplyr,812,`explain()` is now generic.
dplyr,813,"dplyr is more careful when setting the keys of data tables, so it never accidentally modifies an object that it doesn't own. It also avoids unnecessary key setting which negatively affected performance. (#193, #255)."
dplyr,814,"`print()` methods for `tbl_df`, `tbl_dt` and `tbl_sql` gain `n` argument to control the number of rows printed (#362). They also works better when you have columns containing lists of complex objects."
dplyr,815,"`row_number()` can be called without arguments, in which case it returns the same as `1:n()` (#303)."
dplyr,816,"`""comment""` attribute is allowed (white listed) as well as names (#346)."
dplyr,817,"hybrid versions of `min`, `max`, `mean`, `var`, `sd` and `sum` handle the `na.rm` argument (#168). This should yield substantial performance improvements for those functions."
dplyr,818,Special case for call to `arrange()` on a grouped data frame with no arguments. (#369)
dplyr,819,Code adapted to Rcpp \> 0.11.1
dplyr,820,"internal `DataDots` class protects against missing variables in verbs (#314), including the case where `...` is missing. (#338)"
dplyr,821,`all.equal.data.frame` from base is no longer bypassed. we now have `all.equal.tbl_df` and `all.equal.tbl_dt` methods (#332).
dplyr,822,`arrange()` correctly handles NA in numeric vectors (#331) and 0 row data frames (#289).
dplyr,823,`copy_to.src_mysql()` now works on windows (#323)
dplyr,824,`*_join()` doesn't reorder column names (#324).
dplyr,825,`rbind_all()` is stricter and only accepts list of data frames (#288)
dplyr,826,`rbind_*` propagates time zone information for `POSIXct` columns (#298).
dplyr,827,`rbind_*` is less strict about type promotion. The numeric `Collecter` allows collection of integer and logical vectors. The integer `Collecter` also collects logical values (#321).
dplyr,828,internal `sum` correctly handles integer (under/over)flow (#308).
dplyr,829,`summarise()` checks consistency of outputs (#300) and drops `names` attribute of output columns (#357).
dplyr,830,"join functions throw error instead of crashing when there are no common variables between the data frames, and also give a better error message when only one data frame has a by variable (#371)."
dplyr,831,"`top_n()` returns `n` rows instead of `n - 1` (@​leondutoit, #367)."
dplyr,832,"SQL translation always evaluates subsetting operators (`$`, `[`, `[[`) locally. (#318)."
dplyr,833,`select()` now renames variables in remote sql tbls (#317) and implicitly adds grouping variables (#170).
dplyr,834,internal `grouped_df_impl` function errors if there are no variables to group by (#398).
dplyr,835,`n_distinct` did not treat NA correctly in the numeric case #384.
dplyr,836,Some compiler warnings triggered by -Wall or -pedantic have been eliminated.
dplyr,837,`group_by` only creates one group for NA (#401).
dplyr,838,Hybrid evaluator did not evaluate expression in correct environment (#403).
dplyr,839,`select()` actually renames columns in a data table (#284).
dplyr,840,`rbind_all()` and `rbind_list()` now handle missing values in factors (#279).
dplyr,841,SQL joins now work better if names duplicated in both x and y tables (#310).
dplyr,842,Builds against Rcpp 0.11.1
dplyr,843,`select()` correctly works with the vars attribute (#309).
dplyr,844,Internal code is stricter when deciding if a data frame is grouped (#308): this avoids a number of situations which previously caused problems.
dplyr,845,More data frame joins work with missing values in keys (#306).
dplyr,846,"`select()` is substantially more powerful. You can use named arguments to rename existing variables, and new functions `starts_with()`, `ends_with()`, `contains()`, `matches()` and `num_range()` to select variables based on their names. It now also makes a shallow copy, substantially reducing its memory impact (#158, #172, #192, #232)."
dplyr,847,`summarize()` added as alias for `summarise()` for people from countries that don't don't spell things correctly ;) (#245)
dplyr,848,"`filter()` now fails when given anything other than a logical vector, and correctly handles missing values (#249). `filter.numeric()` proxies `stats::filter()` so you can continue to use `filter()` function with numeric inputs (#264)."
dplyr,849,`summarise()` correctly uses newly created variables (#259).
dplyr,850,`mutate()` correctly propagates attributes (#265) and `mutate.data.frame()` correctly mutates the same variable repeatedly (#243).
dplyr,851,"`lead()` and `lag()` preserve attributes, so they now work with dates, times and factors (#166)."
dplyr,852,`n()` never accepts arguments (#223).
dplyr,853,`row_number()` gives correct results (#227).
dplyr,854,`rbind_all()` silently ignores data frames with 0 rows or 0 columns (#274).
dplyr,855,"`group_by()` orders the result (#242). It also checks that columns are of supported types (#233, #276)."
dplyr,856,"The hybrid evaluator did not handle some expressions correctly, for example in `if(n() > 5) 1 else 2` the subexpression `n()` was not substituted correctly. It also correctly processes `$` (#278)."
dplyr,857,`arrange()` checks that all columns are of supported types (#266). It also handles list columns (#282).
dplyr,858,Working towards Solaris compatibility.
dplyr,859,Benchmarking vignette temporarily disabled due to microbenchmark problems reported by BDR.
dplyr,860,new `location()` and `changes()` functions which provide more information about how data frames are stored in memory so that you can see what gets copied.
dplyr,861,renamed `explain_tbl()` to `explain()` (#182).
dplyr,862,`tally()` gains `sort` argument to sort output so highest counts come first (#173).
dplyr,863,"`ungroup.grouped_df()`, `tbl_df()`, `as.data.frame.tbl_df()` now only make shallow copies of their inputs (#191)."
dplyr,864,The `benchmark-baseball` vignette now contains fairer (including grouping times) comparisons with `data.table`. (#222)
dplyr,865,`filter()` (#221) and `summarise()` (#194) correctly propagate attributes.
dplyr,866,`summarise()` throws an error when asked to summarise an unknown variable instead of crashing (#208).
dplyr,867,`group_by()` handles factors with missing values (#183).
dplyr,868,"`filter()` handles scalar results (#217) and better handles scoping, e.g. `filter(., variable)` where `variable` is defined in the function that calls `filter`. It also handles `T` and `F` as aliases to `TRUE` and `FALSE` if there are no `T` or `F` variables in the data or in the scope."
dplyr,869,`select.grouped_df` fails when the grouping variables are not included in the selected variables (#170)
dplyr,870,`all.equal.data.frame()` handles a corner case where the data frame has `NULL` names (#217)
dplyr,871,`mutate()` gives informative error message on unsupported types (#179)
dplyr,872,"dplyr source package no longer includes pandas benchmark, reducing download size from 2.8 MB to 0.5 MB."
dtplyr,1,`reframe()` is now translated.
dtplyr,2,`consecutive_id()` is now mapped to `data.table::rleid()`. Note: `rleid()` only accepts vector inputs and cannot be used with data frame inputs.
dtplyr,3,`case_match()` is now translated to `fcase()`.
dtplyr,4,Can use `.data` in `lead()`/`lag()` (#441)
dtplyr,5,Can namespace calls to `desc()` (#427).
dtplyr,6,`case_when(.default = )` now works.
dtplyr,7,`.by` no longer alters grouping in prior steps (#439)
dtplyr,8,Arguments to `$` and `[[` calls are no longer prepended with `..` (#434)
dtplyr,9,Grouping now works with non-standard column names (#451)
dtplyr,10,Fix for failing R CMD check.
dtplyr,11,`dtplyr` no longer directly depends on `crayon`.
dtplyr,12,dplyr and tidyr verbs no longer dispatch to dtplyr translations when used directly on data.table objects. `lazy_dt()` must now explicitly be called by the user (#312).
dtplyr,13,`across()` output can now be used as a data frame (#341).
dtplyr,14,"`.by`/`by` has been implemented for `mutate()`, `summarise()`, `filter()`, and the `slice()` family (#399)."
dtplyr,15,"New translations for `add_count()`, `pick()` (#341), and `unite()`."
dtplyr,16,"`min_rank()`, `dense_rank()`, `percent_rank()`, & `cume_dist()` are now mapped to their `data.table` equivalents (#396)."
dtplyr,17,`arrange()` now utilizes `setorder()` when possible for improved performance (#364).
dtplyr,18,`select()` now drops columns by reference when possible for improved performance (#367).
dtplyr,19,`slice()` uses an intermediate variable to reduce computation time of row selection (#377).
dtplyr,20,dtplyr no longer directly depends on `ellipsis`.
dtplyr,21,Chained operations properly prevent modify-by-reference (#210).
dtplyr,22,"`across()`, `if_any()`, and `if_all()` evaluate the `.cols` argument in the environment from which the function was called."
dtplyr,23,`count()` properly handles grouping variables (#356).
dtplyr,24,`desc()` now supports use of `.data` pronoun inside in `arrange()` (#346).
dtplyr,25,`full_join()` now produces output with correctly named columns when a non-default value for `suffix` is supplied. Previously the `suffix` argument was ignored (#382).
dtplyr,26,"`if_any()` and `if_all()` now work without specifying the `.fns` argument (@​mgirlich, #325) and for a list of functions specified in the (@​mgirlich, #335)."
dtplyr,27,`pivot_wider()`'s `names_glue` now works even when `names_from` contains `NA`s (#394).
dtplyr,28,"In `semi_join()` the `y` table is again coerced to a lazy table if `copy = TRUE` (@​mgirlich, #322)."
dtplyr,29,`mutate()` can now use `.keep`.
dtplyr,30,`mutate()`/`summarize()` correctly translates anonymous functions (#362).
dtplyr,31,`mutate()`/`transmute()` now supports `glue::glue()` and `stringr::str_glue()` without specifying `.envir`.
dtplyr,32,`where()` now clearly errors because dtplyr doesn't support selection by predicate (#271).
dtplyr,33,Hot patch release to resolve R CMD check failures.
dtplyr,34,Fix for upcoming rlang release.
dtplyr,35,dtplyr gains translations for many more tidyr verbs:
dtplyr,36,"`drop_na()` (@​markfairbanks, #194)"
dtplyr,37,"`complete()` (@​markfairbanks, #225)"
dtplyr,38,"`expand()` (@​markfairbanks, #225)"
dtplyr,39,"`fill()` (@​markfairbanks, #197)"
dtplyr,40,"`pivot_longer()` (@​markfairbanks, #204)"
dtplyr,41,"`replace_na()` (@​markfairbanks, #202)"
dtplyr,42,"`nest()` (@​mgirlich, #251)"
dtplyr,43,"`separate()` (@​markfairbanks, #269)"
dtplyr,44,"`tally()` gains a translation (@​mgirlich, #201)."
dtplyr,45,"`ifelse()` is mapped to `fifelse()` (@​markfairbanks, #220)."
dtplyr,46,"`slice()` helpers (`slice_head()`, `slice_tail()`, `slice_min()`, `slice_max()` and `slice_sample()`) now accept negative values for `n` and `prop`."
dtplyr,47,"`across()` defaults to `everything()` when `.cols` isn't provided (@​markfairbanks, #231), and handles named selections (@​eutwt #293). It ˜ow handles `.fns` arguments in more forms (@​eutwt #288):"
dtplyr,48,"Anonymous functions, such as `function(x) x + 1`"
dtplyr,49,"Formulas which don't require a function call, such as `~ 1`"
dtplyr,50,"`arrange(dt, desc(col))` is translated to `dt[order(-col)]` in order to take advantage of data.table's fast order (@​markfairbanks, #227)."
dtplyr,51,"`count()` applied to data.tables no longer breaks when dtplyr is loaded (@​mgirlich, #201)."
dtplyr,52,`case_when()` supports use of `T` to specify the default (#272).
dtplyr,53,"`filter()` errors for named input, e.g. `filter(dt, x = 1)` (@​mgirlich, #267) and works for negated logical columns (@​mgirlich, @​211)."
dtplyr,54,"`group_by()` ungroups when no grouping variables are specified (@​mgirlich, #248), and supports inline mutation like `group_by(dt, y = x)` (@​mgirlich, #246)."
dtplyr,55,"`if_else()` named arguments are translated to the correct arguments in `data.table::fifelse()` (@​markfairbanks, #234). `if_else()` supports `.data` and `.env` pronouns (@​markfairbanks, #220)."
dtplyr,56,"`if_any()` and `if_all()` default to `everything()` when `.cols` isn't provided (@​eutwt, #294)."
dtplyr,57,`intersect()`/`union()`/`union_all()`/`setdiff()` convert data.table inputs to `lazy_dt()` (#278).
dtplyr,58,`lag()`/`lead()` are translated to `shift()`.
dtplyr,59,"`lazy_dt()` keeps groups (@​mgirlich, #206)."
dtplyr,60,"`left_join()` produces the same column order as dplyr (@​markfairbanks, #139)."
dtplyr,61,"`left_join()`, `right_join()`, `full_join()`, and `inner_join()` perform a cross join for `by = character()` (@​mgirlich, #242)."
dtplyr,62,"`left_join()`, `right_join()`, and `inner_join()` are always translated to the `[.data.table` equivalent. For simple merges the translation gets a bit longer but thanks to the simpler code base it helps to better handle names in `by` and duplicated variables names produced in the data.table join (@​mgirlich, #222)."
dtplyr,63,"`mutate()` and `transmute()` work when called without variables (@​mgirlich, #248)."
dtplyr,64,`mutate()` gains new experimental arguments `.before` and `.after` that allow you to control where the new columns are placed (to match dplyr 1.0.0) (@​eutwt #291).
dtplyr,65,"`mutate()` can modify grouping columns (instead of creating another column with the same name) (@​mgirlich, #246)."
dtplyr,66,`n_distinct()` is translated to `uniqueN()`.
dtplyr,67,"`tally()` and `count()` follow the dplyr convention of creating a unique name if the default output `name` (n) already exists (@​eutwt, #295)."
dtplyr,68,"`pivot_wider()` names the columns correctly when `names_from` is a numeric column (@​mgirlich, #214)."
dtplyr,69,"`pull()` supports the `name` argument (@​mgirlich, #263)."
dtplyr,70,`slice()` no longer returns excess rows (#10).
dtplyr,71,"`slice_*()` functions after `group_by()` are faster (@​mgirlich, #216)."
dtplyr,72,"`slice_max()` works when ordering by a character column (@​mgirlich, #218)."
dtplyr,73,"`summarise()` supports the `.groups` argument (@​mgirlich, #245)."
dtplyr,74,"`summarise()`, `tally()`, and `count()` can change the value of a grouping variables (@​eutwt, #295)."
dtplyr,75,"`transmute()` doesn't produce duplicate columns when assigning to the same variable (@​mgirlich, #249). It correctly flags grouping variables so they selected (@​mgirlich, #246)."
dtplyr,76,"`ungroup()` removes variables in `...` from grouping (@​mgirlich, #253)."
dtplyr,77,"All verbs now have (very basic) documentation pointing back to the dplyr generic, and providing a (very rough) description of the translation accompanied with a few examples."
dtplyr,78,"Passing a data.table to a dplyr generic now converts it to a `lazy_dt()`, making it a little easier to move between data.table and dplyr syntax."
dtplyr,79,dtplyr has been bought up to compatibility with dplyr 1.0.0. This includes new translations for:
dtplyr,80,"`across()`, `if_any()`, `if_all()` (#154)."
dtplyr,81,`count()` (#159).
dtplyr,82,"`relocate()` (@​smingerson, #162)."
dtplyr,83,`rename_with()` (#160)
dtplyr,84,"`slice_min()`, `slice_max()`, `slice_head()`, `slice_tail()`, and `slice_sample()` (#174). And `rename()` and `select()` now support dplyr 1.0.0 tidyselect syntax (apart from predicate functions which can't easily work on lazily evaluated data tables)."
dtplyr,85,"We have begun the process of adding translations for tidyr verbs beginning with `pivot_wider()` (@​markfairbanks, #189)."
dtplyr,86,`compute()` now creates an intermediate assignment within the translation. This will generally have little impact on performance but it allows you to use intermediate variables to simplify complex translations.
dtplyr,87,`case_when()` is now translated to `fcase()` (#190).
dtplyr,88,"`cur_data()` (`.SD`), `cur_group()` (`.BY`), `cur_group_id()` (`.GRP`), and `cur_group_rows() (`.I\`) are now tranlsated to their data.table equivalents (#166)."
dtplyr,89,`filter()` on grouped data nows use a much faster translation using on `.I` rather than `.SD` (and requiring an intermediate assignment) (#176). Thanks to suggestion from @​myoung3 and @​ColeMiller1.
dtplyr,90,Translation of individual expressions:
dtplyr,91,`x[[1]]` is now translated correctly.
dtplyr,92,"Anonymous functions are now preserved (@​smingerson, #155)"
dtplyr,93,Environment variables used in the `i` argument of `[.data.table` are now correctly inlined when not in the global environment (#164).
dtplyr,94,`T` and `F` are correctly translated to `TRUE` and `FALSE` (#140).
dtplyr,95,"Grouped filter, mutate, and slice no longer affect ordering of output (#178)."
dtplyr,96,`as_tibble()` gains a `.name_repair` argument (@​markfairbanks).
dtplyr,97,`as.data.table()` always calls `[]` so that the result will print (#146).
dtplyr,98,"`print.lazy_dt()` shows total rows, and grouping, if present."
dtplyr,99,`group_map()` and `group_walk()` are now translated (#108).
dtplyr,100,Better handling for `.data` and `.env` pronouns (#138).
dtplyr,101,dplyr verbs now work with `NULL` inputs (#129).
dtplyr,102,"joins do better job at determining output variables in the presence of duplicated outputs (#128). When joining based on different variables in `x` and `y`, joins consistently preserve column from `x`, not `y` (#137)."
dtplyr,103,`lazy_dt()` objects now have a useful `glimpse()` method (#132).
dtplyr,104,"`group_by()` now has an `arrange` parameter which, if set to `FALSE`, sets the data.table translation to use `by` rather than `keyby` (#85)."
dtplyr,105,"`rename()` now works without `data.table` attached, as intended (@​michaelchirico, #123)."
dtplyr,106,dtplyr has been re-licensed as MIT (#165).
dtplyr,107,"Converted from eager approach to lazy approach. You now must use `lazy_dt()` to begin a translation pipeline, and must use `collect()`, `as.data.table()`, `as.data.frame()`, or `as_tibble()` to finish the translation and actually perform the computation (#38). This represents a complete overhaul of the package replacing the eager evaluation used in the previous releases. This unfortunately breaks all existing code that used dtplyr, but frankly the previous version was extremely inefficient so offered little of data.table's impressive speed, and was used by very few people."
dtplyr,108,dtplyr provides methods for data.tables that warning you that they use the data frame implementation and you should use `lazy_dt()` (#77)
dtplyr,109,Joins now pass `...` on to data.table's merge method (#41).
dtplyr,110,"`ungroup()` now copies its input (@​christophsax, #54)."
dtplyr,111,"`mutate()` preserves grouping (@​christophsax, #17)."
dtplyr,112,"`if_else()` and `coalesce()` are mapped to data.table's `fifelse()` and `fcoalesce()` respectively (@​michaelchirico, #112)."
dtplyr,113,Maintenance release for CRAN checks.
dtplyr,114,"`inner_join()`, `left_join()`, `right_join()`, and `full_join()`: new `suffix` argument which allows you to control what suffix duplicated variable names receive, as introduced in dplyr 0.5 (#40, @​christophsax)."
dtplyr,115,"Joins use extended `merge.data.table()` and the `on` argument, introduced in data.table 1.9.6. Avoids copy and allows joins by different keys (#20, #21, @​christophsax)."
dtplyr,116,This is a compatibility release. It makes dtplyr compatible with dplyr 0.6.0 in addition to dplyr 0.5.0.
dtplyr,117,"`distinct()` gains `.keep_all` argument (#30, #31)."
dtplyr,118,Slightly improve test coverage (#6).
dtplyr,119,Install `devtools` from GitHub on Travis (#32).
dtplyr,120,"Joins return `data.table`. Right and full join are now implemented (#16, #19)."
dtplyr,121,Remove warnings from tests (#4).
dtplyr,122,Extracted from `dplyr` at revision e5f2952923028803.
ggplot2,1,"In the theme element hierarchy, parent elements that are a strict subclass of child elements now confer their subclass upon the children (#5457)."
ggplot2,2,"`ggsave()` no longer sometimes creates new directories, which is now controlled by the new `create.dir` argument (#5489)."
ggplot2,3,`guide_coloursteps(even.steps = FALSE)` now draws one rectangle per interval instead of many small ones (#5481).
ggplot2,4,(internal) guide building is now part of `ggplot_build()` instead of `ggplot_gtable()` to allow guides to observe unmapped data (#5483).
ggplot2,5,"`geom_violin()` gains a `bounds` argument analogous to `geom_density()`s (@​eliocamp, #5493)."
ggplot2,6,"Legend titles no longer take up space if they've been removed by setting `legend.title = element_blank()` (@​teunbrand, #3587)."
ggplot2,7,"New function `check_device()` for testing the availability of advanced graphics features introduced in R 4.1.0 onwards (@​teunbrand, #5332)."
ggplot2,8,"Failing to fit or predict in `stat_smooth()` now gives a warning and omits the failed group, instead of throwing an error (@​teunbrand, #5352)."
ggplot2,9,"`resolution()` has a small tolerance, preventing spuriously small resolutions due to rounding errors (@​teunbrand, #2516)."
ggplot2,10,"`stage()` now works correctly, even with aesthetics that do not have scales (#5408)"
ggplot2,11,"`labeller()` now handles unspecified entries from lookup tables (@​92amartins, #4599)."
ggplot2,12,"`fortify.default()` now accepts a data-frame-like object granted the object exhibits healthy `dim()`, `colnames()`, and `as.data.frame()` behaviors (@​hpages, #5390)."
ggplot2,13,"`ScaleContinuous$get_breaks()` now only calls `scales::zero_range()` on limits in transformed space, rather than in data space (#5304)."
ggplot2,14,"Scales throw more informative messages (@​teunbrand, #4185, #4258)"
ggplot2,15,"The `scale_name` argument in `continuous_scale()`, `discrete_scale()` and `binned_scale()` is soft-deprecated (@​teunbrand, #1312)."
ggplot2,16,"In `theme()`, some elements can be specified with `rel()` to inherit from `unit`-class objects in a relative fashion (@​teunbrand, #3951)."
ggplot2,17,"`stat_ydensity()` with incomplete groups calculates the default `width` parameter more stably (@​teunbrand, #5396)"
ggplot2,18,"`geom_boxplot()` gains a new argument, `staplewidth` that can draw staples at the ends of whiskers (@​teunbrand, #5126)"
ggplot2,19,The `size` argument in `annotation_logticks()` has been deprecated in favour of the `linewidth` argument (#5292).
ggplot2,20,"`geom_boxplot()` gains an `outliers` argument to switch outliers on or off, in a manner that does affects the scale range. For hiding outliers that does not affect the scale range, you can continue to use `outlier.shape = NA` (@​teunbrand, #4892)."
ggplot2,21,Binned scales now treat `NA`s in limits the same way continuous scales do (#5355).
ggplot2,22,"Binned scales work better with `trans = ""reverse""` (#5355)."
ggplot2,23,"The `legend.text.align` and `legend.title.align` arguments in `theme()` are deprecated. The `hjust` setting of the `legend.text` and `legend.title` elements continues to fulfil the role of text alignment (@​teunbrand, #5347)."
ggplot2,24,"Integers are once again valid input to theme arguments that expect numeric input (@​teunbrand, #5369)"
ggplot2,25,"Nicer error messages for xlim/ylim arguments in coord-\* functions (@​92amartins, #4601, #5297)."
ggplot2,26,`coord_sf()` now uses customisable guides provided in the scales or `guides()` function (@​teunbrand).
ggplot2,27,"Legends in `scale_*_manual()` can show `NA` values again when the `values` is a named vector (@​teunbrand, #5214, #5286)."
ggplot2,28,"`scale_*_manual()` with a named `values` argument now emits a warning when none of those names match the values found in the data (@​teunbrand, #5298)."
ggplot2,29,"`coord_munch()` can now close polygon shapes (@​teunbrand, #3271)"
ggplot2,30,"You can now omit either `xend` or `yend` from `geom_segment()` as only one of these is now required. If one is missing, it will be filled from the `x` and `y` aesthetics respectively. This makes drawing horizontal or vertical segments a little bit more convenient (@​teunbrand, #5140)."
ggplot2,31,"New `plot.tag.location` in `theme()` can control placement of the plot tag in the `""margin""`, `""plot""` or the new `""panel""` option (#4297)."
ggplot2,32,"`geom_text()` and `geom_label()` gained a `size.unit` parameter that set the text size to millimetres, points, centimetres, inches or picas (@​teunbrand, #3799)."
ggplot2,33,"The guide system, as the last remaining chunk of ggplot2, has been rewritten in ggproto. The axes and legends now inherit from a `<Guide>`{=html} class, which makes them extensible in the same manner as geoms, stats, facets and coords (#3329, @​teunbrand). In addition, the following changes were made:"
ggplot2,34,"A fallback for old S3 guides is encapsulated in the `GuideOld` ggproto class, which mostly just calls the old S3 generics."
ggplot2,35,"While the S3 guide generics are still in place, the S3 methods for `guide_train()`, `guide_merge()`, `guide_geom()`, `guide_transform()`, `guide_gengrob()` have been superseded by the respective ggproto methods. In practise, this will mean that `NextMethod()` or sub-classing ggplot2's guides with the S3 system will no longer work."
ggplot2,36,Styling theme parts of the guide now inherit from the plot's theme (#2728).
ggplot2,37,"Styling non-theme parts of the guides accept `<element>`{=html} objects, so that the following is possible: `guide_colourbar(frame = element_rect(...))`."
ggplot2,38,"Primary axis titles are now placed at the primary guide, so that `guides(x = guide_axis(position = ""top""))` will display the title at the top by default (#4650)."
ggplot2,39,Unknown secondary axis guide positions are now inferred as the opposite of the primary axis guide when the latter has a known `position` (#4650).
ggplot2,40,"`guide_colourbar()`, `guide_coloursteps()` and `guide_bins()` gain a `ticks.length` argument."
ggplot2,41,"In `guide_bins()`, the title no longer arbitrarily becomes offset from the guide when it has long labels."
ggplot2,42,The `order` argument of guides now strictly needs to be a length-1 integer (#4958).
ggplot2,43,"More informative error for mismatched `direction`/`theme(legend.direction = ...)` arguments (#4364, #4930)."
ggplot2,44,`guide_coloursteps()` and `guide_bins()` sort breaks (#5152).
ggplot2,45,`guide_axis()` gains a `minor.ticks` argument to draw minor ticks (#4387).
ggplot2,46,`guide_axis()` gains a `cap` argument that can be used to trim the axis line to extreme breaks (#4907).
ggplot2,47,`guide_colourbar()` and `guide_coloursteps()` merge properly when one of aesthetics is dropped (#5324).
ggplot2,48,Fixed regression in `guide_legend()` where the `linewidth` key size wasn't adapted to the width of the lines (#5160).
ggplot2,49,"`geom_label()` now uses the `angle` aesthetic (@​teunbrand, #2785)"
ggplot2,50,"'lines' units in `geom_label()`, often used in the `label.padding` argument, are now are relative to the text size. This causes a visual change, but fixes a misalignment issue between the textbox and text (@​teunbrand, #4753)"
ggplot2,51,The `label.padding` argument in `geom_label()` now supports inputs created with the `margin()` function (#5030).
ggplot2,52,"As an internal change, the `titleGrob()` has been refactored to be faster."
ggplot2,53,"The `translate_shape_string()` internal function is now exported for use in extensions of point layers (@​teunbrand, #5191)."
ggplot2,54,"Fixed bug in `coord_sf()` where graticule lines didn't obey `panel.grid.major`'s linewidth setting (@​teunbrand, #5179)"
ggplot2,55,"Fixed bug in `annotation_logticks()` when no suitable tick positions could be found (@​teunbrand, #5248)."
ggplot2,56,"To improve `width` calculation in bar plots with empty factor levels, `resolution()` considers `mapped_discrete` values as having resolution 1 (@​teunbrand, #5211)"
ggplot2,57,"When `geom_path()` has aesthetics varying within groups, the `arrow()` is applied to groups instead of individual segments (@​teunbrand, #4935)."
ggplot2,58,"The default width of `geom_bar()` is now based on panel-wise resolution of the data, rather than global resolution (@​teunbrand, #4336)."
ggplot2,59,"To apply dodging more consistently in violin plots, `stat_ydensity()` now has a `drop` argument to keep or discard groups with 1 observation."
ggplot2,60,"Aesthetics listed in `geom_*()` and `stat_*()` layers now point to relevant documentation (@​teunbrand, #5123)."
ggplot2,61,"`coord_flip()` has been marked as superseded. The recommended alternative is to swap the `x` and `y` aesthetic and/or using the `orientation` argument in a layer (@​teunbrand, #5130)."
ggplot2,62,"`stat_align()` is now applied per panel instead of globally, preventing issues when facets have different ranges (@​teunbrand, #5227)."
ggplot2,63,"A stacking bug in `stat_align()` was fixed (@​teunbrand, #5176)."
ggplot2,64,"`stat_contour()` and `stat_contour_filled()` now warn about and remove duplicated coordinates (@​teunbrand, #5215)."
ggplot2,65,"Improve performance of layers without positional scales (@​zeehio, #4990)"
ggplot2,66,"`fortify()` for sp objects (e.g., `SpatialPolygonsDataFrame`) is now deprecated and will be removed soon in support of [the upcoming retirement of rgdal, rgeos, and maptools](https://r-spatial.org/r/2023/05/15/evolution4.html). In advance of the whole removal, `fortify(<SpatialPolygonsDataFrame>, region = ...)` no longer works as of this version (@​yutannihilation, #5244)."
ggplot2,67,"Various type checks and their messages have been standardised (@​teunbrand, #4834)."
ggplot2,68,"ggplot2 now uses `scales::DiscreteRange` and `scales::ContinuousRange`, which are available to write scale extensions from scratch (@​teunbrand, #2710)."
ggplot2,69,"The `layer_data()`, `layer_scales()` and `layer_grob()` now have the default `plot = last_plot()` (@​teunbrand, #5166)."
ggplot2,70,"The `datetime_scale()` scale constructor is now exported for use in extension packages (@​teunbrand, #4701)."
ggplot2,71,"`update_geom_defaults()` and `update_stat_defaults()` now return properly classed objects and have updated docs (@​dkahle, #5146)."
ggplot2,72,"For the purposes of checking required or non-missing aesthetics, character vectors are no longer considered non-finite (@​teunbrand, @​4284)."
ggplot2,73,"`annotation_logticks()` skips drawing ticks when the scale range is non-finite instead of throwing an error (@​teunbrand, #5229)."
ggplot2,74,"Fixed spurious warnings when the `weight` was used in `stat_bin_2d()`, `stat_boxplot()`, `stat_contour()`, `stat_bin_hex()` and `stat_quantile()` (@​teunbrand, #5216)."
ggplot2,75,"To prevent changing the plotting order, `stat_sf()` is now computed per panel instead of per group (@​teunbrand, #4340)."
ggplot2,76,"Fixed bug in `coord_sf()` where graticule lines didn't obey `panel.grid.major`'s linewidth setting (@​teunbrand, #5179)."
ggplot2,77,"`geom_text()` drops observations where `angle = NA` instead of throwing an error (@​teunbrand, #2757)."
ggplot2,78,"The computed variable `y` in `stat_ecdf()` has been superseded by `ecdf` to prevent incorrect scale transformations (@​teunbrand, #5113 and #5112)."
ggplot2,79,"Added `scale_linewidth_manual()` and `scale_linewidth_identity()` to support the `linewidth` aesthetic (@​teunbrand, #5050)."
ggplot2,80,"`ggsave()` warns when multiple `filename`s are given, and only writes to the first file (@​teunbrand, #5114)."
ggplot2,81,"Fixed a regression in `geom_hex()` where aesthetics were replicated across bins (@​thomasp85, #5037 and #5044)."
ggplot2,82,"Using two ordered factors as facetting variables in `facet_grid(..., as.table = FALSE)` now throws a warning instead of an error (@​teunbrand, #5109)."
ggplot2,83,"Fixed misbehaviour of `draw_key_boxplot()` and `draw_key_crossbar()` with skewed key aspect ratio (@​teunbrand, #5082)."
ggplot2,84,"Fixed spurious warning when `weight` aesthetic was used in `stat_smooth()` (@​teunbrand based on @​clauswilke's suggestion, #5053)."
ggplot2,85,The `lwd` alias is now correctly replaced by `linewidth` instead of `size` (@​teunbrand based on @​clauswilke's suggestion #5051).
ggplot2,86,"Fixed a regression in `Coord$train_panel_guides()` where names of guides were dropped (@​maxsutton, #5063)."
ggplot2,87,"Automatic breaks should no longer be out-of-bounds, and automatic limits are adjusted to include breaks (@​teunbrand, #5082)."
ggplot2,88,"Zero-range limits no longer throw an error and are treated akin to continuous scales with zero-range limits (@​teunbrand, #5066)."
ggplot2,89,"The `trans = ""date""` and `trans = ""time""` transformations were made compatible (@​teunbrand, #4217)."
ggplot2,90,"A `linewidth` aesthetic has been introduced and supersedes the `size` aesthetic for scaling the width of lines in line based geoms. `size` will remain functioning but deprecated for these geoms and it is recommended to update all code to reflect the new aesthetic. For geoms that have *both* point sizing and linewidth sizing (`geom_pointrange()` and `geom_sf`) `size` now **only** refers to sizing of points which can leads to a visual change in old code (@​thomasp85, #3672)"
ggplot2,91,The default line width for polygons in `geom_sf()` have been decreased to 0.2 to reflect that this is usually used for demarking borders where a thinner line is better suited. This change was made since we already induced a visual change in `geom_sf()` with the introduction of the `linewidth` aesthetic.
ggplot2,92,"The dot-dot notation (`..var..`) and `stat()`, which have been superseded by `after_stat()`, are now formally deprecated (@​yutannihilation, #3693)."
ggplot2,93,"`qplot()` is now formally deprecated (@​yutannihilation, #3956)."
ggplot2,94,"`stage()` now properly refers to the values without scale transformations for the stage of `after_stat`. If your code requires the scaled version of the values for some reason, you have to apply the same transformation by yourself, e.g. `sqrt()` for `scale_{x,y}_sqrt()` (@​yutannihilation and @​teunbrand, #4155)."
ggplot2,95,"Use `rlang::hash()` instead of `digest::digest()`. This update may lead to changes in the automatic sorting of legends. In order to enforce a specific legend order use the `order` argument in the guide. (@​thomasp85, #4458)"
ggplot2,96,referring to `x` in backquoted expressions with `label_bquote()` is no longer possible.
ggplot2,97,The `ticks.linewidth` and `frame.linewidth` parameters of `guide_colourbar()` are now multiplied with `.pt` like elsewhere in ggplot2. It can cause visual changes when these arguments are not the defaults and these changes can be restored to their previous behaviour by adding `/ .pt` (@​teunbrand #4314).
ggplot2,98,"`scale_*_viridis_b()` now uses the full range of the viridis scales (@​gregleleu, #4737)"
ggplot2,99,"`geom_col()` and `geom_bar()` gain a new `just` argument. This is set to `0.5` by default; use `just = 0`/`just = 1` to place columns on the left/right of the axis breaks. (@​wurli, #4899)"
ggplot2,100,"`geom_density()` and `stat_density()` now support `bounds` argument to estimate density with boundary correction (@​echasnovski, #4013)."
ggplot2,101,"ggplot now checks during statistical transformations whether any data columns were dropped and warns about this. If stats intend to drop data columns they can declare them in the new field `dropped_aes`. (@​clauswilke, #3250)"
ggplot2,102,"`...` supports `rlang::list2` dynamic dots in all public functions. (@​mone27, #4764)"
ggplot2,103,"`theme()` now has a `strip.clip` argument, that can be set to `""off""` to prevent the clipping of strip text and background borders (@​teunbrand, #4118)"
ggplot2,104,"`geom_contour()` now accepts a function in the `breaks` argument (@​eliocamp, #4652)."
ggplot2,105,"Fix a bug in `position_jitter()` where infinity values were dropped (@​javlon, #4790)."
ggplot2,106,"`geom_linerange()` now respects the `na.rm` argument (#4927, @​thomasp85)"
ggplot2,107,"Improve the support for `guide_axis()` on `coord_trans()` (@​yutannihilation, #3959)"
ggplot2,108,"Added `stat_align()` to align data without common x-coordinates prior to stacking. This is now the default stat for `geom_area()` (@​thomasp85, #4850)"
ggplot2,109,"Fix a bug in `stat_contour_filled()` where break value differences below a certain number of digits would cause the computations to fail (@​thomasp85, #4874)"
ggplot2,110,"Secondary axis ticks are now positioned more precisely, removing small visual artefacts with alignment between grid and ticks (@​thomasp85, #3576)"
ggplot2,111,"Improve `stat_function` documentation regarding `xlim` argument. (@​92amartins, #4474)"
ggplot2,112,"Fix various issues with how `labels`, `breaks`, `limits`, and `show.limits` interact in the different binning guides (@​thomasp85, #4831)"
ggplot2,113,"Automatic break calculation now squishes the scale limits to the domain of the transformation. This allows `scale_{x/y}_sqrt()` to find breaks at 0\ when appropriate (@​teunbrand, #980)."
ggplot2,114,"Using multiple modified aesthetics correctly will no longer trigger warnings. If used incorrectly, the warning will now report the duplicated aesthetic instead of `NA` (@​teunbrand, #4707)."
ggplot2,115,`aes()` now supports the `!!!` operator in its first two arguments (#2675). Thanks to @​yutannihilation and @​teunbrand for draft implementations.
ggplot2,116,"Require rlang \>= 1.0.0 (@​billybarc, #4797)"
ggplot2,117,"`geom_violin()` no longer issues ""collapsing to unique 'x' values"" warning (@​bersbersbers, #4455)"
ggplot2,118,"`annotate()` now documents unsupported geoms (`geom_abline()`, `geom_hline()` and `geom_vline()`), and warns when they are requested (@​mikmart, #4719)"
ggplot2,119,"`presidential` dataset now includes Trump's presidency (@​bkmgit, #4703)."
ggplot2,120,"`position_stack()` now works fully with `geom_text()` (@​thomasp85, #4367)"
ggplot2,121,"`geom_tile()` now correctly recognises missing data in `xmin`, `xmax`, `ymin`, and `ymax` (@​thomasp85 and @​sigmapi, #4495)"
ggplot2,122,"`geom_hex()` will now use the binwidth from `stat_bin_hex()` if present, instead of deriving it (@​thomasp85, #4580)"
ggplot2,123,`geom_hex()` now works on non-linear coordinate systems (@​thomasp85)
ggplot2,124,"Fixed a bug throwing errors when trying to render an empty plot with secondary axes (@​thomasp85, #4509)"
ggplot2,125,"Axes are now added correctly in `facet_wrap()` when `as.table = FALSE` (@​thomasp85, #4553)"
ggplot2,126,"Better compatibility of custom device functions in `ggsave()` (@​thomasp85, #4539)"
ggplot2,127,"Binning scales are now more resilient to calculated limits that ends up being `NaN` after transformations (@​thomasp85, #4510)"
ggplot2,128,"Strip padding in `facet_grid()` is now only in effect if `strip.placement = ""outside""` *and* an axis is present between the strip and the panel (@​thomasp85, #4610)"
ggplot2,129,"Aesthetics of length 1 are now recycled to 0 if the length of the data is 0 (@​thomasp85, #4588)"
ggplot2,130,"Setting `size = NA` will no longer cause `guide_legend()` to error (@​thomasp85, #4559)"
ggplot2,131,"Setting `stroke` to `NA` in `geom_point()` will no longer impair the sizing of the points (@​thomasp85, #4624)"
ggplot2,132,"`stat_bin_2d()` now correctly recognises the `weight` aesthetic (@​thomasp85, #4646)"
ggplot2,133,"All geoms now have consistent exposure of linejoin and lineend parameters, and the guide keys will now respect these settings (@​thomasp85, #4653)"
ggplot2,134,"`geom_sf()` now respects `arrow` parameter for lines (@​jakeruss, #4659)"
ggplot2,135,"Updated documentation for `print.ggplot` to reflect that it returns the original plot, not the result of `ggplot_build()`. (@​r2evans, #4390)"
ggplot2,136,"`scale_*_manual()` no longer displays extra legend keys, or changes their order, when a named `values` argument has more items than the data. To display all `values` on the legend instead, use `scale_*_manual(values = vals, limits = names(vals))`. (@​teunbrand, @​banfai, #4511, #4534)"
ggplot2,137,"Updated documentation for `geom_contour()` to correctly reflect argument precedence between `bins` and `binwidth`. (@​eliocamp, #4651)"
ggplot2,138,"Dots in `geom_dotplot()` are now correctly aligned to the baseline when `stackratio != 1` and `stackdir != ""up""` (@​mjskay, #4614)"
ggplot2,139,"Key glyphs for `geom_boxplot()`, `geom_crossbar()`, `geom_pointrange()`, and `geom_linerange()` are now orientation-aware (@​mjskay, #4732)"
ggplot2,140,"Updated documentation for `geom_smooth()` to more clearly describe effects of the `fullrange` parameter (@​thoolihan, #4399)."
ggplot2,141,"Revert changes made in #4434 (apply transform to intercept in `geom_abline()`) as it introduced undesirable issues far worse than the bug it fixed (@​thomasp85, #4514)"
ggplot2,142,"Fixes an issue in `ggsave()` when producing emf/wmf files (@​yutannihilation, #4521)"
ggplot2,143,"Warn when grDevices specific arguments are passed to ragg devices (@​thomasp85, #4524)"
ggplot2,144,"Fix an issue where `coord_sf()` was reporting that it is non-linear even when data is provided in projected coordinates (@​clauswilke, #4527)"
ggplot2,145,"Alt-text can now be added to a plot using the `alt` label, i.e `+ labs(alt = ...)`. Currently this alt text is not automatically propagated, but we plan to integrate into Shiny, RMarkdown, and other tools in the future. (@​thomasp85, #4477)"
ggplot2,146,"Add support for the BrailleR package for creating descriptions of the plot when rendered (@​thomasp85, #4459)"
ggplot2,147,"`coord_sf()` now has an argument `default_crs` that specifies the coordinate reference system (CRS) for non-sf layers and scale/coord limits. This argument defaults to `NULL`, which means non-sf layers are assumed to be in projected coordinates, as in prior ggplot2 versions. Setting `default_crs = sf::st_crs(4326)` provides a simple way to interpret x and y positions as longitude and latitude, regardless of the CRS used by `coord_sf()`. Authors of extension packages implementing `stat_sf()`-like functionality are encouraged to look at the source code of `stat_sf()`'s `compute_group()` function to see how to provide scale-limit hints to `coord_sf()` (@​clauswilke, #3659)."
ggplot2,148,"`ggsave()` now uses ragg to render raster output if ragg is available. It also handles custom devices that sets a default unit (e.g. `ragg::agg_png`) correctly (@​thomasp85, #4388)"
ggplot2,149,"`ggsave()` now returns the saved file location invisibly (#3379, @​eliocamp). Note that, as a side effect, an unofficial hack `<ggplot object> + ggsave()` no longer works (#4513)."
ggplot2,150,"The scale arguments `limits`, `breaks`, `minor_breaks`, `labels`, `rescaler` and `oob` now accept purrr style lambda notation (@​teunbrand, #4427). The same is true for `as_labeller()` (and therefore also `labeller()`) (@​netique, #4188)."
ggplot2,151,"Manual scales now allow named vectors passed to `values` to contain fewer elements than existing in the data. Elements not present in values will be set to `NA` (@​thomasp85, #3451)"
ggplot2,152,"Date and datetime position scales support out-of-bounds (oob) arguments to control how limits affect data outside those limits (@​teunbrand, #4199)."
ggplot2,153,"Fix a bug that `after_stat()` and `after_scale()` cannot refer to aesthetics if it's specified in the plot-global mapping (@​yutannihilation, #4260)."
ggplot2,154,"Fix bug in `annotate_logticks()` that would cause an error when used together with `coord_flip()` (@​thomasp85, #3954)"
ggplot2,155,"Fix a bug in `geom_abline()` that resulted in `intercept` not being subjected to the transformation of the y scale (@​thomasp85, #3741)"
ggplot2,156,"Extent the range of the line created by `geom_abline()` so that line ending is not visible for large linewidths (@​thomasp85, #4024)"
ggplot2,157,"Fix bug in `geom_dotplot()` where dots would be positioned wrong with `stackgroups = TRUE` (@​thomasp85, #1745)"
ggplot2,158,"Fix calculation of confidence interval for locfit smoothing in `geom_smooth()` (@​topepo, #3806)"
ggplot2,159,"Fix bug in `geom_text()` where `""outward""` and `""inward""` justification for some `angle` values was reversed (@​aphalo, #4169, #4447)"
ggplot2,160,"`ggsave()` now sets the default background to match the fill value of the `plot.background` theme element (@​karawoo, #4057)"
ggplot2,161,"It is now deprecated to specify `guides(<scale> = FALSE)` or `scale_*(guide = FALSE)` to remove a guide. Please use `guides(<scale> = ""none"")` or `scale_*(guide = ""none"")` instead (@​yutannihilation, #4097)"
ggplot2,162,"Fix a bug in `guide_bins()` where keys would disappear if the guide was reversed (@​thomasp85, #4210)"
ggplot2,163,"Fix bug in `guide_coloursteps()` that would repeat the terminal bins if the breaks coincided with the limits of the scale (@​thomasp85, #4019)"
ggplot2,164,"Make sure that default labels from default mappings doesn't overwrite default labels from explicit mappings (@​thomasp85, #2406)"
ggplot2,165,"Fix bug in `labeller()` where parsing was turned off if `.multiline = FALSE` (@​thomasp85, #4084)"
ggplot2,166,"Make sure `label_bquote()` has access to the calling environment when evaluating the labels (@​thomasp85, #4141)"
ggplot2,167,"Fix a bug in the layer implementation that introduced a new state after the first render which could lead to a different look when rendered the second time (@​thomasp85, #4204)"
ggplot2,168,"Fix a bug in legend justification where justification was lost of the legend dimensions exceeded the available size (@​thomasp85, #3635)"
ggplot2,169,"Fix a bug in `position_dodge2()` where `NA` values in thee data would cause an error (@​thomasp85, #2905)"
ggplot2,170,"Make sure `position_jitter()` creates the same jittering independent of whether it is called by name or with constructor (@​thomasp85, #2507)"
ggplot2,171,"Fix a bug in `position_jitter()` where different jitters would be applied to different position aesthetics of the same axis (@​thomasp85, #2941)"
ggplot2,172,"Fix a bug in `qplot()` when supplying `c(NA, NA)` as axis limits (@​thomasp85, #4027)"
ggplot2,173,"Remove cross-inheritance of default discrete colour/fill scales and check the type and aesthetic of function output if `type` is a function (@​thomasp85, #4149)"
ggplot2,174,"Fix bug in `scale_[x|y]_date()` where custom breaks functions that resulted in fractional dates would get misaligned (@​thomasp85, #3965)"
ggplot2,175,"Fix bug in `scale_[x|y]_datetime()` where a specified timezone would be ignored by the scale (@​thomasp85, #4007)"
ggplot2,176,"Fix issue in `sec_axis()` that would throw warnings in the absence of any secondary breaks (@​thomasp85, #4368)"
ggplot2,177,`stat_bin()`'s computed variable `width` is now documented (#3522).
ggplot2,178,"`stat_count()` now computes width based on the full dataset instead of per group (@​thomasp85, #2047)"
ggplot2,179,"Extended `stat_ecdf()` to calculate the cdf from either x or y instead from y only (@​jgjl, #4005)"
ggplot2,180,"Fix a bug in `stat_summary_bin()` where one more than the requested number of bins would be created (@​thomasp85, #3824)"
ggplot2,181,"Only drop groups in `stat_ydensity()` when there are fewer than two data points and throw a warning (@​andrewwbutler, #4111)."
ggplot2,182,"Fixed a bug in strip assembly when theme has `strip.text = element_blank()` and plots are faceted with multi-layered strips (@​teunbrand, #4384)."
ggplot2,183,"Using `theme(aspect.ratio = ...)` together with free space in `facet_grid()` now correctly throws an error (@​thomasp85, #3834)"
ggplot2,184,"Fixed a bug in `labeller()` so that `.default` is passed to `as_labeller()` when labellers are specified by naming faceting variables. (@​waltersom, #4031)"
ggplot2,185,"Updated style for example code (@​rjake, #4092)"
ggplot2,186,ggplot2 now requires R \>= 3.3 (#4247).
ggplot2,187,"ggplot2 now uses `rlang::check_installed()` to check if a suggested package is installed, which will offer to install the package before continuing (#4375, 1)"
ggplot2,188,"Improved error with hint when piping a `ggplot` object into a facet function (#4379, @​mitchelloharawild)."
ggplot2,189,"Update the ggplot2 licence to an MIT license (#4231, #4232, #4233, and #4281)"
ggplot2,190,Use vdiffr conditionally so ggplot2 can be tested on systems without vdiffr
ggplot2,191,Update tests to work with the new `all.equal()` defaults in R \>4.0.3
ggplot2,192,"Fixed a bug that `guide_bins()` mistakenly ignore `override.aes` argument (@​yutannihilation, #4085)."
ggplot2,193,"Added an `outside` option to `annotation_logticks()` that places tick marks outside of the plot bounds. (#3783, @​kbodwin)"
ggplot2,194,"`annotation_raster()` adds support for native rasters. For large rasters, native rasters render significantly faster than arrays (@​kent37, #3388)"
ggplot2,195,"Facet strips now have dedicated position-dependent theme elements (`strip.text.x.top`, `strip.text.x.bottom`, `strip.text.y.left`, `strip.text.y.right`) that inherit from `strip.text.x` and `strip.text.y`, respectively. As a consequence, some theme stylings now need to be applied to the position-dependent elements rather than to the parent elements. This change was already introduced in ggplot2 3.3.0 but not listed in the changelog. (@​thomasp85, #3683)"
ggplot2,196,"Facets now handle layers containing no data (@​yutannihilation, #3853)."
ggplot2,197,"A newly added geom `geom_density_2d_filled()` and associated stat `stat_density_2d_filled()` can draw filled density contours (@​clauswilke, #3846)."
ggplot2,198,"A newly added `geom_function()` is now recommended to use in conjunction with/instead of `stat_function()`. In addition, `stat_function()` now works with transformed y axes, e.g. `scale_y_log10()`, and in plots containing no other data or layers (@​clauswilke, #3611, #3905, #3983)."
ggplot2,199,"Fixed a bug in `geom_sf()` that caused problems with legend-type autodetection (@​clauswilke, #3963)."
ggplot2,200,"Support graphics devices that use the `file` argument instead of `fileneame` in `ggsave()` (@​bwiernik, #3810)"
ggplot2,201,"Default discrete color scales are now configurable through the `options()` of `ggplot2.discrete.colour` and `ggplot2.discrete.fill`. When set to a character vector of colour codes (or list of character vectors) with sufficient length, these colours are used for the default scale. See `help(scale_colour_discrete)` for more details and examples (@​cpsievert, #3833)."
ggplot2,202,"Default continuous colour scales (i.e., the `options()` `ggplot2.continuous.colour` and `ggplot2.continuous.fill`, which inform the `type` argument of `scale_fill_continuous()` and `scale_colour_continuous()`) now accept a function, which allows more control over these default `continuous_scale()`s (@​cpsievert, #3827)."
ggplot2,203,"A bug was fixed in `stat_contour()` when calculating breaks based on the `bins` argument (@​clauswilke, #3879, #4004)."
ggplot2,204,"Data columns can now contain `Vector` S4 objects, which are widely used in the Bioconductor project. (@​teunbrand, #3837)"
ggplot2,205,"The `panel_params` field in the `Layout` now contains a list of list of `ViewScale` objects, describing the trained coordinate system scales, instead of the list object used before. Any extensions that use this field will likely break, as will unit tests that checks aspects of this."
ggplot2,206,"`element_text()` now issues a warning when vectorized arguments are provided, as in `colour = c(""red"", ""green"", ""blue"")`. Such use is discouraged and not officially supported (@​clauswilke, #3492)."
ggplot2,207,"Changed `theme_grey()` setting for legend key so that it creates no border (`NA`) rather than drawing a white one. (@​annennenne, #3180)"
ggplot2,208,"`geom_ribbon()` now draws separate lines for the upper and lower intervals if `colour` is mapped. Similarly, `geom_area()` and `geom_density()` now draw the upper lines only in the same case by default. If you want old-style full stroking, use `outline.type = ""full""` (@​yutannihilation, #3503 / @​thomasp85, #3708)."
ggplot2,209,"The evaluation time of aesthetics can now be controlled to a finer degree. `after_stat()` supersedes the use of `stat()` and `..var..`-notation, and is joined by `after_scale()` to allow for mapping to scaled aesthetic values. Remapping of the same aesthetic is now supported with `stage()`, so you can map a data variable to a stat aesthetic, and remap the same aesthetic to something else after statistical transformation (@​thomasp85, #3534)"
ggplot2,210,"All `coord_*()` functions with `xlim` and `ylim` arguments now accept vectors with `NA` as a placeholder for the minimum or maximum value (e.g., `ylim = c(0, NA)` would zoom the y-axis from 0 to the maximum value observed in the data). This mimics the behaviour of the `limits` argument in continuous scale functions (@​paleolimbot, #2907)."
ggplot2,211,"Allowed reversing of discrete scales by re-writing `get_limits()` (@​AnneLyng, #3115)"
ggplot2,212,"All geoms and stats that had a direction (i.e. where the x and y axes had different interpretation), can now freely choose their direction, instead of relying on `coord_flip()`. The direction is deduced from the aesthetic mapping, but can also be specified directly with the new `orientation` argument (@​thomasp85, #3506)."
ggplot2,213,"Position guides can now be customized using the new `guide_axis()`, which can be passed to position `scale_*()` functions or via `guides()`. The new axis guide (`guide_axis()`) comes with arguments `check.overlap` (automatic removal of overlapping labels), `angle` (easy rotation of axis labels), and `n.dodge` (dodge labels into multiple rows/columns) (@​paleolimbot, #3322)."
ggplot2,214,"A new scale type has been added, that allows binning of aesthetics at the scale level. It has versions for both position and non-position aesthetics and comes with two new guides (`guide_bins` and `guide_coloursteps`) (@​thomasp85, #3096)"
ggplot2,215,"`scale_x_continuous()` and `scale_y_continuous()` gains an `n.breaks` argument guiding the number of automatic generated breaks (@​thomasp85, #3102)"
ggplot2,216,"Added `stat_contour_filled()` and `geom_contour_filled()`, which compute and draw filled contours of gridded data (@​paleolimbot, #3044). `geom_contour()` and `stat_contour()` now use the isoband package to compute contour lines. The `complete` parameter (which was undocumented and has been unused for at least four years) was removed (@​paleolimbot, #3044)."
ggplot2,217,"Themes have gained two new parameters, `plot.title.position` and `plot.caption.position`, that can be used to customize how plot title/subtitle and plot caption are positioned relative to the overall plot (@​clauswilke, #3252)."
ggplot2,218,"`Geom` now gains a `setup_params()` method in line with the other ggproto classes (@​thomasp85, #3509)"
ggplot2,219,"The newly added function `register_theme_elements()` now allows developers of extension packages to define their own new theme elements and place them into the ggplot2 element tree (@​clauswilke, #2540)."
ggplot2,220,"`coord_trans()` now draws second axes and accepts `xlim`, `ylim`, and `expand` arguments to bring it up to feature parity with `coord_cartesian()`. The `xtrans` and `ytrans` arguments that were deprecated in version 1.0.1 in favour of `x` and `y` were removed (@​paleolimbot, #2990)."
ggplot2,221,"`coord_trans()` now calculates breaks using the expanded range (previously these were calculated using the unexpanded range, which resulted in differences between plots made with `coord_trans()` and those made with `coord_cartesian()`). The expansion for discrete axes in `coord_trans()` was also updated such that it behaves identically to that in `coord_cartesian()` (@​paleolimbot, #3338)."
ggplot2,222,`expand_scale()` was deprecated in favour of `expansion()` for setting the `expand` argument of `x` and `y` scales (@​paleolimbot).
ggplot2,223,"`geom_abline()`, `geom_hline()`, and `geom_vline()` now issue more informative warnings when supplied with set aesthetics (i.e., `slope`, `intercept`, `yintercept`, and/or `xintercept`) and mapped aesthetics (i.e., `data` and/or `mapping`)."
ggplot2,224,"Fix a bug in `geom_raster()` that squeezed the image when it went outside scale limits (#3539, @​thomasp85)"
ggplot2,225,"`geom_sf()` now determines the legend type automatically (@​microly, #3646)."
ggplot2,226,"`geom_sf()` now removes rows that can't be plotted due to `NA` aesthetics (#3546, @​thomasp85)"
ggplot2,227,"`geom_sf()` now applies alpha to linestring geometries (#3589, @​yutannihilation)."
ggplot2,228,"`gg_dep()` was deprecated (@​perezp44, #3382)."
ggplot2,229,"Added function `ggplot_add.by()` for lists created with `by()`, allowing such lists to be added to ggplot objects (#2734, @​Maschette)"
ggplot2,230,"ggplot2 no longer depends on reshape2, which means that it no longer (recursively) needs plyr, stringr, or stringi packages."
ggplot2,231,"Increase the default `nbin` of `guide_colourbar()` to place the ticks more precisely (#3508, @​yutannihilation)."
ggplot2,232,"`manual_scale()` now matches `values` with the order of `breaks` whenever `values` is an unnamed vector. Previously, unnamed `values` would match with the limits of the scale and ignore the order of any `breaks` provided. Note that this may change the appearance of plots that previously relied on the unordered behaviour (#2429, @​idno0001)."
ggplot2,233,"`scale_manual_*(limits = ...)` now actually limits the scale (#3262, @​yutannihilation)."
ggplot2,234,"Fix a bug when `show.legend` is a named logical vector (#3461, @​yutannihilation)."
ggplot2,235,"Added weight aesthetic option to `stat_density()` and made scaling of weights the default (@​annennenne, #2902)"
ggplot2,236,"`stat_density2d()` can now take an `adjust` parameter to scale the default bandwidth. (#2860, @​haleyjeppson)"
ggplot2,237,"`stat_smooth()` uses `REML` by default, if `method = ""gam""` and `gam`'s method is not specified (@​ikosmidis, #2630)."
ggplot2,238,"stacking text when calculating the labels and the y axis with `stat_summary()` now works (@​ikosmidis, #2709)"
ggplot2,239,"`stat_summary()` and related functions now support rlang-style lambda functions (#3568, @​dkahle)."
ggplot2,240,"The data mask pronoun, `.data`, is now stripped from default labels."
ggplot2,241,"Addition of partial themes to plots has been made more predictable; stepwise addition of individual partial themes is now equivalent to addition of multple theme elements at once (@​clauswilke, #3039)."
ggplot2,242,"Facets now don't fail even when some variable in the spec are not available in all layers (@​yutannihilation, #2963)."
ggplot2,243,`position_stack()` no longer changes the order of the input data. Changes to the internal behaviour of `geom_ribbon()` made this reordering problematic with ribbons that spanned `y = 0` (#3471)
ggplot2,244,"Using `qplot()` with a single positional aesthetic will no longer title the non-specified scale as `""NULL""` (#3473)"
ggplot2,245,Fixes unit tests for sf graticule labels caused by changes to sf
ggplot2,246,"Two patches (#2996 and #3050) fixed minor rendering problems. In most cases, the visual changes are so subtle that they are difficult to see with the naked eye. However, these changes are detected by the vdiffr package, and therefore any package developers who use vdiffr to test for visual correctness of ggplot2 plots will have to regenerate all reference images."
ggplot2,247,"In some cases, ggplot2 now produces a warning or an error for code that previously produced plot output. In all these cases, the previous plot output was accidental, and the plotting code uses the ggplot2 API in a way that would lead to undefined behavior. Examples include a missing `group` aesthetic in `geom_boxplot()` (#3316), annotations across multiple facets (#3305), and not using aesthetic mappings when drawing ribbons with `geom_ribbon()` (#3318)."
ggplot2,248,"This release includes a range of internal changes that speeds up plot generation. None of the changes are user facing and will not break any code, but in general ggplot2 should feel much faster. The changes includes, but are not limited to:"
ggplot2,249,Caching ascent and descent dimensions of text to avoid recalculating it for every title.
ggplot2,250,Using a faster data.frame constructor as well as faster indexing into data.frames
ggplot2,251,"Removing the plyr dependency, replacing plyr functions with faster equivalents."
ggplot2,252,"`geom_polygon()` can now draw polygons with holes using the new `subgroup` aesthetic. This functionality requires R 3.6.0 (@​thomasp85, #3128)"
ggplot2,253,"Aesthetic mappings now accept functions that return `NULL` (@​yutannihilation, #2997)."
ggplot2,254,"`stat_function()` now accepts rlang/purrr style anonymous functions for the `fun` parameter (@​dkahle, #3159)."
ggplot2,255,"`geom_rug()` gains an ""outside"" option to allow for moving the rug tassels to outside the plot area (@​njtierney, #3085) and a `length` option to allow for changing the length of the rug lines (@​daniel-wells, #3109)."
ggplot2,256,"All geoms now take a `key_glyph` paramter that allows users to customize how legend keys are drawn (@​clauswilke, #3145). In addition, a new key glyph `timeseries` is provided to draw nice legends for time series (@​mitchelloharawild, #3145)."
ggplot2,257,"Layers now have a new member function `setup_layer()` which is called at the very beginning of the plot building process and which has access to the original input data and the plot object being built. This function allows the creation of custom layers that autogenerate aesthetic mappings based on the input data or that filter the input data in some form. For the time being, this feature is not exported, but it has enabled the development of a new layer type, `layer_sf()` (see next item). Other special-purpose layer types may be added in the future (@​clauswilke, #2872)."
ggplot2,258,"A new layer type `layer_sf()` can auto-detect and auto-map sf geometry columns in the data. It should be used by extension developers who are writing new sf-based geoms or stats (@​clauswilke, #3232)."
ggplot2,259,"`x0` and `y0` are now recognized positional aesthetics so they will get scaled if used in extension geoms and stats (@​thomasp85, #3168)"
ggplot2,260,"Continuous scale limits now accept functions which accept the default limits and return adjusted limits. This makes it possible to write a function that e.g. ensures the limits are always a multiple of 100, regardless of the data (@​econandrew, #2307)."
ggplot2,261,"`cut_width()` now accepts `...` to pass further arguments to `base::cut.default()` like `cut_number()` and `cut_interval()` already did (@​cderv, #3055)"
ggplot2,262,"`coord_map()` now can have axes on the top and right (@​karawoo, #3042)."
ggplot2,263,"`coord_polar()` now correctly rescales the secondary axis (@​linzi-sg, #3278)"
ggplot2,264,"`coord_sf()`, `coord_map()`, and `coord_polar()` now squash `-Inf` and `Inf` into the min and max of the plot (@​yutannihilation, #2972)."
ggplot2,265,"`coord_sf()` graticule lines are now drawn in the same thickness as panel grid lines in `coord_cartesian()`, and seting panel grid lines to `element_blank()` now also works in `coord_sf()` (@​clauswilke, #2991, #2525)."
ggplot2,266,"`economics` data has been regenerated. This leads to some changes in the values of all columns (especially in `psavert`), but more importantly, strips the grouping attributes from `economics_long`."
ggplot2,267,"`element_line()` now fills closed arrows (@​yutannihilation, #2924)."
ggplot2,268,"Facet strips on the left side of plots now have clipping turned on, preventing text from running out of the strip and borders from looking thicker than for other strips (@​karawoo, #2772 and #3061)."
ggplot2,269,"ggplot2 now works in Turkish locale (@​yutannihilation, #3011)."
ggplot2,270,"Clearer error messages for inappropriate aesthetics (@​clairemcwhite, #3060)."
ggplot2,271,"ggplot2 no longer attaches any external packages when using functions that depend on packages that are suggested but not imported by ggplot2. The affected functions include `geom_hex()`, `stat_binhex()`, `stat_summary_hex()`, `geom_quantile()`, `stat_quantile()`, and `map_data()` (@​clauswilke, #3126)."
ggplot2,272,"`geom_area()` and `geom_ribbon()` now sort the data along the x-axis in the `setup_data()` method rather than as part of `draw_group()` (@​thomasp85, #3023)"
ggplot2,273,"`geom_hline()`, `geom_vline()`, and `geom_abline()` now throw a warning if the user supplies both an `xintercept`, `yintercept`, or `slope` value and a mapping (@​RichardJActon, #2950)."
ggplot2,274,"`geom_rug()` now works with `coord_flip()` (@​has2k1, #2987)."
ggplot2,275,"`geom_violin()` no longer throws an error when quantile lines fall outside the violin polygon (@​thomasp85, #3254)."
ggplot2,276,"`guide_legend()` and `guide_colorbar()` now use appropriate spacing between legend key glyphs and legend text even if the legend title is missing (@​clauswilke, #2943)."
ggplot2,277,"Default labels are now generated more consistently; e.g., symbols no longer get backticks, and long expressions are abbreviated with `...` (@​yutannihilation, #2981)."
ggplot2,278,"All-`Inf` layers are now ignored for picking the scale (@​yutannihilation, #3184)."
ggplot2,279,"Diverging Brewer colour palette now use the correct mid-point colour (@​dariyasydykova, #3072)."
ggplot2,280,"`scale_color_continuous()` now points to `scale_colour_continuous()` so that it will handle `type = ""viridis""` as the documentation states (@​hlendway, #3079)."
ggplot2,281,"`scale_shape_identity()` now works correctly with `guide = ""legend""` (1, #3029)"
ggplot2,282,"`scale_continuous` will now draw axis line even if the length of breaks is 0 (@​thomasp85, #3257)"
ggplot2,283,`stat_bin()` will now error when the number of bins exceeds 1e6 to avoid accidentally freezing the user session (@​thomasp85).
ggplot2,284,"`sec_axis()` now places ticks accurately when using nonlinear transformations (@​dpseidel, #2978)."
ggplot2,285,"`facet_wrap()` and `facet_grid()` now automatically remove NULL from facet specs, and accept empty specs (@​yutannihilation, #3070, #2986)."
ggplot2,286,`stat_bin()` now handles data with only one unique value (@​yutannihilation #3047).
ggplot2,287,"`sec_axis()` now accepts functions as well as formulas (@​yutannihilation, #3031)."
ggplot2,288,"New theme elements allowing different ticks lengths for each axis. For instance, this can be used to have inwards ticks on the x-axis (`axis.ticks.length.x`) and outwards ticks on the y-axis (`axis.ticks.length.y`) (@​pank, #2935)."
ggplot2,289,"The arguments of `Stat*$compute_layer()` and `Position*$compute_layer()` are now renamed to always match the ones of `Stat$compute_layer()` and `Position$compute_layer()` (@​yutannihilation, #3202)."
ggplot2,290,"`geom_*()` and `stat_*()` now accepts purrr-style lambda notation (@​yutannihilation, #3138)."
ggplot2,291,"`geom_tile()` and `geom_rect()` now draw rectangles without notches at the corners. The style of the corner can be controlled by `linejoin` parameters (@​yutannihilation, #3050)."
ggplot2,292,"In non-user-facing internal code (specifically in the `aes()` function and in the `aesthetics` argument of scale functions), ggplot2 now always uses the British spelling for aesthetics containing the word ""colour"". When users specify a ""color"" aesthetic it is automatically renamed to ""colour"". This renaming is also applied to non-standard aesthetics that contain the word ""color"". For example, ""point_color"" is renamed to ""point_colour"". This convention makes it easier to support both British and American spelling for novel, non-standard aesthetics, but it may require some adjustment for packages that have previously introduced non-standard color aesthetics using American spelling. A new function `standardise_aes_names()` is provided in case extension writers need to perform this renaming in their own code (@​clauswilke, #2649)."
ggplot2,293,"Functions that generate other functions (closures) now force the arguments that are used from the generated functions, to avoid hard-to-catch errors. This may affect some users of manual scales (such as `scale_colour_manual()`, `scale_fill_manual()`, etc.) who depend on incorrect behavior (@​krlmlr, #2807)."
ggplot2,294,"`Coord` objects now have a function `backtransform_range()` that returns the panel range in data coordinates. This change may affect developers of custom coords, who now should implement this function. It may also affect developers of custom geoms that use the `range()` function. In some applications, `backtransform_range()` may be more appropriate (@​clauswilke, #2821)."
ggplot2,295,"`coord_sf()` has much improved customization of axis tick labels. Labels can now be set manually, and there are two new parameters, `label_graticule` and `label_axes`, that can be used to specify which graticules to label on which side of the plot (@​clauswilke, #2846, #2857, #2881)."
ggplot2,296,"Two new geoms `geom_sf_label()` and `geom_sf_text()` can draw labels and text on sf objects. Under the hood, a new `stat_sf_coordinates()` calculates the x and y coordinates from the coordinates of the sf geometries. You can customize the calculation method via `fun.geometry` argument (@​yutannihilation, #2761)."
ggplot2,297,"`benchplot()` now uses tidy evaluation (@​dpseidel, #2699)."
ggplot2,298,"The error message in `compute_aesthetics()` now only provides the names of aesthetics with mismatched lengths, rather than all aesthetics (@​karawoo, #2853)."
ggplot2,299,"For faceted plots, data is no longer internally reordered. This makes it safer to feed data columns into `aes()` or into parameters of geoms or stats. However, doing so remains discouraged (@​clauswilke, #2694)."
ggplot2,300,"`coord_sf()` now also understands the `clip` argument, just like the other coords (@​clauswilke, #2938)."
ggplot2,301,"`fortify()` now displays a more informative error message for `grouped_df()` objects when dplyr is not installed (@​jimhester, #2822)."
ggplot2,302,"All `geom_*()` now display an informative error message when required aesthetics are missing (@​dpseidel, #2637 and #2706)."
ggplot2,303,"`geom_boxplot()` now understands the `width` parameter even when used with a non-standard stat, such as `stat_identity()` (@​clauswilke, #2893)."
ggplot2,304,"`geom_hex()` now understands the `size` and `linetype` aesthetics (@​mikmart, #2488)."
ggplot2,305,"`geom_hline()`, `geom_vline()`, and `geom_abline()` now work properly with `coord_trans()` (@​clauswilke, #2149, #2812)."
ggplot2,306,"`geom_text(..., parse = TRUE)` now correctly renders the expected number of items instead of silently dropping items that are empty expressions, e.g. the empty string """". If an expression spans multiple lines, we take just the first line and drop the rest. This same issue is also fixed for `geom_label()` and the axis labels for `geom_sf()` (@​slowkow, #2867)."
ggplot2,307,"`geom_sf()` now respects `lineend`, `linejoin`, and `linemitre` parameters for lines and polygons (@​alistaire47, #2826)."
ggplot2,308,"`ggsave()` now exits without creating a new graphics device if previously none was open (@​clauswilke, #2363)."
ggplot2,309,"`labs()` now has named arguments `title`, `subtitle`, `caption`, and `tag`. Also, `labs()` now accepts tidyeval (@​yutannihilation, #2669)."
ggplot2,310,"`position_nudge()` is now more robust and nudges only in the direction requested. This enables, for example, the horizontal nudging of boxplots (@​clauswilke, #2733)."
ggplot2,311,"`sec_axis()` and `dup_axis()` now return appropriate breaks for the secondary axis when applied to log transformed scales (@​dpseidel, #2729)."
ggplot2,312,"`sec_axis()` now works as expected when used in combination with tidy eval (@​dpseidel, #2788)."
ggplot2,313,"`scale_*_date()`, `scale_*_time()` and `scale_*_datetime()` can now display a secondary axis that is a **one-to-one** transformation of the primary axis, implemented using the `sec.axis` argument to the scale constructor (@​dpseidel, #2244)."
ggplot2,314,"`stat_contour()`, `stat_density2d()`, `stat_bin2d()`, `stat_binhex()` now calculate normalized statistics including `nlevel`, `ndensity`, and `ncount`. Also, `stat_density()` now includes the calculated statistic `nlevel`, an alias for `scaled`, to better match the syntax of `stat_bin()` (@​bjreisman, #2679)."
ggplot2,315,"ggplot2 now supports/uses tidy evaluation (as described below). This is a major change and breaks a number of packages; we made this breaking change because it is important to make ggplot2 more programmable, and to be more consistent with the rest of the tidyverse. The best general (and detailed) introduction to tidy evaluation can be found in the meta programming chapters in [Advanced R](https://adv-r.hadley.nz). The primary developer facing change is that `aes()` now contains quosures (expression + environment pairs) rather than symbols, and you'll need to take a different approach to extracting the information you need. A common symptom of this change are errors ""undefined columns selected"" or ""invalid 'type' (list) of argument"" (#2610). As in the previous version, constants (like `aes(x = 1)` or `aes(colour = ""smoothed"")`) are stored as is. In this version of ggplot2, if you need to describe a mapping in a string, use `quo_name()` (to generate single-line strings; longer expressions may be abbreviated) or `quo_text()` (to generate non-abbreviated strings that may span multiple lines). If you do need to extract the value of a variable instead use `rlang::eval_tidy()`. You may want to condition on `(packageVersion(""ggplot2"") <= ""2.2.1"")` so that your code can work with both released and development versions of ggplot2. We recognise that this is a big change and if you're not already familiar with rlang, there's a lot to learn. If you are stuck, or need any help, please reach out on <https://community.rstudio.com>."
ggplot2,316,"Error: Column `y` must be a 1d atomic vector or a list Internally, ggplot2 now uses `as.data.frame(tibble::as_tibble(x))` to convert a list into a data frame. This improves ggplot2's support for list-columns (needed for sf support), at a small cost: you can no longer use matrix-columns. Note that unlike tibble we still allow column vectors such as returned by `base::scale()` because of their widespread use."
ggplot2,317,"Error: More than one expression parsed Previously `aes_string(x = c(""a"", ""b"", ""c""))` silently returned `aes(x = a)`. Now this is a clear error."
ggplot2,318,"Error: `data` must be uniquely named but has duplicate columns If layer data contains columns with identical names an error will be thrown. In earlier versions the first occurring column was chosen silently, potentially masking that the wrong data was chosen."
ggplot2,319,Error: Aesthetics must be either length 1 or the same as the data Layers are stricter about the columns they will combine into a single data frame. Each aesthetic now must be either the same length as the data frame or a single value. This makes silent recycling errors much less likely.
ggplot2,320,Error: `coord_*` doesn't support free scales Free scales only work with selected coordinate systems; previously you'd get an incorrect plot.
ggplot2,321,"Error in f(...) : unused argument (range = c(0, 1)) This is because the `oob` argument to scale has been set to a function that only takes a single argument; it needs to take two arguments (`x`, and `range`)."
ggplot2,322,"Error: unused argument (output) The function `guide_train()` now has an optional parameter `aesthetic` that allows you to override the `aesthetic` setting in the scale. To make your code work with the both released and development versions of ggplot2 appropriate, add `aesthetic = NULL` to the `guide_train()` method signature."
ggplot2,322,"```
# old
guide_train.legend <- function(guide, scale) {...}

# new 
guide_train.legend <- function(guide, scale, aesthetic = NULL) {...}
```"
ggplot2,322,"Then, inside the function, replace `scale$aesthetics[1]`, `aesthetic %||% scale$aesthetics[1]`. (The %\|\|% operator is defined in the rlang package)."
ggplot2,322,"```
# old
setNames(list(scale$map(breaks)), scale$aesthetics[1])

# new
setNames(list(scale$map(breaks)), aesthetic %||% scale$aesthetics[1])
```"
ggplot2,323,The long-deprecated `subset` argument to `layer()` has been removed.
ggplot2,324,"`aes()` now supports quasiquotation so that you can use `!!`, `!!!`, and `:=`. This replaces `aes_()` and `aes_string()` which are now soft-deprecated (but will remain around for a long time)."
ggplot2,325,"`facet_wrap()` and `facet_grid()` now support `vars()` inputs. Like `dplyr::vars()`, this helper quotes its inputs and supports quasiquotation. For instance, you can now supply faceting variables like this: `facet_wrap(vars(am, cyl))` instead of `facet_wrap(~am + cyl)`. Note that the formula interface is not going away and will not be deprecated. `vars()` is simply meant to make it easier to create functions around `facet_wrap()` and `facet_grid()`. The first two arguments of `facet_grid()` become `rows` and `cols` and now support `vars()` inputs. Note however that we took special care to ensure complete backward compatibility. With this change `facet_grid(vars(cyl), vars(am, vs))` is equivalent to `facet_grid(cyl ~ am + vs)`, and `facet_grid(cols = vars(am, vs))` is equivalent to `facet_grid(. ~ am + vs)`. One nice aspect of the new interface is that you can now easily supply names: `facet_grid(vars(Cylinder = cyl), labeller = label_both)` will give nice label titles to the facets. Of course, those names can be unquoted with the usual tidy eval syntax."
ggplot2,326,ggplot2 now has full support for sf with `geom_sf()` and `coord_sf()`:
ggplot2,326,"```
nc <- sf::st_read(system.file(""shape/nc.shp"", package = ""sf""), quiet = TRUE)
ggplot(nc) +
  geom_sf(aes(fill = AREA))
```"
ggplot2,326,"It supports all simple features, automatically aligns CRS across layers, sets up the correct aspect ratio, and draws a graticule."
ggplot2,327,"ggplot2 now works on R 3.1 onwards, and uses the [vdiffr](https://github.com/r-lib/vdiffr) package for visual testing."
ggplot2,328,"In most cases, accidentally using `%>%` instead of `+` will generate an informative error (#2400)."
ggplot2,329,"New syntax for calculated aesthetics. Instead of using `aes(y = ..count..)` you can (and should!) use `aes(y = stat(count))`. `stat()` is a real function with documentation which hopefully will make this part of ggplot2 less confusing (#2059). `stat()` is particularly nice for more complex calculations because you only need to specify it once: `aes(y = stat(count / max(count)))`, rather than `aes(y = ..count.. / max(..count..))`"
ggplot2,330,"New `tag` label for adding identification tags to plots, typically used for labelling a subplot with a letter. Add a tag with `labs(tag = ""A"")`, style it with the `plot.tag` theme element, and control position with the `plot.tag.position` theme setting (@​thomasp85)."
ggplot2,331,"`geom_segment()` and `geom_curve()` have a new `arrow.fill` parameter which allows you to specify a separate fill colour for closed arrowheads (@​hrbrmstr and @​clauswilke, #2375)."
ggplot2,332,"`geom_point()` and friends can now take shapes as strings instead of integers, e.g. `geom_point(shape = ""diamond"")` (@​daniel-barnett, #2075)."
ggplot2,333,"`position_dodge()` gains a `preserve` argument that allows you to control whether the `total` width at each `x` value is preserved (the current default), or ensure that the width of a `single` element is preserved (what many people want) (#1935)."
ggplot2,334,"New `position_dodge2()` provides enhanced dodging for boxplots. Compared to `position_dodge()`, `position_dodge2()` compares `xmin` and `xmax` values\ to determine which elements overlap, and spreads overlapping elements evenly within the region of overlap. `position_dodge2()` is now the default position adjustment for `geom_boxplot()`, because it handles `varwidth = TRUE`, and will be considered for other geoms in the future. The `padding` parameter adds a small amount of padding between elements (@​karawoo, #2143) and a `reverse` parameter allows you to reverse the order of placement (@​karawoo, #2171)."
ggplot2,335,"New `stat_qq_line()` makes it easy to add a simple line to a Q-Q plot, which makes it easier to judge the fit of the theoretical distribution (@​nicksolomon)."
ggplot2,336,"Improved support for mapping date/time variables to `alpha`, `size`, `colour`, and `fill` aesthetics, including `date_breaks` and `date_labels` arguments (@​karawoo, #1526), and new `scale_alpha()` variants (@​karawoo, #1526)."
ggplot2,337,"Improved support for ordered factors. Ordered factors throw a warning when mapped to shape (unordered factors do not), and do not throw warnings when mapped to size or alpha (unordered factors do). Viridis is used as the default colour and fill scale for ordered factors (@​karawoo, #1526)."
ggplot2,338,"The `expand` argument of `scale_*_continuous()` and `scale_*_discrete()` now accepts separate expansion values for the lower and upper range limits. The expansion limits can be specified using the convenience function `expand_scale()`. Separate expansion limits may be useful for bar charts, e.g. if one wants the bottom of the bars to be flush with the x axis but still leave some (automatically calculated amount of) space above them:"
ggplot2,338,"```
ggplot(mtcars) +
    geom_bar(aes(x = factor(cyl))) +
    scale_y_continuous(expand = expand_scale(mult = c(0, .1)))
```"
ggplot2,338,"It can also be useful for line charts, e.g. for counts over time, where one wants to have a 'hard' lower limit of y = 0 but leave the upper limit unspecified (and perhaps differing between panels), with some extra space above the highest point on the line (with symmetrical limits, the extra space above the highest point could in some cases cause the lower limit to be negative). The old syntax for the `expand` argument will, of course, continue to work (@​huftis, #1669)."
ggplot2,339,"`scale_colour_continuous()` and `scale_colour_gradient()` are now controlled by global options `ggplot2.continuous.colour` and `ggplot2.continuous.fill`. These can be set to `""gradient""` (the default) or `""viridis""` (@​karawoo)."
ggplot2,340,"New `scale_colour_viridis_c()`/`scale_fill_viridis_c()` (continuous) and `scale_colour_viridis_d()`/`scale_fill_viridis_d()` (discrete) make it easy to use Viridis colour scales (@​karawoo, #1526)."
ggplot2,341,"Guides for `geom_text()` now accept custom labels with `guide_legend(override.aes = list(label = ""foo""))` (@​brianwdavis, #2458)."
ggplot2,342,"Strips gain margins on all sides by default. This means that to fully justify text to the edge of a strip, you will need to also set the margins to 0 (@​karawoo)."
ggplot2,343,Rotated strip labels now correctly understand `hjust` and `vjust` parameters at all angles (@​karawoo).
ggplot2,344,"Strip labels now understand justification relative to the direction of the text, meaning that in y facets, the strip text can be placed at either end of the strip using `hjust` (@​karawoo)."
ggplot2,345,"Legend titles and labels get a little extra space around them, which prevents legend titles from overlapping the legend at large font sizes (@​karawoo, #1881)."
ggplot2,346,"New `autolayer()` S3 generic (@​mitchelloharawild, #1974). This is similar to `autoplot()` but produces layers rather than complete plots."
ggplot2,347,Custom objects can now be added using `+` if a `ggplot_add` method has been defined for the class of the object (@​thomasp85).
ggplot2,348,"Theme elements can now be subclassed. Add a `merge_element` method to control how properties are inherited from the parent element. Add an `element_grob` method to define how elements are rendered into grobs (@​thomasp85, #1981)."
ggplot2,349,"Coords have gained new extension mechanisms. If you have an existing coord extension, you will need to revise the specification of the `train()` method. It is now called `setup_panel_params()` (better reflecting what it actually does) and now has arguments `scale_x`, and `scale_y` (the x and y scales respectively) and `param`, a list of plot specific parameters generated by `setup_params()`. What was formerly called `scale_details` (in coords), `panel_ranges` (in layout) and `panel_scales` (in geoms) are now consistently called `panel_params` (#1311). These are parameters of the coord that vary from panel to panel."
ggplot2,350,"`ggplot_build()` and `ggplot_gtable()` are now generics, so ggplot-subclasses can define additional behavior during the build stage."
ggplot2,351,"`guide_train()`, `guide_merge()`, `guide_geom()`, and `guide_gengrob()` are now exported as they are needed if you want to design your own guide. They are not currently documented; use at your own risk (#2528)."
ggplot2,352,`scale_type()` generic is now exported and documented. Use this if you want to extend ggplot2 to work with a new type of vector.
ggplot2,353,`facet_grid()` gives a more informative error message if you try to use a variable in both rows and cols (#1928).
ggplot2,354,`facet_grid()` and `facet_wrap()` both give better error messages if you attempt to use an unsupported coord with free scales (#2049).
ggplot2,355,`label_parsed()` works once again (#2279).
ggplot2,356,You can now style the background of horizontal and vertical strips independently with `strip.background.x` and `strip.background.y` theme settings (#2249).
ggplot2,357,"`discrete_scale()` documentation now inherits shared definitions from `continuous_scale()` (@​alistaire47, #2052)."
ggplot2,358,"`guide_colorbar()` shows all colours of the scale (@​has2k1, #2343)."
ggplot2,359,`scale_identity()` once again produces legends by default (#2112).
ggplot2,360,"Tick marks for secondary axes with strong transformations are more accurately placed (@​thomasp85, #1992)."
ggplot2,361,Missing line types now reliably generate missing lines (with standard warning) (#2206).
ggplot2,362,Legends now ignore set aesthetics that are not length one (#1932).
ggplot2,363,"All colour and fill scales now have an `aesthetics` argument that can be used to set the aesthetic(s) the scale works with. This makes it possible to apply a colour scale to both colour and fill aesthetics at the same time, via `aesthetics = c(""colour"", ""fill"")` (@​clauswilke)."
ggplot2,364,"Three new generic scales work with any aesthetic or set of aesthetics: `scale_continuous_identity()`, `scale_discrete_identity()`, and `scale_discrete_manual()` (@​clauswilke)."
ggplot2,365,"`scale_*_gradient2()` now consistently omits points outside limits by rescaling after the limits are enforced (@​foo-bar-baz-qux, #2230)."
ggplot2,366,"`geom_label()` now correctly produces unbordered labels when `label.size` is 0, even when saving to PDF (@​bfgray3, #2407)."
ggplot2,367,"`layer()` gives considerably better error messages for incorrectly specified `geom`, `stat`, or `position` (#2401)."
ggplot2,368,"In all layers that use it, `linemitre` now defaults to 10 (instead of 1) to better match base R."
ggplot2,369,"`geom_boxplot()` now supplies a default value if no `x` aesthetic is present (@​foo-bar-baz-qux, #2110)."
ggplot2,370,"`geom_density()` drops groups with fewer than two data points and throws a warning. For groups with two data points, density values are now calculated with `stats::density` (@​karawoo, #2127)."
ggplot2,371,"`geom_segment()` now also takes a `linejoin` parameter. This allows more control over the appearance of the segments, which is especially useful for plotting thick arrows (@​Ax3man, #774)."
ggplot2,372,"`geom_smooth()` now reports the formula used when `method = ""auto""` (@​davharris #1951). `geom_smooth()` now orders by the `x` aesthetic, making it easier to pass pre-computed values without manual ordering (@​izahn, #2028). It also now knows it has `ymin` and `ymax` aesthetics (#1939). The legend correctly reflects the status of the `se` argument when used with stats other than the default (@​clauswilke, #1546)."
ggplot2,373,"`geom_tile()` now once again interprets `width` and `height` correctly (1, #2510)."
ggplot2,374,"`position_jitter()` and `position_jitterdodge()` gain a `seed` argument that allows the specification of a random seed for reproducible jittering (@​krlmlr, #1996 and @​slowkow, #2445)."
ggplot2,375,`stat_density()` has better behaviour if all groups are dropped because they are too small (#2282).
ggplot2,376,"`stat_summary_bin()` now understands the `breaks` parameter (@​karawoo, #2214)."
ggplot2,377,`stat_bin()` now accepts functions for `binwidth`. This allows better binning when faceting along variables with different ranges (@​botanize).
ggplot2,378,"`stat_bin()` and `geom_histogram()` now sum correctly when using the `weight` aesthetic (@​jiho, #1921)."
ggplot2,379,"`stat_bin()` again uses correct scaling for the computed variable `ndensity` (@​timgoodman, #2324)."
ggplot2,380,"`stat_bin()` and `stat_bin_2d()` now properly handle the `breaks` parameter when the scales are transformed (@​has2k1, #2366)."
ggplot2,381,"`update_geom_defaults()` and `update_stat_defaults()` allow American spelling of aesthetic parameters (@​foo-bar-baz-qux, #2299)."
ggplot2,382,"The `show.legend` parameter now accepts a named logical vector to hide/show only some aesthetics in the legend (@​tutuchan, #1798)."
ggplot2,383,Layers now silently ignore unknown aesthetics with value `NULL` (#1909).
ggplot2,384,"Clipping to the plot panel is now configurable, through a `clip` argument to coordinate systems, e.g. `coord_cartesian(clip = ""off"")` (@​clauswilke, #2536)."
ggplot2,385,"Like scales, coordinate systems now give you a message when you're replacing an existing coordinate system (#2264)."
ggplot2,386,"`coord_polar()` now draws secondary axis ticks and labels (@​dylan-stark, #2072), and can draw the radius axis on the right (@​thomasp85, #2005)."
ggplot2,387,"`coord_trans()` now generates a warning when a transformation generates non-finite values (@​foo-bar-baz-qux, #2147)."
ggplot2,388,"Complete themes now always override all elements of the default theme (@​has2k1, #2058, #2079)."
ggplot2,389,Themes now set default grid colour in `panel.grid` rather than individually in `panel.grid.major` and `panel.grid.minor` individually. This makes it slightly easier to customise the theme (#2352).
ggplot2,390,Fixed bug when setting strips to `element_blank()` (@​thomasp85).
ggplot2,391,"Axes positioned on the top and to the right can now customize their ticks and lines separately (@​thomasp85, #1899)."
ggplot2,392,"Built-in themes gain parameters `base_line_size` and `base_rect_size` which control the default sizes of line and rectangle elements (@​karawoo, #2176)."
ggplot2,393,Default themes use `rel()` to set line widths (@​baptiste).
ggplot2,394,Themes were tweaked for visual consistency and more graceful behavior when changing the base font size. All absolute heights or widths were replaced with heights or widths that are proportional to the base font size. One relative font size was eliminated (@​clauswilke).
ggplot2,395,"The height of descenders is now calculated solely on font metrics and doesn't change with the specific letters in the string. This fixes minor alignment issues with plot titles, subtitles, and legend titles (#2288, @​clauswilke)."
ggplot2,396,"`guide_colorbar()` is more configurable: tick marks and color bar frame can now by styled with arguments `ticks.colour`, `ticks.linewidth`, `frame.colour`, `frame.linewidth`, and `frame.linetype` (@​clauswilke)."
ggplot2,397,"`guide_colorbar()` now uses `legend.spacing.x` and `legend.spacing.y` correctly, and it can handle multi-line titles. Minor tweaks were made to `guide_legend()` to make sure the two legend functions behave as similarly as possible (@​clauswilke, #2397 and #2398)."
ggplot2,398,"The theme elements `legend.title` and `legend.text` now respect the settings of `margin`, `hjust`, and `vjust` (@​clauswilke, #2465, #1502)."
ggplot2,399,"Non-angle parameters of `label.theme` or `title.theme` can now be set in `guide_legend()` and `guide_colorbar()` (@​clauswilke, #2544)."
ggplot2,400,"`fortify()` gains a method for tbls (@​karawoo, #2218)."
ggplot2,401,"`ggplot` gains a method for `grouped_df`s that adds a `.group` variable, which computes a unique value for each group. Use it with `aes(group = .group)` (#2351)."
ggplot2,402,"`ggproto()` produces objects with class `c(""ggproto"", ""gg"")`, allowing for a more informative error message when adding layers, scales, or other ggproto objects (@​jrnold, #2056)."
ggplot2,403,"`ggsave()`'s DPI argument now supports 3 string options: ""retina"" (320 DPI), ""print"" (300 DPI), and ""screen"" (72 DPI) (@​foo-bar-baz-qux, #2156). `ggsave()` now uses full argument names to avoid partial match warnings (#2355), and correctly restores the previous graphics device when several graphics devices are open (#2363)."
ggplot2,404,"`print.ggplot()` now returns the original ggplot object, instead of the output from `ggplot_build()`. Also, the object returned from `ggplot_build()` now has the class `""ggplot_built""` (#2034)."
ggplot2,405,`map_data()` now works even when purrr is loaded (tidyverse#66).
ggplot2,406,"New functions `summarise_layout()`, `summarise_coord()`, and `summarise_layers()` summarise the layout, coordinate systems, and layers of a built ggplot object (#2034, @​wch). This provides a tested API that (e.g.) shiny can depend on."
ggplot2,407,"Updated startup messages reflect new resources (#2410, @​mine-cetinkaya-rundel)."
ggplot2,408,Fix usage of `structure(NULL)` for R-devel compatibility (#1968).
ggplot2,409,"`facet_grid()` and `facet_wrap()` now allow expressions in their faceting formulas (@​DanRuderman, #1596)."
ggplot2,410,"When `facet_wrap()` results in an uneven number of panels, axes will now be drawn underneath the hanging panels (fixes #1607)"
ggplot2,411,Strips can now be freely positioned in `facet_wrap()` using the `strip.position` argument (deprecates `switch`).
ggplot2,412,"The relative order of panel, strip, and axis can now be controlled with the theme setting `strip.placement` that takes either `inside` (strip between panel and axis) or `outside` (strip after axis)."
ggplot2,413,The theme option `panel.margin` has been deprecated in favour of `panel.spacing` to more clearly communicate intent.
ggplot2,414,"The position of x and y axes can now be changed using the `position` argument in `scale_x_*`and `scale_y_*` which can take `top` and `bottom`, and `left` and `right` respectively. The themes of top and right axes can be modified using the `.top` and `.right` modifiers to `axis.text.*` and `axis.title.*`."
ggplot2,415,`scale_x_continuous()` and `scale_y_continuous()` can now display a secondary axis that is a **one-to-one** transformation of the primary axis (e.g. degrees Celcius to degrees Fahrenheit). The secondary axis will be positioned opposite to the primary axis and can be controlled with the `sec.axis` argument to the scale constructor.
ggplot2,416,"Scales worry less about having breaks. If no breaks can be computed, the plot will work instead of throwing an uninformative error (#791). This is particularly helpful when you have facets with free scales, and not all panels contain data."
ggplot2,417,Scales now warn when transformation introduces infinite values (#1696).
ggplot2,418,"`scale_*_datetime()` now supports time zones. It will use the timezone attached to the variable by default, but can be overridden with the `timezone` argument."
ggplot2,419,New `scale_x_time()` and `scale_y_time()` generate reasonable default breaks and labels for hms vectors (#1752).
ggplot2,420,character vectors
ggplot2,421,factors with implicit NA
ggplot2,422,factors with explicit NA
ggplot2,423,Correctly use scale expansion factors.
ggplot2,424,Don't preserve space for dropped levels (#1638).
ggplot2,425,Only issue one warning when when asking for too many levels (#1674).
ggplot2,426,Unicode labels work better on Windows (#1827).
ggplot2,427,Warn when used with only continuous data (#1589)
ggplot2,428,The `theme()` constructor now has named arguments rather than ellipses. This should make autocomplete substantially more useful. The documentation (including examples) has been considerably improved.
ggplot2,429,"Built-in themes are more visually homogeneous, and match `theme_grey` better. (@​jiho, #1679)"
ggplot2,430,"When computing the height of titles, ggplot2 now includes the height of the descenders (i.e. the bits of `g` and `y` that hang beneath the baseline). This improves the margins around titles, particularly the y axis label (#1712). I have also very slightly increased the inner margins of axis titles, and removed the outer margins."
ggplot2,431,"Theme element inheritance is now easier to work with as modification now overrides default `element_blank` elements (#1555, #1557, #1565, #1567)"
ggplot2,432,"Horizontal legends (i.e. legends on the top or bottom) are horizontally aligned by default (#1842). Use `legend.box = ""vertical""` to switch back to the previous behaviour."
ggplot2,433,`element_line()` now takes an `arrow` argument to specify arrows at the end of lines (#1740)
ggplot2,434,"`legend.justification` now controls appearance will plotting the legend outside of the plot area. For example, you can use `theme(legend.justification = ""top"")` to make the legend align with the top of the plot."
ggplot2,435,"`panel.margin` and `legend.margin` have been renamed to `panel.spacing` and `legend.spacing` respectively, to better communicate intent (they only affect spacing between legends and panels, not the margins around them)"
ggplot2,436,`legend.margin` now controls margin around individual legends.
ggplot2,437,"New `legend.box.background`, `legend.box.spacing`, and `legend.box.margin` control the background, spacing, and margin of the legend box (the region that contains all legends)."
ggplot2,438,ggplot2 now imports tibble. This ensures that all built-in datasets print compactly even if you haven't explicitly loaded tibble or dplyr (#1677).
ggplot2,439,Class of aesthetic mapping is preserved when adding `aes()` objects (#1624).
ggplot2,440,`+.gg` now works for lists that include data frames.
ggplot2,441,`annotation_x()` now works in the absense of global data (#1655)
ggplot2,442,`geom_*(show.legend = FALSE)` now works for `guide_colorbar`.
ggplot2,443,"`geom_boxplot()` gains new `outlier.alpha` (@​jonathan-g) and `outlier.fill` (@​schloerke, #1787) parameters to control the alpha/fill of outlier points independently of the alpha of the boxes."
ggplot2,444,"`position_jitter()` (and hence `geom_jitter()`) now correctly computes the jitter width/jitter when supplied by the user (#1775, @​has2k1)."
ggplot2,445,`geom_contour()` more clearly describes what inputs it needs (#1577).
ggplot2,446,`geom_curve()` respects the `lineend` parameter (#1852).
ggplot2,447,`geom_histogram()` and `stat_bin()` understand the `breaks` parameter once more. (#1665). The floating point adjustment for histogram bins is now actually used - it was previously inadvertently ignored (#1651).
ggplot2,448,"`geom_violin()` no longer transforms quantile lines with the alpha aesthetic (@​mnbram, #1714). It no longer errors when quantiles are requested but data have zero range (#1687). When `trim = FALSE` it once again has a nice range that allows the density to reach zero (by extending the range 3 bandwidths to either side of the data) (#1700)."
ggplot2,449,"`geom_dotplot()` works better when faceting and binning on the y-axis. (#1618, @​has2k1)."
ggplot2,450,"`geom_hexbin()` once again supports `..density..` (@​mikebirdgeneau, #1688)."
ggplot2,451,`geom_step()` gives useful warning if only one data point in layer (#1645).
ggplot2,452,`layer()` gains new `check.aes` and `check.param` arguments. These allow geom/stat authors to optional suppress checks for known aesthetics/parameters. Currently this is used only in `geom_blank()` which powers `expand_limits()` (#1795).
ggplot2,453,All `stat_*()` display a better error message when required aesthetics are missing.
ggplot2,454,`stat_bin()` and `stat_summary_hex()` now accept length 1 `binwidth` (#1610)
ggplot2,455,"`stat_density()` gains new argument `n`, which is passed to underlying function `stats::density` (""number of equally spaced points at which the density is to be estimated""). (@​hbuschme)"
ggplot2,456,`stat_binhex()` now again returns `count` rather than `value` (#1747)
ggplot2,457,`stat_ecdf()` respects `pad` argument (#1646).
ggplot2,458,`stat_smooth()` once again informs you about the method it has chosen. It also correctly calculates the size of the largest group within facets.
ggplot2,459,"`x` and `y` scales are now symmetric regarding the list of aesthetics they accept: `xmin_final`, `xmax_final`, `xlower`, `xmiddle` and `xupper` are now valid `x` aesthetics."
ggplot2,460,`Scale` extensions can now override the `make_title` and `make_sec_title` methods to let the scale modify the axis/legend titles.
ggplot2,461,The random stream is now reset after calling `.onAttach()` (#2409).
ggplot2,462,"When mapping an aesthetic to a constant (e.g. `geom_smooth(aes(colour = ""loess"")))`), the default guide title is the name of the aesthetic (i.e. ""colour""), not the value (i.e. ""loess"") (#1431)."
ggplot2,463,"`layer()` now accepts a function as the data argument. The function will be applied to the data passed to the `ggplot()` function and must return a data.frame (#1527, @​thomasp85). This is a more general version of the deprecated `subset` argument."
ggplot2,464,"`theme_update()` now uses the `+` operator instead of `%+replace%`, so that unspecified values will no longer be `NULL`ed out. `theme_replace()` preserves the old behaviour if desired (@​oneillkza, #1519)."
ggplot2,465,"`stat_bin()` has been overhauled to use the same algorithm as ggvis, which has been considerably improved thanks to the advice of Randy Prium (@​rpruim). This includes:"
ggplot2,466,Better arguments and a better algorithm for determining the origin. You can now specify either `boundary` or the `center` of a bin. `origin` has been deprecated in favour of these arguments.
ggplot2,467,"`drop` is deprecated in favour of `pad`, which adds extra 0-count bins at either end (needed for frequency polygons). `geom_histogram()` defaults to `pad = FALSE` which considerably improves the default limits for the histogram, especially when the bins are big (#1477)."
ggplot2,468,The default algorithm does a (somewhat) better job at picking nice widths and origins across a wider range of input data.
ggplot2,469,"`bins = n` now gives a histogram with `n` bins, not `n + 1` (#1487)."
ggplot2,470,All `\donttest{}` examples run.
ggplot2,471,"All `geom_()` and `stat_()` functions now have consistent argument order: data + mapping, then geom/stat/position, then `...`, then specific arguments, then arguments common to all layers (#1305). This may break code if you were previously relying on partial name matching, but in the long-term should make ggplot2 easier to use. In particular, you can now set the `n` parameter in `geom_density2d()` without it partially matching `na.rm` (#1485)."
ggplot2,472,"For geoms with both `colour` and `fill`, `alpha` once again only affects fill (Reverts #1371, #1523). This was causing problems for people."
ggplot2,473,`facet_wrap()`/`facet_grid()` works with multiple empty panels of data (#1445).
ggplot2,474,`facet_wrap()` correctly swaps `nrow` and `ncol` when faceting vertically (#1417).
ggplot2,475,"`ggsave(""x.svg"")` now uses svglite to produce the svg (#1432)."
ggplot2,476,`geom_boxplot()` now understands `outlier.color` (#1455).
ggplot2,477,"`geom_path()` knows that ""solid"" (not just 1) represents a solid line (#1534)."
ggplot2,478,`geom_ribbon()` preserves missing values so they correctly generate a gap in the ribbon (#1549).
ggplot2,479,"`geom_tile()` once again accepts `width` and `height` parameters (#1513). It uses `draw_key_polygon()` for better a legend, including a coloured outline (#1484)."
ggplot2,480,`layer()` now automatically adds a `na.rm` parameter if none is explicitly supplied.
ggplot2,481,"`position_jitterdodge()` now works on all possible dodge aesthetics, e.g. `color`, `linetype` etc. instead of only based on `fill` (@​bleutner)"
ggplot2,482,"`position = ""nudge""` now works (although it doesn't do anything useful) (#1428)."
ggplot2,483,"The default scale for columns of class ""AsIs"" is now ""identity"" (#1518)."
ggplot2,484,`scale_*_discrete()` has better defaults when used with purely continuous data (#1542).
ggplot2,485,`scale_size()` warns when used with categorical data.
ggplot2,486,"`scale_size()`, `scale_colour()`, and `scale_fill()` gain date and date-time variants (#1526)."
ggplot2,487,"`stat_bin_hex()` and `stat_bin_summary()` now use the same underlying algorithm so results are consistent (#1383). `stat_bin_hex()` now accepts a `weight` aesthetic. To be consistent with related stats, the output variable from `stat_bin_hex()` is now value instead of count."
ggplot2,488,`stat_density()` gains a `bw` parameter which makes it easy to get consistent smoothing between facets (@​jiho)
ggplot2,489,"`stat-density-2d()` no longer ignores the `h` parameter, and now accepts `bins` and `binwidth` parameters to control the number of contours (#1448, @​has2k1)."
ggplot2,490,"`stat_ecdf()` does a better job of adding padding to -Inf/Inf, and gains an argument `pad` to suppress the padding if not needed (#1467)."
ggplot2,491,`stat_function()` gains an `xlim` parameter (#1528). It once again works with discrete x values (#1509).
ggplot2,492,`stat_summary()` preserves sorted x order which avoids artefacts when display results with `geom_smooth()` (#1520).
ggplot2,493,"All elements should now inherit correctly for all themes except `theme_void()`. (@​Katiedaisey, #1555)"
ggplot2,494,`theme_void()` was completely void of text but facets and legends still need labels. They are now visible (@​jiho).
ggplot2,495,"You can once again set legend key and height width to unit arithmetic objects (like `2 * unit(1, ""cm"")`) (#1437)."
ggplot2,496,Eliminate spurious warning if you have a layer with no data and no aesthetics (#1451).
ggplot2,497,Removed a superfluous comma in `theme-defaults.r` code (@​jschoeley)
ggplot2,498,Fixed a compatibility issue with `ggproto` and R versions prior to 3.1.2. (#1444)
ggplot2,499,"Fixed issue where `coord_map()` fails when given an explicit `parameters` argument (@​tdmcarthur, #1729)"
ggplot2,500,Fixed issue where `geom_errorbarh()` had a required `x` aesthetic (#1933)
ggplot2,501,ggplot no longer throws an error if your plot has no layers. Instead it automatically adds `geom_blank()` (#1246).
ggplot2,502,"New `cut_width()` is a convenient replacement for the verbose `plyr::round_any()`, with the additional benefit of offering finer control."
ggplot2,503,New `geom_count()` is a convenient alias to `stat_sum()`. Use it when you have overlapping points on a scatterplot. `stat_sum()` now defaults to using counts instead of proportions.
ggplot2,504,"New `geom_curve()` adds curved lines, with a similar specification to `geom_segment()` (@​veraanadi, #1088)."
ggplot2,505,"Date and datetime scales now have `date_breaks`, `date_minor_breaks` and `date_labels` arguments so that you never need to use the long `scales::date_breaks()` or `scales::date_format()`."
ggplot2,506,"`geom_bar()` now has it's own stat, distinct from `stat_bin()` which was also used by `geom_histogram()`. `geom_bar()` now uses `stat_count()` which counts values at each distinct value of x (i.e. it does not bin the data first). This can be useful when you want to show exactly which values are used in a continuous variable."
ggplot2,507,"`geom_point()` gains a `stroke` aesthetic which controls the border width of shapes 21-25 (#1133, @​SeySayux). `size` and `stroke` are additive so a point with `size = 5` and `stroke = 5` will have a diameter of 10mm. (#1142)"
ggplot2,508,New `position_nudge()` allows you to slightly offset labels (or other geoms) from their corresponding points (#1109).
ggplot2,509,"`scale_size()` now maps values to *area*, not radius. Use `scale_radius()` if you want the old behaviour (not recommended, except perhaps for lines)."
ggplot2,510,"New `stat_summary_bin()` works like `stat_summary()` but on binned data. It's a generalisation of `stat_bin()` that can compute any aggregate, not just counts (#1274). Both default to `mean_se()` if no aggregation functions are supplied (#1386)."
ggplot2,511,"Layers are now much stricter about their arguments - you will get an error if you've supplied an argument that isn't an aesthetic or a parameter. This is likely to cause some short-term pain but in the long-term it will make it much easier to spot spelling mistakes and other errors (#1293). This change does break a handful of geoms/stats that used `...` to pass additional arguments on to the underlying computation. Now `geom_smooth()`/`stat_smooth()` and `geom_quantile()`/`stat_quantile()` use `method.args` instead (#1245, #1289); and `stat_summary()` (#1242), `stat_summary_hex()`, and `stat_summary2d()` use `fun.args`."
ggplot2,512,"All Geoms, Stats and Positions are now exported, so you can inherit from them when making your own objects (#989)."
ggplot2,513,"ggplot2 no longer uses proto or reference classes. Instead, we now use ggproto, a new OO system designed specifically for ggplot2. Unlike proto and RC, ggproto supports clean cross-package inheritance. Creating a new OO system isn't usually the right way to solve a problem, but I'm pretty sure it was necessary here. Read more about it in the vignette."
ggplot2,514,"`aes_()` replaces `aes_q()`. It also supports formulas, so the most concise SE version of `aes(carat, price)` is now `aes_(~carat, ~price)`. You may want to use this form in packages, as it will avoid spurious `R CMD check` warnings about undefined global variables."
ggplot2,515,`geom_text()` has been overhauled to make labelling your data a little easier. It:
ggplot2,516,`nudge_x` and `nudge_y` arguments let you offset labels from their corresponding points (#1120).
ggplot2,517,`check_overlap = TRUE` provides a simple way to avoid overplotting of labels: labels that would otherwise overlap are omitted (#1039).
ggplot2,518,"`hjust` and `vjust` can now be character vectors: ""left"", ""center"", ""right"", ""bottom"", ""middle"", ""top"". New options include ""inward"" and ""outward"" which align text towards and away from the center of the plot respectively."
ggplot2,519,`geom_label()` works like `geom_text()` but draws a rounded rectangle underneath each label (#1039). This is useful when you want to label plots that are dense with data.
ggplot2,520,The little used `aes_auto()` has been deprecated.
ggplot2,521,`aes_q()` has been replaced with `aes_()` to be consistent with SE versions of NSE functions in other packages.
ggplot2,522,"The `order` aesthetic is officially deprecated. It never really worked, and was poorly documented."
ggplot2,523,"The `stat` and `position` arguments to `qplot()` have been deprecated. `qplot()` is designed for quick plots - if you need to specify position or stat, use `ggplot()` instead."
ggplot2,524,The theme setting `axis.ticks.margin` has been deprecated: now use the margin property of `axis.text`.
ggplot2,525,"`stat_abline()`, `stat_hline()` and `stat_vline()` have been removed: these were never suitable for use other than with `geom_abline()` etc and were not documented."
ggplot2,526,"`show_guide` has been renamed to `show.legend`: this more accurately reflects what it does (controls appearance of layer in legend), and uses the same convention as other ggplot2 arguments (i.e. a `.` between names). (Yes, I know that's inconsistent with function names with use `_`, but it's too late to change now.)"
ggplot2,527,"`stat_binhex()` and `stat_bin2d()` have been renamed to `stat_bin_hex()` and `stat_bin_2d()` (#1274). `stat_summary2d()` has been renamed to `stat_summary_2d()`, `geom_density2d()`/`stat_density2d()` has been renamed to `geom_density_2d()`/`stat_density_2d()`."
ggplot2,528,`stat_spoke()` is now `geom_spoke()` since I realised it's a reparameterisation of `geom_segment()`.
ggplot2,529,"`stat_bindot()` has been removed because it's so tightly coupled to `geom_dotplot()`. If you happened to use `stat_bindot()`, just change to `geom_dotplot()` (#1194)."
ggplot2,530,"The default `theme_grey()` background colour has been changed from ""grey90"" to ""grey92"": this makes the background a little less visually prominent."
ggplot2,531,Labels and titles have been tweaked for readability:
ggplot2,532,Axes labels are darker.
ggplot2,533,Legend and axis titles are given the same visual treatment.
ggplot2,534,"The default font size dropped from 12 to 11. You might be surprised that I've made the default text size smaller as it was already hard for many people to read. It turns out there was a bug in RStudio (fixed in 0.99.724), that shrunk the text of all grid based graphics. Once that was resolved the defaults seemed too big to my eyes."
ggplot2,535,More spacing between titles and borders.
ggplot2,536,"Default margins scale with the theme font size, so the appearance at larger font sizes should be considerably improved (#1228)."
ggplot2,537,`alpha` now affects both fill and colour aesthetics (#1371).
ggplot2,538,`element_text()` gains a margins argument which allows you to add additional padding around text elements. To help see what's going on use `debug = TRUE` to display the text region and anchors.
ggplot2,539,The default font size in `geom_text()` has been decreased from 5mm (14 pts) to 3.8 mm (11 pts) to match the new default theme sizes.
ggplot2,540,"A diagonal line is no longer drawn on bar and rectangle legends. Instead, the border has been tweaked to be more visible, and more closely match the size of line drawn on the plot."
ggplot2,541,`geom_pointrange()` and `geom_linerange()` get vertical (not horizontal) lines in the legend (#1389).
ggplot2,542,The default line `size` for `geom_smooth()` has been increased from 0.5 to 1 to make it easier to see when overlaid on data.
ggplot2,543,`geom_bar()` and `geom_rect()` use a slightly paler shade of grey so they aren't so visually heavy.
ggplot2,544,`geom_boxplot()` now colours outliers the same way as the boxes.
ggplot2,545,"`geom_point()` now uses shape 19 instead of 16. This looks much better on the default Linux graphics device. (It's very slightly smaller than the old point, but it shouldn't affect any graphics significantly)"
ggplot2,546,"Sizes in ggplot2 are measured in mm. Previously they were converted to pts (for use in grid) by multiplying by 72 / 25.4. However, grid uses printer's points, not Adobe (big pts), so sizes are now correctly multiplied by 72.27 / 25.4. This is unlikely to noticeably affect display, but it's technically correct (<https://youtu.be/hou0lU8WMgo>)."
ggplot2,547,The default legend will now allocate multiple rows (if vertical) or columns (if horizontal) in order to make a legend that is more likely to fit on the screen. You can override with the `nrow`/`ncol` arguments to `guide_legend()`
ggplot2,547,"```
p <- ggplot(mpg, aes(displ,hwy, colour = model)) + geom_point()
p
p + theme(legend.position = ""bottom"")
# Previous behaviour
p + guides(colour = guide_legend(ncol = 1))
```"
ggplot2,548,"New `theme_void()` is completely empty. It's useful for plots with non- standard coordinates or for drawings (@​jiho, #976)."
ggplot2,549,"New `theme_dark()` has a dark background designed to make colours pop out (@​jiho, #1018)"
ggplot2,550,"`theme_minimal()` became slightly more minimal by removing the axis ticks: labels now line up directly beneath grid lines (@​tomschloss, #1084)"
ggplot2,551,"New theme setting `panel.ontop` (logical) make it possible to place background elements (i.e., gridlines) on top of data. Best used with transparent `panel.background` (@​noamross. #551)."
ggplot2,552,`facet_wrap()` gains a `labeller` option (#25).
ggplot2,553,"`facet_grid()` and `facet_wrap()` gain a `switch` argument to display the facet titles near the axes. When switched, the labels become axes subtitles. `switch` can be set to ""x"", ""y"" or ""both"" (the latter only for grids) to control which margin is switched."
ggplot2,554,They now offer the `multi_line` argument to control whether to display composite facets (those specified as `~var1 + var2`) on one or multiple lines.
ggplot2,555,"In `label_bquote()` you now refer directly to the names of variables. With this change, you can create math expressions that depend on more than one variable. This math expression can be specified either for the rows or the columns and you can also provide different expressions to each margin. As a consequence of these changes, referring to `x` in backquoted expressions is deprecated."
ggplot2,556,"Similarly to `label_bquote()`, `labeller()` now take `.rows` and `.cols` arguments. In addition, it also takes `.default`. `labeller()` is useful to customise how particular variables are labelled. The three additional arguments specify how to label the variables are not specifically mentioned, respectively for rows, columns or both. This makes it especially easy to set up a project-wide labeller dispatcher that can be reused across all your plots. See the documentation for an example."
ggplot2,557,"The new labeller `label_context()` adapts to the number of factors facetted over. With a single factor, it displays only the values, just as before. But with multiple factors in a composite margin (e.g. with `~cyl + am`), the labels are passed over to `label_both()`. This way the variables names are displayed with the values to help identifying them."
ggplot2,558,"Previously, a labeller function would take `variable` and `value` arguments and return a character vector. Now, they take a data frame of character vectors and return a list. The input data frame has one column per factor facetted over and each column in the returned list becomes one line in the strip label. See documentation for more details."
ggplot2,559,"The labels received by a labeller now contain metadata: their margin (in the ""type"" attribute) and whether they come from a wrap or a grid facet (in the ""facet"" attribute)."
ggplot2,560,Note that the new `as_labeller()` function operator provides an easy way to transform an existing function to a labeller function. The existing function just needs to take and return a character vector.
ggplot2,561,"Improved documentation for `aes()`, `layer()` and much much more."
ggplot2,562,I've tried to reduce the use of `...` so that you can see all the documentation in one place rather than having to integrate multiple pages. In some cases this has involved adding additional arguments to geoms to make it more clear what you can do:
ggplot2,563,"`geom_smooth()` gains explicit `method`, `se` and `formula` arguments."
ggplot2,564,"`geom_histogram()` gains `binwidth`, `bins`, `origin` and `right` arguments."
ggplot2,565,`geom_jitter()` gains `width` and `height` arguments to make it easier to control the amount of jittering without using the lengthy `position_jitter()` function (#1116)
ggplot2,566,"Use of `qplot()` in examples has been minimised (#1123, @​hrbrmstr). This is inline with the 2nd edition of the ggplot2 box, which minimises the use of `qplot()` in favour of `ggplot()`."
ggplot2,567,"Tightly linked geoms and stats (e.g. `geom_boxplot()` and `stat_boxplot()`) are now documented in the same file so you can see all the arguments in one place. Variations of the same idea (e.g. `geom_path()`, `geom_line()`, and `geom_step()`) are also documented together."
ggplot2,568,"It's now obvious that you can set the `binwidth` parameter for `stat_bin_hex()`, `stat_summary_hex()`, `stat_bin_2d()`, and `stat_summary_2d()`."
ggplot2,569,"The internals of positions have been cleaned up considerably. You're unlikely to notice any external changes, although the documentation should be a little less confusing since positions now don't list parameters they never use."
ggplot2,570,"All datasets have class `tbl_df` so if you also use dplyr, you get a better print method."
ggplot2,571,`economics` has been brought up to date to 2015-04-01.
ggplot2,572,New `economics_long` is the economics data in long form.
ggplot2,573,"New `txhousing` dataset containing information about the Texas housing market. Useful for examples that need multiple time series, and for demonstrating model+vis methods."
ggplot2,574,New `luv_colours` dataset which contains the locations of all built-in `colors()` in Luv space.
ggplot2,575,"`movies` has been moved into its own package, ggplot2movies, because it was large and not terribly useful. If you've used the movies dataset, you'll now need to explicitly load the package with `library(ggplot2movies)`."
ggplot2,576,"All partially matched arguments and `$` have been been replaced with full matches (@​jimhester, #1134)."
ggplot2,577,"ggplot2 now exports `alpha()` from the scales package (#1107), and `arrow()` and `unit()` from grid (#1225). This means you don't need attach scales/grid or do `scales::`/`grid::` for these commonly used functions."
ggplot2,578,`aes_string()` now only parses character inputs. This fixes bugs when using it with numbers and non default `OutDec` settings (#1045).
ggplot2,579,"`annotation_custom()` automatically adds a unique id to each grob name, making it easier to plot multiple grobs with the same name (e.g. grobs of ggplot2 graphics) in the same plot (#1256)."
ggplot2,580,"`borders()` now accepts xlim and ylim arguments for specifying the geographical region of interest (@​markpayneatwork, #1392)."
ggplot2,581,`coord_cartesian()` applies the same expansion factor to limits as for scales. You can suppress with `expand = FALSE` (#1207).
ggplot2,582,`coord_trans()` now works when breaks are suppressed (#1422).
ggplot2,583,`cut_number()` gives error message if the number of requested bins can be created because there are two few unique values (#1046).
ggplot2,584,Character labels in `facet_grid()` are no longer (incorrectly) coerced into factors. This caused problems with custom label functions (#1070).
ggplot2,585,`facet_wrap()` and `facet_grid()` now allow you to use non-standard variable names by surrounding them with backticks (#1067).
ggplot2,586,"`facet_wrap()` more carefully checks its `nrow` and `ncol` arguments to ensure that they're specified correctly (@​richierocks, #962)"
ggplot2,587,"`facet_wrap()` gains a `dir` argument to control the direction the panels are wrapped in. The default is ""h"" for horizontal. Use ""v"" for vertical layout (#1260)."
ggplot2,588,"`geom_abline()`, `geom_hline()` and `geom_vline()` have been rewritten to have simpler behaviour and be more consistent:"
ggplot2,589,"`stat_abline()`, `stat_hline()` and `stat_vline()` have been removed: these were never suitable for use other than with `geom_abline()` etc and were not documented."
ggplot2,590,"`geom_abline()`, `geom_vline()` and `geom_hline()` are bound to `stat_identity()` and `position_identity()`"
ggplot2,591,Intercept parameters can no longer be set to a function.
ggplot2,592,"They are all documented in one file, since they are so closely related."
ggplot2,593,"`geom_bin2d()` will now let you specify one dimension's breaks exactly, without touching the other dimension's default breaks at all (#1126)."
ggplot2,594,`geom_crossbar()` sets grouping correctly so you can display multiple crossbars on one plot. It also makes the default `fatten` argument a little bigger to make the middle line more obvious (#1125).
ggplot2,595,"`geom_histogram()` and `geom_smooth()` now only inform you about the default values once per layer, rather than once per panel (#1220)."
ggplot2,596,`geom_pointrange()` gains `fatten` argument so you can control the size of the point relative to the size of the line.
ggplot2,597,"`geom_segment()` annotations were not transforming with scales (@​BrianDiggs, #859)."
ggplot2,598,"`geom_smooth()` is no longer so chatty. If you want to know what the default smoothing method is, look it up in the documentation! (#1247)"
ggplot2,599,`geom_violin()` now has the ability to draw quantile lines (@​DanRuderman).
ggplot2,600,"`ggplot()` now captures the parent frame to use for evaluation, rather than always defaulting to the global environment. This should make ggplot more suitable to use in more situations (e.g. with knitr)"
ggplot2,601,"`ggsave()` has been simplified a little to make it easier to maintain. It no longer checks that you're printing a ggplot2 object (so now also works with any grid grob) (#970), and always requires a filename. Parameter `device` now supports character argument to specify which supported device to use ('pdf', 'png', 'jpeg', etc.), for when it cannot be correctly inferred from the file extension (for example when a temporary filename is supplied server side in shiny apps) (@​sebkopf, #939). It no longer opens a graphics device if one isn't already open - this is annoying when you're running from a script (#1326)."
ggplot2,602,"`guide_colorbar()` creates correct legend if only one color (@​krlmlr, #943)."
ggplot2,603,`guide_colorbar()` no longer fails when the legend is empty - previously this often masked misspecifications elsewhere in the plot (#967).
ggplot2,604,New `layer_data()` function extracts the data used for plotting for a given layer. It's mostly useful for testing.
ggplot2,605,"User supplied `minor_breaks` can now be supplied on the same scale as the data, and will be automatically transformed with by scale (#1385)."
ggplot2,606,"You can now suppress the appearance of an axis/legend title (and the space that would allocated for it) with `NULL` in the `scale_` function. To use the default label, use `waiver()` (#1145)."
ggplot2,607,Position adjustments no longer warn about potentially varying ranges because the problem rarely occurs in practice and there are currently a lot of false positives since I don't understand exactly what FP criteria I should be testing.
ggplot2,608,`scale_fill_grey()` now uses red for missing values. This matches `scale_colour_grey()` and makes it obvious where missing values lie. Override with `na.value`.
ggplot2,609,`scale_*_gradient2()` defaults to using Lab colour space.
ggplot2,610,`scale_*_gradientn()` now allows `colours` or `colors` (#1290)
ggplot2,611,"`scale_y_continuous()` now also transforms the `lower`, `middle` and `upper` aesthetics used by `geom_boxplot()`: this only affects `geom_boxplot(stat = ""identity"")` (#1020)."
ggplot2,612,Legends no longer inherit aesthetics if `inherit.aes` is FALSE (#1267).
ggplot2,613,`lims()` makes it easy to set the limits of any axis (#1138).
ggplot2,614,"`labels = NULL` now works with `guide_legend()` and `guide_colorbar()`. (#1175, #1183)."
ggplot2,615,"`override.aes` now works with American aesthetic spelling, e.g. color"
ggplot2,616,Scales no longer round data points to improve performance of colour palettes. Instead the scales package now uses a much faster colour interpolation algorithm (#1022).
ggplot2,617,"`scale_*_brewer()` and `scale_*_distiller()` add new `direction` argument of `scales::brewer_pal`, making it easier to change the order of colours (@​jiho, #1139)."
ggplot2,618,`scale_x_date()` now clips dates outside the limits in the same way as `scale_x_continuous()` (#1090).
ggplot2,619,"`stat_bin()` gains `bins` arguments, which denotes the number of bins. Now you can set `bins=100` instead of `binwidth=0.5`. Note that `breaks` or `binwidth` will override it (@​tmshn, #1158, #102)."
ggplot2,620,"`stat_boxplot()` warns if a continuous variable is used for the `x` aesthetic without also supplying a `group` aesthetic (#992, @​krlmlr)."
ggplot2,621,"`stat_summary_2d()` and `stat_bin_2d()` now share exactly the same code for determining breaks from `bins`, `binwidth`, and `origin`."
ggplot2,622,`stat_summary_2d()` and `stat_bin_2d()` now output in tile/raster compatible form instead of rect compatible form.
ggplot2,623,"Automatically computed breaks do not lead to an error for transformations like ""probit"" where the inverse can map to infinity (#871, @​krlmlr)"
ggplot2,624,"`stat_function()` now always evaluates the function on the original scale. Previously it computed the function on transformed scales, giving incorrect values (@​BrianDiggs, #1011)."
ggplot2,625,"`strip_dots` works with anonymous functions within calculated aesthetics (e.g. `aes(sapply(..density.., function(x) mean(x))))` (#1154, @​NikNakk)"
ggplot2,626,"`theme()` gains `validate = FALSE` parameter to turn off validation, and hence store arbitrary additional data in the themes. (@​tdhock, #1121)"
ggplot2,627,"Improved the calculation of segments needed to draw the curve representing a line when plotted in polar coordinates. In some cases, the last segment of a multi-segment line was not drawn (@​BrianDiggs, #952)"
googledrive,1,"`drive_auth(subject =)` is a new argument that can be used with `drive_auth(path =)`, i.e. when using a service account. The `path` and `subject` arguments are ultimately processed by `gargle::credentials_service_account()` and support the use of a service account to impersonate a normal user (#413)."
googledrive,2,All requests now route through `gargle::request_retry()` (#380).
googledrive,3,"`drive_scopes()` is a new function to access scopes relevant to the Drive API. When called without arguments, `drive_scopes()` returns a named vector of scopes, where the names are the associated short aliases. `drive_scopes()` can also be called with a character vector; any element that's recognized as a short alias is replaced with the associated full scope (#430)."
googledrive,4,Various internal changes to sync up with gargle v1.5.0.
googledrive,5,`drive_oauth_client()` is a new function to replace the now-deprecated `drive_oauth_app()`.
googledrive,6,The new `client` argument of `drive_auth_configure()` replaces the now-deprecated `app` argument.
googledrive,7,"The documentation of `drive_auth_configure()` emphasizes that the preferred way to ""bring your own OAuth client"" is by providing the JSON downloaded from Google Developers Console."
googledrive,8,[Team Drives is being renamed to shared drives](https://workspaceupdates.googleblog.com/2019/04/shared-drives.html) from Google Workspace blog
googledrive,9,[Upcoming changes to the Google Drive API and Google Picker API](https://cloud.google.com/blog/products/application-development/upcoming-changes-to-the-google-drive-api-and-google-picker-api) from the Google Cloud blog
googledrive,10,`shortcut_create()`: creates a shortcut to a specific Drive file (or folder).
googledrive,11,"`shortcut_resolve()`: resolves a shortcut to its target, i.e. the file it refers to. Works for multiple files at once, i.e. the input can be a mix of shortcuts and non-shortcuts. The non-shortcuts are passed through and the shortcuts are replaced by their targets."
googledrive,12,"Main principle: shortcuts are first-class Drive files that we assume users will need to manipulate with googledrive. In general, there is no automatic resolution to the target file."
googledrive,13,"`drive_reveal(what = ""path"")` returns the canonical path, i.e. there will be no shortcuts among the non-terminal ""folder"" parts of the returned path."
googledrive,14,"`drive_get(path = ""foo/"")` can retrieve a folder named ""foo"" or a shortcut named ""foo"", whose target is a folder."
googledrive,15,"When a shortcut-to-a-folder is specified as the `path`, in a context where it unambiguously specifies a parent folder, the `path` **is** auto-resolved to its target folder. This is the exception to the ""no automatic resolution"" rule. Functions affected:"
googledrive,16,"`drive_ls(path, ...)`"
googledrive,17,"`drive_create(name, path, ...)` and its convenience wrappers `drive_mkdir()` and `shortcut_create()`"
googledrive,18,"`drive_cp(file, path, ...)`"
googledrive,19,"`drive_mv(file, path, ...)`"
googledrive,20,"`drive_upload(media, path, ...)` and its close friend `drive_put()`"
googledrive,21,[Simplifying Google Drive's folder structure and sharing models](https://workspace.google.com/blog/product-announcements/simplifying-google-drives-folder-structure-and-sharing-models)
googledrive,22,[Single-parenting behavior changes](https://developers.google.com/drive/api/v3/ref-single-parent)
googledrive,23,[Create a shortcut to a Drive file](https://developers.google.com/drive/api/v3/shortcuts)
googledrive,24,Find files & folders with Google Drive shortcuts: `https://support.google.com/drive/answer/9700156`
googledrive,25,"We now share a variety of world-readable, persistent example files on Drive, for use in examples and documentation. These remote example files complement the local example files that were already included in googledrive. `drive_example()` is deprecated in favor of these accessors for example files:"
googledrive,26,"Plural forms:`drive_examples_remote()`, `drive_examples_local()`"
googledrive,27,"Singular forms: `drive_example_remote()`, `drive_example_local()`"
googledrive,28,"`drive_read_string()` and `drive_read_raw()` are new functions that read the content of a Drive file directly into R, skipping the step of downloading to a local file (#81)."
googledrive,29,"`drive_reveal(what = ""property_name"")` now works for any property found in the file metadata stored in the `drive_resource` column. The new column is also simplified in more cases now, e.g. to `character` or `logical`. If the `property_name` suggests it's a date-time, we return `POSIXct`."
googledrive,30,"We've modernized the mechanisms by which the `dribble` class is (or is not) retained by various data frame operations. This boils down to updating or adding methods used by the base, dplyr, pillar/tibble, and vctrs packages. We focus on compatibility with dplyr \>= 1.0.0, which was released a year ago. googledrive only Suggests dplyr, so all this really means is that `dribble` manipulation via dplyr now works best with dplyr \>= 1.0.0."
googledrive,31,"The `drive_id` S3 class is now implemented more fully, using the vctrs package (#93, #364):"
googledrive,32,"The `drive_id` class will persist after mundane operations, like subsetting."
googledrive,33,You can no longer put strings that are obviously invalid into a `drive_id` object.
googledrive,34,The `id` column of a `dribble` is now an instance of `drive_id`.
googledrive,35,"The overall design of googledrive has survived \~2 years on CRAN, with very little need for change. The API and feature set is fairly stable."
googledrive,36,There are changes in the auth interface that are not backwards compatible.
googledrive,37,Application Default Credentials
googledrive,38,Service account tokens from the metadata server available to VMs running on GCE
googledrive,39,Help for [`drive_auth()`](https://googledrive.tidyverse.org/reference/drive_auth.html) *all that most users need*
googledrive,40,*details for more advanced users*
googledrive,41,[Bring your own OAuth app or API key](https://googledrive.tidyverse.org/articles/articles/bring-your-own-app.html)
googledrive,42,[How to get your own API credentials](https://gargle.r-lib.org/articles/get-api-credentials.html)
googledrive,43,[Non-interactive auth](https://gargle.r-lib.org/articles/non-interactive-auth.html)
googledrive,44,[Auth when using R in the browser](https://gargle.r-lib.org/articles/auth-from-web.html)
googledrive,45,[How gargle gets tokens](https://gargle.r-lib.org/articles/how-gargle-gets-tokens.html)
googledrive,46,[Managing tokens securely](https://gargle.r-lib.org/articles/articles/managing-tokens-securely.html)
googledrive,47,Previous signature (v0.1.3 and earlier)
googledrive,47,"```
drive_auth(
  oauth_token = NULL,                       # use `token` now
  service_token = NULL,                     # use `path` now
  reset = FALSE,                            
  cache = getOption(""httr_oauth_cache""),
  use_oob = getOption(""httr_oob_default""),
  verbose = TRUE
)
```"
googledrive,48,Current signature (\>= v1.0.0)
googledrive,48,"```
drive_auth(
  email = gargle::gargle_oauth_email(),             # NEW!
  path = NULL,                                      # was `service_token`
  scopes = ""https://www.googleapis.com/auth/drive"", # NEW!
  cache = gargle::gargle_oauth_cache(),
  use_oob = gargle::gargle_oob_default(),
  token = NULL                                      # was `oauth_token`
)
```"
googledrive,49,"`drive_auth_configure()` is a variant of the now-deprecated `drive_auth_config()` whose explicit and only job is to *set* aspects of the configuration, i.e. the OAuth app or API key."
googledrive,50,"Use `drive_oauth_app()` (new) and `drive_api_key()` to *retrieve* a user-configured app or API key, if such exist."
googledrive,51,"These functions no longer return built-in auth assets, although built-in assets still exist and are used in the absence of user configuration."
googledrive,52,"`drive_deauth()` is how you go into a de-authorized state, i.e. send an API key in lieu of a token."
googledrive,53,`generate_request()` has been renamed to `request_generate()`.
googledrive,54,`make_request()` had been renamed to `request_make()` and is a very thin wrapper around `gargle::request_make()` that only adds googledrive's user agent.
googledrive,55,"`build_request()` has been removed. If you can't do what you need with `request_generate()`, use `gargle::request_develop()` or `gargle::request_build()` directly."
googledrive,56,"`process_response()` has been removed. Instead, use `gargle::response_process(response)`, as we do inside googledrive."
googledrive,57,All functions that create a new item or rename/move an existing item have gained an `overwrite` argument.
googledrive,58,`drive_put()` is a new convenience wrapper that figures out whether to call `drive_upload()` or `drive_update()`.
googledrive,59,`drive_create()` *this whole function is new*
googledrive,60,`drive_cp()`
googledrive,61,`drive_mkdir()`
googledrive,62,`drive_mv()`
googledrive,63,`drive_rename()`
googledrive,64,`drive_upload()`
googledrive,65,Internal usage of `glue::collapse()` modified to call `glue::glue_collapse()` if glue v1.3.0 or later is installed and `glue::collapse()` otherwise. Eliminates a deprecation warning emanating from glue. (#222 @​jimhester)
googledrive,66,initial CRAN release
googlesheets4,1,"`gs4_auth(subject =)` is a new argument that can be used with `gs4_auth(path =)`, i.e. when using a service account. The `path` and `subject` arguments are ultimately processed by `gargle::credentials_service_account()` and support the use of a service account to impersonate a normal user."
googlesheets4,2,"`gs4_scopes()` is a new function to access scopes relevant to the Sheets and Drive APIs. When called without arguments, `gs4_scopes()` returns a named vector of scopes, where the names are the associated short aliases. `gs4_scopes()` can also be called with a character vector; any element that's recognized as a short alias is replaced with the associated full scope (#291)."
googlesheets4,3,Various internal changes to sync up with gargle v1.5.0.
googlesheets4,4,`gs4_oauth_client()` is a new function to replace the now-deprecated `gs4_oauth_app()`.
googlesheets4,5,The new `client` argument of `gs4_auth_configure()` replaces the now-deprecated `app` argument.
googlesheets4,6,"The documentation of `gs4_auth_configure()` emphasizes that the preferred way to ""bring your own OAuth client"" is by providing the JSON downloaded from Google Developers Console."
googlesheets4,7,cli is new in Imports.
googlesheets4,8,"googlesheets4 Suggests testthat \>= 3.0.0 and, specifically, uses third edition features."
googlesheets4,9,"`gs4_`: refers variously to the googlesheets4 package, v4 of the Google Sheets API, or to operations on one or more (spread)Sheets"
googlesheets4,10,`sheet_`: operations on one or more (work)sheets
googlesheets4,11,`range_`: operations on a range of cells
googlesheets4,12,"`gs4_create()` creates a new Google Sheet and, optionally, writes one or more data frames into it (#61)."
googlesheets4,13,"`sheet_write()` (also available as `write_sheet()`) writes a data frame into a new or existing (work)sheet, inside an existing (or new) (spread)Sheet."
googlesheets4,14,`sheet_append()` adds rows to an existing data table.
googlesheets4,15,`range_write()` writes to a cell range.
googlesheets4,16,"`range_flood()` ""floods"" all cells in a range with the same content. `range_clear()` is a wrapper around `range_flood()` for the special case of clearing cell values."
googlesheets4,17,`range_delete()` deletes a range of cells.
googlesheets4,18,(`sheet_write()` and `sheet_append()` are described above.)
googlesheets4,19,`sheet_properties()` returns a tibble of metadata with one row per sheet.
googlesheets4,20,`sheet_names()` returns sheet names.
googlesheets4,21,`sheet_add()` adds one or more sheets.
googlesheets4,22,`sheet_copy()` copies a sheet.
googlesheets4,23,`sheet_delete()` deletes one or more sheets.
googlesheets4,24,`sheet_relocate()` moves sheets around.\
googlesheets4,25,`sheet_rename()` renames one sheet.
googlesheets4,26,`sheet_resize()` changes the number of rows or columns in a sheet.
googlesheets4,27,"`read_sheet()` passes its `na` argument down to the helpers that parse cells, so that `na` actually has the documented effect (#73)."
googlesheets4,28,"Patch release to modify a test fixture, to be compatible with tibble v3.0. Related to tibble's increased type strictness."
googlesheets4,29,Added a `NEWS.md` file to track changes to the package.
haven,1,Fix for upcoming R-devel change.
haven,2,Updated to ReadStat 1.1.9.
haven,3,"Fix various SAS catalog file reading bugs (#529, #653, #680, #696, #705)."
haven,4,Increase maximum SAS page file size to 16MiB (#697).
haven,5,Ignore invalid SAV timestamp strings (#683).
haven,6,Fix compiler warnings (#707).
haven,7,"The experimental `write_sas()` function has been deprecated (#224). The sas7bdat file format is complex and undocumented, and as such writing SAS files is not officially supported by ReadStat. `write_xpt()` should be used instead - it produces files in the SAS transport format, which has limitations but will be reliably read by SAS."
haven,8,"`write_*()` functions gain a new `adjust_tz` argument to allow more control over time zone conversion for date-time variables (#702). Thanks to @​jmobrien for the detailed issue and feedback. Stata, SPSS and SAS do not have a concept of time zone. Since haven 2.4.0 date-time values in non-UTC time zones are implicitly converted when writing to ensure the time displayed in Stata/SPSS/SAS will match the time displayed to the user in R (see #555). This is the behaviour when `adjust_tz = TRUE` (the default). Although this is in line with general user expectations it can cause issues when the time zone is important, for e.g. when looking at differences between time points, since the underlying numeric data is changed to preserve the displayed time. Use `adjust_tz = FALSE` to write the time as the corresponding UTC value, which will appear different to the user but preserves the underlying numeric data."
haven,9,"`write_*()` functions previously returned the data frame with minor alterations made to date-time variables. These functions now invisibly return the original input data frame unchanged (@​jmobrien, #702)."
haven,10,Fix bug in string variable width calculation that treated `NA` values as width 2. `NA` values are now treated as blanks for width calculations (#699).
haven,11,All `labelled()` vectors now have left-aligned column headers when printing in tibbles for better alignment with labels (#676).
haven,12,`write_*()` now accept functions as well as strings in the `.name_repair` argument in line with the documentation. Previously they only supported string values (#684).
haven,13,`write_sav()` variable name validation no longer treats all non-ASCII characters as invalid (#689).
haven,14,@​gorcha is now a haven author in recognition of his significant and sustained contributions.
haven,15,All `write_` functions can now write custom variable widths by setting the `width` attribute (#650).
haven,16,"When writing files, the minimum width for character variables is now 1. This fixes issues with statistical software reading blank character variables with width 0 (#650)."
haven,17,"`write_dta()` now uses strL when strings are too long to be stored in an str# variable (#437). strL is used when strings are longer than 2045 characters by default, which matches Stata's behaviour, but this can be reduced with the `strl_threshold` argument."
haven,18,"`write_xpt()` can now write dataset labels with the `label` argument, which defaults to the `label` attribute of the input data frame, if present (#562)."
haven,19,"`write_sav()` now checks for case-insensitive duplicate variable names (@​juansebastianl, #641) and verifies that variable names are valid SPSS variables."
haven,20,"The `compress` argument for `write_sav()` now supports all 3 SPSS compression modes specified as a character string - ""byte"", ""none"" and ""zsav"" (#614). `TRUE` and `FALSE` can be used for backwards compatibility, and correspond to the ""zsav"" and ""none"" options respectively."
haven,21,`write_sav()` successfully writes user missing values and ranges for `labelled()` integer vectors (#596).
haven,22,"POSIXct and POSIXlt values with no time component (e.g. ""2010-01-01"") were being converted to `NA` when attempting to convert the output timezone to UTC. These now output successfully (#634)."
haven,23,Fix bug in output timezone conversion that was causing variable labels and other variable attributes to disappear (#624).
haven,24,Updated to ReadStat 1.1.8 RC.
haven,25,Fix bug when writing formats to XPT files (#650).
haven,26,Fix off by one error in indexing for strL variables (#437).
haven,27,`labelled()` vectors now throw a warning when combining two vectors with conflicting labels (#667).
haven,28,`zap_labels()` gains a `user_na` argument to control whether user-defined missing values are converted to `NA` or left as is (#638).
haven,29,vctrs casting and coercion generics now do less work when working with two identical `labelled()` vectors. This significantly improves performance when working with `labelled()` vectors in grouped data frames (#658).
haven,30,Errors and warnings now use `cli_abort()` and `cli_warning()` (#661).
haven,31,"R 3.4 is now the minimum supported version, in line with [tidyverse policy](https://www.tidyverse.org/blog/2019/04/r-version-support/)."
haven,32,cli \>= 3.0.0 has been added to Imports to support new error messaging.
haven,33,"lifecycle has been added to Imports, and is now used to manage deprecations."
haven,34,Fix build failure on Solaris.
haven,35,Updated to ReadStat 1.1.7 RC (#620).
haven,36,"`read_dta()` no longer crashes if it sees StrL variables with missing values (@​gorcha, #594, #600, #608)."
haven,37,"`write_dta()` now correctly handles ""labelled""-class numeric (double) variables that don't have value labels (@​jmobrien, #606, #609)."
haven,38,"`write_dta()` now allows variable names up to 32 characters (@​sbae, #605)."
haven,39,"Can now correctly combine `labelled_spss()` with identical labels (@​gorcha, #599)."
haven,40,Fix buglet when combining `labelled()` with identical labels.
haven,41,"`labelled_spss()` gains full vctrs support thanks to the hard work of @​gorcha (#527, #534, #538, #557). This means that they should now work seamlessly in dplyr 1.0.0, tidyr 1.0.0 and other packages that use vctrs."
haven,42,"`labelled()` vectors are more permissive when concatenating; output labels will be a combination of the left-hand and the right-hand side, preferring values assigned to the left-hand side (#543)."
haven,43,"Date-times are no longer forced to UTC, but instead converted to the equivalent UTC (#555). This should ensure that you see the same date-time in R and in Stata/SPSS/SAS."
haven,44,Updated to ReadStat 1.1.5. Most importantly this includes support for SAS binary compression.
haven,45,"`as_factor(levels = ""values"")` preserves values of unlabelled elements (#570)."
haven,46,"`labelled_spss()` is a little stricter: it prevents `na_range` and `na_value` from containing missing values, and ensures that `na_range` is in the correct order (#574)."
haven,47,`read_spss()` now reads NA values and ranges of character variables (#409).
haven,48,`write_dta()` now correctly writes tagged NAs (including tagged NAs in labels) (#583) and once again validates length of variables names (#485).
haven,49,"`write_*()` now validate file and variable metadata with ReadStat. This should prevent many invalid files from being written (#408). Additionally, validation failures now provide more details about the source of the problem (e.g. the column name of the problem) (#463)."
haven,50,"`write_sav(compress = FALSE)` now uses SPSS bytecode compression instead of the rarely-used uncompressed mode. `compress = TRUE` continues to use the newer (and not universally supported, but more compact) zlib format (@​oliverbock, #544)."
haven,51,"Add missing methods so `median()`, `quantile()` and `summary()` work once more (#520)."
haven,52,Add missing cast methods (#522).
haven,53,"`labelled()` gains the necessary support to work seemlessly in dplyr 1.0.0, tidyr 1.0.0, and other packages that use vctrs (@​mikmart, #496)."
haven,54,"`labelled()` vectors now explicitly inherit from the corresponding base types (e.g. integer, double, or character) (#509)."
haven,55,"ReadStat update, including `read_sas()` supports for ""any"" encoding (#482), and fixes for compiler warnings."
haven,56,`col_select`: selects columns to read with a tidyselect interface (#248).
haven,57,`skip`: skips rows before reading data (#370).
haven,58,`n_max`: limits the number of rows to read.
haven,59,"`as_factor()` allows non-unique labels when `levels = ""label""`. This fixes a particularly annoying printing bug (#424, @​gergness)"
haven,60,`read_sas()` now supports (IS\|E\|B)8601(DT\|DA\|TM) date/time formats (@​mikmart).
haven,61,All `write_` functions gain a `.name_repair` argument that controls what happens when the input dataset has repeated column names (#436).
haven,62,All `write_` functions can now write labelled vectors with `NULL` labels (#442).
haven,63,"`write_dta()` can now write dataset labels with the `label` argument, which defaults to the `label` attribute of the input data frame, if present (@​gorcha, #449)."
haven,64,"`write_dta()` works better with Stata 15, thanks to updated ReadStat (#461)"
haven,65,Fixes for R CMD check
haven,66,`as_factor()`:
haven,67,Is faster when input doesn't contain any missing values (@​hughparsonage).
haven,68,Added `labelled` method for backward compatbility (#414).
haven,69,"`data.frame` method now correctly passes `...` along (#407, @​zkamvar)."
haven,70,"`write_dta()` now checks that the labelled values are integers, not the values themselves (#401)."
haven,71,Updated to latest ReadStat from @​evanmiller:
haven,72,`read_por()` can now read files from SPSS 25 (#412)
haven,73,`read_por()` now uses base-30 instead of base-10 for the exponent (#413)
haven,74,`read_sas()` can read zero column file (#420)
haven,75,`read_sav()` reads long strings (#381)
haven,76,`read_sav()` has greater memory limit allowing it to read more labels (#418)
haven,77,`read_spss()` reads long variable labels (#422)
haven,78,`write_sav()` no longer creates incorrect column names when \>10k columns (#410)
haven,79,`write_sav()` no longer crashes when writing long label names (#395)
haven,80,"`labelled()` and `labelled_spss()` now produce objects with class ""haven_labelled"" and ""haven_labelled_spss"". Previously, the ""labelled"" class name clashed with the labelled class defined by Hmisc (#329). Unfortunately I couldn't come up with a way to fix this problem except to change the class name; it seems reasonable that haven should be the one to change names given that Hmisc has been around much longer. This will require some changes to packages that use haven, but shouldn't affect user code."
haven,81,"`labelled()` and `labelled_spss()` now support adding the `label` attribute to the resulting object. The `label` is a short, human-readable description of the object, and is now also used when printing, and can be easily removed using the new `zap_label()` function. (#362, @​huftis) Previously, the `label` attribute was supported both when reading and writing SPSS files, but it was not possible to actually create objects in R having the `label` attribute using the constructors `labelled()` or `labelled_spss()`."
haven,82,haven can read and write non-ASCII paths in R 3.5 (#371).
haven,83,"`labelled_spss` objects preserve their attributes when subsetted (#360, @​gergness)."
haven,84,`read_sav()` gains an `encoding` argument to override the encoding stored in the file (#305). `read_sav()` can now read `.zsav` files (#338).
haven,85,"`write_*()` functions now invisibly return the input data frame (as documented) (#349, @​austensen)."
haven,86,`write_dta()` allows non-ASCII variable labels for version 14 and above (#383). It also uses a less strict check for integers so that a labelled double containing only integer values can written (#343).
haven,87,`write_sav()` produces `.zsav` files when `compress = TRUE` (#338).
haven,88,"`write_xpt()` can now set the ""member"" name, which defaults to the file name san extension (#328)."
haven,89,Update to latest readstat.
haven,90,Fixes out of memory error (#342)
haven,91,Now supports reading and writing stata 15 files (#339)
haven,92,Negative integer labelled values were tagged as missing (#367)
haven,93,"Fix for when `as_factor()` with option `levels=""labels""` is used on tagged NAs (#340, @​gergness)"
haven,94,Update to latest readstat. Includes:
haven,95,SPSS: empty charater columns now read as character (#311)
haven,96,SPSS: now write long strings (#266)
haven,97,Stata: reorder labelled vectors on write (#327)
haven,98,State: `encoding` now affects value labels (#325)
haven,99,"SAS: can now write wide/long rows (#272, #335)."
haven,100,SAS: can now handle Windows Vietnamese character set (#336)
haven,101,`read_por()` and `read_xpt()` now correctly preserve attributes if output needs to be reallocated (which is typical behaviour) (#313)
haven,102,`read_sas()` recognises date/times format with trailing separator and width specifications (#324)
haven,103,`read_sas()` gains a `catalog_encoding` argument so you can independently specify encoding of data and catalog (#312)
haven,104,"`write_*()` correctly measures lengths of non-ASCII labels (#258): this fixes the cryptic error ""A provided string value was longer than the available storage size of the specified column."""
haven,105,"`write_dta()` now checks for bad labels in all columns, not just the first (#326)."
haven,106,`write_sav()` no longer fails on empty factors or factors with an `NA` level (#301) and writes out more metadata for `labelled_spss` vectors (#334).
haven,107,Update to latest readstat. Includes:
haven,108,SAS: support Win baltic code page (#231)
haven,109,"SAS: better error messages instead of crashes (#234, #270)"
haven,110,"SAS: fix ""unable to read error"" (#271)"
haven,111,SPSS: support uppercase time stamps (#230)
haven,112,SPSS: fixes for 252-255 byte strings (#226)
haven,113,SPSS: fixes for 0 byte strings (#245)
haven,114,Share `as_factor()` with forcats package (#256)
haven,115,`read_sav()` once again correctly returns system defined missings as `NA` (rather than `NaN`) (#223). `read_sav()` and `write_sav()` preserve SPSS's display widths (@​ecortens).
haven,116,`read_sas()` gains experimental `cols_only` argument to only read in specified columns (#248).
haven,117,"tibbles are created with `tibble::as_tibble()`, rather than by ""hand"" (#229)."
haven,118,`write_sav()` checks that factors don't have levels with \>120 characters (#262)
haven,119,`write_dta()` no longer checks that all value labels are at most 32 characters (since this is not a restriction of dta files) (#239).
haven,120,All write methds now check that you're trying to write a data frame (#287).
haven,121,Add support for reading (`read_xpt()`) and writing (`write_xpt()`) SAS transport files.
haven,122,`write_*` functions turn ordered factors into labelled vectors (#285)
haven,123,"The ReadStat library is stored in a subdirectory of `src` (#209, @​krlmlr)."
haven,124,"Import tibble so that tibbles are printed consistently (#154, @​krlmlr)."
haven,125,Update to latest ReadStat (#65). Includes:
haven,126,Support for binary (aka Ross) compression for SAS (#31).
haven,127,Support extended ASCII encoding for Stata (#71).
haven,128,"Support for Stata 14 files (#75, #212)."
haven,129,Support for SPSS value labels with more than 8 characters (#157).
haven,130,More likely to get an error when attempting to create an invalid output file (#171).
haven,131,"Added support for reading and writing variable formats. Similarly to to variable labels, formats are stored as an attribute on the vector. Use `zap_formats()` if you want to remove these attributes. (@​gorcha, #119, #123)."
haven,132,"Added support for reading file ""label"" and ""notes"". These are not currently printed, but are stored in the attributes if you need to access them (#186)."
haven,133,"Added support for ""tagged"" missing values (in Stata these are called ""extended"" and in SAS these are called ""special"") which carry an extra byte of information: a character label from ""a"" to ""z"". The downside of this change is that all integer columns are now converted to doubles, to support the encoding of the tag in the payload of a NaN."
haven,134,"New `labelled_spss()` is a subclass of `labelled()` that can model user missing values from SPSS. These can either be a set of distinct values, or for numeric vectors, a range. `zap_labels()` strips labels, and replaces user-defined missing values with `NA`. New `zap_missing()` just replaces user-defined missing values with `NA`. `labelled_spss()` is potentially dangerous to work with in R because base functions don't know about `labelled_spss()` functions so will return the wrong result in the presence of user-defined missing values. For this reason, they will only be created by `read_spss()` when `user_na = TRUE` (normally user-defined missings are converted to NA)."
haven,135,"`as_factor()` no longer drops the `label` attribute (variable label) when used (#177, @​itsdalmo)."
haven,136,"Using `as_factor()` with `levels = ""default` or `levels = ""both""` preserves unused labels (implicit missing) when converting (#172, @​itsdalmo). Labels (and the resulting factor levels) are always sorted by values."
haven,137,"`as_factor()` gains a new `levels = ""default""` mechanism. This uses the labels where present, and otherwise uses the labels. This is now the default, as it seems to map better to the semantics of labelled values in other statistical packages (#81). You can also use `levels = ""both""` to combine the value and the label into a single string (#82). It also gains a method for data frames, so you can easily convert every labelled column to a factor in one function call."
haven,138,"New `vignette(""semantics"", package = ""haven"")` discusses the semantics of missing values and labelling in SAS, SPSS, and Stata, and how they are translated into R."
haven,139,"Support for `hms()` has been moved into the hms package (#162). Time varibles now have class `c(""hms"", ""difftime"")` and a `units` attribute with value ""secs"" (#162)."
haven,140,"`labelled()` is less strict with its checks: you can mix double and integer value and labels (#86, #110, @​lionel-), and `is.labelled()` is now exported (#124). Putting a labelled vector in a data frame now generates the correct column name (#193)."
haven,141,"`read_dta()` now recognises ""%d"" and custom date types (#80, #130). It also gains an encoding parameter which you can use to override the default encoding. This is particularly useful for Stata 13 and below which did not store the encoding used in the file (#163)."
haven,142,`read_por()` now actually works (#35).
haven,143,"`read_sav()` now correctly recognises EDATE and JDATE formats as dates (#72). Variables with format DATE, ADATE, EDATE, JDATE or SDATE are imported as `Date` variables instead of `POSIXct`. You can now set `user_na = TRUE` to preserve user defined missing values: they will be given class `labelled_spss`."
haven,144,"`read_dta()`, `read_sas()`, and `read_sav()` have a better test for missing string values (#79). They can all read from connections and compressed files (@​lionel-, #109)"
haven,145,`read_sas()` gains an encoding parameter to overide the encoding stored in the file if it is incorrect (#176). It gets better argument names (#214).
haven,146,Added `type_sum()` method for labelled objects so they print nicely in tibbles.
haven,147,"`write_dta()` now verifies that variable names are valid Stata variables (#132), and throws an error if you attempt to save a labelled vector that is not an integer (#144). You can choose which `version` of Stata's file format to output (#217)."
haven,148,New `write_sas()` allows you to write data frames out to `sas7bdat` files. This is still somewhat experimental.
haven,149,"`write_sav()` writes hms variables to SPSS time variables, and the ""measure"" type is set for each variable (#133)."
haven,150,"`write_dta()` and `write_sav()` support writing date and date/times (#25, #139, #145). Labelled values are always converted to UTF-8 before being written out (#87). Infinite values are now converted to missing values since SPSS and Stata don't support them (#149). Both use a better test for missing values (#70)."
haven,151,"`zap_labels()` has been completely overhauled. It now works (@​markriseley, #69), and only drops label attributes; it no longer replaces labelled values with `NA`s. It also gains a data frame method that zaps the labels from every column."
haven,152,`print.labelled()` and `print.labelled_spss()` now display the type.
haven,153,"fixed a bug in `as_factor.labelled`, which generated `<NA>`{=html}'s and wrong labels for integer labels."
haven,154,"`zap_labels()` now leaves unlabelled vectors unchanged, making it easier to apply to all columns."
haven,155,`write_dta()` and `write_sav()` take more care to always write output as UTF-8 (#36)
haven,156,"`write_dta()` and `write_sav()` won't crash if you give them invalid paths, and you can now use `~` to refer to your home directory (#37)."
haven,157,"Byte variables are now correctly read into integers (not strings, #45), and missing values are captured correctly (#43)."
haven,158,Added `read_stata()` as alias to `read_dta()` (#52).
haven,159,`read_spss()` uses extension to automatically choose between `read_sav()` and `read_por()` (#53)
haven,160,"Updates from ReadStat. Including fixes for various parsing bugs, more encodings, and better support for large files."
haven,161,hms objects deal better with missings when printing.
haven,162,Fixed bug causing labels for numeric variables to be read in as integers and associated error: `` Error: `x` and `labels` must be same type ``
haven,163,Fixed memory initialisation problems found by valgrind.
hms,2,Merged cran-1.1.3 into main.
hms,3,Internal changes only.
hms,4,"Fix method consistency, checked by R-devel."
hms,5,Use rlang instead of ellipsis (#106).
hms,6,"Fix method consistency, checked by R-devel."
hms,7,Use rlang instead of ellipsis (#106).
hms,8,Re-rendered documentation for compatibility with R-devel.
hms,9,Avoid blanket import for lifecycle package for compatibility with upcoming rlang.
hms,10,"Establish compatibility with development version of testthat (#101, @​lionel-)."
hms,11,"`""hms""` objects no longer have a common type with `character` and `numeric`. Combining such values previously threw a warning, now throws an error (#94)."
hms,12,`vec_cast()` and `as_hms()` throw error instead of a warning if input can't be parsed (#68).
hms,13,"New `unique.hms()` method (#98, @​joethorley)."
hms,14,`as_hms()` is a generic again (#81).
hms,15,Avoid `LazyData` in `DESCRIPTION`.
hms,16,Bump required versions of ellipsis and vctrs to avoid warning during package load.
hms,17,Using lifecycle package (#94).
hms,18,"hms is now marked as ""stable""."
hms,19,"`""hms""` objects no longer have a common type with `character` and `numeric`. Combining such values previously threw a warning, now throws an error (#94)."
hms,20,`vec_cast()` and `as_hms()` now throw error instead of a warning if input can't be parsed (#68).
hms,21,`as_hms()` is a generic again (#81).
hms,22,"`round_hms()` and `trunc_hms()` gain `digits` argument (#78, @​hglanz)."
hms,23,"`as_hms()` and `vec_cast()` now correctly treat objects of class `""difftime""` with `integer` mode (#84)."
hms,24,Using lifecycle package (#94).
hms,25,hms has been re-licensed as MIT (#86).
hms,26,"Use `vec_default_ptype2()`, remove `vec_ptype2.hms.unspecified()` (#80, @​romainfrancois)."
hms,27,`vec_ptype2.hms.default()` forwards to `vec_default_ptype2()` for compatibility with vctrs 0.2.1.
hms,28,"Remove `as.data.frame.hms()`, handeld by vctrs."
hms,29,Internal changes only.
hms,30,Work around parsing error that occurs on DST changeover dates (https://bugs.r-project.org/bugzilla/show_bug.cgi?id=16764).
hms,31,Lossy casts from `character` vectors to `hms` now also trigger a warning if the cast succeeds in the first element of the vector but fails for other elements.
hms,32,Now based on vctrs \>= 0.2.0 (#61). This adds support for `vec_cast()` and `vec_ptype2()`. Some operations (such as subset assignment) are now stricter. The `new_hms()` constructor permits safe construction of `hms` objects from a numeric vector.
hms,33,The new `is_hms()` deprecates the existing `is.hms()`. `as.hms()` is deprecated in favor of `vec_cast()` or the new `as_hms()` (which is just a thin wrapper around `vec_cast()`).
hms,34,Always show seconds in a pillar if they are different from zero (#54).
hms,35,"Values with nonzero hours, seconds and split-seconds are now displayed correctly in tibbles (#56), even with a very small distance to the full second (#64)."
hms,36,Don't test colored output on CRAN.
hms,37,"Correct reference link on r4ds (#58, @​evanhaldane)."
hms,38,Adapted tests to pillar 1.2.1.
hms,39,"Preserve `NA` when converting to `character` (#51, @​jeroen)."
hms,40,Adapted tests to pillar 1.1.0.
hms,41,"`as.hms.POSIXt()` now defaults to the current time zone, the previous default was `""UTC""` and can be restored by calling `pkgconfig::set_config(""hms::default_tz"", ""UTC"")`."
hms,42,"Pillar support, will display `hms` columns in tibbles in color on terminals that support it (#43)."
hms,43,New `round_hms()` and `trunc_hms()` for rounding or truncating to a given multiple of seconds (#31).
hms,44,"New `parse_hms()` and `parse_hm()` to parse strings in ""HH:MM:SS"" and ""HH:MM"" formats (#30)."
hms,45,"`as.hms.POSIXt()` gains `tz` argument, default `""UTC""` (#28)."
hms,46,`as.hms.character()` and `parse_hms()` accept fractional seconds (#33).
hms,47,"`hms()` now works correctly if all four components (days, hours, minutes, seconds) are passed (#49)."
hms,48,"`hms()` creates a zero-length object of class `hms` that prints as `""hms()""`."
hms,49,`hms(integer())` and `as.hms(integer())` both work and are identical to `hms()`.
hms,50,Values with durations of over 10000 hours are now printed correctly (#48).
hms,51,"`c()` now returns a hms (#41, @​qgeissmann)."
hms,52,Fix and enhance examples in `?hms`.
hms,53,Documentation is in Markdown format now.
hms,54,Improved error message if calling `hms()` with a character argument (#29).
hms,55,"Fix `lubridate` test for compatibility with 1.6.0 (#23, @​vspinu)."
hms,56,NA values are formatted as `NA` (#22).
hms,57,Subsetting keeps `hms` class (#16).
hms,58,"`format.hms()` right-justifies the output by padding with spaces from the left, `as.character.hms()` remains unchanged."
hms,59,"Times larger than 24 hours or with split seconds are now formatted correctly (#12, #13)."
hms,60,"Sub-second part is printed with up to six digits, for even smaller values trailing zeros are shown (#17)."
hms,61,Values are stored as a numeric vector that contains the number of seconds since midnight.
hms,62,Inherits from `difftime` class.
hms,63,"Updating units is a no-op, anything different from `""secs""` issues a warning."
hms,64,"Supports construction from time values, coercion to and from various data types, and formatting."
hms,65,Conversion from numeric treats input as seconds.
hms,66,Negative times are formatted with a leading `-`.
hms,67,Can be used as a regular column in a data frame.
hms,68,Full test coverage.
hms,69,"Test for arithmetic with `Date`, `POSIXt` and `hms` classes."
hms,70,Test basic compatibility with `lubridate` package (#5).
hms,71,Interface:
hms,72,`hms()` (with rigorous argument checks)
hms,73,"`as.hms()` for `character`, `numeric`, `POSIXct` and `POSIXlt`"
hms,74,"`as.xxx.hms()` for `character`, `numeric` (implicitly), `POSIXct` and `POSIXlt`"
hms,75,`is.hms()`
hms,76,`as.data.frame.hms()` (forwards to `as.data.frame.difftime()`)
hms,77,`format.hms()`
hms,78,`print.hms()` (returns unchanged input invisibly)
httr,1,Add support for seeking in uploads (#741).
httr,2,Suppress another use of httpbin.
httr,3,More aggressively skip httpbin using tests.
httr,4,Remove vignette contents and point to httr2.
httr,5,Suppress use of httpbin in examples and tests because it has become unreliable.
httr,6,"An internal helper that checks for an interactive session in the OOB flow now honors the `""rlang_interactive""` global option, in case it's necessary to declare the session to be interactive (enough) for OOB (@​jennybc, #734)."
httr,7,Fix intermittent failing test.
httr,8,Fix failing test.
httr,9,Fix failing test.
httr,10,"`parse_url()` now refers to RFC3986 for the parsing of the URL's scheme, with a bit more permissive syntax (@​ymarcon, #615)."
httr,11,"Remove the default `cainfo` option on Windows. Providing a CA bundle is not needed anymore because `curl` now uses the native schannel SSL backend. For recent versions of libcurl, overriding the CA bundle actually breaks custom trust certificates on corporate networks. (@​jeroen, #603)"
httr,12,"`http_status()` now throws the correct error message if http status code is not in the list of known codes (@​Javdat, #567)."
httr,13,"`POST()` gains an example on how to use `encode = ""raw""` for specific json string body (@​cderv, #563)"
httr,14,"`RETRY()` now throws the correct error message if an error occurs during the request (@​austin3dickey, #581)."
httr,15,"`VERB()` and `RETRY()` now automatically uppercase methods (@​patr1ckm, #571)."
httr,16,"`init_oauth2.0()` passes `use_basic_auth` onwards, enabling basic authentication for OAuth 2.0 (@​peterhartman, #484)."
httr,17,"`oauth2.0_token()` (and `init_oauth2.0()`) gains a `oob_value` argument that allows arbitrary values to be sent for the `request_uri` parameter during OOB flows (@​ctrombley, #493)."
httr,18,"`oauth2.0_token()` (and `init_oauth2.0()`) gain a new `query_authorize_extra` parameter make it possible to add extra query parameters to the authorization URL. This is needed some APIs (e.g. fitbit) (@​cosmomeese, #503)."
httr,19,"`oauth_endpoints()` contains updated urls for Yahoo (@​ctrombley, #493) and Vimeo (#491)."
httr,20,OAuth 2.0 token refresh gives a more informative error if it fails (#516).
httr,21,"Prior to token retrieval from on-disk cache, scopes are de-duplicated, sorted, and stripped of names before being hashed. This eliminates a source of hash mismatch that causes new tokens to be requested, even when existing tokens had the necessary scope. (@​jennybc, #495)"
httr,22,The Facebook OAuth demo now uses device flow (#510). This allows you to continue using the FB api from R under their new security policy.
httr,23,"A new Noun Project demo shows how to use one-legged OAuth1 (@​cderv, #548)."
httr,24,The Vimeo demo has been updated from OAuth 1.0 to 2.0 (#491).
httr,25,"`cache_info()` now handles un-named flags, as illustrated by ""private"" when the server returns ""private, max-age = 0""."
httr,26,"`parse_http_date()` gets a better default value for the `failure` argument so that reponses with unparseable dates can be printed without error (@​shrektan, #544)."
httr,27,"`POST()` now uses 22 digits of precision for `body` list elements by default (@​jmwerner, #490)"
httr,28,"`RETRY()` now terminates on any successful request, regardless of the value of `terminate_on`. To return to the previous behaviour, set `terminate_on_success = FALSE` (#522)."
httr,29,"In `RETRY()` and `VERB()`, `HEAD` requests now succeed (#478, #499)."
httr,30,Encoding falls back to UTF-8 if not supplied and content-type parsing fails (#500).
httr,31,"Non-http(s) headers are no longer parsed (@​billdenney, #537). This makes it possible to use httr with protocols other than http, although this is not advised, and you're own your own."
httr,32,Re-enable on-disk caching (accidentally disabled in #457) (#475)
httr,33,Deprecated `safe_callback()` has been removed.
httr,34,"`is_interactive` argument to `init_oauth1.0()`, `init_oauth2.0()` and `oauth_listener()` has been deprecated, as the R session does not actually need to be interactive."
httr,35,"New `set_callback()` and `get_callback()` set and query callback functions that are called right before and after performing an HTTP request (@​gaborcsardi, #409)"
httr,36,"`RETRY()` now retries if an error occurs during the request (@​asieira, #404), and gains two new arguments:"
httr,37,"`terminate_on` gives you greater control over which status codes should it stop retrying. (@​asieira, #404)"
httr,38,`pause_min` allows for sub-second delays. (Use with caution! Generally the default is preferred.) (@​r2evans)
httr,39,"If the server returns HTTP status code 429 and specifies a `retry-after` value, that value will now be used instead of exponential backoff with jitter, unless it's smaller than `pause_min`. (@​nielsoledam, #472)"
httr,40,"New oauth cache files are always added to `.gitignore` and, if it exists, `.Rbuildignore`. Specifically, this now happens when option `httr_oauth_cache = TRUE` or user specifies cache file name explicitly. (@​jennybc, #436)"
httr,41,"`oauth_encode()` now handles UTF-8 characters correctly. (@​yutannihilation, #424)"
httr,42,`oauth_app()` allows you to specify the `redirect_url` if you need to customise it.
httr,43,"`oauth_service_token()` gains a `sub` parameter so you can request access on behalf of another user (#410), and accepts a character vector of `scopes` as was described in the documentation (#389)."
httr,44,"`oauth_signature()` now normalises the URL as described in the OAuth1.0a spec (@​leeper, #435)"
httr,45,New `oauth2.0_authorize_url()` and `oauth2.0_access_token()` functions pull out parts of the OAuth process for reuse elsewhere (#457).
httr,46,`oauth2.0_token()` gains three new arguments:
httr,47,"`config_init` allows you to supply additional config for the initial request. This is needed for some APIs (e.g. reddit) which rate limit based on `user_agent` (@​muschellij2, #363)."
httr,48,"`client_credentials`, allows you to use the OAauth2 *Client Credential Grant*. See [RFC 6749](https://www.rfc-editor.org/rfc/rfc6749#section-4) for details. (@​cderv, #384)"
httr,49,A `credentials` argument that allows you to customise the auth flow. For advanced used only (#457)
httr,50,"`is_interactive` argument to `init_oauth1.0()`, `init_oauth2.0()` and `oauth_listener()` has been deprecated, as the R session does not need to be interactive."
httr,51,`BROWSER()` prints a message telling you to browse to the URL if called in a non-interactive session.
httr,52,"`find_cert_bundle()` will now correctly find cert bundle in ""R_HOME/etc"" (@​jiwalker-usgs, #386)."
httr,53,"You can now send lists containing `curl::form_data()` in the `body` of requests with \`encoding = ""multipart"". This makes it possible to specify the mime-type of individual components (#430)."
httr,54,"`modify_url()` recognises more forms of empty queries. This eliminates a source of spurious trailing `?` and `?=` (@​jennybc, #452)."
httr,55,The `length()` method of the internal `path` class is no longer exported (#395).
httr,56,Fix bug with new cache creation code: need to check that cache isn't an empty file.
httr,57,"`oauth_signature()` no longer prepends 'oauth\_' to additional parameters. (@​jimhester, #373)"
httr,58,All `print()` methods now invisibly return `x` (#355).
httr,59,`DELETE()` gains a body parameter (#326).
httr,60,"New `encode = ""raw""` allows you to do your own encoding for requests with bodies."
httr,61,"New `http_type()` returns the content/mime type of a request, sans parameters."
httr,62,"No longer uses use custom requests for standard `POST` requests (#356, #357). This has the side-effect of properly following redirects after `POST`, fixing some login issues (eg hadley/rvest#133)."
httr,63,"Long deprecated `multipart` argument to `POST()`, `PUT()` and `PATCH()` has been removed."
httr,64,"The cross-session OAuth cache is now created with permission 0600, and should give a better error if it can't be created (#365)."
httr,65,New `RETRY()` function allows you to retry a request multiple times until it succeeds (#353).
httr,66,"The default user agent string is now computed once and cached. This is a small performance improvement, but important for local connections (#322, @​richfitz)."
httr,67,`oauth_callback()` gains trailing slash for facebook compatibility (#324).
httr,68,`progress()` gains `con` argument to control where progress bar is rendered (#359).
httr,69,"When `use_basic_auth` option is used to obtain a token, token refreshes will now use basic authentication too."
httr,70,"Suppress unhelpful ""No encoding supplied: defaulting to UTF-8."" when printing a response (#327)."
httr,71,All auto parser functions now have consistent arguments. This fixes problem where `...` is pass on to another function (#330).
httr,72,"`parse_media()` can once again parse multiple parameters (#362, #366)."
httr,73,Correctly cast `config` in `POST()`.
httr,74,Fix in readfunction to close connection when done.
httr,75,"`stop_for_status()`, `warn_for_status()` and (new) `message_for_status()` replace `message` argument with new `task` argument that optionally describes the current task. This allows API wrappers to provide more informative error messages on failure (#277, #302). `stop_for_status()` and `warn_for_status()` return the response if there were no errors. This makes them easier to use in pipelines (#278)."
httr,76,"`url_ok()` and `url_successful()` have been deprecated in favour of the more flexible `http_error()`, which works with urls, responses and integer status codes (#299)."
httr,77,"`oauth1.0_token()` gains RSA-SHA1 signature support with the `private_key` argument (@​nathangoulding, #316)."
httr,78,`oauth2.0_token()` throws an error if it fails to get an access token (#250) and gains two new arguments:
httr,79,"`user_params` allows you to pass arbitrary additional parameters to the token access endpoint when acquiring or refreshing a token (@​cornf4ke, #312)"
httr,80,"`use_basic_auth` allows you to pick use http authentication when getting a token (#310, @​grahamrp)."
httr,81,"`oauth_service_token()` checks that its arguments are the correct types (#282) and anways returns a `request` object (#313, @​nathangoulding)."
httr,82,"`refresh_oauth2.0()` checks for known OAuth2.0 errors and clears the locally cached token in the presense of any (@​nathangoulding, #315)."
httr,83,"httr no longer bundles `cacert.pem`, and instead it relies on the bundle in openssl. This bundle is only used a last-resort on windows with R \<3.2.0."
httr,84,"Switch to 'openssl' package for hashing, hmac, signatures, and base64."
httr,85,"httr no longer depends on stringr (#285, @​jimhester)."
httr,86,"`build_url()` collapses vector `path` with `/` (#280, @​artemklevtsov)."
httr,87,`content(x)` uses xml2 for XML documents and readr for csv and tsv.
httr,88,"`content(, type = ""text"")` defaults to UTF-8 encoding if not otherwise specified."
httr,89,`has_content()` correctly tests for the presence/absence of body content (#91).
httr,90,`parse_url()` correctly parses urls like `file:///a/b/c` work (#309).
httr,91,"`progress()` returns `TRUE` to fix for 'progress callback must return boolean' warning (@​jeroenooms, #252)."
httr,92,"`upload_file()` supports very large files (\> 2.5 Gb) (@​jeroenooms, #257)."
httr,93,"httr no longer uses the RCurl package. Instead it uses the curl package, a modern binding to libcurl written by Jeroen Ooms (#172). This should make httr more reliable and prevent the ""easy handle already used in multi handle"" error. This change shouldn't affect any code that uses httr - all the changes have happened behind the scenes."
httr,94,"The `oauth_listener` can now listen on a custom IP address and port (the previously hardwired ip:port of `127.0.0.1:1410` is now just the default). This permits authentication to work under other settings, such as inside docker containers (which require localhost uses `0.0.0.0` instead). To configure, set the system environmental variables `HTTR_LOCALHOST` and `HTTR_PORT` respectively (@​cboettig, #211)."
httr,95,"`POST(encode = 'json')` now automatically turns length-1 vectors into json scalars. To prevent this automatic ""unboxing"", wrap the vector in `I()` (#187)."
httr,96,"`POST()`, `PUT()` and `PATCH()` now drop `NULL` body elements. This is convenient and consistent with the behaviour for url query params."
httr,97,`cookies` argument to `handle()` is deprecated - cookies are always turned on by default.
httr,98,`brew_dr()` has been renamed to `httr_dr()` - that's what it should've been in the first place!
httr,99,"`content(type = ""text"")` compares encodings in a case-insensitive manner (#209)."
httr,100,"`context(type = ""auto"")` uses a better strategy for text based formats (#209). This should allow the `encoding` argument to work more reliably."
httr,101,`config()` now cleans up duplicated options (#213).
httr,102,Uses `CURL_CA_BUNDLE` environment variable to look for cert bundle on Windows (#223).
httr,103,`safe_callback()` is deprecated - it's no longer needed with curl.
httr,104,`POST()` and `PUT()` now clean up after themselves when uploading a single file (@​mtmorgan).
httr,105,`proxy()` gains an `auth` argument which allows you to pick the type of http authentication used by the proxy (#216).
httr,106,`VERB()` gains `body` and `encode` arguments so you can generate arbitrary requests with a body.
httr,107,tumblr added as an `oauth_endpoint`.
httr,108,"Correctly parse headers with multiple `:`, thanks to @​mmorgan (#180)."
httr,109,"In `content()`, if no type is provided to function or specified in headers, and we can't guess the type from the extension, we now assume that it's `application/octet-stream` (#181)."
httr,110,Throw error if `timeout()` is less than 1 ms (#175).
httr,111,Improved LinkedIn OAuth demo (#173).
httr,112,New `write_stream()` allows you to process the response from a server as a stream of raw vectors (#143).
httr,113,"Suport for Google OAuth2 [service accounts](https://developers.google.com/identity/protocols/oauth2/service-account). (#119, thanks to help from @​siddharthab)."
httr,114,`VERB()` allows to you use custom http verbs (#169).
httr,115,"New `handle_reset()` to allow you to reset the handle if you get the error ""easy handle already used in multi handle"" (#112)."
httr,116,Uses R6 instead of RC. This makes it possible to extend the OAuth classes from outside of httr (#113).
httr,117,Now only set `capath` on Windows - system defaults on linux and mac ox seem to be adequate (and in some cases better). I've added a couple of tests to ensure that this continues to work in the future.
httr,118,"`vignette(""api-packages"")` gains more detailed instructions on setting environment variables, thanks to @​jennybc."
httr,119,Add `revoke_all()` to revoke all stored tokens (if possible) (#77).
httr,120,"Fix for OAuth 2 process when using `options(httr_oob_default = TRUE)` (#126, @​WillemPaling)."
httr,121,New `brew_dr()` checks for common problems. Currently checks if your libCurl uses NSS. This is unlikely to work so it gives you some advice on how to fix the problem (thanks to @​eddelbuettel for debugging this problem).
httr,122,"`Content-Type` set to title case to avoid errors in servers which do not correctly implement case insensitivity in header names. (#142, #146) thanks to Håkon Malmedal (@​hmalmedal) and Jim Hester (@​jimhester)."
httr,123,Correctly parse http status when it only contains two components (#162).
httr,124,Correctly parse http headers when field name is followed by any amount (including none) of white space.
httr,125,"Default ""Accepts"" header set to `application/json, text/xml, application/xml, */*`: this should slightly increase the likelihood of getting xml back. `application/xml` is correctly converted to text before being parsed to `XML::xmlParse()` (#160)."
httr,126,Make it again possible to override the content type set up by `POST()` when sending data (#140).
httr,127,New `safe_callback()` function operator that makes R functions safe for use as RCurl callbacks (#144).
httr,128,"Added support for passing oauth1 tokens in URL instead of the headers (#145, @​bogstag)."
httr,129,Default to out-of-band credential exchange when `httpuv` isn't installed. (#168)
httr,130,"`new_token()` has been removed - this was always an internal function so you should never have been using it. If you were, switch to creating the tokens directly."
httr,131,"Deprecate `guess_media()`, and instead use `mime::guess_type()` (#148)."
httr,132,You can now save response bodies directly to disk by using the `write_disk()` config. This is useful if you want to capture large files that don't fit in memory (#44).
httr,133,"Default accept header is now ""application/json, text/xml, */*"" - this should encourage servers to send json or xml if they know how."
httr,134,"`httr_options()` allows you to easily filter the options, e.g. `httr_options(""post"")`"
httr,135,`POST()` now specifies Curl options more precisely so that Curl know's that you're doing a POST and can respond appropriately to redirects.
httr,136,Preliminary and experimental support for caching with `cache_info()` and `rerequest()` (#129). Be aware that this API is likely to change in the future.
httr,137,`parse_http_date()` parses http dates according RFC2616 spec.
httr,138,Requests now print the time they were made.
httr,139,Mime type `application/xml` is automatically parsed with \``XML::xmlParse()`. (#128)
httr,140,Now possible to specify both handle and url when making a request.
httr,141,"`content(type = ""text"")` uses `readBin()` instead of `rawToChar()` so that strings with embedded NULLs (e.g. WINDOWS-1252) can be re-encoded to UTF-8."
httr,142,`DELETE()` now returns body of request (#138).
httr,143,`headers()` is now a generic with a method for response objects.
httr,144,"`parse_media()` failed to take into account that media types are case-insenstive - this lead to bad re-encoding for content-types like ""text/html; Charset=UTF-8"""
httr,145,Typo which broke `set_cookies()` fixed by @​hrbrmstr.
httr,146,"`url_ok()` works correctly now, instead of always returning `FALSE`, a bug since version 0.4 (#133)."
httr,147,Remove redundant arguments `simplifyDataFrame` and `simplifyMatrix` for json parser.
httr,148,New `headers()` and `cookies()` functions to extract headers and cookies from responses. Previoulsy internal `status_code()` function now exported to extract `status_code()` from responses.
httr,149,"`POST()`, `PUT()`, and `PATCH()` now use `encode` argument to determine how list inputs are encoded. Valid values are ""multiple"", ""form"" or ""json"". The `multipart` argument is now deprecated (#103). You can stream a single file from disk with `upload_file(""path/"")`. The mime type will be guessed from the extension, or can be supplied explicitly as the second argument to `upload_file()`."
httr,150,"`progress()` will display a progress bar, useful if you're doing large uploads or downloads (#17)."
httr,151,"`verbose()` now uses a custom debug function so that you can see exactly what data is sent to the server. Arguments control exactly what is included, and the defaults have been selected to be more helpful for the most common cases (#102)."
httr,152,`with_verbose()` makes it easier to see verbose information when http requests are made within other functions (#87).
httr,153,New `quickstart` vignette to help you get up and running with httr.
httr,154,New `api-packages` vignette describes how best practices to follow when writing R packages that wrap web APIs.
httr,155,"`httr_options()` lists all known config options, translating between their short R names and the full libcurl names. The `curl_doc()` helper function allows you to jump directly to the online documentation for an option."
httr,156,"`authenticate()` now defaults to `type = ""basic""` which is pretty much the only type of authentication anyone uses."
httr,157,Updated `cacert.pem` to version at 2014-04-22 (#114).
httr,158,"`content_type()`, `content_type_xml()` and `content_type_json()` make it easier to set the content type for `POST` requests (and other requests with a body)."
httr,159,`has_content()` tells you if request has any content associated with it (#91).
httr,160,"Add `is_interactive()` parameter to `oauth_listener()`, `init_oauth1.0()` and `init_oauth2.0()` (#90)."
httr,161,`oauth_signature()` and `oauth_header()` now exported to make it easier to construct custom authentication for APIs that use only some components of the full OAuth process (e.g. 2 legged OAuth).
httr,162,NULL `query` parameters are now dropped automatically.
httr,163,"When `print()`ing a response, httr will only attempt to print the first few lines if it's a text format (i.e. either the main type is text or is application/json). It will also truncate each line so that it fits on screen - this should hopefully make it easier to see a little bit of the content, without filling the screen with gibberish."
httr,164,`new_bin()` has been removed: it's easier to see what's going on in examples with `httpbin.org`.
httr,165,`user_agent()` once again overrides default (closes #97)
httr,166,"`parse(type = ""auto"")` returns NULL if no content associated with request (#91)."
httr,167,Better strategy for resetting Curl handles prevents carry-over of error status and other problems (#112).
httr,168,`set_config()` and `with_config()` now work with `token`s (#111).
httr,169,"The OAuth token objects are now reference classes, which mean they can be updated in place, such as when an access token expires and needs to be refreshed. You can manually refresh by calling `$refresh()` on the object. You can force reinitialisation (to do the complete dance from scratch) by calling `$reinit(force = TRUE)`."
httr,170,"If a signed OAuth2 request fails with a 401 and the credentials have a `refresh_token`, then the OAuth token will be automatically refreshed (#74)."
httr,171,"OAuth tokens are cached locally in a file called `.httr-oauth` (unless you opt out). This file should not be included in source code control, and httr will automatically add to `.gitignore` and `.Rbuildignore`. The caching policy is described in more detail in the help for the `Token` class."
httr,172,"The OAuth2 dance can now be performed without running a local webserver (#33, thanks to @​craigcitro). To make that the default, set `options(httr_oob_default = TRUE)`. This is useful when running R remotely."
httr,173,"Add support for passing oauth2 tokens in headers instead of the URL, and make this the default (#34, thanks to @​craigcitro)."
httr,174,OAuth endpoints can store arbitrary extra urls.
httr,175,"Use the httpuv webserver for the OAuth dance instead of the built-in httpd server (#32, thanks to @​jdeboer). This makes the dance work in Rstudio, and also seems a little faster. Rook is no longer required."
httr,176,`oauth_endpoints()` includes some popular OAuth endpoints.
httr,177,"HTTP verbs (`GET()`, `POST()` etc) now pass unnamed arguments to `config()` and named arguments to `modify_url()` (#81)."
httr,178,"The placement of `...` in `POST()`, `PATCH()` and `PUT()` has been tweaked so that you must always specify `body` and `multipart` arguments with their full name. This has always been recommended practice; now it is enforced."
httr,179,"`httr` includes its own copy of `cacert.pem`, which is more recent than the version included in RCurl (#67)."
httr,180,"Added default user agent which includes versions of Curl, RCurl and httr."
httr,181,Switched to jsonlite from rjson.
httr,182,Content parsers no longer load packages on to search path.
httr,183,`stop_for_status()` now raises errors with useful classes so that you can use `tryCatch()` to take different actions depending on the type of error. See `http_condition()` for more details.
httr,184,httr now imports the methods package so that it works when called with Rscript.
httr,185,New automatic parsers for mime types `text/tab-separated-values` and `text/csv` (#49)
httr,186,"Add support for `fragment` in url building/parsing (#70, thanks to @​craigcitro)."
httr,187,"You can suppress the body entirely in `POST()`, `PATCH()` and `PUT()` with `body = FALSE`."
httr,188,"If you supply multiple headers of the same name, the value of the most recently set header will always be used."
httr,189,Urls with missing query param values (e.g. `http://x.com/?q=`) are now parsed correctly (#27). The names of query params are now also escaped and unescaped correctly when parsing and building urls.
httr,190,Default html parser is now `XML::htmlParse()` which is easier to use with xpath (#66).
httr,191,OAuth now uses custom escaping function which is guaranteed to work on all platforms (Fixes #21)
httr,192,"When concatenating configs, concatenate all the headers. (Fixes #19)"
httr,193,export `hmac_sha1` since so many authentication protocols need this
httr,194,"`content` will automatically guess what type of output (parsed, text or raw) based on the content-type header. It also automatically converts text content to UTF-8 (using the charset in the media type) and can guess at mime type from extension if server doesn't supply one. Media type and encoding can be overridden with the `type` and `encoding` arguments respectively."
httr,195,response objects automatically print content type to aid debugging.
httr,196,"`text_content` has become `context(, ""text"")` and `parsed_content` `content(, ""parsed"")`. The previous calls are deprecated and will be removed in a future version."
httr,197,"In `oauth_listener`, use existing httpd port if help server has already been started. This allows the ouath authentication dance to work if you're in RStudio. (Fixes #15)."
httr,198,"add several functions related to checking the status of an http request. Those are : `status`, `url_ok` and `url_success` as well as `stop_for_status` and `warn_for_status`."
httr,199,`build_url`: correctly add params back into full url.
httr,200,Add new default config: use the standard SSL certificate
httr,201,Add recommendation to use custom handles with `authenticate`
lubridate,1,"[#682](https://github.com/tidyverse/lubridate/issues/682#issuecomment-1635910435) Add type=""year_start/end"" argument to `quarter()` which produces a complete description of the quarter."
lubridate,2,"[#1109](https://github.com/tidyverse/lubridate/issues/1109) Fix recycling of the year slot in `as.period(unit = ""month"")` with Periods and Intervals."
lubridate,3,[#1104](https://github.com/tidyverse/lubridate/issues/1104) Fix incorrect parsing of months when %a format is present.
lubridate,4,Adapt to internal name changes in R-devel
lubridate,5,"`as_datetime()` accepts multiple formats in format argument, just like `as_date()` does."
lubridate,6,[#1091](https://github.com/tidyverse/lubridate/issues/1091) Fix formatting of numeric inputs to parse_date_time.
lubridate,7,[#1092](https://github.com/tidyverse/lubridate/issues/1092) Fix regression in `ymd_hm` on locales where `p` format is not defined.
lubridate,8,"[#1097](https://github.com/tidyverse/lubridate/issues/1097) Fix `as_date(""character"")` to work correctly with formats that include extra characters."
lubridate,9,[#1098](https://github.com/tidyverse/lubridate/issues/1098) Roll over the month boundary in `make_dateime()` when units exceed their maximal values.
lubridate,10,[#1090](https://github.com/tidyverse/lubridate/issues/1090) timechange has been moved from Depends to Imports.
lubridate,11,`roll` argument to updating and time-zone manipulation functions is deprecated in favor of a new `roll_dst` parameter.
lubridate,12,"[#1042](https://github.com/tidyverse/lubridate/issues/1042) `as_date` with character inputs accepts multiple formats in `format` argument. When `format` is supplied, the input string is parsed with `parse_date_time` instead of the old `strptime`."
lubridate,13,"[#1055](https://github.com/tidyverse/lubridate/issues/1055) Implement `as.integer` method for Duration, Period and Interval classes."
lubridate,14,"[#1061](https://github.com/tidyverse/lubridate/issues/1061) Make `year<-`, `month<-` etc. accessors truly generic. In order to make them work with arbitrary class XYZ, it's enough to define a `reclass_date.XYZ` method."
lubridate,15,"[#1061](https://github.com/tidyverse/lubridate/issues/1061) Add support for `year<-`, `month<-` etc. accessors for `data.table`'s IDate and ITime objects."
lubridate,16,[#1017](https://github.com/tidyverse/lubridate/issues/1017) `week_start` argument in all lubridate functions now accepts full and abbreviated names of the days of the week.
lubridate,17,The assignment value `wday<-` can be a string either in English or as provided by the current locale.
lubridate,18,Date rounding functions accept a date-time `unit` argument for rounding to a vector of date-times.
lubridate,19,[#1005](https://github.com/tidyverse/lubridate/issues/1005) `as.duration` now allows for full roundtrip `duration -> as.character -> as.duration`
lubridate,20,[#911](https://github.com/tidyverse/lubridate/issues/911) C parsers treat multiple spaces as one (just like strptime does)
lubridate,21,`stamp` gained new argument `exact=FALSE` to indicate whether `orders` argument is an exact strptime formats string or not.
lubridate,22,"[#1001](https://github.com/tidyverse/lubridate/issues/1001) Add `%within` method with signature (Interval, list), which was documented but not implemented."
lubridate,23,"[#941](https://github.com/tidyverse/lubridate/issues/941) `format_ISO8601()` gained a new option `usetz=""Z""` to format time zones with a ""Z"" and convert the time to the UTC time zone."
lubridate,24,[#931](https://github.com/tidyverse/lubridate/issues/931) Usage of `Period` objects in rounding functions is explicitly documented.
lubridate,25,[#1036](https://github.com/tidyverse/lubridate/issues/1036) `%within%` now correctly works with flipped intervals
lubridate,26,[#1085](https://github.com/tidyverse/lubridate/issues/1085) `as_datetime()` now preserves the time zone of the POSIXt input.
lubridate,27,[#1072](https://github.com/tidyverse/lubridate/issues/1072) Names are now handled correctly when combining multiple Period or Interval objects.
lubridate,28,[#1003](https://github.com/tidyverse/lubridate/issues/1003) Correctly handle r and R formats in locales which have no p format
lubridate,29,"[#1074](https://github.com/tidyverse/lubridate/issues/1074) Fix concatination of named Period, Interval and Duration vectors."
lubridate,30,[#1044](https://github.com/tidyverse/lubridate/issues/1044) POSIXlt results returned by `fast_strptime()` and `parse_date_time2()` now have a recycled `isdst` field.
lubridate,31,[#1069](https://github.com/tidyverse/lubridate/issues/1069) Internal code handling the addition of period months and years no longer generates partially recycled POSIXlt objects.
lubridate,32,Fix rounding of POSIXlt objects
lubridate,33,[#1007](https://github.com/tidyverse/lubridate/issues/1007) Internal lubridate formats are no longer propagated to stamp formater.
lubridate,34,`train` argument in `parse_date_time` now takes effect. It was previously ignored.
lubridate,35,[#1004](https://github.com/tidyverse/lubridate/issues/1004) Fix `c.POSIXct` and `c.Date` on empty single POSIXct and Date vectors.
lubridate,36,"[#1013](https://github.com/tidyverse/lubridate/issues/1013) Fix c(`POSIXct`,`POSIXlt`) heterogeneous concatenation."
lubridate,37,[#1002](https://github.com/tidyverse/lubridate/issues/1002) Parsing only with format `j` now works on numeric inputs.
lubridate,38,`stamp()` now correctly errors when no formats could be guessed.
lubridate,39,"Updating a date with timezone (e.g. `tzs = ""UTC""`) now returns a POSIXct."
lubridate,40,`lubridate` is now relying on `timechange` package for update and time-zone computation. Google's CCTZ code is no longer part of the package.
lubridate,41,`lubridate`'s updating logic is now built on top of `timechange` package.
lubridate,42,"Change implementation of `c.Period`, `c.Duration` and `c.Interval` from S4 to S3."
lubridate,43,"[#960](https://github.com/tidyverse/lubridate/issues/960) `c.POSIXct` and `c.Date` can deal with heterogeneous object types (e.g `c(date, datetime)` works as expected)"
lubridate,44,[#994](https://github.com/tidyverse/lubridate/issues/994) Subtracting two duration or two period objects no longer results in an ambiguous dispatch note.
lubridate,45,`c.Date` and `c.POSIXct` correctly deal with empty vectors.
lubridate,46,"`as_datetime(date, tz=XYZ)` returns the date-time object with HMS set to 00:00:00 in the corresponding `tz`"
lubridate,47,[#966](https://github.com/tidyverse/lubridate/pull/966) Lubridate is now built with cpp11 (contribution of @​DavisVaughan)
lubridate,48,[#955](https://github.com/tidyverse/lubridate/pull/955) Add `type` argument to `quarter()` for more control over the returned class
lubridate,49,`fast_strptime()` and `parse_date_time2()` now accept multiple formats and apply them in turn
lubridate,50,[#926](https://github.com/tidyverse/lubridate/issues/926) Fix incorrect division of intervals by months involving leap years
lubridate,51,Fix incorrect skipping of digits during parsing of the `%z` format
lubridate,52,[#914](https://github.com/tidyverse/lubridate/issues/914) New `rollforward()` function
lubridate,53,"[#928](https://github.com/tidyverse/lubridate/issues/928) On startup lubridate now resets TZDIR to a proper directory when it is set to non-dir values like ""internal"" or ""macOS"" (a change introduced in R4.0.2)"
lubridate,54,[#630](https://github.com/tidyverse/lubridate/issues/630) New parsing functions `ym()` and `my()`
lubridate,55,[#930](https://github.com/tidyverse/lubridate/issues/930) `as.period()` on intervals now returns valid Periods with double fields (not integers)
lubridate,56,[#871](https://github.com/tidyverse/lubridate/issues/893) Add `vctrs` support
lubridate,57,"[#890](https://github.com/tidyverse/lubridate/issues/890) Correctly compute year in `quarter(..., with_year = TRUE)`"
lubridate,58,[#893](https://github.com/tidyverse/lubridate/issues/893) Fix incorrect parsing of abbreviated months in locales with trailing dot (regression in v1.7.8)
lubridate,59,[#886](https://github.com/tidyverse/lubridate/issues/886) Fix `with_tz()` for POSIXlt objects
lubridate,60,[#887](https://github.com/tidyverse/lubridate/issues/887) Error on invalid numeric input to `month()`
lubridate,61,[#889](https://github.com/tidyverse/lubridate/issues/889) Export new dmonth function
lubridate,62,(breaking) Year and month durations now assume 365.25 days in a year consistently in conversion and constructors. Particularly `dyears(1) == years(1)` is now `TRUE`.
lubridate,63,Format and print methods for 0-length objects are more consistent.
lubridate,64,New duration constructor `dmonths()` to complement other duration constructors.
lubridate,66,`duration()` constructor now accepts `months` and `years` arguments.
lubridate,67,[#629](https://github.com/tidyverse/lubridate/issues/629) Added `format_ISO8601()` methods.
lubridate,68,[#672](https://github.com/tidyverse/lubridate/issues/672) Eliminate all partial argument matches
lubridate,69,[#674](https://github.com/tidyverse/lubridate/issues/674) `as_date()` now ignores the `tz` argument
lubridate,70,"[#675](https://github.com/tidyverse/lubridate/issues/675) `force_tz()`, `with_tz()`, `tz<-` convert dates to date-times"
lubridate,71,[#681](https://github.com/tidyverse/lubridate/issues/681) New constants `NA_Date_` and `NA_POSIXct_` which parallel built-in primitive constants.
lubridate,72,[#681](https://github.com/tidyverse/lubridate/issues/681) New constructors `Date()` and `POSIXct()` which parallel built-in primitive constructors.
lubridate,73,[#695](https://github.com/tidyverse/lubridate/issues/695) Durations can now be compared with numeric vectors.
lubridate,74,[#707](https://github.com/tidyverse/lubridate/issues/707) Constructors return 0-length inputs when called with no arguments
lubridate,75,[#713](https://github.com/tidyverse/lubridate/issues/713) (breaking) `as_datetime()` always returns a `POSIXct()`
lubridate,76,[#717](https://github.com/tidyverse/lubridate/issues/717) Common generics are now defined in `generics` dependency package.
lubridate,77,[#719](https://github.com/tidyverse/lubridate/issues/719) Negative Durations are now displayed with leading `-`.
lubridate,78,[#829](https://github.com/tidyverse/lubridate/issues/829) `%within%` throws more meaningful messages when applied on unsupported classes
lubridate,79,"[#831](https://github.com/tidyverse/lubridate/issues/831) Changing hour, minute or second of Date object now yields POSIXct."
lubridate,80,[#869](https://github.com/tidyverse/lubridate/issues/869) Propagate NAs to all internal components of a Period object
lubridate,81,[#682](https://github.com/tidyverse/lubridate/issues/682) Fix quarter extraction with small `fiscal_start`s.
lubridate,82,[#703](https://github.com/tidyverse/lubridate/issues/703) `leap_year()` works with objects supported by `year()`.
lubridate,83,[#778](https://github.com/tidyverse/lubridate/issues/778) `duration()/period()/make_difftime()` work with repeated units
lubridate,84,`c.Period` concatenation doesn't fail with empty components.
lubridate,85,"Honor `exact = TRUE` argument in `parse_date_time2`, which was so far ignored."
lubridate,86,"[#658](https://github.com/tidyverse/lubridate/issues/658) `%within%` now accepts a list of intervals, in which case an instant is checked if it occurs within any of the supplied intervals."
lubridate,87,[#661](https://github.com/tidyverse/lubridate/issues/661) Throw error on invalid multi-unit rounding.
lubridate,88,[#633](https://github.com/tidyverse/lubridate/issues/633) `%%` on intervals relies on `%m+` arithmetic and doesn't produce NAs when intermediate computations result in non-existent dates.
lubridate,89,"`tz()` always returns ""UTC"" when `tzone` attribute cannot be inferred."
lubridate,90,[#664](https://github.com/tidyverse/lubridate/issues/664) Fix lookup of period functions in `as.period`
lubridate,91,[#649](https://github.com/tidyverse/lubridate/issues/664) Fix system timezone memoization
lubridate,92,"[#643](https://github.com/tidyverse/lubridate/issues/643), [#640](https://github.com/tidyverse/lubridate/issues/640), [#645](https://github.com/tidyverse/lubridate/issues/645) Fix faulty caching of system timezone."
lubridate,93,"Durations, Periods and difftimes are now comparable with each other."
lubridate,94,`interval` constructor accepts start and end character vectors in ISO 8601 format
lubridate,95,[#362](https://github.com/tidyverse/lubridate/issues/362) Add support for ISO 8601 formats in interval constructor
lubridate,96,[#622](https://github.com/tidyverse/lubridate/issues/622) Add support for ISO 8601 formats in periods and durations constructor
lubridate,97,Correct license to the originally intended GPL (\>= 2)
lubridate,98,[#605](https://github.com/tidyverse/lubridate/issues/605) Fix wrong ceiling of days during DST transition.
lubridate,99,[#607](https://github.com/tidyverse/lubridate/issues/607) Re-instate `format` argument to `as_date` and `as_datetime` (regression in v1.7.1)
lubridate,100,Fix intersection of intervals with missing values.
lubridate,101,Fix UBSAN errors in update.cpp
lubridate,102,"[#575](https://github.com/tidyverse/lubridate/issues/598), [#600](https://github.com/tidyverse/lubridate/issues/600), [#602](https://github.com/tidyverse/lubridate/issues/602) Fix zoneinfo lookup on windows and solaris."
lubridate,103,[#598](https://github.com/tidyverse/lubridate/issues/598) Fix broken parsing of `ymd_hms` strings by `as_date`.
lubridate,104,[#597](https://github.com/tidyverse/lubridate/issues/597) Fix broken parsing of `ymd` strings by `as_datetime`.
lubridate,105,Reduced memory footprint on `trunc_multi_unit` so that it overwrites the vector argument `x` versus making a new vector `y`.
lubridate,106,"[#438](https://github.com/tidyverse/lubridate/issues/438) New function `force_tzs` for ""enforcement"" of heterogeneous time zones."
lubridate,107,[#438](https://github.com/tidyverse/lubridate/issues/438) New function `local_time` for the retrieval of local day time in different time zones.
lubridate,108,[#560](https://github.com/tidyverse/lubridate/issues/560) New argument `cutoff_2000` for parsing functions to indicate 20th century cutoff for `y` format.
lubridate,109,[#257](https://github.com/tidyverse/lubridate/issues/257) New `week_start` parameter in `wday` and `wday<-` to set week start.
lubridate,110,[#401](https://github.com/tidyverse/lubridate/issues/401) New parameter `locale` in `wday`. Labels of the returned factors (when `label=TRUE`) now respect current locale.
lubridate,111,[#485](https://github.com/tidyverse/lubridate/pull/485) `quarter` gained a new argument `fiscal_start` to address the issue of different fiscal conventions.
lubridate,112,[#492](https://github.com/tidyverse/lubridate/issues/492) New functions `epiweek` and `epiyear`.
lubridate,113,[#508](https://github.com/tidyverse/lubridate/pull/508) New parameter `locale` in `month`. Labels of the returned factors (when `label=TRUE`) now respect current locale.
lubridate,114,"[#509](https://github.com/tidyverse/lubridate/issues/509) New parameter `week_start` to `floor_date`, `ceiling_date` and `round_date`."
lubridate,115,[#519](https://github.com/tidyverse/lubridate/issues/519) Support fractional units in duration and period string constructors.
lubridate,116,[#502](https://github.com/tidyverse/lubridate/issues/502) Support rounding to fractions of a seconds.
lubridate,117,[#529](https://github.com/tidyverse/lubridate/issues/529) Internal parser now ignores the case of alpha months (B format)
lubridate,118,[#535](https://github.com/tidyverse/lubridate/issues/535) Rounding to `season` is now supported.
lubridate,119,[#536](https://github.com/tidyverse/lubridate/issues/536) `as_date` and `as_datetime` now understand character vectors.
lubridate,120,"New parsing parameters to `parse_date_time` - `train=TRUE` and `drop=FALSE` which allow more refined control of the format guessing. Formats are no longer dropped in the process by default, process which resulted in surprising behavior on several occasions ([#516](https://github.com/tidyverse/lubridate/issues/516),[#308](https://github.com/tidyverse/lubridate/issues/308),[#307](https://github.com/tidyverse/lubridate/issues/307))."
lubridate,121,"[#401](https://github.com/tidyverse/lubridate/issues/401) **\[Breaking Change\]** Labels returned by `wday` and `month` are now in current locale. The abbreviated labels in English locales have been changed to standard abbreviations (Tues -\> Tue, Thurs -\> Thu etc.)."
lubridate,122,[#469](https://github.com/tidyverse/lubridate/issues/469) Throw warning in `with_tz` on invalid timezone.
lubridate,123,"[#572](https://github.com/tidyverse/lubridate/issues/572) `B` and `b` formats no longer match numeric months. This corresponds to the original intent, and was always documented as such."
lubridate,124,"[#314](https://github.com/tidyverse/lubridate/issues/314), [#407](https://github.com/tidyverse/lubridate/issues/407), [#499](https://github.com/tidyverse/lubridate/issues/499) Make `days`, `dhours`, `round_date` work when the methods package is not loaded."
lubridate,125,[#543](https://github.com/tidyverse/lubridate/issues/543) Make `wday` work on character inputs as it is the case with all other day accessors.
lubridate,126,[#566](https://github.com/tidyverse/lubridate/issues/566) Comparing durations and periods no-longer infloops.
lubridate,127,[#556](https://github.com/tidyverse/lubridate/issues/556) Fix incorrect scoring of `y` format when it's the last in format order (as in `mdy`).
lubridate,128,[#584](https://github.com/tidyverse/lubridate/issues/584) Fix interval by period division.
lubridate,129,"[#559](https://github.com/tidyverse/lubridate/issues/559) Parsing of alpha-months in English locales now drops correctly to low level C parsing. Thus, parsing with multiple orders containing `m` and `b` formats now works correctly."
lubridate,130,"[#570](https://github.com/tidyverse/lubridate/issues/570), [#574](https://github.com/tidyverse/lubridate/issues/574) Fix broken `date()` when called with missing argument."
lubridate,131,[#567](https://github.com/tidyverse/lubridate/issues/567) Fix year update and rounding for leap years.
lubridate,132,[#545](https://github.com/tidyverse/lubridate/pull/545) Fix wrong locale selection in stamp.
lubridate,133,[#466](https://github.com/tidyverse/lubridate/pull/466) Fix wrong formats within ymd_h family of functions.
lubridate,134,[#472](https://github.com/tidyverse/lubridate/pull/472) Printing method for duration doesn't throw format error on fractional seconds.
lubridate,135,[#475](https://github.com/tidyverse/lubridate/pull/475) character\<\> comparisons is no longer slow.
lubridate,136,[#483](https://github.com/tidyverse/lubridate/pull/483) Fix add_duration_to_date error when duration first element is NA.
lubridate,137,[#486](https://github.com/tidyverse/lubridate/issues/486) ceiling_date handles `NA` properly.
lubridate,138,[#491](https://github.com/tidyverse/lubridate/issues/491) `make_datetime` respects `tz` argument and is much faster now.
lubridate,139,[#507](https://github.com/tidyverse/lubridate/issues/507) Period and duration parsers now understand 0 units.
lubridate,140,[#524](https://github.com/tidyverse/lubridate/pull/524) Correctly compute length of period in months (issue #490)
lubridate,141,"[#525](https://github.com/tidyverse/lubridate/pull/525) Fix to prevent `day<-`, `minute<-`, etc. from producing an error when length(x) is 0 (issue #517)"
lubridate,142,[#530](https://github.com/tidyverse/lubridate/issues/530) `parse_date_time` now throw warnings only for actual parsing errors (input with all NAs are silent)
lubridate,143,[#534](https://github.com/tidyverse/lubridate/issues/534) Fix arithmetics with large numbers
lubridate,144,[#554](https://github.com/tidyverse/lubridate/pull/554) Fix tests when running in non-English locales
lubridate,145,[#464](https://github.com/tidyverse/lubridate/issues/464) New function `semester` to extract semesters form date-time objects.
lubridate,146,[#459](https://github.com/tidyverse/lubridate/issues/459) Flexible C-level parsing for periods and durations has been implemented; `period` and `duration` constructors now accept string as first argument. Same parsing rules apply to the 'unit' parameter in rounding functions.
lubridate,147,[#459](https://github.com/tidyverse/lubridate/issues/459) Comparison between character vectors and periods/durations is now possible.
lubridate,148,[#287](https://github.com/tidyverse/lubridate/issues/287) C-level and derivative parsers now handle English months (%b and %B formats) irrespective of the current locale.
lubridate,149,[#327](https://github.com/tidyverse/lubridate/issues/327) C-level and derivative parsers now handles English AM/PM indicator irrespective of the current locale.
lubridate,150,"[#417](https://github.com/tidyverse/lubridate/issues/417) `hms`, `hm`, `ms` gained new argument `roll=TRUE` which rolls minutes and seconds bigger than 59 towards higher units."
lubridate,151,[#445](https://github.com/tidyverse/lubridate/issues/445) Division of intervals by periods is now accurate.
lubridate,152,"[#442](https://github.com/tidyverse/lubridate/issues/442) `round_date`, `floor_date` and `ceiling_date` now support rounding to multiple of units."
lubridate,153,[#422](https://github.com/tidyverse/lubridate/issues/422) New parsing function `yq` for parsing most common version of quarter strings.
lubridate,154,[#422](https://github.com/tidyverse/lubridate/issues/422) New format `q` for parsing quarters in all lubridate parsing functions.
lubridate,155,[#441](https://github.com/tidyverse/lubridate/issues/441) Comparison between POSIXt and Date objects is now possible.
lubridate,156,[#437](https://github.com/tidyverse/lubridate/issues/437) New function `as_datetime` to coerce to POSIXct object. A counterpart of `as_date`.
lubridate,157,[#412](https://github.com/tidyverse/lubridate/issues/412) New function `make_date` to produce Date objects. A counterpart of `make_datetime`.
lubridate,158,[#443](https://github.com/tidyverse/lubridate/issues/443) Behavior of `ceiling_date` for `Date` objects was changed to what most of the users expect. Rounding up by months now produces first day of the next months even for first day of the month.
lubridate,159,"[#268](https://github.com/tidyverse/lubridate/issues/268) `round_date`, `ceiling_date`, and `floor_date` now accept ""quarter"", ""bimonth"", and ""halfyear"" as `unit` options."
lubridate,160,[#418](https://github.com/tidyverse/lubridate/issues/418) C level parsing functions understand 24:00:00 in datetime strings.
lubridate,161,"Low letter specs for HMS (hms,hm,ms) in `parse_date_time` and related functions are now deprecated."
lubridate,162,[#445](https://github.com/tidyverse/lubridate/issues/445) No more warning on occasional imprecise period length conversions. Imprecise arithmetics with periods is extensively documented.
lubridate,163,"`pretty.*` family of functions were renamed and are no longer exported. If you need to use them, use `lubridate:::pretty_*` versions."
lubridate,164,`change_on_boundary` argument in `ceiling_date` does not allow for global option anymore.
lubridate,165,"`as.duration`, `as.numeric` don't show ""only estimate"" messages on conversion from periods. The occasional approximate conversion is documented and deemed common knowledge."
lubridate,166,"`as.numeric` with `unit=""month""` now works on duration objects."
lubridate,167,[#403](https://github.com/tidyverse/lubridate/issues/403) Update on `Date` objects now return `POSIXct` instead of `POSIXlt`.
lubridate,168,"[#411](https://github.com/tidyverse/lubridate/issues/411) format `mdy` or `myd` beginning with `""January""` or `""Jan""` now parsing correctly"
lubridate,169,`here` and `olson_time_zones` were deprecated in favor of `new` and base `OlsonNames` respectively.
lubridate,170,"Internally, S4 Compare and Ops generics were cleaned and simplified."
lubridate,171,[#456](https://github.com/tidyverse/lubridate/issues/456) Evaluation output in documentation examples was removed.
lubridate,172,"[#479](https://github.com/tidyverse/lubridate/issues/479) Fix the inconsistent behavior in `ceiling_date` when `unit = ""week""`"
lubridate,173,[#463](https://github.com/tidyverse/lubridate/issues/463) Fix NA subscripting error in %m+% when rollback is involved.
lubridate,174,[#462](https://github.com/tidyverse/lubridate/issues/462) Non-numeric or non-character arguments are disallowed as arguments to `period` and `duration` constructors.
lubridate,175,"[#458](https://github.com/tidyverse/lubridate/issues/458) When year is missing in parsing, return consistently year 0."
lubridate,176,[#448](https://github.com/tidyverse/lubridate/issues/448) Correctly handle missing months and days in C parser.
lubridate,177,[#450](https://github.com/tidyverse/lubridate/issues/450) Fix incorrect handling of DST gaps in `date_decimal` and `decimal_date`.
lubridate,178,[#420](https://github.com/tidyverse/lubridate/issues/420) `as.numeric` correctly converts periods to (aproximate) numeric time lengths.
lubridate,179,[#390](https://github.com/tidyverse/lubridate/issues/390) `ceiling_date` gains new argument `change_on_boundary` to allow ceiling on boundary of date-time objects.
lubridate,180,C parser can now produce a list of date-time components suitable for POSIXlt constructors.
lubridate,181,`parse_date_time2` and `fast_strptime` gain new `lt` argument to control type of output.
lubridate,182,"[#373](https://github.com/tidyverse/lubridate/issues/373) New `date` and `date<-` additions to the `year`, `month` etc family of accessors."
lubridate,183,[#365](https://github.com/tidyverse/lubridate/issues/365) New very fast datetime constructor `make_datetime` (dropin replacement of `ISOdatetime`).
lubridate,184,[#344](https://github.com/tidyverse/lubridate/issues/344) `force_tz` and `with_tz` can handle data.frames component-wise.
lubridate,185,[#355](https://github.com/tidyverse/lubridate/issues/355) New `as_date` replacement of `as.Date` with more intuitive behavior with non-UTC timezones.
lubridate,186,[#333](https://github.com/tidyverse/lubridate/issues/333) `hms` parsers now handle negative components.
lubridate,187,[#391](https://github.com/tidyverse/lubridate/issues/391) `ymd` family of functions return `Date` object when `tz` argument is NULL (new default) and POSIXct otherwise.
lubridate,188,[#364](https://github.com/tidyverse/lubridate/issues/364) Remove epoch functions.
lubridate,189,"For consistency with `base:strptime` `fast_strptime` now returns `POSIXlt` object. That is, its `lt` argument defaults to `TRUE`."
lubridate,190,`interval` constructor treats timezones correctly and works with UTC whenever meaningful.
lubridate,191,[#371](https://github.com/tidyverse/lubridate/issues/371) `as.period` correctly computes months with intervals spanning multiple years.
lubridate,192,[#388](https://github.com/tidyverse/lubridate/issues/388) `time_length` and `add_with_rollback` now work correctly with missing intervals.
lubridate,193,[#394](https://github.com/tidyverse/lubridate/issues/394) `fast_strptime` and `parse_date_time2` correctly treat non-UTC time zones.
lubridate,194,[#399](https://github.com/tidyverse/lubridate/issues/399) `floor_date` and `round_date` are not preserving tz component for larger than day units
lubridate,195,New `time_length` method.
lubridate,196,Added `isoyear` function to line up with `isoweek`.
lubridate,197,[#326](https://github.com/tidyverse/lubridate/issues/326) Added `exact = TRUE` option to `parse_date_time` for faster and much more flexible specification of formats.
lubridate,198,New `simple` argument to `fit_to_timeline` and `update` methods mostly intended for internal use.
lubridate,199,[#315](https://github.com/tidyverse/lubridate/issues/315) Implement `unique` method for `interval` class.
lubridate,200,[#295](https://github.com/tidyverse/lubridate/issues/295) New args `preserve_hms` and `roll_to_first` in `rollback` function.
lubridate,201,[#303](https://github.com/tidyverse/lubridate/issues/303) New `quarter` option in `floor_date` and friends.
lubridate,202,[#348](https://github.com/tidyverse/lubridate/issues/348) New `as.list.Interval` S3 method.
lubridate,203,[#278](https://github.com/tidyverse/lubridate/issues/278) Added settors and accessors for `qday` (quarter day).
lubridate,204,New maintainer Vitalie Spinu (@​vspinu)
lubridate,205,"Time span constructors were re-factored; `new_interval`, `new_period`, `new_duration`, `new_difftime` were deprecated in favour of the more powerful `interval`, `period`, `duration` and `make_difftime` functions."
lubridate,206,"`eseconds`, `eminutes` etc. were deprecated in favour of `dsecons`, `dminutes` etc."
lubridate,207,Many documentation improvements.
lubridate,208,New testthat conventions are adopted. Tests are now in `test/testthat`.
lubridate,209,Internally `isodate` was replaced with a much faster `parse_date_time2(paste(...))` alternative
lubridate,210,"[#325](https://github.com/tidyverse/lubridate/issues/325) `Lubridate`'s `trunc`, `ceiling` and `floor` functions have been optimised and now are relying on R's `trunc.POSIXct` whenever possible."
lubridate,211,[#285](https://github.com/tidyverse/lubridate/issues/285) Algebraic computations with negative periods are behaving asymmetrically with respect to their positive counterparts.
lubridate,212,Made necessary changes to accommodate new zoo-based `fst` objects.
lubridate,213,[#360](https://github.com/tidyverse/lubridate/issues/360) Fix c parser for Z (zulu) indicator.
lubridate,214,[#322](https://github.com/tidyverse/lubridate/issues/322) Explicitly encode formatted string with `enc2utf8`.
lubridate,215,[#302](https://github.com/tidyverse/lubridate/issues/302) Allow parsing long numbers such as 20140911000000 as date+time.
lubridate,216,[#349](https://github.com/tidyverse/lubridate/issues/349) Fix broken interval -\> period conversion.
lubridate,217,[#336](https://github.com/tidyverse/lubridate/issues/336) Fix broken interval-\> period conversion with negative diffs.
lubridate,218,"[#227](https://github.com/tidyverse/lubridate/issues/227) Treat ""days"" and ""years"" units specially for pretty.point."
lubridate,219,[#286](https://github.com/tidyverse/lubridate/issues/286) %m+-% correctly handles dHMS period components.
lubridate,220,[#323](https://github.com/tidyverse/lubridate/issues/323) Implement coercion methods for Duration class.
lubridate,221,[#226](https://github.com/tidyverse/lubridate/issues/226) Propagate NAs in `int_standardize`
lubridate,222,[#235](https://github.com/tidyverse/lubridate/issues/235) Fix integer division with months and years.
lubridate,223,[#240](https://github.com/tidyverse/lubridate/issues/240) Make `ceiling_date` skip day light gap.
lubridate,224,[#254](https://github.com/tidyverse/lubridate/issues/254) Don't preprocess a/A formats if expressly specified by the user.
lubridate,225,[#289](https://github.com/tidyverse/lubridate/issues/289) Check for valid day-months combinations in C parser.
lubridate,226,[#306](https://github.com/tidyverse/lubridate/issues/306) When needed double guess with `preproc_wday=T`.
lubridate,227,[#308](https://github.com/tidyverse/lubridate/issues/308) Document sparce format guessing in `parse_date_time`.
lubridate,228,[#313](https://github.com/tidyverse/lubridate/issues/313) Fixed and optimized `fit_to_timeline` function.
lubridate,229,[#311](https://github.com/tidyverse/lubridate/issues/311) Always use UTC in `isoweek` computation
lubridate,230,[#294](https://github.com/tidyverse/lubridate/issues/294) Don't use years in `seconds_to_period`.
lubridate,231,Values on `$<-` assignment for periods are now properly recycled.
lubridate,232,Correctly handle NA subscripting in `round_date`.
lubridate,233,[#219](https://github.com/tidyverse/lubridate/issues/219) In `interval` use UTC when tzone is missing.
lubridate,234,[#255](https://github.com/tidyverse/lubridate/issues/255) Parse yy \> 68 as 19yy to comply with `strptime`.
lubridate,235,[#266](https://github.com/tidyverse/lubridate/issues/266) Include `time-zones.R` in `coercion.R`.
lubridate,236,[#251](https://github.com/tidyverse/lubridate/issues/251) Correct computation of weeks.
lubridate,237,[#262](https://github.com/tidyverse/lubridate/issues/262) Document that month boundary is the first second of the month.
lubridate,238,[#270](https://github.com/tidyverse/lubridate/issues/270) Add check for empty unit names in `standardise_lt_names`.
lubridate,239,[#276](https://github.com/tidyverse/lubridate/issues/276) Perform conversion in `as.period.period` if `unit != NULL`.
lubridate,240,[#284](https://github.com/tidyverse/lubridate/issues/284) Compute periods in `as.period.interval` without recurring to modulo arithmetic.
lubridate,241,"[#272](https://github.com/tidyverse/lubridate/issues/272) Update examples for `hms`, `hm` and `ms` for new printing style."
lubridate,242,[#236](https://github.com/tidyverse/lubridate/issues/236) Don't allow zeros in month and day during parsing.
lubridate,243,[#247](https://github.com/tidyverse/lubridate/issues/247) Uninitialized index was mistakenly used in subseting.
lubridate,244,[#229](https://github.com/tidyverse/lubridate/issues/229) `guess_formats` now matches flex regexp first.
lubridate,245,`dmilliseconds` now correctly returns a `Duration` object.
lubridate,246,Fixed setdiff for discontinuous intervals.
lubridate,247,New low level C parser for numeric formats and two new front-end R functions parse_date_time2 and fast_strptime. The achieved speed up is 50-100x as compared to standard as.POSIXct and strptime functions. The user level parser functions of ymd_hms family drop to these C routines whenever plain numeric formats are detected.
lubridate,248,olson_time_zones now supports Solaris OS
lubridate,249,infinite recursion on parsing non-existing leap times was fixed
lubridate,250,"Lubridate's s4 methods no longer use the representation argument, which has been deprecated in R 3.0.0 (see ?setClass). As a result, lubridate is no longer backwards compatible with R \<3.0.0."
lubridate,251,"v1.3.0. treats math with month and year Periods more consistently. If adding or subtracting n months would result in a non-existent date, lubridate will return an NA instead of a day in the following month or year. For example, `ymd(""2013-01-31"") + months(1)` will return `NA` instead of `2013-03-04` as in v1.2.0. `ymd(""2012-02-29"") + years(1)` will also return an `NA`. This rule change helps ensure that date + timespan - timespan = date (or NA). If you'd prefer that such arithmetic just returns the last day of the resulting month, see `%m+%` and `%m-%`."
lubridate,252,"update.POSIXct and update.POSIXlt have been rewritten to be 7x faster than their versions in v1.2.0. The speed gain is felt in `force_tz`, `with_tz`, `floor_date`, `ceiling_date`, `second<-`, `minute<-`, `hour<-`, `day<-`, `month<-`, `year<-`, and other functions that rely on update (such as math with Periods)."
lubridate,253,lubridate includes a Korean translation provided by http://korea.gnu.org/gnustats/
lubridate,254,"lubridate parser and stamp functions now handle ISO8601 date format (e.g., 2013-01-24 19:39:07.880-06:00, 2013-01-24 19:39:07.880Z)"
lubridate,255,"lubridate v1.3.0 comes with a new R vignette. see `browseVignettes(""lubridate"")` to view it."
lubridate,256,"The accessors `second`, `minute`, `hour`, `day`, `month`, `year` and the settors `second<-`, `minute<-`, `hour<-`, `day<-`, `month<-`, `year<-` now work on Period class objects"
lubridate,257,users can control which messages lubridate returns when parsing and estimating with the global option lubridate.verbose. Run `options(lubridate.verbose = TRUE)` to turn parsing messages on. Run `options(lubridate.verbose = FALSE)` to turn estimation and coercion messages off.
lubridate,258,"lubridate parser functions now propagate NA's just as as.POSIXct, strptime and other functions do. Previously lubridate's parse functions would only return an error."
lubridate,259,"added \[\[ and \[\[\<- methods for INterval, Period and Duration class objects"
lubridate,260,added `%m+%` and `%m-%` methods for Interval and Duration class objects that throw useful errors.
lubridate,261,`olson_time_zones` retreives a character vector is Olson-style time zone names to use in lubridate
lubridate,262,"summary methods for Interval, Period, and Duration classes"
lubridate,263,date_decimal converts a date written as a decimal of a year into a POSIXct date-time
lubridate,264,fixed bug in way update.POSIXct and update.POSIXlt handle dates that occur in the fall daylight savings overlap. update will choose the date-time closest to the original date time (on the timeline) when two identical clock times exist due to the DST overlap.
lubridate,265,"fixed bugs that created unintuitive results for `as.interval`, `int_overlaps`, `%within%` and the interval methods of `c`, `intersect`, `union`, `setdiff`, and `summary`."
lubridate,266,"parse functions, `as.interval`, `as.period` and `as.duration` now handlevectors of NA's without returning errors."
lubridate,267,parsers better handle vectors of input that have more than 100 elements and many NAs
lubridate,268,data frames that contain timespan objects with NAs in thme no longer fail toprint
lubridate,269,"`round_date`, `ceiling_date` and `update` now correctly handle input of length zero"
lubridate,270,`decimal_date` no longer returns NaN for first second of the year
lubridate,271,"lubridate 1.2.0 is significantly faster than lubridate 1.1.0. This is largely thanks to a parser rewrite submitted by Vitalie Spinu. Thank you, Vitalie. Some metrics:"
lubridate,272,parser speed up - 60x faster
lubridate,273,`with_tz` speed up - 15x faster
lubridate,274,`force_tz` speed up - 3x faster
lubridate,275,"Development for 1.2.0 has also focused on improving the way we work with months. `rollback` rolls dates back to the last day of the previous month. provides more options for working with months. `days_in_month` finds the number of days in a date's month. And, `%m+%` and `%m-%` provide a new way to \### handle unequal month lengths while doing arithmetic. See NEW FEATURES for more details"
lubridate,276,"date parsing can now parse multiple date formats within the same vector of date-times. Parsing can also recognize a greater variety of date-time formats as well as incomplete (truncated) date-times. Contributed by Vitalie Spinu. Thank you, Vitalie."
lubridate,277,1.2.0 introduces a new display format for periods. The display is more math and international friendly.
lubridate,278,"1.2.0 transforms negative intervals into periods much more gracefully (e.g, - 3 days instead of -1 years, 11 months, and 27 days)"
lubridate,279,S3 update methods are now exported
lubridate,280,"`stamp` allows users to print dates in whatever form they like. Contributed by Vitalie Spinu. Thank you, Vitalie."
lubridate,281,"periods now handle fractional seconds. Contributed by Vitalie Spinu. Thank you, Vitalie."
lubridate,282,"date parsing can now parse multiple date formats within the same vector of date-times. Parsing can also recognize a greater variety of date-time formats as well as incomplete (truncated) date-times. Contributed by Vitalie Spinu. Thank you, Vitalie."
lubridate,283,"`sort`, `order`, `rank` and `xtfrm` now work with periods"
lubridate,284,`as.period.Interval` accepts a unit argument. `as.period` will convert intervals into periods no larger than the supplied unit.
lubridate,285,"`days_in_month` takes a date, returns the number of days in the date's month. Contributed by Richard Cotton. Thank you, Richard."
lubridate,286,"`%m+%` and `%m-%` perform addition and subtraction with months (and years) without rollover at the end of a month. These can be used in place of + and -. These can't be used with periods smaller than a month, which should be handled separately. An example of the new behavior: ymd(""2010-01-31"") %m+% months(1) \# ""2010-02-28 UTC"" ymd(""2010-01-31"") + months(1) \# ""2010-03-03 UTC"" ymd(""2010-03-31"") %m-% months(1) \# ""2010-02-28 UTC"" ymd(""2010-01-31"") - months(1) \# ""2010-03-03 UTC"""
lubridate,287,`rollback` rolls a date back to the last day of the previous month.
lubridate,288,"`quarter` returns the fiscal quarter that a date occurs in. Like `quartes` in base R, but returns a numeric instead of a character string."
lubridate,289,date parsers now handle NAs
lubridate,290,periods now handle NAs
lubridate,291,"`[<-` now correctly updates all elements of a period inside a vector, list, or data.frame"
lubridate,292,"`period()` now works with unit = ""weeks"""
lubridate,293,`ceiling_date` no longer rounds up if a date is already at a ceiling
lubridate,294,"the redundant (i.e, repeated) hour of fall daylight savings time now displays with the correct time zone"
lubridate,295,`update.POSIXct` and `update.POSIXlt` handle vectors that sum to zero in the days argument
lubridate,296,"the format method for periods, intervals and duration now accurately displays objects of length 0."
lubridate,297,"lubridate no longer overwrites base R methods for +, - , \*, /, %%, and %/%. To recreate the previous experience of subtracting two date times to create an interval, we've added the interval creation function %--%."
lubridate,298,"lubridate has moved to an S4 object system. Timespans, Intervals, Durations, and Periods have each been redefined as an S4 class with its own methods."
lubridate,299,"arithmetic operations will no longer perform implicit class changes between timespans. Users must explicitly state how and when they wish class changes to occur with as.period(), as.duration(), and as.interval(). This makes code written with lubridate more robust, as such implicit changes often did not produce consistent behavior across a variety of operations. It also allows lubridate to be less chatty with fewer console messages. lubridate does not need to explain what it is doing, because it no longer attempts to do things whose outcome would not be clear. On the other hand, arithmetic between multiple time classes will produce informative error messages."
lubridate,300,the internal structure of lubridate R code has been reorganized at https://github.com/tidyverse/lubridate to make lubridate more development friendly.
lubridate,301,"intervals are now more useful and lubridate has more ways to manipulate them. Intervals can be created with %--%; modified with int_shift(), int_flip(), and int_standardize(); manipulated with intersect(), union(), and setdiff(); and used in logical tests with int_aligns(), int_overlaps(), and %within%. lubridate will no longer perform arithmetic between two intervals because the correct results of such operations is no more obvious than the correct result of adding two dates. Instead users are encouraged to use the new set operations or to directly modify intervals with int_start() and int_end(), which can also be used as settors. lubridate now supports negative intervals as well as positive intervals. Intervals also now display with a time zone."
lubridate,302,"Modulo methods for timespans have been changed to return a timespan. this allows modulo methods to be used with integer division in an intuitive manner, e.g. `a = a %/% b * b + a %% b`"
lubridate,303,"Periods, durations, and intervals can now all be put into a data frame."
lubridate,304,"Periods, durations, and intervals can be intuitively subset with \$ and \[\]. These operations also can be used as settors with \<-."
lubridate,305,The parsing functions and the as.period method for intervals are now slightly faster.
lubridate,306,month\<- and wday\<- settors accept names as well as numbers
lubridate,307,parsing functions now have a quiet argument to parse without messages and a tz argument to directly parse times into the desired time zone.
lubridate,308,logical comparison methods now work for period objects.
lubridate,309,use `test_package` to avoid incompatibility with current version of `testthat`
lubridate,310,other minor fixes to pass `R CMD check`
lubridate,311,added ymdThms() for parsing ISO 8061 formatted combned dates and times
lubridate,312,"removed bug in parsing dates with ""T"" in them"
lubridate,313,modified as.period.interval() to display periods in positive units
lubridate,314,Add citations to JSS article
lubridate,315,"ymd_hms(), hms(), and ms() functions can now parse dates that include decimal values in the seconds element."
lubridate,316,"milliseconds(), microseconds(), nanoseconds(), and picoseconds() create period objects of the specified lengths. dmilliseconds(), dmicroseconds(), dnanoseconds(), and dpicoseconds() make duration objects of the specified lengths."
lubridate,317,"lubridate no longer overwrites months(), start(), and end() from base R. Start and end have been replaced with int_start() and int_end()."
lubridate,318,"lubridate imports plyr and stringr packages, instead of depending on them."
lubridate,319,"made division, modulo, and integer division operations compatible with difftimes"
lubridate,320,created c() methods for periods and durations
lubridate,321,"fixed bug in division, modulo, and integer operations with timespans"
lubridate,322,"created parsing functions ymd_hm ymd_h dmy_hms dmy_hm dmy_h mdy_hms mdy_hm mdy_h ydm_hms ydm_hm ydm_h, which operate in the same way as ymd_hms()."
lubridate,323,fixed bug in add_dates(). duration objects can now be successfully added to numeric objects.
lubridate,324,"division between timespans: each timespan class (durations, periods, intervals) can be divided by other timespans. For example, how many weeks are there between Halloween and Christmas?: (christmas - halloween) / weeks(1)"
lubridate,325,modulo operations between timespans
lubridate,326,duration objects now have their own class and display format separate from difftimes
lubridate,327,interval objects now use an improved data structure and have a cleaner display format
lubridate,328,lubridate now loads its own namespace
lubridate,329,"math operations now automatically coerce interval objects to duration objects. Allows intervals to be used ""right out of the box"" without error messages."
lubridate,330,created start() and end() functions for accessing and changing the boundary date-times of an interval
lubridate,331,"rep() methods for periods, intervals, and durations"
lubridate,332,added a package help page with functions listed by purpose
lubridate,333,"eseconds(), eminutes(), etc. are aliased to dseconds(), dminutes(), etc. to make it easier to remember they are duration objects."
lubridate,334,changed leap.years() to leap_years() to maintain consistent naming scheme
lubridate,335,rewrote as.period() to create only positive periods.
lubridate,336,fixed rollover bug in update.POSIXct()
lubridate,337,"edited make_diff() to display in days when approporiate, not weeks"
modelr,1,Fixes for R CMD check
modelr,2,Relax test for R-devel
modelr,3,Redocument to fix HTML issues in .Rd
modelr,4,Eliminate direct dplyr dependency in favour of vctrs.
modelr,5,Reimplement `typical.ordered()` for R-devel compatibility.
modelr,6,Minor documentation fixes and updates for deprecated functions.
modelr,7,R CMD check documentation fix
modelr,8,Fix to `data_grid()` to work with dev tidyr.
modelr,9,"`add_predictions()`, `gather_predictions()`, and `spread_predictions()` more carefully pass along `type` parameter in order to avoid problems with predict methods that don't deal with `type = NULL` (#92)."
modelr,10,"`add_predictions()`, `gather_predictions()`, and `spread_predictions()` gain a `type` parameter which is passed through to `stats::predict()` (#34, @​pmenzel)"
modelr,11,New `crossv_loo()` which implements leave-one-out cross validation (@​pmenzel)
modelr,12,`typical()` no longer ignores missing values in character and factor vectors (#80).
modelr,13,`data_grid()` no longer fails with modern tidyr (#58).
modelr,14,"New `mape()` and `rsae()` model quality statistics (@​paulponcet, #33)."
modelr,15,`rsquare()` use more robust calculation 1 - SS_res / SS_tot rather than SS_reg / SS_tot (#37).
modelr,16,"`typical()` gains `ordered` and `integer` methods (@​jrnold, #44), and `...` argument (@​jrnold, #42)."
modelr,17,Added a `NEWS.md` file to track changes to the package.
modelr,18,Fixed R CMD CHECK note
modelr,19,Updated usage of `reduce()` for upcoming purrr release
modelr,20,More general `permute()` function
modelr,21,"Add `mse()` function to calculate mean squared error. Written by @​bensoltoff, pull request #57"
pillar,2,Merged cran-1.9.0 into main.
pillar,3,Internal changes only.
pillar,4,Internal changes only.
pillar,5,"Math operations on `num()` objects no longer perform type checks. This allows, e.g., multiplying a `num()` with a logical (#630, #632)."
pillar,6,"The default for the `pillar.min_title_chars` option has been bumped up to 20 characters so that title truncuation only affects very long variables. Use `options(pillar.min_title_chars = 5)` to reset to the previous default (#582, #620)."
pillar,7,"Use info bullets to format details (#582, #617, #627, #635)."
pillar,8,"`colonnade()`, `extra_cols()` and `squeeze()` are now hard-deprecated (#272, #374, #631)."
pillar,9,"Show `colnames()` hint only when needed (tidyverse/tibble#1488, #622)."
pillar,10,"Fix printing of very small numbers (#615, #619)."
pillar,11,"Shortened list columns are also shown with a subtle style (#628, #634)."
pillar,12,"Avoid warning with S4 character classes (tidyverse/tibble#1367, #625)."
pillar,13,"Fix method consistency, checked by R-devel (#633)."
pillar,14,Polish `?pillar_options` (#583).
pillar,15,"Fix typo & missing quote in digits vignette stub (@​gavinsimpson, #629)."
pillar,16,Require vctrs \>= 0.5.0
pillar,17,"New `pillar.advice` option to turn off advice in the footer, see `?pillar_options`. Now off by default in non-interactive mode (#577)."
pillar,18,"Column names that are abbreviated in the header gain a footnote and are printed in full in the footer (#483), after the extra columns (#548). If a column name in the header is abbreviated, all backticks are removed (#525). The new `""pillar.superdigit_sep""` option that determines the string used to separate footnote from column name in the footer (#553)."
pillar,19,"The default value of the `pillar.min_title_width` option is changed to 5. This means that effectively the width of a pillar is decided only by the data. Use `options(pillar.min_title_width = 15)` to restore the previous default, see also `?pillar_options` for details (#531)."
pillar,20,Offer advice in the footer on how to print all columns or rows (#567).
pillar,21,Avoid aligning `NA` inside quotes for very short character vectors (#562).
pillar,22,"Pick up `""pillar_focus""` attribute on printing to define focus columns (#549)."
pillar,23,"New `ctl_new_rowid_pillar()` generic and default method for customizing the appearance of row IDs (#260, #550, @​nbenn)."
pillar,24,Fix printing of `Surv` and `Surv2` objects (#561).
pillar,25,Fix wording for corner case `max_extra_cols = 1` (#535).
pillar,26,"Remove excess underlines for `bit64::integer64()` data of different magnitude (#517, #529)."
pillar,27,`ctl_new_pillar_list()` is documented on a separate help page (#516).
pillar,28,"Remove outdated detail in `?tbl_sum` (@​IndrajeetPatil, #565)."
pillar,29,Drop crayon dependency (#559).
pillar,30,Import ellipsis from rlang (#554).
pillar,31,"Skip test that requires lubridate if it's not installed (#505, @​MichaelChirico)."
pillar,32,"Soft-deprecate `colonnade()`, `squeeze()` and `extra_cols()` (#496)."
pillar,33,Require rlang 1.0.1 (#512).
pillar,34,`colonnade()` is now soft-deprecated (#485).
pillar,35,"`expect_known_display()` and `is_vector_s3()` are now deprecated (#460, #501)."
pillar,36,`new_pillar()` deprecates `extra` argument (#497).
pillar,37,"Focus columns specified via the `focus` argument to `tbl_format_setup()` are kept in their original place and shown with the maximum width and with the ""type"" component underlined (#465)."
pillar,38,"Update `s3_register()` to use new implementation from rlang, this fixes CRAN checks related to `scale_type()` (#462)."
pillar,39,Single pillars constructed with `pillar()` use only as much width as required when printing (#484).
pillar,40,"New `ctl_new_pillar_list()`, supersedes `ctl_new_compound_pillar()` (#433)."
pillar,41,"If some but not all sub-columns of a data frame or matrix column are shown, the names and types of the remaining columns are displayed in the footer (#365, #444)."
pillar,42,"`num(fixed_exponent = ...)` is now represented with the fixed exponent in the pillar header, and in the title in ggplot2 (#307)."
pillar,43,`tbl_format_setup()` gains `focus` argument that expects a character vector of column names. Focus columns are moved to the front and separated from the main columns by a subtle vertical line (#384).
pillar,44,"New `scale_x_num()` and `scale_y_num()`. If a column created with `num()` is used in a ggplot, the x and y scale will be formatted automatically according to to the specification (#400, #404)."
pillar,45,List columns omit size information if horizontal space is insufficient (#392).
pillar,46,"If the column title of a backticked column is abbreviated, the trailing backtick is still printed (#391)."
pillar,47,`new_pillar_shaft_simple()` gains `short_formatted` argument that contains the data to be used if horizontal space is insufficient (#389).
pillar,48,Default `obj_sum()` method returns abbreviation in attribute of return value (#390).
pillar,49,Extra columns in footer show backticks again if they are non-syntactic (#393).
pillar,50,"Fixed some cases for combinations of printed width and `getOption(""width"")` (#432)."
pillar,51,"Fix support for `nanotime::nanotime()` classes (#378, #380)."
pillar,52,`?num` and `?char` now point to tibble (#382).
pillar,53,Use eager registration via `NAMESPACE` for own methods for classes from other packages.
pillar,54,"Reworked formatting routine, now using a visitor-based approach with in-order iteration over all pillars. The only visible changes are that usage of free space (in the case of limited space) has slightly improved (#435)."
pillar,55,"Prepared removal of dependency on the crayon package (#233, #406)."
pillar,56,"Use snapshot variants, requires testthat \>= 3.1.1 (#387)."
pillar,57,"Replace internal `""pillar_vertical""` class with `glue::as_glue()` (#279)."
pillar,58,Fix printing for some tibbles where a fixed-width column is followed by a column with variable width (#366).
pillar,59,Avoid nested backtick blocks in vignette.
pillar,60,`num()` requires an integerish `digits` argument (#362).
pillar,61,Link to tibble vignettes and documentation pages.
pillar,62,"Avoid blanket import for lifecycle package for compatibility with upcoming rlang (#368, @​romainfrancois)."
pillar,63,"Options `pillar.print_max`, `pillar.print_min`, `pillar.width` and `pillar.max_extra_cols` are now queried before the corresponding `tibble.` or `dplyr.` options are consulted, the latter will be soft-deprecated in pillar v2.0.0 (#353)."
pillar,64,"New `pillar.bidi` option. When active, control characters are inserted to improve display of data with right-to-left text (#333)."
pillar,65,The new `pillar.max_footer_lines` option (default: 7) allows controlling the maximum number of footer lines shown. It is applied in addition to the existing `tibble.max_extra_cols` option (#263).
pillar,66,"If a column doesn't make use of all horizontal width offered to it, the excess width is distributed over other columns (#331)."
pillar,67,"Improved allocation of free space in multi-tier tables with `getOption(""tibble.width"") > getOption(""width"")` (#344)."
pillar,68,"All pillars are shown with their true horizontal extent, irrespective of the indicated `width`. This simplifies the implementation of custom `pillar_shaft()` methods (#347)."
pillar,69,`num()` gains `extra_sigfig` argument to automatically show more significant figures for numbers of the same magnitude with subtle differences (#97).
pillar,70,`print.tbl()` and `format.tbl()` support the `max_extra_cols` and `max_footer_lines` arguments that override the corresponding options (#360).
pillar,71,`print.tbl()` and `format.tbl()` maps the now deprecated `n_extra` argument to `max_extra_cols` for consistency (#360).
pillar,72,Avoid mangling of duplicate column names in footer (#332).
pillar,73,Fix warning with zero of type `bit64::integer64()` (#319).
pillar,74,All package options are now documented in `?pillar_options` (#339).
pillar,75,"`obj_sum()` no longer calls `type_sum()` for vectors since pillar v1.6.1, this is now documented (#321)."
pillar,76,Fix documentation on usage of `vctrs::vec_proxy()` and `vctrs::vec_restore()` (#322).
pillar,77,Using `attr(exact = TRUE)` everywhere.
pillar,78,`is_vector_s3()` is no longer generic (#181).
pillar,79,Fix internal logic around `vec_proxy()` and `vec_restore()` (#316).
pillar,80,Bump required versions of ellipsis and vctrs to avoid warning during package load.
pillar,81,`obj_sum()` no longer includes shape twice (#315).
pillar,82,"New `num()` and `char()` offer a flexible way to customize the display of numeric and character columns (#191, #84)."
pillar,83,"New `""pillar.max_dec_width""` option (#308)."
pillar,84,New `format_type_sum.AsIs()` avoids the need to implement your own `format_type_sum()` method (#286).
pillar,85,`align()` gains `space` argument to control the character used for filling (#285).
pillar,86,Numbers in scientific and decimal notation are formatted with the same rules regarding significant or decimal digits (#297).
pillar,87,Load the debugme package only if the `DEBUGME` environment variable is set.
pillar,88,"More accurate detection if the decimal dot is necessary, and how many digits to show after the decimal dot (#298)."
pillar,89,Use display width instead of number of characters when truncating character columns.
pillar,90,"New `vignette(""numbers"")` and `vignette(""digits"")` (#308)."
pillar,91,Compatibility with vctrs 0.3.7 (#291).
pillar,92,"`format.pillar_shaft_simple()` requires `""na""` attribute and no longer defaults to `pillar_na()` (#273)."
pillar,93,New `format_glimpse()` (#177).
pillar,94,"Color and formatting can now be reliably turned off by setting the `""cli.num_colors""` option to 1 (#269)."
pillar,95,Add examples for new functions (#264).
pillar,96,Fix lifecycle badges everywhere.
pillar,97,`obj_sum()` now always returns a string. `pillar_shaft.list()` iterates over its elements and calls `obj_sum()` for each (#137).
pillar,98,"Breaking: `print.pillar()` and `print.pillar_ornament()` now show `<pillar>` `<pillar_ornament>` in the first line (#227, #228)."
pillar,99,pillar has been re-licensed as MIT (#215).
pillar,100,New `size_sum()` generic (#239).
pillar,101,"New `ctl_new_pillar()` and `ctl_new_compound_pillar()` used via `print.tbl()`, `format.tbl()` and `tbl_format_setup.tbl()` (#230)."
pillar,102,New `new_pillar()` low-level constructor (#230).
pillar,103,New `new_pillar_component()` and `pillar_component()` (#230).
pillar,104,"New articles `vignette(""extending"")` and `vignette(""printing"")` (#251)."
pillar,105,"All printing code has been moved from tibble to pillar (#179), including `glimpse()` (#234). This concentrates the printing code in one package and allows for better extensibility."
pillar,106,"New experimental generics `tbl_format_setup()`, `tbl_format_header()`, `tbl_format_body()` and `tbl_format_footer()` (#179)."
pillar,107,Move definition of `tbl_sum()` to this package (#179).
pillar,108,"Improve formatting for `""Surv""` and `""Surv2""` classes from the survival package (#199)."
pillar,109,Vectors of the `vctrs_unspecified()` class are formatted better (#256).
pillar,110,Arrays are now formatted by showing only their first slice (#142).
pillar,111,Avoid wrapping extra column names with spaces (#254).
pillar,112,"Now using debugme to simplify understand the complex control flow, see `vignette(""debugme"")` (#248)."
pillar,113,New `format.pillar_ornament()` (#228).
pillar,114,Using testthat 3e (#218).
pillar,115,Avoid pillar.bold option in most tests (#216).
pillar,116,Change internal storage format for `colonnade()` and `extra_cols()` (#204).
pillar,117,Adapt to changed environment on CRAN's Solaris machine.
pillar,118,Restore compatibility with R 3.2.
pillar,119,"New `pillar.min_chars` option allows controlling the minimum number of characters shown for a character column (#178, @​statsmaths)."
pillar,120,`bit64::integer64()` columns are now formatted the same way as numeric columns (#175).
pillar,121,"New `align()` to support easy alignment of strings within a character vector (existing function exported by @​davidchall, #185)."
pillar,122,"`pillar_shaft()`, `format_type_sum()` and `extra_cols()` issue a warning if dots are unused."
pillar,123,`new_pillar_title()` and `new_pillar_type()` warn if `...` is not empty.
pillar,124,Use lifecycle package.
pillar,125,Remove compatibility code for R \< 3.3.
pillar,126,`obj_sum()` uses `vctrs::vec_size()` internally.
pillar,127,`is_vector_s3.default()` is soft-deprecated and no longer used. Please ensure that `vctrs::vec_is()` is `TRUE` for your class.
pillar,128,Rely on vctrs for type abbreviations.
pillar,129,`new_pillar_shaft_simple()` gains `na` argument to control appearance of `NA` values.
pillar,130,String columns are quoted if at least one value needs quotes (#171).
pillar,131,Apply subtle style to `list_of` columns (#172).
pillar,132,Fix formatting if mantissa is very close to 1 (#174).
pillar,133,Use `as.character()` instead of `as_character()`.
pillar,134,Remove compatibility with testthat \< 2.0.0.
pillar,135,"List columns are shown with their perceived dimensions, which may be different from those stored in the `""dim""` attribute. Regression introduced in 1.4.0 (#167)."
pillar,136,Add ellipsis to `vec_ptype_abbr()` method.
pillar,137,More careful specification of minimum package versions for the dependencies (#165).
pillar,138,Fix `type_sum.vctrs_vctr()` that also led to a NOTE in `R CMD check`.
pillar,139,"Resolve `vec_is()` at runtime instead of during `.onLoad()` (#163, @​lionel-)."
pillar,140,Implement methods for vctrs objects.
pillar,141,"`type_sum()` forwards to `vctrs::vec_ptype_abbr()` (#134). This makes sure that `list_of` columns (for values of the same type) are properly displayed. The value returned for `factor` and `complex` remains unchanged, because this will change in vctrs."
pillar,142,The `class` argument to `new_pillar_shaft()` deprecates the existing `subclass` argument. Passing a `subclass` argument leads to a warning once per session (#157).
pillar,143,Removed extra space for pillars with a negative value of lower magnitude than the largest positive value (example: -1 and 23).
pillar,144,"0-col tibble and matrix columns are now formatted with a capital containing `[,0]` and an empty shaft (#149)."
pillar,145,`squeeze()` is now faster (because the width computation in `pillar_shaft.numeric()` now uses more arithmetics instead of string concatenation). Further speedups may require implementation of crucial parts in C (#147).
pillar,146,"Styling output is faster: an expensive check for availability of colored output is carried out only once per call to `colonnade()`, and styling is implemented manually (#133, @​jimhester)."
pillar,147,All internal S3 classes have the `pillar_` prefix (#156).
pillar,148,"Only check native output on Windows, due to subtle differences when running on Linux in a latin1 locale."
pillar,149,Fix off-by-one error in distribution of empty space (#141).
pillar,150,`NA` in names is no longer escaped with backticks.
pillar,151,Don't add quotes for pillars formatted with their `format()` method (tidyverse/tibble#448).
pillar,152,"Update base type abbrevs to rlang 0.3.0 (#140, @​lionel-)."
pillar,153,Tests work again in a 256-color terminal (#129).
pillar,154,"Unknown data types are formatted using `format()`, not `as.character()` (#120)."
pillar,155,"Multi-tier colonnades can always fill the last tier, even if the width isn't a proper multiple of `getOption(""width"")`. (Example: `options(width = 80, tibble.width = 200)` will print a wide tibble in three tiers, each 80 characters wide, with a total width of 240 characters.)"
pillar,156,"Fixed mixed formatting (showing some pillars with maximum, and some with minimum width). If a pillar's minimum width is smaller than `getOption(""width"")`, it is shown nevertheless, abbreviated with dots if necessary."
pillar,157,`format_type_sum()` gains `width` argument (#73).
pillar,158,"Printing large multi-tier colonnades is much faster, the code that distributes pillars over tiers uses a much simpler and much faster algorithm (tidyverse/tibble#422)."
pillar,159,"Printing is now faster overall, because less work is done for formatting in ""subtle"" style (gray of a fixed level), and because `fansi::strip_sgr()` is used instead of `crayon::strip_style()`."
pillar,160,Slightly faster printing of colonnades by reusing an intermediate result.
pillar,161,`pillar()` no longer adds backticks if `title` is non-syntactic.
pillar,162,"`colonnade()` supports data frames and matrices. When printing, each sub-column is shown individually, using a title that resembles the syntax used to access it. Also supports recursively nested data frames (with data frame or matrix columns)."
pillar,163,Added fuzz tests for character colonnades of varying widths.
pillar,164,Use `fansi::substr_ctl()` in favor of `crayon::col_substr()`.
pillar,165,Eliminate CRAN check warning about undeclared withr dependency.
pillar,166,More defensive test to address CRAN check failures on Solaris.
pillar,167,"`colonnade()` now handles pillars named `""sep""` (#115)."
pillar,168,`pillar_shaft.character()` gains `min_width` argument.
pillar,169,"Whole numbers are printed without a decimal dot again. Numbers that are the result of a whole number divided by a power of 10 (subject to a tolerance to account for floating-point imprecision) are shown without trailing decimal zeros, even if these zeros are significant according to the `pillar.sigfig` option (#105)."
pillar,170,New `new_pillar_title()` and `new_pillar_type()` to support consistent output in `glimpse()` (#31).
pillar,171,New `format_type_sum()` generic that allows overriding the formatting of the type summary in the capital (#73).
pillar,172,The `digits.secs` option is respected when computing the width for date-time values (#102).
pillar,173,Turned off using subtle style for digits that are considered insignificant. Negative numbers are shown all red. Set the new option `pillar.subtle_num` to `TRUE` to turn it on again (default: `FALSE`).
pillar,174,The negation sign is printed next to the number again (#91).
pillar,175,Scientific notation uses regular digits again for exponents (#90).
pillar,176,"Groups of three digits are now underlined, starting with the fourth before/after the decimal point. This gives a better idea of the order of magnitude of the numbers (#78)."
pillar,177,Logical columns are displayed as `TRUE` and `FALSE` again (#95).
pillar,178,The decimal dot is now always printed for numbers of type `numeric`. Trailing zeros are not shown anymore if all displayed numbers are whole numbers (#62).
pillar,179,Decimal values longer than 13 characters always print in scientific notation.
pillar,180,"Numeric values with a `""class""` attribute (e.g., `Duration` from lubridate) are now formatted using `format()` if the `pillar_shaft()` method is not implemented for that class (#88)."
pillar,181,Very small numbers (like `1e-310`) are now printed correctly (tidyverse/tibble#377).
pillar,182,"Fix representation of right-hand side for `getOption(""pillar.sigfig"") >= 6` (tidyverse/tibble#380)."
pillar,183,Fix computation of significant figures for numbers with absolute value \>= 1 (#98).
pillar,184,"New styling helper `style_subtle_num()`, formatting depends on the `pillar.subtle_num` option."
pillar,185,"`NA` values are now shown in plain red, without changing the background color (#70)."
pillar,186,"New options to control the output, with defaults that match the current behavior unless stated otherwise:"
pillar,187,"`pillar.sigfig` to control the number of significant digits, for highlighting and truncation (#72),"
pillar,188,"`pillar.subtle` to specify if insignificant digits should be printed in gray (#72),"
pillar,189,"`pillar.neg` to specify if negative digits should be printed in red,"
pillar,190,"`pillar.bold` to specify if column headers should be printed in bold (default: `FALSE`, #76),"
pillar,191,"`pillar.min_title_chars` to specify the minimum number of characters to display for each column name (default: 15 characters, #75)."
pillar,192,"Shortened abbreviations for types: complex: cplx -\> cpl, function: fun -\> fn, factor: fctr -\> fct (#71)."
pillar,193,Date columns now show sub-seconds if the `digits.secs` option is set (#74).
pillar,194,Very wide tibbles now print faster (#85).
pillar,195,Work around failing CRAN tests on Windows.
purrr,1,Fixed valgrind issue.
purrr,2,Deprecation infrastructure in `map_chr()` now has much less overhead leading to improved performance (#1089).
purrr,3,purrr now requires R 3.5.0.
purrr,4,"As of purrr 1.0.0, the `map()` family of functions wraps all errors generated by `.f` inside an wrapper error that tracks the iteration index. As of purrr 1.0.1, this error now has a custom class (`purrr_error_indexed`), `location` and `name` fields, and is documented in `?purrr_error_indexed` (#1027)."
purrr,5,`map()` errors with named inputs also report the name of the element that errored.
purrr,6,Fixed an issue where progress bars weren't being closed when user interrupts or errors were encountered during a `map()` call (#1024).
purrr,7,Fixed an invalid C signature for `pluck()` (#1018).
purrr,8,Set `Biarch: true` to build purrr on 32-bit Windows on R \< 4.2.0 (#1017).
purrr,9,`cross()` and all its variants have been deprecated in favour of `tidyr::expand_grid()`. These functions were slow and buggy and we no longer think they are the right approach to solving this problem. See #768 for more information.
purrr,10,"`update_list()` (#858) and `rerun()` (#877), and the use of tidyselect with `map_at()` and friends (#874) have been deprecated. These functions use some form of non-standard evaluation which we now believe is a poor fit for purrr."
purrr,11,The `lift_*` family of functions has been deprecated. We no longer believe these to be a good fit for purrr because they rely on a style of function manipulation that is very uncommon in R code (#871).
purrr,12,"`prepend()`, `rdunif()`, `rbernoulli()`, `when()`, and `list_along()` have all been deprecated (#925). It's now clear that they don't align with the core purpose of purrr."
purrr,13,`splice()` is deprecated because we no longer believe that automatic splicing makes for good UI. Instead use `list2()` + `!!!` or `list_flatten()` (#869).
purrr,14,"Use of map functions with expressions, calls, and pairlists has been deprecated (#961)."
purrr,15,All map `_raw()` variants have been deprecated because they are of limited use and you can now use `map_vec()` instead (#903).
purrr,16,"In `map_chr()`, automatic conversion from logical, integer, and double to character is now deprecated. Use an explicit `as.character()` if needed (#904)."
purrr,17,Errors from `.f` are now wrapped in an additional class that gives information about where the error occurred (#945).
purrr,18,`as_function()` and the `...f` argument to `partial()` are no longer supported. They have been defunct for quite some time.
purrr,19,"Soft deprecated functions: `%@​%`, `reduce_right()`, `reduce2_right()`, `accumulate_right()` are now fully deprecated. Similarly, the `.lazy`, `.env`, and `.first` arguments to `partial()`, and the `.right` argument to `detect()` and `detect_index()` are fully deprecated. Removing elements with `NULL` in `list_modify()` and `list_merge()` is now fully deprecated."
purrr,20,`is_numeric()` and `is_scalar_numeric()` have been removed. They have been deprecated since purrr 0.2.3 (Sep 2017).
purrr,21,"`invoke_*()` is now deprecated. It was superseded in 0.3.0 (Jan 2019) and 3.5 years later, we have decided to deprecate it as part of the API refinement in the 1.0.0 release."
purrr,22,`map_call()` has been removed. It was made defunct in 0.3.0 (Jan 2019).
purrr,23,`*_at()` can now take a function (or formula) that's passed the vector of element names and returns the elements to select.
purrr,24,"New `map_vec()`, `map2_vec()`, and `pmap_vec()` work on all types of vectors, extending `map_lgl()`, `map_int()`, and friends so that you can easily work with dates, factors, date-times and more (#435)."
purrr,25,New `keep_at()` and `discard_at()` that work like `keep()` and `discard()` but operation on element names rather than element contents (#817).
purrr,26,Some mapping functions have now a `.progress` argument to create a progress bar. See `?progress_bars` (#149).
purrr,27,purrr is now licensed as MIT (#805).
purrr,28,"`modify()`, `modify_if()`, `modify_at()`, and `modify2()` are no longer generics. We have discovered a simple implementation that no longer requires genericity and methods were only provided by a very small number of packages (#894)."
purrr,29,"purrr now uses the base pipe (`|>`) and anonymous function short hand (`\(x)`), in all examples. This means that examples will no longer work in R 4.0 and earlier so in those versions of R, the examples are automatically converted to a regular section with a note that they might not work (#936)."
purrr,30,"When map functions fail, they now report the element they failed at (#945)."
purrr,31,New `modify_tree()` for recursively modifying nested data structures (#720).
purrr,32,"New `list_c()`, `list_rbind()`, and `list_cbind()` make it easy to `c()`, `rbind()`, or `cbind()` all of the elements in a list."
purrr,33,New `list_simplify()` reduces a list of length-1 vectors to a simpler atomic or S3 vector (#900).
purrr,34,New `list_transpose()` which automatically simplifies if possible (#875).
purrr,35,"`accumulate()` and `accumulate2()` now both simplify the output if possible using vctrs. New arguments `simplify` and `ptype` allow you to control the details of simplification (#774, #809)."
purrr,36,"`flatten()` and friends are superseded in favour of `list_flatten()`, `list_c()`, `list_cbind()`, and `list_rbind()`."
purrr,37,`*_dfc()` and `*_dfr()` have been superseded in favour of using the appropriate map function along with `list_rbind()` or `list_cbind()` (#912).
purrr,38,"`simplify()`, `simplify_all()`, and `as_vector()` have been superseded in favour of `list_simplify()`. It provides a more consistent definition of simplification (#900)."
purrr,39,`transpose()` has been superseded in favour of `list_transpose()` (#875). It has built-in simplification.
purrr,40,"`_lgl()`, `_int()`, `_int()`, and `_dbl()` now use the same (strict) coercion methods as vctrs (#904). This means that:"
purrr,41,"`map_chr(TRUE, identity)`, `map_chr(0L, identity)`, and `map_chr(1L, identity)` are deprecated because we now believe that converting a logical/integer/double to a character vector should require an explicit coercion."
purrr,42,"`map_int(1.5, identity)` now fails because we believe that silently truncating doubles to integers is dangerous. But note that `map_int(1, identity)` still works since no numeric precision is lost."
purrr,43,"`map_int(c(TRUE, FALSE), identity)`, `map_dbl(c(TRUE, FALSE), identity)`, `map_lgl(c(1L, 0L), identity)` and `map_lgl(c(1, 0), identity)` now succeed because 1/TRUE and 0/FALSE should be interchangeable."
purrr,44,"`map2()`, `modify2()`, and `pmap()` now use tidyverse recycling rules where vectors of length 1 are recycled to any size but all others must have the same length (#878)."
purrr,45,`map2()` and `pmap()` now recycle names of their first input if needed (#783).
purrr,46,"`modify()`, `modify_if()`, and `modify_at()` have been reimplemented using vctrs principles. This shouldn't have an user facing impact, but it does make the implementation much simpler."
purrr,47,`vec_depth()` is now `pluck_depth()` and works with more types of input (#818).
purrr,48,`pluck()` now requires indices to be length 1 (#813). It also now reports the correct type if you supply an unexpected index.
purrr,49,"`pluck()` now accepts negative integers, indexing from the right (#603)."
purrr,50,`pluck()` and `chuck()` now fail if you provide named inputs to ... (#788).
purrr,51,`pluck()` no longer replaces 0-length vectors with `default`; it now only applies absent and `NULL` components (#480).
purrr,52,`pluck<-`/`assign_in()` can now modify non-existing locations (#704).
purrr,53,`pluck<-`/`assign_in()` now sets elements to `NULL` rather than removing them (#636). Now use the explicit `zap()` if you want to remove elements.
purrr,54,"`modify()`, `modify2()`, and `modify_if()` now correctly handle `NULL`s in replacement values (#655, #746, #753)."
purrr,55,`list_modify()`'s interface has been standardised. Modifying with `NULL` now always creates a `NULL` in the output (#810)
purrr,56,New `list_assign()` which is similar to `list_modify()` but doesn't work recursively (#822).
purrr,57,`list_modify()` no longer recurses into data frames (and other objects built on top of lists that are fundamentally non-list like) (#810). You can revert to the previous behaviour by setting `.is_node = is.list`.
purrr,58,`capture_output()` correctly uses `conditionMessage()` instead of directly interrogating the `message` field (#1010).
purrr,59,`modify()` no longer works with calls or pairlists.
purrr,60,`modify_depth()` is no longer a generic. This makes it more consistent with `map_depth()`.
purrr,61,"`map_depth()` and `modify_depth()` have a new `is_node` argument that allows you to control what counts as a level. The default uses `vec_is_list()` to avoid recursing into rich S3 objects like linear models or data.frames (#958, #920)."
purrr,62,`map_depth()` and `modify_depth()` now correctly recurse at depth 1.
purrr,63,"`as_mapper()` is now around twice as fast when used with character, integer, or list (#820)."
purrr,64,`possibly()` now defaults `otherwise` to NULL.
purrr,65,"`modify_if(.else)` is now actually evaluated for atomic vectors (@​mgirlich, #701)."
purrr,66,`lmap_if()` correctly handles `.else` functions (#847).
purrr,67,"`every()` now correctly propagates missing values using the same rules as `&&` (#751). Internally, it has become a wrapper around `&&`. This makes it consistent with `&&` and also with `some()` which has always been a wrapper around `||` with the same propagation rules."
purrr,68,"`every()` and `some()` now properly check the return value of their predicate function. It must now return a `TRUE`, `FALSE`, or `NA`."
purrr,69,Greatly improved performance of functions created with `partial()` (#715). Their invocation is now as fast as for functions creating manually.
purrr,70,`partial()` no longer inlines the function in the call stack. This fixes issues when `partial()` is used with `lm()` for instance (#707).
purrr,71,Fixes for CRAN checks.
purrr,72,"Fixed issue in `list_modify()` that prevented lists from being removed with `zap()` (@​adamroyjones, #777)."
purrr,73,"Added documentation for exporting functions created with purrr adverb (@​njtierney, #668). See `?faq-adverbs-export`."
purrr,74,"Added `none()`, which tests that a predicate is false for all elements (the opposite of `every()`) (@​AliciaSchep, #735)."
purrr,75,Maintenance release.
purrr,76,"The documentation of `map()` and its variants has been improved by @​surdina as part of the Tidyverse Developer Day (@​surdina, #671)."
purrr,77,purrr now depends on R 3.2 or greater.
purrr,78,Fix protection issues reported by rchk.
purrr,79,`reduce()` now forces arguments (#643).
purrr,80,Fixed an issue in `partial()` with generic functions (#647).
purrr,81,`negate()` now works with generic functions and functions with early returns.
purrr,82,"`compose()` now works with generic functions again (#629, #639). Its set of unit tests was expanded to cover many edge cases."
purrr,83,"`prepend()` now works with empty lists (@​czeildi, #637)"
purrr,84,"`modify()` and variants are now wrapping `[[<-` instead of `[<-`. This change increases the genericity of these functions but might cause different behaviour in some cases. For instance, the `[[<-` for data frames is stricter than the `[<-` method and might throw errors instead of warnings. This is the case when assigning a longer vector than the number of rows. `[<-` truncates the vector with a warning, `[[<-` fails with an error (as is appropriate)."
purrr,85,`modify()` and variants now return the same type as the input when the input is an atomic vector.
purrr,86,"All functionals taking predicate functions (like `keep()`, `detect()`, `some()`) got stricter. Predicate functions must now return a single `TRUE` or `FALSE`. This change is meant to detect problems early with a more meaningful error message."
purrr,87,"New `chuck()` function. This is a strict variant of `pluck()` that throws errors when an element does not exist instead of returning `NULL` (@​daniel-barnett, #482)."
purrr,88,New `assign_in()` and `pluck<-` functions. They modify a data structure at an existing pluck location.
purrr,89,New `modify_in()` function to map a function at a pluck location.
purrr,90,`pluck()` now dispatches properly with S3 vectors. The vector class must implement a `length()` method for numeric indexing and a `names()` method for string indexing.
purrr,91,`pluck()` now supports primitive functions (#404).
purrr,92,New `.else` argument for `map_if()` and `modify_if()`. They take an alternative function that is mapped over elements of the input for which the predicate function returns `FALSE` (#324).
purrr,93,"`reduce()`, `reduce2()`, `accumulate()`, and `accumulate2()` now terminate early when the function returns a value wrapped with `done()` (#253). When an empty `done()` is returned, the value at the last iteration is returned instead."
purrr,94,"Functions taking predicates (`map_if()`, `keep()`, `some()`, `every()`, `keep()`, etc) now fail with an informative message when the return value is not `TRUE` or `FALSE` (#470). This is a breaking change for `every()` and `some()` which were documented to be more liberal in the values they accepted as logical (any vector was considered `TRUE` if not a single `FALSE` value, no matter its length). These functions signal soft-deprecation warnings instead of a hard failure. Edit (purr 0.4.0): `every()` and `some()` never issued deprecation warnings because of a technical issue. We didn't fix the warnings in the end, and using predicates returning `NA` is no longer considered deprecated. If you need to use `every()` and `some()` in contexts where `NA` propagation is unsafe, e.g. in `if ()` conditions, make sure to use safe predicate functions like `is_true()`."
purrr,95,"`modify()` and variants are now implemented using `length()`, `[[`, and `[[<-` methods. This implementation should be compatible with most vector classes."
purrr,96,New `modify2()` and `imodify()` functions. These work like `map()` and `imap()` but preserve the type of `.x` in the return value.
purrr,97,"`pmap()` and `pwalk()` now preserve class for inputs of `factor`, `Date`, `POSIXct` and other atomic S3 classes with an appropriate `[[` method (#358, @​mikmart)."
purrr,98,"`modify()`, `modify_if()` and `modify_at()` now preserve the class of atomic vectors instead of promoting them to lists. New S3 methods are provided for character, logical, double, and integer classes (@​t-kalinowski, #417)."
purrr,99,"By popular request, `at_depth()` has been brought back as `map_depth()`. Like `modify_depth()`, it applies a function at a specified level of a data structure. However, it transforms all traversed vectors up to `.depth` to bare lists (#381)."
purrr,100,"`map_at()`, `modify_at()` and `lmap_at()` accept negative values for `.at`, ignoring elements at those positions."
purrr,101,`map()` and `modify()` now work with calls and pairlists (#412).
purrr,102,"`modify_depth()` now modifies atomic leaves as well. This makes `modify_depth(x, 1, fn)` equivalent to `modify(x, fn)` (#359)."
purrr,103,New `accumulate2()` function which is to `accumulate()` what `reduce2()` is to `reduce()`.
purrr,104,"New `rate_backoff()` and `rate_delay()` functions to create rate objects. You can pass rates to `insistently()`, `slowly()`, or the lower level function `rate_sleep()`. This will cause a function to wait for a given amount of time with exponential backoff (increasingly larger waiting times) or for a constant delay."
purrr,105,"`insistently(f)` modifies a function, `f`, so that it is repeatedly called until it succeeds (@​richierocks, @​ijlyttle). `slowly()` modifies a function so that it waits for a given amount of time between calls."
purrr,106,"`partial()` now supports empty `... =` argument to specify the position of future arguments, relative to partialised ones. This syntax is borrowed from (and implemented with) `rlang::call_modify()`. To prevent partial matching of `...` on `...f`, the latter has been renamed to `.f`, which is more consistent with other purrr function signatures."
purrr,107,"`partial()` now supports quasiquotation. When you unquote an argument, it is evaluated only once at function creation time. This is more flexible than the `.lazy` argument since you can control the timing of evaluation for each argument. Consequently, `.lazy` is soft-deprecated (#457)."
purrr,108,Fixed an infinite loop when partialised function is given the same name as the original function (#387).
purrr,109,`partial()` now calls `as_closure()` on primitive functions to ensure argument matching (#360).
purrr,110,The `.lazy` argument of `partial()` is soft-deprecated in favour of quasiquotation:
purrr,110,"```
# Before
partial(fn, u = runif(1), n = rnorm(1), .lazy = FALSE)

# After
partial(fn, u = !!runif(1), n = !!rnorm(1))  # All constant
partial(fn, u = !!runif(1), n = rnorm(1))    # First constant
```"
purrr,111,The tibble package is now in Suggests rather than Imports. This brings the hard dependency of purrr to just rlang and magrittr.
purrr,112,`compose()` now returns an identity function when called without inputs.
purrr,113,"Functions created with `compose()` now have the same formal parameters as the first function to be called. They also feature a more informative print method that prints all composed functions in turn (@​egnha, #366)."
purrr,114,"New `.dir` argument in `compose()`. When set to `""forward""`, the functions are composed from left to right rather than right to left."
purrr,115,"`list_modify()` now supports the `zap()` sentinel (reexported from rlang) to remove elements from lists. Consequently, removing elements with the ambiguous sentinel `NULL` is soft-deprecated."
purrr,116,"The requirements of `list_modify()` and `list_merge()` have been relaxed. Previously it required both the modified lists and the inputs to be either named or unnamed. This restriction now only applies to inputs in `...`. When inputs are all named, they are matched to the list by name. When they are all unnamed, they are matched positionally. Otherwise, this is an error."
purrr,117,Fixed ordering of names returned by `accumulate_right()` output. They now correspond to the order of inputs.
purrr,118,Fixed names of `accumulate()` output when `.init` is supplied.
purrr,119,"`compose()` now supports composition with lambdas (@​ColinFay, #556)"
purrr,120,Fixed a `pmap()` crash with empty lists on the Win32 platform (#565).
purrr,121,"`modify_depth` now has `.ragged` argument evaluates correctly to `TRUE` by default when `.depth < 0` (@​cderv, #530)."
purrr,122,"`accumulate()` now inherits names from their first input (@​AshesITR, #446)."
purrr,123,"`attr_getter()` no longer uses partial matching. For example, if an `x` object has a `labels` attribute but no `label` attribute, `attr_getter(""label"")(x)` will no longer extract the `labels` attribute (#460, @​huftis)."
purrr,124,`flatten_dfr()` and `flatten_dfc()` now aborts if dplyr is not installed. (#454)
purrr,125,`imap_dfr()` now works with `.id` argument is provided (#429)
purrr,126,"`list_modify()`, `update_list()` and `list_merge()` now handle duplicate duplicate argument names correctly (#441, @​mgirlich)."
purrr,127,"`map_raw`, `imap_raw`, `flatten_raw`, `invoke_map_raw`, `map2_raw` and `pmap_raw` added to support raw vectors. (#455, @​romainfrancois)"
purrr,128,`flatten()` now supports raw and complex elements.
purrr,129,"`array_branch()` and `array_tree()` now retain the `dimnames()` of the input array (#584, @​flying-sheep)"
purrr,130,`pluck()` no longer flattens lists of arguments. You can still do it manually with `!!!`. This change is for consistency with other dots-collecting functions of the tidyverse.
purrr,131,"`map_at()`, `lmap_at()` and `modify_at()` now supports selection using `vars()` and `tidyselect` (@​ColinFay, #608). Note that for now you need to import `vars()` from dplyr or call it qualified like `dplyr::vars()`. It will be reexported from rlang in a future release."
purrr,132,"`detect()` now has a .default argument to specify the value returned when nothing is detected (#622, @​ColinFay)."
purrr,133,`reduce_right()` is soft-deprecated and replaced by a new `.dir` argument of `reduce()`:
purrr,133,"```
# Before:
reduce_right(1:3, f)

# After:
reduce(1:3, f, .dir = ""backward"")
```"
purrr,133,"Note that the details of the computation have changed. Whereas `reduce_right()` computed `f(f(3, 2), 1)`, it now computes `f(1, f(2, 3))`. This is the standard way of reducing from the right. To produce the exact same reduction as `reduce_right()`, simply reverse your vector and use a left reduction:"
purrr,133,"```
# Before:
reduce_right(1:3, f)

# After:
reduce(rev(1:3), f)
```"
purrr,134,`reduce2_right()` is soft-deprecated without replacement. It is not clear what algorithmic properties should a right reduction have in this case. Please reach out if you know about a use case for a right reduction with a ternary function.
purrr,135,"`accumulate_right()` is soft-deprecated and replaced by the new `.dir` argument of `accumulate()`. Note that the algorithm has slightly changed: the accumulated value is passed to the right rather than the left, which is consistent with a right reduction."
purrr,135,"```
# Before:
accumulate_right(1:3, f)

# After:
accumulate(1:3, f, .dir = ""backward"")
```"
purrr,136,The `.right` argument of `detect()` and `detect_index()` is soft-deprecated and renamed to `.dir` for consistency with other functions and clarity of the interface.
purrr,136,"```
# Before
detect(x, f, .right = TRUE)

# After
detect(x, f, .dir = ""backward"")
```"
purrr,137,The `.lazy` argument of `partial()` is soft-deprecated in favour of quasiquotation.
purrr,138,We had to rename `...f` to `.f` in `partial()` in order to support `... =` argument (which would otherwise partial-match on `...f`). This also makes `partial()` more consistent with other purrr function signatures.
purrr,139,"`invoke()` is retired in favour of the `exec()` function, reexported from rlang. `exec()` evaluates a function call built from its inputs and supports tidy dots:"
purrr,139,"```
# Before:
invoke(mean, list(na.rm = TRUE), x = 1:10)

# After
exec(mean, 1:10, !!!list(na.rm = TRUE))
```"
purrr,139,Note that retired functions are not removed from the package and will be maintained undefinitely.
purrr,140,"`invoke_map()` is retired without replacement because it is more complex to understand than the corresponding code using `map()`, `map2()` and `exec()`:"
purrr,140,"```
# Before:
invoke_map(fns, list(args))
invoke_map(fns, list(args1, args2))

# After:
map(fns, exec, !!!args)
map2(fns, list(args1, args2), function(fn, args) exec(fn, !!!args))
```"
purrr,141,"`%@​%` is soft-deprecated, please use the operator exported in rlang instead. The latter features an interface more consistent with `@​` as it uses NSE, supports S4 fields, and has an assignment variant."
purrr,142,Removing elements from lists using `NULL` in `list_modify()` is soft-deprecated. Please use the new `zap()` sentinel reexported from rlang instead:
purrr,142,"```
# Before:
list_modify(x, foo = NULL)

# After:
list_modify(x, foo = zap())
<<<<<<< HEAD
<<<<<<< HEAD
```"
purrr,142,3925cf3fe9291f4eb1cf3ae2a4d6489b,"This change is motivated by the ambiguity of `NULL` as a deletion sentinel because `NULL` is also a valid value in lists. In the future, `NULL` will set an element to `NULL` rather than removing the element."
purrr,143,bb4d8d6cc88e37a95b6210c287e34dfc,"`rerun()` is now in the questioning stage because we are no longer convinced NSE functions are a good fit for purrr. Also, `rerun(n, x)` can just as easily be expressed as `map(1:n, ~ x)` (with the added benefit of being passed the current index as argument to the lambda)."
purrr,144,c7d33b2dac42f6035000830e8a2cf09f,`map_call()` is defunct.
purrr,145,d501be89984433a9f9b666bd30fbfd6d,This is a maintenance release following the release of dplyr 0.7.5.
purrr,146,bc8032bdeddd32cad85f94abc1f71b1b,Fixes for R 3.1.
purrr,147,eaff3747d1fbf6286b5ab1b165cca139,"If `reduce()` fails with this message: `` Error: `.x` is empty, and no `.init` supplied ``, this is because `reduce()` now returns `.init` when `.x` is empty. Fix the problem by supplying an appropriate argument to `.init`, or by providing special behaviour when `.x` has length 0."
purrr,148,c61993feb4b44e3bca1fbad9ecb14935,"The type predicates have been migrated to rlang. Consequently the `bare-type-predicates` documentation topic is no longer in purrr, which might cause a warning if you cross-reference it."
purrr,149,967f380e8610878fbb69315ac0f7141c,"`order_by()`, `sort_by()` and `split_by()` have been removed. `order_by()` conflicted with `dplyr::order_by()` and the complete family doesn't feel that useful. Use tibbles instead (#217)."
purrr,150,7264a253274a1547fed5c2ec1e9f3e53,`contains()` has been renamed to `has_element()` to avoid conflicts with dplyr (#217).
purrr,151,67a32d6a091d4d43240a9a0487aa9102,"`as_function()` is now `as_mapper()` because it is a tranformation that makes sense primarily for mapping functions, not in general (#298). `.null` has been renamed to `.default` to better reflect its intent (#298). `.default` is returned whenever an element is absent or empty (#231, #254). `as_mapper()` sanitises primitive functions by transforming them to closures with standardised argument names (using `rlang::as_closure()`). For instance `+` is transformed to `function(.x, .y) .x + .y`. This results in proper argument matching so that `map(1:10, partial(`-`, .x = 5))` produces `list(5 - 1, 5 - 2, ...)`."
purrr,152,6066b19f92b967d6c622e569cc8d9c53,"Recursive indexing can now extract objects out of environments (#213) and S4 objects (#200), as well as lists."
purrr,153,21ee9e9b65a4bb801911c9e948446a5a,"`attr_getter()` makes it possible to extract from attributes like `map(list(iris, mtcars), attr_getter(""row.names""))`."
purrr,154,92e5a122428876ed5d2fcc3156df1d68,"The argument list for formula-functions has been tweaked so that you can refer to arguments by position with `..1`, `..2`, and so on. This makes it possible to use the formula shorthand for functions with more than two arguments (#289)."
purrr,155,97a152abb3b07cfd4ad7a91a1b972461,"`possibly()`, `safely()` and friends no longer capture interrupts: this means that you can now terminate a mapper using one of these with Escape or Ctrl + C (#314)"
purrr,156,ef576424a422fa691c2a8eb510833a7a,"All map functions now treat `NULL` the same way as an empty vector (#199), and return an empty vector if any input is an empty vector."
purrr,157,a07bf2df55bdf6aadb54b0e9ffcbe604,All `map()` functions now force their arguments in the same way that base R does for `lapply()` (#191). This makes `map()` etc easier to use when generating functions.
purrr,158,7751d98b0482553a70fdbf75d3c0c2c3,"A new family of ""indexed"" map functions, `imap()`, `imap_lgl()` etc, provide a short-hand for `map2(x, names(x))` or `map2(x, seq_along(x))` (#240)."
purrr,159,40114a08fc07798c78a63d13f8a72022,The data frame suffix `_df` has been (soft) deprecated in favour of `_dfr` to more clearly indicate that it's a row-bind. All variants now also have a `_dfc` for column binding (#167). (These will not be terribly useful until `dplyr::bind_rows()`/`dplyr::bind_cols()` have better semantics for vectors.)
purrr,160,98b1798b919a1afc340d4e2ff22dae0f,`at_depth()` has been renamed to `modify_depth()`.
purrr,161,4b59ee74798f261233ec83234ef70d6f,"`modify_depth()` gains new `.ragged` argument, and negative depths are now computed relative to the deepest component of the list (#236)."
purrr,162,ee3501041dacec1aa7a1c252ebed01e6,`auto_browse(f)` returns a new function that automatically calls `browser()` if `f` throws an error (#281).
purrr,163,5f6ade3c9611e20a0c1599be8c5f4969,`vec_depth()` computes the depth (i.e. the number of levels of indexing) or a vector (#243).
purrr,164,4751f013fd446f4018cb9da3dc03cd74,"`reduce2()` and `reduce2_right()` make it possible to reduce with a 3 argument function where the first argument is the accumulated value, the second argument is `.x`, and the third argument is `.y` (#163)."
purrr,165,768b6ff38cf087ead56722253b74257d,`list_modify()` extends `stats::modifyList()` to replace by position if the list is not named.(#201). `list_merge()` operates similarly to `list_modify()` but combines instead of replacing (#322).
purrr,166,166799936ce1b6fb3fe6e601d0e12355,The legacy function `update_list()` is basically a version of `list_modify` that evaluates formulas within the list. It is likely to be deprecated in the future in favour of a tidyeval interface such as a list method for `dplyr::mutate()`.
purrr,167,351f49d647588825901c68db1d976f5d,"Thanks to @​dchiu911, the unit test coverage of purrr is now much greater."
purrr,168,8cf85495b62673c5f4c798c6e43ec213,All predicate functions are re-exported from rlang (#124).
purrr,169,83192b1742417d7c33a7f5ac72aa7dbc,`compact()` now works with standard mapper conventions (#282).
purrr,170,4d309659a43b90f623b43f80130eea00,"`cross_n()` has been renamed to `cross()`. The `_n` suffix was removed for consistency with `pmap()` (originally called `map_n()` at the start of the project) and `transpose()` (originally called `zip_n()`). Similarly, `cross_d()` has been renamed to `cross_df()` for consistency with `map_df()`."
purrr,171,f9c5bde38341a0820b0ba19676648157,`every()` and `some()` now return `NA` if present in the input (#174).
purrr,172,3b23896d573be00a6d46121fb8ea8856,`invoke()` uses a more robust approach to generate the argument list (#249) It no longer uses lazyeval to figure out which enviroment a character `f` comes from.
purrr,173,c1c88847c848ca06f73f24e7ed0d9913,`is_numeric()` and `is_scalar_numeric()` are deprecated because they don't test for what you might expect at first sight.
purrr,174,fbbc13525e2f106923c5b70326632360,`reduce()` now throws an error if `.x` is empty and `.init` is not supplied.
purrr,175,8527698cb179d0f4479420456980c437,"Deprecated functions `flatmap()`, `map3()`, `map_n()`, `walk3()`, `walk_n()`, `zip2()`, `zip3()`, `zip_n()` have been removed."
purrr,176,007ddb95040f9e708b9db307f17fca03,`pmap()` coerces data frames to lists to avoid the expensive `[.data.frame` which provides security that is unneeded here (#220).
purrr,177,c616de8c7e7345cc59a5f5b1440af505,`rdunif()` checks its inputs for validity (#211).
purrr,178,e9507482714ddc7b62f0c0a2debf2118,"`set_names()` can now take a function to tranform the names programmatically (#276), and you can supply names in `...` to reduce typing even more more (#316). `set_names()` is now powered by `rlang::set_names()`."
purrr,179,c7ca30095c419bab50b1cc5dc260734d,`safely()` now actually uses the `quiet` argument (#296).
purrr,180,c95a4c5038f4045bbe72c5f3c023a3f5,`transpose()` now matches by name if available (#164). You can override the default choice with the new `.names` argument.
purrr,181,ab2ced07b0a0602f0785e6b52ef65a00,The function argument of `detect()` and `detect_index()` have been renamed from `.p` to `.f`. This is because they have mapper semantics rather than predicate semantics.
purrr,182,e0680c6907aeb8b1a6ed31a5c9c4bb54,"All data-frame based mappers have been removed in favour of new functions and idioms in the tidyverse. `dmap()`, `dmap_at()`, `dmap_if()`, `invoke_rows()`, `slice_rows()`, `map_rows()`, `by_slice()`, `by_row()`, and `unslice()` have been moved to purrrlyr. This is a bit of an aggresive change but it allows us to make the dependencies much lighter."
purrr,183,38baf113b27104efa89d312ab81df027,Fix for dev tibble support.
purrr,184,92c3b3c1ce3c974814c6249434aed8dd,`as_function()` now supports list arguments which allow recursive indexing using either names or positions. They now always stop when encountering the first NULL (#173).
purrr,185,7867292f1ed61b42e2866170f5f462be,`accumulate` and `reduce` correctly pass extra arguments to the worker function.
purrr,186,731e7801f6373dc6a4f5358ba2670ef7,"`as_function()` gains a `.null` argument that for character and numeric values allows you to specify what to return for null/absent elements (#110). This can be used with any map function, e.g. `map_int(x, 1, .null = NA)`"
purrr,187,0a17314106699dec7ec22ea9ab989ecd,`as_function()` is now generic.
purrr,188,019194f10ee7e9dbcb45ca463059f4a5,New `is_function()` that returns `TRUE` only for regular functions.
purrr,189,aeb3e147a36e1b80ff3151396645e564,Fix crash on GCC triggered by `invoke_rows()`.
purrr,190,182c307e61aef82315b8e52bbfb3a9c8,There are two handy infix functions:
purrr,191,fcc453bd7f92364efc8951c167b959b4,`x %||% y` is shorthand for `if (is.null(x)) y else x` (#109).
purrr,192,0ede19ff50c6f4bb359bea5dd5f5d8c4,"`x %@​% ""a""` is shorthand for `attr(x, ""a"", exact = TRUE)` (#69)."
purrr,193,75feca0ab58e6edc207a32c2ee544292,"`accumulate()` has been added to handle recursive folding. It is shortand for `Reduce(f, .x, accumulate = TRUE)` and follows a similar syntax to `reduce()` (#145). A right-hand version `accumulate_right()` was also added."
purrr,194,9803b2c462802038f772845213429e37,`map_df()` row-binds output together. It's the equivalent of `plyr::ldply()` (#127)
purrr,195,9b35d15cd7741157ad5728ce10f689ae,"`flatten()` is now type-stable and always returns a list. To return a simpler vector, use `flatten_lgl()`, `flatten_int()`, `flatten_dbl()`, `flatten_chr()`, or `flatten_df()`."
purrr,196,f9bbdb25b4e11b15ced3e75b1fb9697a,"`invoke()` has been overhauled to be more useful: it now works similarly to `map_call()` when `.x` is NULL, and hence `map_call()` has been deprecated. `invoke_map()` is a vectorised complement to `invoke()` (#125), and comes with typed variants `invoke_map_lgl()`, `invoke_map_int()`, `invoke_map_dbl()`, `invoke_map_chr()`, and `invoke_map_df()`."
purrr,197,e05a991aa5de6983f618835432135b74,"`transpose()` replaces `zip2()`, `zip3()`, and `zip_n()` (#128). The name more clearly reflects the intent (transposing the first and second levels of list). It no longer has fields argument or the `.simplify` argument; instead use the new `simplify_all()` function."
purrr,198,9d2fb55293bbf5edf3b8c670122753c3,"`safely()`, `quietly()`, and `possibly()` are experimental functions for working with functions with side-effects (e.g. printed output, messages, warnings, and errors) (#120). `safely()` is a version of `try()` that modifies a function (rather than an expression), and always returns a list with two components, `result` and `error`."
purrr,199,0efff3e741ec9c41b35df62eb87f5fa0,`list_along()` and `rep_along()` generalise the idea of `seq_along()`. (#122).
purrr,200,42180e8eedc23e85df5949fc56bddb5b,`is_null()` is the snake-case version of `is.null()`.
purrr,201,8a7925204430f5fcb65ef92f29302834,"`pmap()` (parallel map) replaces `map_n()` (#132), and has typed-variants suffixed `pmap_lgl()`, `pmap_int()`, `pmap_dbl()`, `pmap_chr()`, and `pmap_df()`."
purrr,202,fcfa4bcc11180a8d0e5bf3661ea724e3,"`set_names()` is a snake-case alternative to `setNames()` with stricter equality checking, and more convenient defaults for pipes: `x %>% set_names()` is equivalent to `setNames(x, x)` (#119)."
purrr,203,ea966254ada808942e8dac667603cc37,"`map()` now always returns a list. Data frame support has been moved to `map_df()` and `dmap()`. The latter supports sliced data frames as a shortcut for the combination of `by_slice()` and `dmap()`: `x %>% by_slice(dmap, fun, .collate = ""rows"")`. The conditional variants `dmap_at()` and `dmap_if()` also support sliced data frames and will recycle scalar results to the slice size."
purrr,204,99cc760da2d51ca4834ae051a7551312,"`map_rows()` has been renamed to `invoke_rows()`. As other rows-based functionals, it collates results inside lists by default, but with column collation this function is equivalent to `plyr::mdply()`."
purrr,205,2cb1db1f12a632eefd16a6765475f4bc,"The rows-based functionals gain a `.to` option to name the output column as well as a `.collate` argument. The latter allows to collate the output in lists (by default), on columns or on rows. This makes these functions more flexible and more predictable."
purrr,206,d0a770ce32b58d6315e4c4a2a824cc93,"`as_function()`, which converts formulas etc to functions, is now exported (#123)."
purrr,207,389da0ef7a540959f9cf5ea274661dd7,`rerun()` is correctly scoped (#95)
purrr,208,46bd84ee4e43e57cb53f72e06c8bfab5,`update_list()` can now modify an element called `x` (#98).
purrr,209,daf1469c0908d8bca05274990786aad4,"`map*()` now use custom C code, rather than relying on `lapply()`, `mapply()` etc. The performance characteristcs are very similar, but it allows us greater control over the output (#118)."
purrr,210,4be6cce5b5268ba8ef3bfd3311e12f3c,"`map_lgl()` now has second argument `.f`, not `.p` (#134)."
purrr,211,e15371b56d8f42e2b5f16372a5dfa0f5,`flatmap()` -\> use `map()` followed by the appropriate `flatten()`.
purrr,212,6521389e7a8c5ab9f6baedc724da3750,`map_call()` -\> `invoke()`.
purrr,213,231212ba7593f72e2de24097e9096ab7,`map_n()` -\> `pmap()`; `walk_n()` -\> `pwalk()`.
purrr,214,9855f998eb3a7a4cdd0fd7934b632c08,"`map3(x, y, z)` -\> `map_n(list(x, y, z))`; `walk3(x, y, z) ->`pwalk(list(x, y, z))\`"
>>>>>>> 7d44e32 (update lua filter to strip URLs from links)
readr,1,9bd8fc164560d55caeb0b06f3384cb3d,No user-facing changes. Patch release with internal changes requested by CRAN.
readr,2,dec5f4dfd2a889751cbaecc1b92356e3,"Help files below `man/` have been re-generated, so that they give rise to valid HTML5. (This is the impetus for this release, to keep the package safely on CRAN.)"
readr,3,60d3931d7088be9f2dab0b65b07137d1,"`mini-gapminder-africa.csv` and friends are new example datasets accessible via `readr_example()`, which have been added to illustrate reading multiple files at once, into a single data frame."
readr,4,bf812ae3733ef3b59a81f01cb1a192f8,"`read_table()`, `read_log()`, and `read_delim_chunked()` (and friends) gain the `show_col_types` argument found elsewhere. All `read_*()` functions now respect the `show_col_types` argument or option, even when using the first edition parsing engine (#1331)."
readr,5,d813e20e37b8f11dc3e11ca7f0deda50,`show_progress()` uses `rlang::is_interactive()` instead of `base::interactive()` (#1356).
readr,6,000cb2b111e23ab58520cc7837209807,"`read_builtin()` does more argument checking, so that we catch obviously malformed input before passing along to `utils::data()` (#1361)."
readr,7,ccb804ceea034666b43e9840813d8a66,`chickens.csv` and `whitespace-sample.txt` are new example datasets accessible via `readr_example()` (#1354).
readr,8,5f98d3b24c98d0aaece7721cb47f81d8,Jenny Bryan is now the maintainer.
readr,9,f3fd1f66aa11ceb1ae813711eb769269,Fix buffer overflow when trying to parse an integer from a field that is over 64 characters long (#1326)
readr,10,8b7fe5b633028c5609c36cd2d0ca0e09,"All readr functions again read eagerly by default. Unfortunately many users experienced frustration from the drawbacks of lazy reading, in particular locking files on Windows, so it was decided to disable lazy reading default. However `options(readr.read_lazy = TRUE)` can be used to set the default to by lazy if desired."
<<<<<<< HEAD
=======
readr,11,66e765dff9d23570e900801261449a96,New `readr.read_lazy` global option to control if readr reads files lazily or not (#1266)
readr,12,3fc078551022a50a87e6c2404dc76623,"minor test tweak for compatibility with testthat 3.1.0 (#@​lionel-, #1304)"
readr,13,807857369e6c2d2cba3299039e50df61,"`write_rds()` gains a `text=` argument, to control using a text based object representation, like the `ascii=` argument in `saveRDS()` (#1270)"
readr,14,f99ab9fa8c6a541e2c50ecc5dafeaa7d,`options(readr.show_col_types = FALSE)` now works as intended (#1250)
readr,15,8459408832f75dba3c77ec16dbb6ecc5,`read_delim_chunked()` now again correctly respects the `chunk_size` parameter (#1248)
readr,16,aed3dfe99a77de7ee4acd4a2e34962e5,"`type_convert()` gains a `guess_integer` argument, passed to `guess_parser()` (@​jmbarbone, #1264)"
readr,17,55cca9eb2492ab961b78b41a55e7e005,"`read_tsv()` now correctly passes the `quote` and `na` arguments to `vroom::vroom()` (#1254, #1255)"
readr,18,06017eb11d787468440387e930382ffe,Avoid spurious byte compilation errors due to the programmatically generated `spec_*()` functions.
readr,19,6dbaf78cbc0533727383fae4f6df2464,"`with_edition(1, read_csv(""my_file.csv""))` will read `my_file.csv` with the first edition of readr."
readr,20,813010e2d5bf9e12b1c015295220ab25,`readr::local_edition(1)` placed at the top of your function or script will use the first edition for the rest of the function or script.
readr,21,e3d4cd833a6d2288841e4886815a0611,"`melt_csv()`, `melt_delim()`, `melt_tsv()` and `melt_fwf()` have been superseded by functions in the same name in the meltr package. The versions in readr have been deprecated. These functions rely on the first edition parsing code and would be challenging to update to the new parser. When the first edition parsing code is eventually removed from readr they will be removed."
readr,22,95bd2456c8cdb649a901c285da89c2cb,"`read_table2()` has been renamed to `read_table()`, as most users expect `read_table()` to work like `utils::read.table()`. If you want the previous strict behavior of the `read_table()` you can use `read_fwf()` with `fwf_empty()` directly (#717)."
readr,23,f379e85822ba1006c91e00b833d9dd89,"Normalizing newlines in files with just carriage returns `\r` is no longer supported. The last major OS to use only CR as the newline was 'classic' Mac OS, which had its final release in 2001."
readr,24,26892f1a12f6a7a6cb262df935362292,`read_*_chunked()` functions now include their specification as an attribute (#1143)
readr,25,38d9154d43170de2975c31d87f2c4059,All `read_*()` functions gain a `col_select` argument to more easily choose which columns to select.
readr,26,0831f822cd2e97d661e2497d2e5bc7d3,All `read_*()` functions gain a `id` argument to optionally store the file paths when reading multiple files.
readr,27,28c081d0fdeddc0470fa94d75802f0e9,All `read_*()` functions gain a `name_repair` argument to control how column names are repaired.
readr,28,980dcd0fbcb81e1adb2548d4cf264af8,All `read_*()` and `write_*()` functions gain a `num_threads` argument to control the number of processing threads they use (#1201)
readr,29,fc07bc3cd2c2fd443ef22d427ca3f975,"All `write_*()` and `format_*()` functions gain `quote` and `escape` arguments, to explicitly control how fields are quoted and how double quotes are escaped. (#653, #759, #844, #993, #1018, #1083)"
readr,30,03bb0884c493f41193ec598e5de7f117,All `write_*()` functions gain a `progress` argument and display a progress bar when writing (#791).
readr,31,fa4367b304db835429099802461b8083,"write_excel_csv() now defaults to `quote = ""all""` (#759)"
readr,32,aec9629682a3fabcaa40d19ac29d8909,"write_tsv() now defaults to `quote = ""none""` (#993)"
readr,33,83dfa6ae7590a85084fa5819d30f7f7b,`read_table()` now handles skipped lines with unpaired quotes properly (#1180)
readr,34,f91ebd08230198a0f552aa36e0b9b904,"The BH package is no longer a dependency. The boost C++ headers in BH have thousands of files, so can take a long time to extract and compiling them takes a great deal of memory, which made readr difficult to compile on systems with limited memory (#1147)."
readr,35,957885b11cf4f5e9802935966e840271,"readr now uses the tzdb package when parsing date-times (@​DavisVaughan, r-lib/vroom#273)"
readr,36,318ae742b8f910fef7d605955dabe714,Chunked readers now support files with more than `INT_MAX` (\~ 2 Billion) number of lines (#1177)
readr,37,c10c5742a0abe7a1a03b2de84ec2c3f0,Memory no longer inadvertently leaks when reading memory from R connections (#1161)
readr,38,ffbf04e815336d2b403a4a09f3cdc10a,Invalid date formats no longer can potentially crash R (#1151)
readr,39,46089068ab1e66ae6c68230346709854,`col_factor()` now throws a more informative error message if given non-character levels (#1140)
readr,40,2e7280e66b5625ceaa70d6c80b3a292a,`problems()` now takes `.Last.value` as its default argument. This lets you run `problems()` without an argument to see the problems in the previously read dataset.
readr,41,05482e7c8a2eeb86ebff4b30987e876b,"`read_delim()` fails when sample of parsing problems contains non-ASCII characters (@​hidekoji, #1136)"
readr,42,0d4d3cd635b1d35dacb90639c5aae4be,`read_log()` gains a `trim_ws` argument (#738)
readr,43,3d78b9e890ca50ec77484f87541d627e,"`read_rds()` and `write_rds()` gain a `refhook` argument, to pass functions that handle references objects (#1206)"
readr,44,1453b0c8ef4ed03c587b70c19d02d8f6,`read_rds()` can now read .Rds files from URLs (#1186)
readr,45,afd48b3aaf293fce65f41689f135d419,"`read_*()` functions gain a `show_col_types` argument, if set to `FALSE` this turns off showing the column types unconditionally."
readr,46,7e75ffd3ef024beb1930f05e45fa4a54,`type_convert()` now throws a warning if the input has no character columns (#1020)
readr,47,b5452c17914d7cf159b8161903c54d16,`write_csv()` now errors if given a matrix column (#1171)
readr,48,3c8543e0267b92618675c2c82451b3d2,`write_csv()` now again is able to write data with duplicated column names (#1169)
readr,49,26a4d839d8068c1e260e1480709a3b9a,`write_file()` now forces its argument before opening the output file (#1158)
readr,50,d7dfdfdd55fdbd49ebd2b9b90b111b4b,"`write_*()` functions first argument is now `file` instead of `path`, for consistency with the `read_*()` functions. `path` has been deprecated and will be removed in a future version of readr (#1110, @​brianrice2)"
readr,51,4a125b4eb90ee28a7ccd6fccd8a99553,"`write_*()` functions now output any NaN values in the same way as NA values, controlled by the `na=` argument. (#1082)."
readr,52,9a4fc4f1c475429fa1ad07c9d5dc55d8,It is now possible to generate a column specification from any tibble (or data.frame) with `as.col_spec()` and convert any column specification to a short representation with `as.character()`
readr,52,9a4fc4f1c475429fa1ad07c9d5dc55d8,"```
=======
```"
purrr,142,"This change is motivated by the ambiguity of `NULL` as a deletion sentinel because `NULL` is also a valid value in lists. In the future, `NULL` will set an element to `NULL` rather than removing the element."
purrr,143,"`rerun()` is now in the questioning stage because we are no longer convinced NSE functions are a good fit for purrr. Also, `rerun(n, x)` can just as easily be expressed as `map(1:n, ~ x)` (with the added benefit of being passed the current index as argument to the lambda)."
purrr,144,`map_call()` is defunct.
purrr,145,This is a maintenance release following the release of dplyr 0.7.5.
purrr,146,Fixes for R 3.1.
purrr,147,"If `reduce()` fails with this message: `` Error: `.x` is empty, and no `.init` supplied ``, this is because `reduce()` now returns `.init` when `.x` is empty. Fix the problem by supplying an appropriate argument to `.init`, or by providing special behaviour when `.x` has length 0."
purrr,148,"The type predicates have been migrated to rlang. Consequently the `bare-type-predicates` documentation topic is no longer in purrr, which might cause a warning if you cross-reference it."
purrr,149,"`order_by()`, `sort_by()` and `split_by()` have been removed. `order_by()` conflicted with `dplyr::order_by()` and the complete family doesn't feel that useful. Use tibbles instead (#217)."
purrr,150,`contains()` has been renamed to `has_element()` to avoid conflicts with dplyr (#217).
purrr,151,"`as_function()` is now `as_mapper()` because it is a tranformation that makes sense primarily for mapping functions, not in general (#298). `.null` has been renamed to `.default` to better reflect its intent (#298). `.default` is returned whenever an element is absent or empty (#231, #254). `as_mapper()` sanitises primitive functions by transforming them to closures with standardised argument names (using `rlang::as_closure()`). For instance `+` is transformed to `function(.x, .y) .x + .y`. This results in proper argument matching so that `map(1:10, partial(`-`, .x = 5))` produces `list(5 - 1, 5 - 2, ...)`."
purrr,152,"Recursive indexing can now extract objects out of environments (#213) and S4 objects (#200), as well as lists."
purrr,153,"`attr_getter()` makes it possible to extract from attributes like `map(list(iris, mtcars), attr_getter(""row.names""))`."
purrr,154,"The argument list for formula-functions has been tweaked so that you can refer to arguments by position with `..1`, `..2`, and so on. This makes it possible to use the formula shorthand for functions with more than two arguments (#289)."
purrr,155,"`possibly()`, `safely()` and friends no longer capture interrupts: this means that you can now terminate a mapper using one of these with Escape or Ctrl + C (#314)"
purrr,156,"All map functions now treat `NULL` the same way as an empty vector (#199), and return an empty vector if any input is an empty vector."
purrr,157,All `map()` functions now force their arguments in the same way that base R does for `lapply()` (#191). This makes `map()` etc easier to use when generating functions.
purrr,158,"A new family of ""indexed"" map functions, `imap()`, `imap_lgl()` etc, provide a short-hand for `map2(x, names(x))` or `map2(x, seq_along(x))` (#240)."
purrr,159,The data frame suffix `_df` has been (soft) deprecated in favour of `_dfr` to more clearly indicate that it's a row-bind. All variants now also have a `_dfc` for column binding (#167). (These will not be terribly useful until `dplyr::bind_rows()`/`dplyr::bind_cols()` have better semantics for vectors.)
purrr,160,`at_depth()` has been renamed to `modify_depth()`.
purrr,161,"`modify_depth()` gains new `.ragged` argument, and negative depths are now computed relative to the deepest component of the list (#236)."
purrr,162,`auto_browse(f)` returns a new function that automatically calls `browser()` if `f` throws an error (#281).
purrr,163,`vec_depth()` computes the depth (i.e. the number of levels of indexing) or a vector (#243).
purrr,164,"`reduce2()` and `reduce2_right()` make it possible to reduce with a 3 argument function where the first argument is the accumulated value, the second argument is `.x`, and the third argument is `.y` (#163)."
purrr,165,`list_modify()` extends `stats::modifyList()` to replace by position if the list is not named.(#201). `list_merge()` operates similarly to `list_modify()` but combines instead of replacing (#322).
purrr,166,The legacy function `update_list()` is basically a version of `list_modify` that evaluates formulas within the list. It is likely to be deprecated in the future in favour of a tidyeval interface such as a list method for `dplyr::mutate()`.
purrr,167,"Thanks to @​dchiu911, the unit test coverage of purrr is now much greater."
purrr,168,All predicate functions are re-exported from rlang (#124).
purrr,169,`compact()` now works with standard mapper conventions (#282).
purrr,170,"`cross_n()` has been renamed to `cross()`. The `_n` suffix was removed for consistency with `pmap()` (originally called `map_n()` at the start of the project) and `transpose()` (originally called `zip_n()`). Similarly, `cross_d()` has been renamed to `cross_df()` for consistency with `map_df()`."
purrr,171,`every()` and `some()` now return `NA` if present in the input (#174).
purrr,172,`invoke()` uses a more robust approach to generate the argument list (#249) It no longer uses lazyeval to figure out which enviroment a character `f` comes from.
purrr,173,`is_numeric()` and `is_scalar_numeric()` are deprecated because they don't test for what you might expect at first sight.
purrr,174,`reduce()` now throws an error if `.x` is empty and `.init` is not supplied.
purrr,175,"Deprecated functions `flatmap()`, `map3()`, `map_n()`, `walk3()`, `walk_n()`, `zip2()`, `zip3()`, `zip_n()` have been removed."
purrr,176,`pmap()` coerces data frames to lists to avoid the expensive `[.data.frame` which provides security that is unneeded here (#220).
purrr,177,`rdunif()` checks its inputs for validity (#211).
purrr,178,"`set_names()` can now take a function to tranform the names programmatically (#276), and you can supply names in `...` to reduce typing even more more (#316). `set_names()` is now powered by `rlang::set_names()`."
purrr,179,`safely()` now actually uses the `quiet` argument (#296).
purrr,180,`transpose()` now matches by name if available (#164). You can override the default choice with the new `.names` argument.
purrr,181,The function argument of `detect()` and `detect_index()` have been renamed from `.p` to `.f`. This is because they have mapper semantics rather than predicate semantics.
purrr,182,"All data-frame based mappers have been removed in favour of new functions and idioms in the tidyverse. `dmap()`, `dmap_at()`, `dmap_if()`, `invoke_rows()`, `slice_rows()`, `map_rows()`, `by_slice()`, `by_row()`, and `unslice()` have been moved to purrrlyr. This is a bit of an aggresive change but it allows us to make the dependencies much lighter."
purrr,183,Fix for dev tibble support.
purrr,184,`as_function()` now supports list arguments which allow recursive indexing using either names or positions. They now always stop when encountering the first NULL (#173).
purrr,185,`accumulate` and `reduce` correctly pass extra arguments to the worker function.
purrr,186,"`as_function()` gains a `.null` argument that for character and numeric values allows you to specify what to return for null/absent elements (#110). This can be used with any map function, e.g. `map_int(x, 1, .null = NA)`"
purrr,187,`as_function()` is now generic.
purrr,188,New `is_function()` that returns `TRUE` only for regular functions.
purrr,189,Fix crash on GCC triggered by `invoke_rows()`.
purrr,190,There are two handy infix functions:
purrr,191,`x %||% y` is shorthand for `if (is.null(x)) y else x` (#109).
purrr,192,"`x %@​% ""a""` is shorthand for `attr(x, ""a"", exact = TRUE)` (#69)."
purrr,193,"`accumulate()` has been added to handle recursive folding. It is shortand for `Reduce(f, .x, accumulate = TRUE)` and follows a similar syntax to `reduce()` (#145). A right-hand version `accumulate_right()` was also added."
purrr,194,`map_df()` row-binds output together. It's the equivalent of `plyr::ldply()` (#127)
purrr,195,"`flatten()` is now type-stable and always returns a list. To return a simpler vector, use `flatten_lgl()`, `flatten_int()`, `flatten_dbl()`, `flatten_chr()`, or `flatten_df()`."
purrr,196,"`invoke()` has been overhauled to be more useful: it now works similarly to `map_call()` when `.x` is NULL, and hence `map_call()` has been deprecated. `invoke_map()` is a vectorised complement to `invoke()` (#125), and comes with typed variants `invoke_map_lgl()`, `invoke_map_int()`, `invoke_map_dbl()`, `invoke_map_chr()`, and `invoke_map_df()`."
purrr,197,"`transpose()` replaces `zip2()`, `zip3()`, and `zip_n()` (#128). The name more clearly reflects the intent (transposing the first and second levels of list). It no longer has fields argument or the `.simplify` argument; instead use the new `simplify_all()` function."
purrr,198,"`safely()`, `quietly()`, and `possibly()` are experimental functions for working with functions with side-effects (e.g. printed output, messages, warnings, and errors) (#120). `safely()` is a version of `try()` that modifies a function (rather than an expression), and always returns a list with two components, `result` and `error`."
purrr,199,`list_along()` and `rep_along()` generalise the idea of `seq_along()`. (#122).
purrr,200,`is_null()` is the snake-case version of `is.null()`.
purrr,201,"`pmap()` (parallel map) replaces `map_n()` (#132), and has typed-variants suffixed `pmap_lgl()`, `pmap_int()`, `pmap_dbl()`, `pmap_chr()`, and `pmap_df()`."
purrr,202,"`set_names()` is a snake-case alternative to `setNames()` with stricter equality checking, and more convenient defaults for pipes: `x %>% set_names()` is equivalent to `setNames(x, x)` (#119)."
purrr,203,"`map()` now always returns a list. Data frame support has been moved to `map_df()` and `dmap()`. The latter supports sliced data frames as a shortcut for the combination of `by_slice()` and `dmap()`: `x %>% by_slice(dmap, fun, .collate = ""rows"")`. The conditional variants `dmap_at()` and `dmap_if()` also support sliced data frames and will recycle scalar results to the slice size."
purrr,204,"`map_rows()` has been renamed to `invoke_rows()`. As other rows-based functionals, it collates results inside lists by default, but with column collation this function is equivalent to `plyr::mdply()`."
purrr,205,"The rows-based functionals gain a `.to` option to name the output column as well as a `.collate` argument. The latter allows to collate the output in lists (by default), on columns or on rows. This makes these functions more flexible and more predictable."
purrr,206,"`as_function()`, which converts formulas etc to functions, is now exported (#123)."
purrr,207,`rerun()` is correctly scoped (#95)
purrr,208,`update_list()` can now modify an element called `x` (#98).
purrr,209,"`map*()` now use custom C code, rather than relying on `lapply()`, `mapply()` etc. The performance characteristcs are very similar, but it allows us greater control over the output (#118)."
purrr,210,"`map_lgl()` now has second argument `.f`, not `.p` (#134)."
purrr,211,`flatmap()` -\> use `map()` followed by the appropriate `flatten()`.
purrr,212,`map_call()` -\> `invoke()`.
purrr,213,`map_n()` -\> `pmap()`; `walk_n()` -\> `pwalk()`.
purrr,214,"`map3(x, y, z)` -\> `map_n(list(x, y, z))`; `walk3(x, y, z) ->`pwalk(list(x, y, z))\`"
readr,1,No user-facing changes. Patch release with internal changes requested by CRAN.
readr,2,"Help files below `man/` have been re-generated, so that they give rise to valid HTML5. (This is the impetus for this release, to keep the package safely on CRAN.)"
readr,3,"`mini-gapminder-africa.csv` and friends are new example datasets accessible via `readr_example()`, which have been added to illustrate reading multiple files at once, into a single data frame."
readr,4,"`read_table()`, `read_log()`, and `read_delim_chunked()` (and friends) gain the `show_col_types` argument found elsewhere. All `read_*()` functions now respect the `show_col_types` argument or option, even when using the first edition parsing engine (#1331)."
readr,5,`show_progress()` uses `rlang::is_interactive()` instead of `base::interactive()` (#1356).
readr,6,"`read_builtin()` does more argument checking, so that we catch obviously malformed input before passing along to `utils::data()` (#1361)."
readr,7,`chickens.csv` and `whitespace-sample.txt` are new example datasets accessible via `readr_example()` (#1354).
readr,8,Jenny Bryan is now the maintainer.
readr,9,Fix buffer overflow when trying to parse an integer from a field that is over 64 characters long (#1326)
readr,10,"All readr functions again read eagerly by default. Unfortunately many users experienced frustration from the drawbacks of lazy reading, in particular locking files on Windows, so it was decided to disable lazy reading default. However `options(readr.read_lazy = TRUE)` can be used to set the default to by lazy if desired."
readr,11,New `readr.read_lazy` global option to control if readr reads files lazily or not (#1266)
readr,12,"minor test tweak for compatibility with testthat 3.1.0 (#@​lionel-, #1304)"
readr,13,"`write_rds()` gains a `text=` argument, to control using a text based object representation, like the `ascii=` argument in `saveRDS()` (#1270)"
readr,14,`options(readr.show_col_types = FALSE)` now works as intended (#1250)
readr,15,`read_delim_chunked()` now again correctly respects the `chunk_size` parameter (#1248)
readr,16,"`type_convert()` gains a `guess_integer` argument, passed to `guess_parser()` (@​jmbarbone, #1264)"
readr,17,"`read_tsv()` now correctly passes the `quote` and `na` arguments to `vroom::vroom()` (#1254, #1255)"
readr,18,Avoid spurious byte compilation errors due to the programmatically generated `spec_*()` functions.
readr,19,"`with_edition(1, read_csv(""my_file.csv""))` will read `my_file.csv` with the first edition of readr."
readr,20,`readr::local_edition(1)` placed at the top of your function or script will use the first edition for the rest of the function or script.
readr,21,"`melt_csv()`, `melt_delim()`, `melt_tsv()` and `melt_fwf()` have been superseded by functions in the same name in the meltr package. The versions in readr have been deprecated. These functions rely on the first edition parsing code and would be challenging to update to the new parser. When the first edition parsing code is eventually removed from readr they will be removed."
readr,22,"`read_table2()` has been renamed to `read_table()`, as most users expect `read_table()` to work like `utils::read.table()`. If you want the previous strict behavior of the `read_table()` you can use `read_fwf()` with `fwf_empty()` directly (#717)."
readr,23,"Normalizing newlines in files with just carriage returns `\r` is no longer supported. The last major OS to use only CR as the newline was 'classic' Mac OS, which had its final release in 2001."
readr,24,`read_*_chunked()` functions now include their specification as an attribute (#1143)
readr,25,All `read_*()` functions gain a `col_select` argument to more easily choose which columns to select.
readr,26,All `read_*()` functions gain a `id` argument to optionally store the file paths when reading multiple files.
readr,27,All `read_*()` functions gain a `name_repair` argument to control how column names are repaired.
readr,28,All `read_*()` and `write_*()` functions gain a `num_threads` argument to control the number of processing threads they use (#1201)
readr,29,"All `write_*()` and `format_*()` functions gain `quote` and `escape` arguments, to explicitly control how fields are quoted and how double quotes are escaped. (#653, #759, #844, #993, #1018, #1083)"
readr,30,All `write_*()` functions gain a `progress` argument and display a progress bar when writing (#791).
readr,31,"write_excel_csv() now defaults to `quote = ""all""` (#759)"
readr,32,"write_tsv() now defaults to `quote = ""none""` (#993)"
readr,33,`read_table()` now handles skipped lines with unpaired quotes properly (#1180)
readr,34,"The BH package is no longer a dependency. The boost C++ headers in BH have thousands of files, so can take a long time to extract and compiling them takes a great deal of memory, which made readr difficult to compile on systems with limited memory (#1147)."
readr,35,"readr now uses the tzdb package when parsing date-times (@​DavisVaughan, r-lib/vroom#273)"
readr,36,Chunked readers now support files with more than `INT_MAX` (\~ 2 Billion) number of lines (#1177)
readr,37,Memory no longer inadvertently leaks when reading memory from R connections (#1161)
readr,38,Invalid date formats no longer can potentially crash R (#1151)
readr,39,`col_factor()` now throws a more informative error message if given non-character levels (#1140)
readr,40,`problems()` now takes `.Last.value` as its default argument. This lets you run `problems()` without an argument to see the problems in the previously read dataset.
readr,41,"`read_delim()` fails when sample of parsing problems contains non-ASCII characters (@​hidekoji, #1136)"
readr,42,`read_log()` gains a `trim_ws` argument (#738)
readr,43,"`read_rds()` and `write_rds()` gain a `refhook` argument, to pass functions that handle references objects (#1206)"
readr,44,`read_rds()` can now read .Rds files from URLs (#1186)
readr,45,"`read_*()` functions gain a `show_col_types` argument, if set to `FALSE` this turns off showing the column types unconditionally."
readr,46,`type_convert()` now throws a warning if the input has no character columns (#1020)
readr,47,`write_csv()` now errors if given a matrix column (#1171)
readr,48,`write_csv()` now again is able to write data with duplicated column names (#1169)
readr,49,`write_file()` now forces its argument before opening the output file (#1158)
readr,50,"`write_*()` functions first argument is now `file` instead of `path`, for consistency with the `read_*()` functions. `path` has been deprecated and will be removed in a future version of readr (#1110, @​brianrice2)"
readr,51,"`write_*()` functions now output any NaN values in the same way as NA values, controlled by the `na=` argument. (#1082)."
readr,52,It is now possible to generate a column specification from any tibble (or data.frame) with `as.col_spec()` and convert any column specification to a short representation with `as.character()`
=======
```"
purrr,142,"This change is motivated by the ambiguity of `NULL` as a deletion sentinel because `NULL` is also a valid value in lists. In the future, `NULL` will set an element to `NULL` rather than removing the element."
purrr,143,"`rerun()` is now in the questioning stage because we are no longer convinced NSE functions are a good fit for purrr. Also, `rerun(n, x)` can just as easily be expressed as `map(1:n, ~ x)` (with the added benefit of being passed the current index as argument to the lambda)."
purrr,144,`map_call()` is defunct.
purrr,145,This is a maintenance release following the release of dplyr 0.7.5.
purrr,146,Fixes for R 3.1.
purrr,147,"If `reduce()` fails with this message: `` Error: `.x` is empty, and no `.init` supplied ``, this is because `reduce()` now returns `.init` when `.x` is empty. Fix the problem by supplying an appropriate argument to `.init`, or by providing special behaviour when `.x` has length 0."
purrr,148,"The type predicates have been migrated to rlang. Consequently the `bare-type-predicates` documentation topic is no longer in purrr, which might cause a warning if you cross-reference it."
purrr,149,"`order_by()`, `sort_by()` and `split_by()` have been removed. `order_by()` conflicted with `dplyr::order_by()` and the complete family doesn't feel that useful. Use tibbles instead (#217)."
purrr,150,`contains()` has been renamed to `has_element()` to avoid conflicts with dplyr (#217).
purrr,151,"`as_function()` is now `as_mapper()` because it is a tranformation that makes sense primarily for mapping functions, not in general (#298). `.null` has been renamed to `.default` to better reflect its intent (#298). `.default` is returned whenever an element is absent or empty (#231, #254). `as_mapper()` sanitises primitive functions by transforming them to closures with standardised argument names (using `rlang::as_closure()`). For instance `+` is transformed to `function(.x, .y) .x + .y`. This results in proper argument matching so that `map(1:10, partial(`-`, .x = 5))` produces `list(5 - 1, 5 - 2, ...)`."
purrr,152,"Recursive indexing can now extract objects out of environments (#213) and S4 objects (#200), as well as lists."
purrr,153,"`attr_getter()` makes it possible to extract from attributes like `map(list(iris, mtcars), attr_getter(""row.names""))`."
purrr,154,"The argument list for formula-functions has been tweaked so that you can refer to arguments by position with `..1`, `..2`, and so on. This makes it possible to use the formula shorthand for functions with more than two arguments (#289)."
purrr,155,"`possibly()`, `safely()` and friends no longer capture interrupts: this means that you can now terminate a mapper using one of these with Escape or Ctrl + C (#314)"
purrr,156,"All map functions now treat `NULL` the same way as an empty vector (#199), and return an empty vector if any input is an empty vector."
purrr,157,All `map()` functions now force their arguments in the same way that base R does for `lapply()` (#191). This makes `map()` etc easier to use when generating functions.
purrr,158,"A new family of ""indexed"" map functions, `imap()`, `imap_lgl()` etc, provide a short-hand for `map2(x, names(x))` or `map2(x, seq_along(x))` (#240)."
purrr,159,The data frame suffix `_df` has been (soft) deprecated in favour of `_dfr` to more clearly indicate that it's a row-bind. All variants now also have a `_dfc` for column binding (#167). (These will not be terribly useful until `dplyr::bind_rows()`/`dplyr::bind_cols()` have better semantics for vectors.)
purrr,160,`at_depth()` has been renamed to `modify_depth()`.
purrr,161,"`modify_depth()` gains new `.ragged` argument, and negative depths are now computed relative to the deepest component of the list (#236)."
purrr,162,`auto_browse(f)` returns a new function that automatically calls `browser()` if `f` throws an error (#281).
purrr,163,`vec_depth()` computes the depth (i.e. the number of levels of indexing) or a vector (#243).
purrr,164,"`reduce2()` and `reduce2_right()` make it possible to reduce with a 3 argument function where the first argument is the accumulated value, the second argument is `.x`, and the third argument is `.y` (#163)."
purrr,165,`list_modify()` extends `stats::modifyList()` to replace by position if the list is not named.(#201). `list_merge()` operates similarly to `list_modify()` but combines instead of replacing (#322).
purrr,166,The legacy function `update_list()` is basically a version of `list_modify` that evaluates formulas within the list. It is likely to be deprecated in the future in favour of a tidyeval interface such as a list method for `dplyr::mutate()`.
purrr,167,"Thanks to @​dchiu911, the unit test coverage of purrr is now much greater."
purrr,168,All predicate functions are re-exported from rlang (#124).
purrr,169,`compact()` now works with standard mapper conventions (#282).
purrr,170,"`cross_n()` has been renamed to `cross()`. The `_n` suffix was removed for consistency with `pmap()` (originally called `map_n()` at the start of the project) and `transpose()` (originally called `zip_n()`). Similarly, `cross_d()` has been renamed to `cross_df()` for consistency with `map_df()`."
purrr,171,`every()` and `some()` now return `NA` if present in the input (#174).
purrr,172,`invoke()` uses a more robust approach to generate the argument list (#249) It no longer uses lazyeval to figure out which enviroment a character `f` comes from.
purrr,173,`is_numeric()` and `is_scalar_numeric()` are deprecated because they don't test for what you might expect at first sight.
purrr,174,`reduce()` now throws an error if `.x` is empty and `.init` is not supplied.
purrr,175,"Deprecated functions `flatmap()`, `map3()`, `map_n()`, `walk3()`, `walk_n()`, `zip2()`, `zip3()`, `zip_n()` have been removed."
purrr,176,`pmap()` coerces data frames to lists to avoid the expensive `[.data.frame` which provides security that is unneeded here (#220).
purrr,177,`rdunif()` checks its inputs for validity (#211).
purrr,178,"`set_names()` can now take a function to tranform the names programmatically (#276), and you can supply names in `...` to reduce typing even more more (#316). `set_names()` is now powered by `rlang::set_names()`."
purrr,179,`safely()` now actually uses the `quiet` argument (#296).
purrr,180,`transpose()` now matches by name if available (#164). You can override the default choice with the new `.names` argument.
purrr,181,The function argument of `detect()` and `detect_index()` have been renamed from `.p` to `.f`. This is because they have mapper semantics rather than predicate semantics.
purrr,182,"All data-frame based mappers have been removed in favour of new functions and idioms in the tidyverse. `dmap()`, `dmap_at()`, `dmap_if()`, `invoke_rows()`, `slice_rows()`, `map_rows()`, `by_slice()`, `by_row()`, and `unslice()` have been moved to purrrlyr. This is a bit of an aggresive change but it allows us to make the dependencies much lighter."
purrr,183,Fix for dev tibble support.
purrr,184,`as_function()` now supports list arguments which allow recursive indexing using either names or positions. They now always stop when encountering the first NULL (#173).
purrr,185,`accumulate` and `reduce` correctly pass extra arguments to the worker function.
purrr,186,"`as_function()` gains a `.null` argument that for character and numeric values allows you to specify what to return for null/absent elements (#110). This can be used with any map function, e.g. `map_int(x, 1, .null = NA)`"
purrr,187,`as_function()` is now generic.
purrr,188,New `is_function()` that returns `TRUE` only for regular functions.
purrr,189,Fix crash on GCC triggered by `invoke_rows()`.
purrr,190,There are two handy infix functions:
purrr,191,`x %||% y` is shorthand for `if (is.null(x)) y else x` (#109).
purrr,192,"`x %@​% ""a""` is shorthand for `attr(x, ""a"", exact = TRUE)` (#69)."
purrr,193,"`accumulate()` has been added to handle recursive folding. It is shortand for `Reduce(f, .x, accumulate = TRUE)` and follows a similar syntax to `reduce()` (#145). A right-hand version `accumulate_right()` was also added."
purrr,194,`map_df()` row-binds output together. It's the equivalent of `plyr::ldply()` (#127)
purrr,195,"`flatten()` is now type-stable and always returns a list. To return a simpler vector, use `flatten_lgl()`, `flatten_int()`, `flatten_dbl()`, `flatten_chr()`, or `flatten_df()`."
purrr,196,"`invoke()` has been overhauled to be more useful: it now works similarly to `map_call()` when `.x` is NULL, and hence `map_call()` has been deprecated. `invoke_map()` is a vectorised complement to `invoke()` (#125), and comes with typed variants `invoke_map_lgl()`, `invoke_map_int()`, `invoke_map_dbl()`, `invoke_map_chr()`, and `invoke_map_df()`."
purrr,197,"`transpose()` replaces `zip2()`, `zip3()`, and `zip_n()` (#128). The name more clearly reflects the intent (transposing the first and second levels of list). It no longer has fields argument or the `.simplify` argument; instead use the new `simplify_all()` function."
purrr,198,"`safely()`, `quietly()`, and `possibly()` are experimental functions for working with functions with side-effects (e.g. printed output, messages, warnings, and errors) (#120). `safely()` is a version of `try()` that modifies a function (rather than an expression), and always returns a list with two components, `result` and `error`."
purrr,199,`list_along()` and `rep_along()` generalise the idea of `seq_along()`. (#122).
purrr,200,`is_null()` is the snake-case version of `is.null()`.
purrr,201,"`pmap()` (parallel map) replaces `map_n()` (#132), and has typed-variants suffixed `pmap_lgl()`, `pmap_int()`, `pmap_dbl()`, `pmap_chr()`, and `pmap_df()`."
purrr,202,"`set_names()` is a snake-case alternative to `setNames()` with stricter equality checking, and more convenient defaults for pipes: `x %>% set_names()` is equivalent to `setNames(x, x)` (#119)."
purrr,203,"`map()` now always returns a list. Data frame support has been moved to `map_df()` and `dmap()`. The latter supports sliced data frames as a shortcut for the combination of `by_slice()` and `dmap()`: `x %>% by_slice(dmap, fun, .collate = ""rows"")`. The conditional variants `dmap_at()` and `dmap_if()` also support sliced data frames and will recycle scalar results to the slice size."
purrr,204,"`map_rows()` has been renamed to `invoke_rows()`. As other rows-based functionals, it collates results inside lists by default, but with column collation this function is equivalent to `plyr::mdply()`."
purrr,205,"The rows-based functionals gain a `.to` option to name the output column as well as a `.collate` argument. The latter allows to collate the output in lists (by default), on columns or on rows. This makes these functions more flexible and more predictable."
purrr,206,"`as_function()`, which converts formulas etc to functions, is now exported (#123)."
purrr,207,`rerun()` is correctly scoped (#95)
purrr,208,`update_list()` can now modify an element called `x` (#98).
purrr,209,"`map*()` now use custom C code, rather than relying on `lapply()`, `mapply()` etc. The performance characteristcs are very similar, but it allows us greater control over the output (#118)."
purrr,210,"`map_lgl()` now has second argument `.f`, not `.p` (#134)."
purrr,211,`flatmap()` -\> use `map()` followed by the appropriate `flatten()`.
purrr,212,`map_call()` -\> `invoke()`.
purrr,213,`map_n()` -\> `pmap()`; `walk_n()` -\> `pwalk()`.
purrr,214,"`map3(x, y, z)` -\> `map_n(list(x, y, z))`; `walk3(x, y, z) ->`pwalk(list(x, y, z))\`"
readr,1,No user-facing changes. Patch release with internal changes requested by CRAN.
readr,2,"Help files below `man/` have been re-generated, so that they give rise to valid HTML5. (This is the impetus for this release, to keep the package safely on CRAN.)"
readr,3,"`mini-gapminder-africa.csv` and friends are new example datasets accessible via `readr_example()`, which have been added to illustrate reading multiple files at once, into a single data frame."
readr,4,"`read_table()`, `read_log()`, and `read_delim_chunked()` (and friends) gain the `show_col_types` argument found elsewhere. All `read_*()` functions now respect the `show_col_types` argument or option, even when using the first edition parsing engine (#1331)."
readr,5,`show_progress()` uses `rlang::is_interactive()` instead of `base::interactive()` (#1356).
readr,6,"`read_builtin()` does more argument checking, so that we catch obviously malformed input before passing along to `utils::data()` (#1361)."
readr,7,`chickens.csv` and `whitespace-sample.txt` are new example datasets accessible via `readr_example()` (#1354).
readr,8,Jenny Bryan is now the maintainer.
readr,9,Fix buffer overflow when trying to parse an integer from a field that is over 64 characters long (#1326)
readr,10,"All readr functions again read eagerly by default. Unfortunately many users experienced frustration from the drawbacks of lazy reading, in particular locking files on Windows, so it was decided to disable lazy reading default. However `options(readr.read_lazy = TRUE)` can be used to set the default to by lazy if desired."
readr,11,New `readr.read_lazy` global option to control if readr reads files lazily or not (#1266)
readr,12,"minor test tweak for compatibility with testthat 3.1.0 (#@​lionel-, #1304)"
readr,13,"`write_rds()` gains a `text=` argument, to control using a text based object representation, like the `ascii=` argument in `saveRDS()` (#1270)"
readr,14,`options(readr.show_col_types = FALSE)` now works as intended (#1250)
readr,15,`read_delim_chunked()` now again correctly respects the `chunk_size` parameter (#1248)
readr,16,"`type_convert()` gains a `guess_integer` argument, passed to `guess_parser()` (@​jmbarbone, #1264)"
readr,17,"`read_tsv()` now correctly passes the `quote` and `na` arguments to `vroom::vroom()` (#1254, #1255)"
readr,18,Avoid spurious byte compilation errors due to the programmatically generated `spec_*()` functions.
readr,19,"`with_edition(1, read_csv(""my_file.csv""))` will read `my_file.csv` with the first edition of readr."
readr,20,`readr::local_edition(1)` placed at the top of your function or script will use the first edition for the rest of the function or script.
readr,21,"`melt_csv()`, `melt_delim()`, `melt_tsv()` and `melt_fwf()` have been superseded by functions in the same name in the meltr package. The versions in readr have been deprecated. These functions rely on the first edition parsing code and would be challenging to update to the new parser. When the first edition parsing code is eventually removed from readr they will be removed."
readr,22,"`read_table2()` has been renamed to `read_table()`, as most users expect `read_table()` to work like `utils::read.table()`. If you want the previous strict behavior of the `read_table()` you can use `read_fwf()` with `fwf_empty()` directly (#717)."
readr,23,"Normalizing newlines in files with just carriage returns `\r` is no longer supported. The last major OS to use only CR as the newline was 'classic' Mac OS, which had its final release in 2001."
readr,24,`read_*_chunked()` functions now include their specification as an attribute (#1143)
readr,25,All `read_*()` functions gain a `col_select` argument to more easily choose which columns to select.
readr,26,All `read_*()` functions gain a `id` argument to optionally store the file paths when reading multiple files.
readr,27,All `read_*()` functions gain a `name_repair` argument to control how column names are repaired.
readr,28,All `read_*()` and `write_*()` functions gain a `num_threads` argument to control the number of processing threads they use (#1201)
readr,29,"All `write_*()` and `format_*()` functions gain `quote` and `escape` arguments, to explicitly control how fields are quoted and how double quotes are escaped. (#653, #759, #844, #993, #1018, #1083)"
readr,30,All `write_*()` functions gain a `progress` argument and display a progress bar when writing (#791).
readr,31,"write_excel_csv() now defaults to `quote = ""all""` (#759)"
readr,32,"write_tsv() now defaults to `quote = ""none""` (#993)"
readr,33,`read_table()` now handles skipped lines with unpaired quotes properly (#1180)
readr,34,"The BH package is no longer a dependency. The boost C++ headers in BH have thousands of files, so can take a long time to extract and compiling them takes a great deal of memory, which made readr difficult to compile on systems with limited memory (#1147)."
readr,35,"readr now uses the tzdb package when parsing date-times (@​DavisVaughan, r-lib/vroom#273)"
readr,36,Chunked readers now support files with more than `INT_MAX` (\~ 2 Billion) number of lines (#1177)
readr,37,Memory no longer inadvertently leaks when reading memory from R connections (#1161)
readr,38,Invalid date formats no longer can potentially crash R (#1151)
readr,39,`col_factor()` now throws a more informative error message if given non-character levels (#1140)
readr,40,`problems()` now takes `.Last.value` as its default argument. This lets you run `problems()` without an argument to see the problems in the previously read dataset.
readr,41,"`read_delim()` fails when sample of parsing problems contains non-ASCII characters (@​hidekoji, #1136)"
readr,42,`read_log()` gains a `trim_ws` argument (#738)
readr,43,"`read_rds()` and `write_rds()` gain a `refhook` argument, to pass functions that handle references objects (#1206)"
readr,44,`read_rds()` can now read .Rds files from URLs (#1186)
readr,45,"`read_*()` functions gain a `show_col_types` argument, if set to `FALSE` this turns off showing the column types unconditionally."
readr,46,`type_convert()` now throws a warning if the input has no character columns (#1020)
readr,47,`write_csv()` now errors if given a matrix column (#1171)
readr,48,`write_csv()` now again is able to write data with duplicated column names (#1169)
readr,49,`write_file()` now forces its argument before opening the output file (#1158)
readr,50,"`write_*()` functions first argument is now `file` instead of `path`, for consistency with the `read_*()` functions. `path` has been deprecated and will be removed in a future version of readr (#1110, @​brianrice2)"
readr,51,"`write_*()` functions now output any NaN values in the same way as NA values, controlled by the `na=` argument. (#1082)."
readr,52,It is now possible to generate a column specification from any tibble (or data.frame) with `as.col_spec()` and convert any column specification to a short representation with `as.character()`
>>>>>>> 1b8eb09 (fix bugs and update tests)
readr,52,"```
>>>>>>> 9592342 (make remove_old_bullets() more intelligent)
s <- as.col_spec(iris)
s
#> cols(
#>   Sepal.Length = col_double(),
#>   Sepal.Width = col_double(),
#>   Petal.Length = col_double(),
#>   Petal.Width = col_double(),
#>   Species = col_factor(levels = c(""setosa"", ""versicolor"", ""virginica""), ordered = FALSE, include_na = FALSE)
#> )
as.character(s)
#> [1] ""ddddf""
```"
readr,53,The cli package is now used for all messages.
readr,54,The runtime performance for tables with an extreme number of columns is greatly improved (#825)
readr,55,Compressed files are now detected by magic numbers rather than by the file extension (#1125)
readr,56,A memory leak when reading files is now fixed (#1092)
readr,57,`write_*()` functions gain a `eol =` argument to control the end of line character used (#857). This allows writing of CSV files with Windows newlines (CRLF) if desired.
readr,58,The Rcpp dependency has been removed in favor of cpp11.
readr,59,The build system has been greatly simplified so should work on more systems.
readr,60,"The full problem field is now displayed in the problems tibble, as intended (#444)."
readr,61,"New `%h` placeholder for parsing unrestricted hours (\<0 and \>23) to support parsing durations (#549, @​krlmlr)."
readr,62,`as.character.col_spec()` now handles logical columns as well (#1127)
readr,63,`fwf_positions(end)` no longer has a default argument and must be specified (#996)
readr,64,`guess_parser()` gains a `na` argument and removes NA values before guessing (#1041).
readr,65,`parse_guess()` now passes the `na` argument to `guess_parser()`
readr,66,"`read_*` functions now close properly all connections, including on errors like HTTP errors when reading from a url (@​cderv, #1050)."
readr,67,`read_delimited()` no longer mistakenly stats literal filenames (#1063)
readr,68,`read_lines()` now ignores quotations when skipping lines (#991).
readr,69,`read_lines(skip_empty_rows = TRUE)` no longer crashes if a file ends with an empty line (#968)
readr,70,"`write_*()` functions now invisibly return the input data frame unchanged, rather than a version with factors and dates converted to strings. (@​jesse-ross, #975)."
readr,71,`write_csv2()` now formats decimal numbers more consistently with `utils::write.csv2()` (#1087)
readr,72,"`write_csv2()` and `format_csv2()` no longer pad number columns with whitespaces (@​keesdeschepper, #1046)."
readr,73,`write_excel_csv()` no longer outputs a byte order mark when appending to a file (#1075).
readr,74,"Uses of `tibble::data_frame` updated to `tibble::tibble` ([tidyverse/dplyr#4069](https://github.com/tidyverse/dplyr/issues/4069), @​thays42, #1124, @​brianrice2)"
readr,75,"`read_delimited()` now returns an empty `tibble::data_frame()` rather than signaling an error when given a connection with an empty file (@​pralitp, #963)."
readr,76,"More helpful error when trying to write out data frames with list columns (@​ellessenne, #938)"
readr,77,"`type_convert()` removes a 'spec' attribute, because the current columns likely have modified data types. The 'spec' attribute is set by functions like `read_delim()` (@​jimhester, @​wibeasley, #1032)."
readr,78,"`write_rds()` now can specify the Rds version to use. The default value is 2 as it's compatible to R versions prior to 3.5.0 (@​shrektan, #1001)."
readr,79,"Fixes for issues related to variable initialization in C++ code (@​michaelquinn32, ##1133)."
readr,80,Column specifications are now coloured when printed. This makes it easy to see at a glance when a column is input as a different type then the rest. Colouring can be disabled by setting `options(crayon.enabled = FALSE)`.
readr,81,"`as.col_spec()` can now use named character vectors, which makes `read_csv(""file.csv"", col_types = c(xyz = ""c""))` equivalent to `read_csv(""file.csv"", col_types = cols(xyz = col_character())`"
readr,82,"Fix skipping when single quotes are embedded in double quoted strings, and single quotes in skipped or commented lines (#944, #945)."
readr,83,Fix for compilation using custom architectures on macOS (#919)
readr,84,Fix for valgrind errors (#941)
readr,85,`hms` objects with NA values are now written without whitespace padding (#930).
readr,86,"`read_*()` functions now return `spec_tbl_df` objects, which differ from regular `tbl_df` objects only in that the `spec` attribute is removed (and they are demoted to regular `tbl_df` objects) as soon as they are subset (#934)."
readr,87,`write_csv2()` now properly respects the `na` argument (#928)
readr,88,Fixes compilation with multiple architectures on linux (#922).
readr,89,Fixes compilation with R \< 3.3.0
readr,90,"`melt_*()` functions added for reading ragged data (#760, @​nacnudus)."
readr,91,"`AccumulateCallback` R6 class added to provide an example of accumulating values in a single result (#689, @​blakeboswell)."
readr,92,"`read_fwf()` can now accept overlapping field specifications (#692, @​gergness)"
readr,93,"`type_convert()` now allows character column specifications and also silently skips non-character columns (#369, #699)"
readr,94,"The `parse_*()` functions and `read_fwf()` gain a `trim_ws` argument to control whether the fields should be trimmed before parsing (#636, #735)."
readr,95,"`parse_number()` now parses numbers in scientific notation using `e` and `E` (#684, @​sambrady3)."
readr,96,"Add `write_excel_csv2()` function to allow writing csv files with comma as a decimal separator and semicolon as a column separator (#753, @​olgamie)."
readr,97,`read_*()` files now support reading from the clipboard by using `clipboard()` (#656).
readr,98,"`write_file()` gains a `sep` argument, to specify the line separator (#665)."
readr,99,"Allow files to be read via FTP over SSH by recognising `sftp` as a URL protocol (#707, @​jdeboer)."
readr,100,"`parse_date*() accepts`%a\` for local day of week (#763, @​tigertoes)."
readr,101,"Added function `read_lines_raw_chunked()` (#710, @​gergness)"
readr,102,"`write_csv2()` added to complement `write_excel_csv2()` and allow writing csv file readable by `read_csv2()` (#870, @​cderv)."
readr,103,`as.col_spec()` is now exported (#517).
readr,104,`write*()` functions gain a `quote_escape` argument to control how quotes are escaped in the output (#854).
readr,105,`read*()` functions now have a more informative error when trying to read a remote bz2 file (#891).
readr,106,"`spec_table2()` function added to correspond to `read_table2()` (#778, @​mawds)."
readr,107,"`parse_factor()` now has `levels = NULL` by default (#862, @​mikmart)."
readr,108,"`""f""` can now be used as a shortcode for `col_factor()` in `cols()` and the `col_types` argument to `read_delim()` and friends (#810, @​mikmart)."
readr,109,"Functions now read connections to a temporary file rather than to an in-memory object (#610, #76)."
readr,110,`standardise_path()` now uses a case-insensitive comparison for the file extensions (#794).
readr,111,`parse_guess()` now guesses logical types when given (lowercase) 'true' and 'false' inputs (#818).
readr,112,`read_*()` now do not print a progress bar when running inside a RStudio notebook chunk (#793)
readr,113,`read_table2()` now skips comments anywhere in the file (#908).
readr,114,"`parse_factor()` now handles the case of empty strings separately, so you can have a factor level that is an empty string (#864)."
readr,115,`read_delim()` now correctly reads quoted headers with embedded newlines (#784).
readr,116,`fwf_positions()` now always returns `col_names` as a character (#797).
readr,117,`format_*()` now explicitly marks it's output encoding as UTF-8 (#697).
readr,118,`read_delim()` now ignores whitespace between the delimiter and quoted fields (#668).
readr,119,`read_table2()` now properly ignores blank lines at the end of a file like `read_table()` and `read_delim()` (#657).
readr,120,"`read_delim()`, `read_table()` and `read_table()` now skip blank lines at the start of a file (#680, #747)."
readr,121,`guess_parser()` now guesses a logical type for columns which are all missing. This is useful when binding multiple files together where some files have missing columns. (#662).
readr,122,"Column guessing will now never guess an integer type. This avoids issues where double columns are incorrectly guessed as integers if they have only integer values in the first 1000 (#645, #652)."
readr,123,"`read_*()` now converts string `file`s to UTF-8 before parsing, which is convenient for non-UTF-8 platforms in most cases (#730, @​yutannihilation)."
readr,124,"`write_csv()` writes integers up to 10\^15 without scientific notation (#765, @​zeehio)"
readr,125,"`read_*()` no longer throws a ""length of NULL cannot be changed"" warning when trying to resize a skipped column (#750, #833)."
readr,126,"`read_*()` now handles non-ASCII paths properly with R \>=3.5.0 on Windows (#838, @​yutannihilation)."
readr,127,`read*()`'s `trim_ws` parameter now trims both spaces and tabs (#767)
readr,128,Point release for test compatibility with tibble v1.3.1.
readr,129,"Fixed undefined behavior in localtime.c when using `locale(tz = """")` after loading a timezone due to incomplete reinitialization of the global locale."
readr,130,"`parse_factor()` gains a `include_na` argument, to include `NA` in the factor levels (#541)."
readr,131,"`parse_factor()` will now can accept `levels = NULL`, which allows one to generate factor levels based on the data (like stringsAsFactors = TRUE) (#497)."
readr,132,`parse_numeric()` now returns the full string if it contains no numbers (#548).
readr,133,`parse_time()` now correctly handles 12 AM/PM (#579).
readr,134,`problems()` now returns the file path in additional to the location of the error in the file (#581).
readr,135,"`read_csv2()` gives a message if it updates the default locale (#443, @​krlmlr)."
readr,136,`read_delim()` now signals an error if given an empty delimiter (#557).
readr,137,`write_*()` functions witting whole number doubles are no longer written with a trailing `.0` (#526).
readr,138,"`fwf_cols()` allows for specifying the `col_positions` argument of `read_fwf()` with named arguments of either column positions or widths (#616, @​jrnold)."
readr,139,"`fwf_empty()` gains an `n` argument to control how many lines are read for whitespace to determine column structure (#518, @​Yeedle)."
readr,140,"`read_fwf()` gives error message if specifications have overlapping columns (#534, @​gergness)"
readr,141,`read_table()` can now handle `pipe()` connections (#552).
readr,142,`read_table()` can now handle files with many lines of leading comments (#563).
readr,143,"`read_table2()` which allows any number of whitespace characters as delimiters, a more exact replacement for `utils::read.table()` (#608)."
readr,144,"`write_*()` functions now support writing to binary connections. In addition output filenames with `.gz`, `.bz2` or `.xz` will automatically open the appropriate connection and to write the compressed file. (#348)"
readr,145,`write_lines()` now accepts a list of raw vectors (#542).
readr,146,"`col_euro_double()`, `parse_euro_double()`, `col_numeric()`, and `parse_numeric()` have been removed."
readr,147,"`guess_encoding()` returns a tibble, and works better with lists of raw vectors (as returned by `read_lines_raw()`)."
readr,148,"`ListCallback` R6 Class to provide a more flexible return type for callback functions (#568, @​mmuurr)"
readr,149,`tibble::as.tibble()` now used to construct tibbles (#538).
readr,150,"`read_csv`, `read_csv2`, and `read_tsv` gain a `quote` argument, (#631, @​noamross)"
readr,151,`parse_factor()` now converts data to UTF-8 based on the supplied locale (#615).
readr,152,`read_*()` functions with the `guess_max` argument now throw errors on inappropriate inputs (#588).
readr,153,`read_*_chunked()` functions now properly end the stream if `FALSE` is returned from the callback.
readr,154,"`read_delim()` and `read_fwf()` when columns are skipped using `col_types` now report the correct column name (#573, @​cb4ds)."
readr,155,`spec()` declarations that are long now print properly (#597).
readr,156,"`read_table()` does not print `spec` when `col_types` is not `NULL` (#630, @​jrnold)."
readr,157,`guess_encoding()` now returns a tibble for all ASCII input as well (#641).
readr,158,New example `extdata/challenge.csv` which is carefully created to cause problems with the default column type guessing heuristics.
readr,159,"Blank lines and lines with only comments are now skipped automatically without warning (#381, #321)."
readr,160,"Single '-' or '.' are now parsed as characters, not numbers (#297)."
readr,161,"Numbers followed by a single trailing character are parsed as character, not numbers (#316)."
readr,162,We now guess at times using the `time_format` specified in the `locale()`.
readr,163,"If `col_types` is too long, it is subsetted correctly (#372, @​jennybc)."
readr,164,"If `col_names` is too short, the added names are numbered correctly (#374, @​jennybc)."
readr,165,"Missing column name names are now given a default name (`X2`, `X7` etc) (#318). Duplicated column names are now deduplicated. Both changes generate a warning; to suppress it supply an explicit `col_names` (setting `skip = 1` if there's an existing ill-formed header)."
readr,166,`col_types()` accepts a named list as input (#401).
readr,167,`%I` for 12 hour time format (#340).
readr,168,"`%AD` and `%AT` are ""automatic"" date and time parsers. They are both slightly less flexible than previous defaults. The automatic date parser requires a four digit year, and only accepts `-` and `/` as separators (#442). The flexible time parser now requires colons between hours and minutes and optional seconds (#424)."
readr,169,`parse_time()` returns `hms` objects rather than a custom `time` class (#409). It now correctly parses missing values (#398).
readr,170,`parse_date()` returns a numeric vector (instead of an integer vector) (#357).
readr,171,"`parse_date()`, `parse_time()` and `parse_datetime()` gain an `na` argument to match all other parsers (#413)."
readr,172,"If the format argument is omitted `parse_date()` or `parse_time()`, date and time formats specified in the locale will be used. These now default to `%AD` and `%AT` respectively."
readr,173,"You can now parse partial dates with `parse_date()` and `parse_datetime()`, e.g. `parse_date(""2001"", ""%Y"")` returns `2001-01-01`."
readr,174,`read_file_raw()` reads a complete file into a single raw vector (#451).
readr,175,`read_*()` functions gain a `quoted_na` argument to control whether missing values within quotes are treated as missing values or as strings (#295).
readr,176,"`write_excel_csv()` can be used to write a csv file with a UTF-8 BOM at the start, which forces Excel to read it as UTF-8 encoded (#375)."
readr,177,`write_lines()` writes a character vector to a file (#302).
readr,178,`write_file()` to write a single character or raw vector to a file (#474).
readr,179,Experimental support for chunked reading a writing (`read_*_chunked()`) functions. The API is unstable and subject to change in the future (#427).
readr,180,"Printing double values now uses an [implementation](https://github.com/juj/MathGeoLib/blob/master/src/Math/grisu3.c) of the [grisu3 algorithm](http://www.cs.tufts.edu/~nr/cs257/archive/florian-loitsch/printf.pdf) which speeds up writing of large numeric data frames by \~10X. (#432) '.0' is appended to whole number doubles, to ensure they will be read as doubles as well. (#483)"
readr,181,"readr imports tibble so that you get consistent `tbl_df` behaviour (#317, #385)."
readr,182,New example `extdata/challenge.csv` which is carefully created to cause problems with the default column type guessing heuristics.
readr,183,`default_locale()` now sets the default locale in `readr.default_locale` rather than regenerating it for each call. (#416).
readr,184,`locale()` now automatically sets decimal mark if you set the grouping mark. It throws an error if you accidentally set decimal and grouping marks to the same character (#450).
readr,185,"All `read_*()` can read into long vectors, substantially increasing the number of rows you can read (#309)."
readr,186,"All `read_*()` functions return empty objects rather than signaling an error when run on an empty file (#356, #441)."
readr,187,"`read_delim()` gains a `trim_ws` argument (#312, noamross)"
readr,188,`read_fwf()` received a number of improvements:
readr,189,"`read_fwf()` now can now reliably read only a partial set of columns (#322, #353, #469)"
readr,190,"`fwf_widths()` accepts negative column widths for compatibility with the `widths` argument in `read.fwf()` (#380, @​leeper)."
readr,191,"You can now read fixed width files with ragged final columns, by setting the final end position in `fwf_positions()` or final width in `fwf_widths()` to `NA` (#353, @​ghaarsma). `fwf_empty()` does this automatically."
readr,192,`read_fwf()` and `fwf_empty()` can now skip commented lines by setting a `comment` argument (#334).
readr,193,`read_lines()` ignores embedded null's in strings (#338) and gains a `na` argument (#479).
readr,194,`readr_example()` makes it easy to access example files bundled with readr.
readr,195,`type_convert()` now accepts only `NULL` or a `cols` specification for `col_types` (#369).
readr,196,"`write_delim()` and `write_csv()` now invisibly return the input data frame (as documented, #363)."
readr,197,Doubles are parsed with `boost::spirit::qi::long_double` to work around a bug in the spirit library when parsing large numbers (#412).
readr,198,Fix bug when detecting column types for single row files without headers (#333).
readr,199,Fix bug when checking empty values for missingness (caused valgrind issue and random crashes).
readr,200,Fixes so that readr works on Solaris.
readr,201,"`read_csv()`, `read_tsv()`, `read_fwf()`, `read_table()`, `read_lines()`, `read_file()`, `type_convert()`, `parse_vector()` all gain a `locale` argument."
readr,202,`locale()` controls all the input settings that vary from place-to-place.
readr,203,`col_euro_double()` and `parse_euro_double()` have been deprecated. Use the `decimal_mark` parameter to `locale()` instead.
readr,204,"The default encoding is now UTF-8. To load files that are not in UTF-8, set the `encoding` parameter of the `locale()` (#40). New `guess_encoding()` function uses stringi to help you figure out the encoding of a file."
readr,205,"`parse_datetime()` and `parse_date()` with `%B` and `%b` use the month names (full and abbreviate) defined in the locale (#242). They also inherit the tz from the locale, rather than using an explicit `tz` parameter."
readr,206,`cols()` lets you pick the default column type for columns not otherwise explicitly named (#148). You can refer to parsers either with their full name (e.g. `col_character()`) or their one letter abbreviation (e.g. `c`).
readr,207,`cols_only()` allows you to load only named columns. You can also choose to override the default column type in `cols()` (#72).
readr,208,"`read_fwf()` is now much more careful with new lines. If a line is too short, you'll get a warning instead of a silent mistake (#166, #254). Additionally, the last column can now be ragged: the width of the last field is silently extended until it hits the next line break (#146). This appears to be a common feature of ""fixed"" width files in the wild."
readr,209,"In `read_csv()`, `read_tsv()`, `read_delim()` etc:"
readr,210,`comment` argument allows you to ignore comments (#68).
readr,211,`trim_ws` argument controls whether leading and trailing whitespace is removed. It defaults to `TRUE` (#137).
readr,212,"Specifying the wrong number of column names, or having rows with an unexpected number of columns, generates a warning, rather than an error (#189)."
readr,213,"Multiple NA values can be specified by passing a character vector to `na` (#125). The default has been changed to `na = c("""", ""NA"")`. Specifying `na = """"` now works as expected with character columns (#114)."
readr,214,`parse_character()` gains better support for embedded nulls: any characters after the first null are dropped with a warning (#202).
readr,215,`parse_integer()` and `parse_double()` no longer silently ignore trailing letters after the number (#221).
readr,216,"New `parse_time()` and `col_time()` allows you to parse times (hours, minutes, seconds) into number of seconds since midnight. If the format is omitted, it uses a flexible parser that looks for hours, then optional colon, then minutes, then optional colon, then optional seconds, then optional am/pm (#249)."
readr,217,`parse_date()` and `parse_datetime()`:
readr,218,"`parse_datetime()` no longer incorrectly reads partial dates (e.g. 19, 1900, 1900-01) (#136). These triggered common false positives and after re-reading the ISO8601 spec, I believe they actually refer to periods of time, and should not be translated in to a specific instant (#228)."
readr,219,"Compound formats ""%D"", ""%F"", ""%R"", ""%X"", ""%T"", ""%x"" are now parsed correctly, instead of using the ISO8601 parser (#178, @​kmillar)."
readr,220,"""%."" now requires a non-digit. New ""%+"" skips one or more non-digits."
readr,221,You can now use `%p` to refer to AM/PM (and am/pm) (#126).
readr,222,`%b` and `%B` formats (month and abbreviated month name) ignore case when matching (#219).
readr,223,"Local (non-UTC) times with and without daylight savings are now parsed correctly (#120, @​andres-s)."
readr,224,`parse_number()` is a somewhat flexible numeric parser designed to read currencies and percentages. It only reads the first number from a string (using the grouping mark defined by the locale).
readr,225,"`parse_numeric()` has been deprecated because the name is confusing - it's a flexible number parser, not a parser of ""numerics"", as R collectively calls doubles and integers. Use `parse_number()` instead."
readr,226,New `parse_guess()` and `col_guess()` to explicitly guess column type.
readr,227,Bumped up row inspection for column typing guessing from 100 to 1000.
readr,228,"The heuristics for guessing `col_integer()` and `col_double()` are stricter. Numbers with leading zeros now default to being parsed as text, rather than as integers/doubles (#266)."
readr,229,A column is guessed as `col_number()` only if it parses as a regular number when you ignoring the grouping marks.
readr,230,"Now use R's platform independent `iconv` wrapper, thanks to BDR (#149)."
readr,231,"Pathological zero row inputs (due to empty input, `skip` or `n_max`) now return zero row data frames (#119)."
readr,232,"When guessing field types, and there's no information to go on, use character instead of logical (#124, #128)."
readr,233,Concise `col_types` specification now understands `?` (guess) and `-` (skip) (#188).
readr,234,"`count_fields()` starts counting from 1, not 0 (#200)."
readr,235,`format_csv()` and `format_delim()` make it easy to render a csv or delimited file into a string.
readr,236,"`fwf_empty()` now works correctly when `col_names` supplied (#186, #222)."
readr,237,`parse_*()` gains a `na` argument that allows you to specify which values should be converted to missing.
readr,238,"`problems()` now reports column names rather than column numbers (#143). Whenever there is a problem, the first five problems are printing out in a warning message, so you can more easily see what's wrong."
readr,239,"`read_*()` throws a warning instead of an error is `col_types` specifies a non-existent column (#145, @​alyst)."
readr,240,`read_*()` can read from a remote gz compressed file (#163).
readr,241,`read_delim()` defaults to `escape_backslash = FALSE` and `escape_double = TRUE` for consistency. `n_max` also affects the number of rows read to guess the column types (#224).
readr,242,"`read_lines()` gains a progress bar. It now also correctly checks for interrupts every 500,000 lines so you can interrupt long running jobs. It also correctly estimates the number of lines in the file, considerably speeding up the reading of large files (60s -\> 15s for a 1.5 Gb file)."
readr,243,"`read_lines_raw()` allows you to read a file into a list of raw vectors, one element for each line."
readr,244,"`type_convert()` gains `NA` and `trim_ws` arguments, and removes missing values before determining column types."
readr,245,"`write_csv()`, `write_delim()`, and `write_rds()` all invisibly return their input so you can use them in a pipe (#290)."
readr,246,`write_delim()` generalises `write_csv()` to write any delimited format (#135). `write_tsv()` is a helpful wrapper for tab separated files.
readr,247,"Quotes are only used when they're needed (#116): when the string contains a quote, the delimiter, a new line or NA."
readr,248,Double vectors are saved using same amount of precision as `as.character()` (#117).
readr,249,New `na` argument that specifies how missing values should be written (#187)
readr,250,POSIXt vectors are saved in a ISO8601 compatible format (#134).
readr,251,"No longer fails silently if it can't open the target for writing (#193, #172)."
readr,252,"`write_rds()` and `read_rds()` wrap around `readRDS()` and `saveRDS()`, defaulting to no compression (#140, @​nicolasCoutin)."
readxl,1,"We embed a development version of libxls (<https://github.com/libxls/libxls>), which is based on the most recent released version, v1.6.2. The reason for embedding a development version is to ship a version of libxls that incorporates the fix for this CVE (#679):"
readxl,2,[CVE-2021-27836](https://nvd.nist.gov/vuln/detail/CVE-2021-27836)
readxl,3,readxl no longer declares the use of C++11.
readxl,4,readxl should once again compile on Alpine Linux.
readxl,5,"Other small readxl-specific patches have been made to the embedded libxls code to comply with CRAN requests, such as avoiding the use of `sprintf()`."
readxl,6,Updating the embedded version of libxls (more below)
readxl,7,Switching from Rcpp to cpp11 (more below)
readxl,8,Refactoring to reduce duplication between the `.xls` and `.xlsx` branches
readxl,9,"""Date or Not Date"": The classification of number formats as being datetime-ish is more sophisticated and should no longer be so easily fooled by, e.g., colours or currencies. This affects cell and column type guessing, hopefully for the better (#388, #559, @​nacnudus, @​reviewher)."
readxl,10,"Cell location is determined more robustly in `.xlsx` files, guarding against the idiosyncratic way in which certain 3rd party tools include (or, rather, do not include) cell location in individual cell nodes (#648, #671)."
readxl,11,"Warning messages for impossible dates are more specific. Unsupported dates prior to 1900 have their own message now, instead of being lumped in with dates on the non-existent day of February 29, 1900 (#551, #554, @​cderv)."
readxl,12,readxl is now licensed as MIT (#632).
readxl,13,"readxl now states its support for R \>= 3.4 explicitly. Why 3.4? Because the [tidyverse policy](https://www.tidyverse.org/blog/2019/04/r-version-support/) is to support the current version, the devel version, and four previous versions of R. It was necessary to introduce a minimum R version, in order to state a minimum version for a package listed in `LinkingTo`."
readxl,14,readxl embeds libxls v1.6.2 (the previous release embedded v1.5.0). The libxls project is hosted at <https://github.com/libxls/libxls> and you can learn more about the cumulative changes in its release notes:
readxl,15,[v1.6.2](https://github.com/libxls/libxls/releases/tag/v1.6.2)
readxl,16,[v1.6.1](https://github.com/libxls/libxls/releases/tag/v1.6.1)
readxl,17,[v1.6.0](https://github.com/libxls/libxls/releases/tag/v1.6.0)
readxl,18,[v1.5.3](https://github.com/libxls/libxls/releases/tag/v1.5.3)
readxl,19,[v1.5.2](https://github.com/libxls/libxls/releases/tag/v1.5.2)
readxl,20,[v1.5.1](https://github.com/libxls/libxls/releases/tag/v1.5.1)
readxl,21,"readxl has switched from Rcpp to cpp11 and now requires C++11 (#659, @​sbearrows)."
readxl,22,"The minimum version of tibble has been bumped to 2.0.1 (released 2019-01-12), completing the transition to an approach to column name repair used across the tidyverse."
readxl,23,[CVE-2018-20452](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2018-20452)
readxl,24,[CVE-2018-20450](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2018-20450)
readxl,25,[Column Names](https://readxl.tidyverse.org/articles/articles/column-names.html) is a new article about this feature.
readxl,26,"readxl delegates name repair to tibble, therefore the installed tibble version determines how names are repaired."
readxl,27,"If tibble \>= v2.0.0, the full power of `.name_repair` is available, defaulting to `.name_repair = ""unique""`. Otherwise, the legacy function `tibble::repair_names(prefix = ""X"", sep = ""__"")` is used, replicating the behaviour of readxl v1.1.0."
readxl,28,Consider a spreadsheet with three columns: one unnamed and two named `x`.
readxl,29,"Content of cells in Excel: `""""`, `x`, `x`"
readxl,30,"New style column names: `..1`, `x..2`, `x..3`"
readxl,31,"Legacy column names: `X__1`, `x`, `x__1`"
readxl,32,"Once per session, readxl emits a message stating that it works best with tibble \>= v2.0.0. It is anticipated that this will become a hard minimum version requirement in a future version of readxl."
readxl,33,"`read_excel()` and friends gain a `progress` argument that controls a progress spinner (#243, #538)."
readxl,34,`read_xls()` and `read_xlsx()` pass the `trim_ws` argument along (#514).
readxl,35,"readxl has a [new article](https://readxl.tidyverse.org/articles/articles/multiple-header-rows.html) on reading Excel files with multiple header rows (#486, #492 @​apreshill)."
readxl,36,"xlsx files that do not have a ""styles"" part can now be read (#505, #506 @​jt6)"
readxl,37,"All paths are passed through `normalizePath()` (#498, #499, new behaviour for xlsx but not xls) and `enc2native()` (#370)."
readxl,38,"`read_excel()` and `excel_sheets()` associate a larger set of file extensions with xlsx and are better able to guess the format of a file with a nonstandard or missing extension. This is about deciding whether to treat a file as xls or xlsx. (#342, #411, #457)"
readxl,39,`excel_format()` is the newly-exported format-guessing function.
readxl,40,"`format_from_ext()` is a low-level helper, also exported, that only consults file extension. In addition to the obvious interpretation of `.xls` and `.xlsx`, the extensions `.xlsm`, `.xltx`, and `.xltm` are now associated with xlsx."
readxl,41,"`format_from_signature()` is a low-level helper, also exported, that consults the file's signature (a.k.a. magic number). It's handy for files that lack an extension."
readxl,42,"Embedded libxls has been updated to address security vulnerabilitities identified in late 2017 (#441, #442)."
readxl,43,"[CVE-2017-12110](https://talosintelligence.com/vulnerability_reports/TALOS-2017-0462), [CVE-2017-2896](https://talosintelligence.com/vulnerability_reports/TALOS-2017-0403), and [CVE-2017-2897](https://talosintelligence.com/vulnerability_reports/TALOS-2017-0404) were demonstrated to affect readxl v1.0.0. These have been addressed in libxls and the embedded version of libxls incorporates those fixes."
readxl,44,"Although [CVE-2017-12111](https://talosintelligence.com/vulnerability_reports/TALOS-2017-0463) and [CVE-2017-2919](https://talosintelligence.com/vulnerability_reports/TALOS-2017-0426) mention readxl, the notices clarify that these CVEs do not actually affect readxl. Both have been fixed in libxls for quite a while: CVE-2017-12111 since 2014 and CVE-2017-2919 since 2012."
readxl,45,"xlsx structured as a ""minimal conformant SpreadsheetML package"" can be read. Most obvious feature of such sheets is the lack of an `xl/` directory in the unzipped form. (xlsx, #435, #437)"
readxl,46,"Reading xls sheet with exactly 65,536 rows no longer enters an infinite loop. (xls, #373, #416, #432 @​vkapartzianis)"
readxl,47,"Doubles, including datetimes, coerced to character from xls now have much higher precision, comparable to the xlsx behaviour. (xls, #430, #431)"
readxl,48,"Integer-y numbers larger than 2\^31 are coerced properly to string (xls, #346)"
readxl,49,"Shared strings are only compared to NA strings after lookup, never on the basis of their index. (xlsx, #401)"
readxl,50,Better checks and messaging around nonexistent files. (#392)
readxl,51,Add `$(C_VISIBILITY)` to compiler flags to hide internal symbols from the dll. (#385 @​jeroen)
readxl,52,"Numeric data in a logical column now coerces properly to logical. (xlsx, #385 @​nacnudus)"
readxl,53,"`range` is a new argument for reading a rectangular range, possibly open. (#314, #8)"
readxl,54,"`n_max` is a new argument that limits the number of data rows read. (#306, #281)"
readxl,55,"Empty cells, rows, columns (xlsx #248 and #240, xls #271): Cells with no content are no longer loaded, even if they appear in the file. Affects cells that have no data but that carry explicit formatting, detectable in Excel as seemingly empty cells with a format other than ""General"". Such cells may still exist in the returned tibble, with value `NA`, depending on the sheet geometry."
readxl,56,"Eliminates a source of trailing rows (#203) and columns (#236, #162, #146) consisting entirely of `NA`."
readxl,57,"Eliminates a subtle source of disagreement between user-provided column names and guessed column types (#169, #81)."
readxl,58,"Embedded empty columns are no longer automatically dropped, regardless of whether there is a column name. (#157, #261)"
readxl,59,"Worksheets that are completely empty or that contain only column names no longer error, but return a tibble with zero rows. (#222, #144, #65)"
readxl,60,"Improved handling of leading and embedded blank rows and explicit row skipping. (#224, #194, #178, #156, #101)"
readxl,61,"User-supplied `col_names` are processed relative to user-supplied `col_types`, if given. Specifically, `col_names` is considered valid if it has the same length as `col_types`, before *or after* removing skipped columns. (#81, #261)"
readxl,62,"`""list""` is a new accepted value for `col_types`. Loads data as a list of length-1 vectors, that are typed using the logic from `col_types = NULL`, but on a cell-by-cell basis (#262 @​gergness)."
readxl,63,"`""logical""` is a new accepted value for `col_types`. When `col_types = NULL`, it is the guessed type for cells Excel advertises as Boolean. When a column has no data, it is now filled with logical `NA`. (#277, #270)"
readxl,64,"`""guess""` is a new accepted value for `col_types`. Allows the user to specify some column types, while allowing others to be guessed (#286)"
readxl,65,"A user-specified `col_types` of length one will be replicated to have length equal to the number of columns. (#127, #114, #261)"
readxl,66,"`""blank""` has been deprecated in favor of the more descriptive and readr-compatible `""skip""`, which is now the preferred way to request that a column be skipped. (#260, #193, #261)"
readxl,67,"`guess_max` is a new argument that lets user adjust the number of rows used to guess column types. (#223, #257 @​tklebel and @​jennybc)"
readxl,68,"`trim_ws` is a new argument to remove leading and trailing whitespace. It defaults to `TRUE`. (#326, #211)"
readxl,69,"`na` can now hold multiple NA values, e.g., `read_excel(""missing-values.xls"", na = c(""NA"", ""1""))`. (#13, #56, @​jmarshallnz)"
readxl,70,Coercions and cell data:
readxl,71,"Numeric data that appears in a date column is coerced to a date. Throws a warning. (#277, #266)"
readxl,72,"Dates that appear in a numeric column are converted to `NA` instead of their integer representation. Throws warning. (#277, #263)"
readxl,73,"""Number stored as text"": when a text cell is found in a numeric column, `read_excel()` attempts to coerce the string to numeric and falls back to `NA` if unsuccessful. Throws warning. (#277, #217, #106)"
readxl,74,"Cells in error are treated as blank and are imported as `NA` (instead of the string `""error""`). (#277, #62)"
readxl,75,"BoolErr cells are now handled in xls. Suppresses message `""Unknown type: 517""`. (#274, #259)"
readxl,76,Dates that arise from a formula are treated as dates (vs. numeric) in xls. (#277)
readxl,77,"Dates in .xlsx files saved with LibreOffice are now recognized as such. (#134, @​zeehio)"
readxl,78,"Namespace prefixes are now stripped from element names and attributes when parsing XML from xlsx. Workaround for the creative approach taken in some other s/w, coupled with rapidxml's lack of namespace support. (#295, #268, #202, #80)"
readxl,79,"Excel mixes 0- and 1-indexing in reported row and column dimensions for xls and libxls expects that. Other s/w may index from 0 for both, preventing libxls from reading the last column. Patched to restore access to those cells. (#273, #180, #152, #99)"
readxl,80,"More robust logic for sheet lookup in xlsx. Improves compatibility with xlsx written by a variety of tools and/or xlsx containing chartsheets. (#233, #104, #200, #168, #116, @​jimhester and @​jennybc)"
readxl,81,"The `numFmtId` attribute is no longer accessed when it does not exist (xlsx written by <https://www.epplussoftware.com>). (#191, #229)"
readxl,82,"Location is inferred for cells that do not declare their location (xlsx written by JMP). (#240, #163, #102)"
readxl,83,"`read_xls()` and `read_xlsx()` are now exposed, such that files without an `.xls` or `.xlsx` extension can be read. (#85, @​jirkalewandowski)"
readxl,84,"The [Lotus 1-2-3 leap year bug](https://learn.microsoft.com/en-US/office/troubleshoot/excel/wrongly-assumes-1900-is-leap-year) is now accounted for, i.e. date-times prior to March 1, 1900 import correctly. Date-times on the non-existent leap day February 29, 1900 import as NA and throw a warning. (#264, #148, #292)"
readxl,85,"The tibble package is now imported (#175, @​krlmlr) and `tibble::repair_names()` is used to prevent empty, `NA`, or duplicated column names. (#216, #208, #199 #182, #53, #247)."
readxl,86,"Default column names for xlsx now start with X\_\_1 instead of X\_\_0. (#98, @​zeehio, @​krlmlr)"
readxl,87,"Fix compilation warnings/failures (FreeBSD 10.3 #221, gcc 4.9.3 #124) and/or problems reading xls (CentOS 6.6 #189). (#244, #245, #246 @​jeroen)"
readxl,88,"Unwanted printed output (e.g., `DEFINEDNAME: 21 00 00 ...`) is suppressed when reading xls that contains a defined range. (#82, #188, @​PedramNavid)"
readxl,89,"Add support for correctly reading strings in .xlsx files containing escaped unicode characters (e.g. `_x005F_`). (#51, @​jmarshallnz)"
rlang,1,Fixed an off-by-one typo in the traceback source column location (#1633).
rlang,2,"`abort()` now respects the base R global option, `options(show.error.messages = FALSE)` (#1630)."
rlang,3,`obj_type_friendly()` now only displays the first class of S3 objects (#1622).
rlang,4,`expr_label()` now has back-compatility with respect to changes made by R version 4.4 and `is.atomic(NULL)` (#1655)
rlang,5,Performance improvement in `.rlang_cli_compat()` (#1657).
rlang,6,`englue()` now allows omitting `{{`. This is to make it easier to embed in external functions that need to support either `{` and `{{` (#1601).
rlang,7,Fix for CRAN checks.
rlang,8,"`stop_input_type()` now handles `I()` input literally in `arg` (#1607, @​simonpcouch)."
rlang,9,"`parse_expr()` and `parse_exprs()` are now faster when `getOption(""keep.source"")` is `TRUE` (#1603)."
rlang,10,`dots_splice()` is deprecated. This function was previously in the questioning lifecycle stage as we were moving towards the explicit `!!!` splicing style.
rlang,11,"`flatten()`, `squash()`, and their variants are deprecated in favour of `purrr::list_flatten()` and `purrr::list_c()`."
rlang,12,`child_env()` is deprecated in favour of `env()` which has supported creating child environments for several years now.
rlang,13,"`last_error()` and `options(rlang_backtrace_on_error = ""full"")` now print the full backtrace tree by default (except for some hidden frames). The simplified backtraces tended to hide important context too often. Now we show intervening frames in a lighter colour so that they don't distract from the important parts of the backtraces but are still easily inspectable."
rlang,14,"`global_entrace()`, `last_warnings()`, and `last_messages()` now support knitr documents."
rlang,15,New `rlang_backtrace_on_warning_report` global option. This is useful in conjunction with `global_entrace()` to get backtraces on warnings inside RMarkdown documents.
rlang,16,`global_entrace()` and `entrace()` now stop entracing warnings and messages after 20 times. This is to avoid a large overhead when 100s or 1000s of warnings are signalled in a loop (#1473).
rlang,17,"`abort()`, `warn()`, and `inform()` gain an `.inherit` parameter. This controls whether `parent` is inherited. If `FALSE`, `cnd_inherits()` and `try_fetch()` do not match chained conditions across parents. It's normally `TRUE` by default, but if a warning is chained to an error or a message is chained to a warning or error (downgraded chaining), `.inherit` defaults to `FALSE` (#1573)."
rlang,18,`try_fetch()` now looks up condition classes across chained errors (#1534). This makes `try_fetch()` insensitive to changes of implementation or context of evaluation that cause a classed error to suddenly get chained to a contextual error.
rlang,19,"`englue()` gained `env`, `error_arg`, and `error_call` arguments to support being wrapped in another function (#1565)."
rlang,20,The data-masking documentation for arguments has been imported from dplyr. You can link to it by starting an argument documentation with this button:
rlang,20,"```
<[`data-masking`][rlang::args_data_masking]>
```"
rlang,21,`enquos()` and friends gain a `.ignore_null` argument (#1450).
rlang,22,"New `env_is_user_facing()` function to determine if an evaluation frame corresponds to a direct usage by the end user (from the global environment or a package being tested) or indirect usage by a third party function. The return value can be overridden by setting the `""rlang_user_facing""` global option."
rlang,23,"New `check_data_frame()` and `check_logical()` functions in `standalone-types-check.R` (#1587, @​mgirlich)."
rlang,24,"Added `allow_infinite` argument to `check_number_whole()` (#1588, @​mgirlich)."
rlang,25,The lifecycle standalone file has been updated to match the modern lifecycle tools.
rlang,26,`parse_expr()` now supports vectors of lines (#1540).
rlang,27,Quosures can now be consistently concatenated to lists of quosures (#1446).
rlang,28,Fixed a memory issue that caused excessive duplication in `list2()` and friends (#1491).
rlang,29,Embraced empty arguments are now properly detected and trimmed by `quos()` (#1421).
rlang,30,Fixed an edge case that caused `enquos(.named = NULL)` to return a named list (#1505).
rlang,31,`expr_deparse()` now deparses the embrace operator `{{` on a single line (#1511).
rlang,32,`zap_srcref()` has been rewritten in C for efficiency (#1513).
rlang,33,`zap_srcref()` now supports expression vectors.
rlang,34,The non-error path of `check_dots_unnamed()` has been rewritten in C for efficiency (#1528).
rlang,35,Improved error messages in `englue()` (#1531) and in glue strings in the LHS of `:=` (#1526).
rlang,36,`englue()` now requires size 1 outputs (#1492). This prevents surprising errors or inconsistencies when an interpolated input of size != 1 makes its way into the glue string.
rlang,37,`arg_match()` now throws correct error when supplied a missing value or an empty vector (#1519).
rlang,38,"`is_integerish()` now handles negative doubles more consistently with positive ones (@​sorhawell, #1530)."
rlang,39,New `check_logical()` in `standalone-types-check.R` (#1560).
rlang,40,`quo_squash()` now squashes quosures in function position (#1509).
rlang,41,`is_expression()` now recognises quoted functions (#1499). It now also recognises non-parsable attributes (#1475).
rlang,42,`obj_address()` now supports the missing argument (#1521).
rlang,43,Fixed a `check_installed()` issue with packages removed during the current R session (#1561).
rlang,44,`new_data_mask()` is now slightly faster due to a smaller initial mask size and usage of the C level function `R_NewEnv()` on R \>=4.1.0 (#1553).
rlang,45,The C level `r_dyn_*_push_back()` utilities are now faster (#1542).
rlang,46,"The C level `r_lgl_sum()` and `r_lgl_which()` helpers are now faster (#1577, with contributions from @​mgirlich)."
rlang,47,rlang is now compliant with `-Wstrict-prototypes` as requested by CRAN (#1508).
rlang,48,`as_closure(seq.int)` now works (#1468).
rlang,49,rlang no longer stores errors and backtraces in a `org:r-lib` environment on the search path.
rlang,50,The low-level function `error_call()` is now exported (#1474).
rlang,51,Fixed an issue that caused a failure about a missing `is_character` function when rlang is installed alongside an old version of vctrs (#1482).
rlang,52,Fixed an issue that caused multiline calls in backtraces.
rlang,53,The C API function `r_lgl_which()` now propagates the names of the input (#1471).
rlang,54,"The `pkg_version_info()` function now allows `==` for package version comparison (#1469, @​kryekuzhinieri)."
rlang,55,Fixed backtrace display with calls containing long lists of arguments (#1456).
rlang,56,New `r_obj_type_friendly()` function in the C library (#1463). It interfaces with `obj_type_friendly()` from `compat-obj-type.R` via a C callable.
rlang,57,`is_installed()` no longer throws an error with irregular package names.
rlang,58,`is_installed()` and `check_installed()` now properly detect that the base package is installed on older versions of R (#1434).
rlang,59,Child errors may now have empty messages to enable this pattern:
rlang,59,"```
Error in `my_function()`:
Caused by error in `their_function()`:
! Message.
```"
rlang,60,The `rlib_bytes` class now uses prettyunits to format bytes. The bytes are now represented with decimal prefixes instead of binary prefixes.
rlang,61,"Supplying a frame environment to the `call` argument of `abort()` now causes the corresponding function call in the backtrace to be highlighted. In addition, if you store the argument name of a failing input in the `arg` error field, the argument is also highlighted in the backtrace. Instead of:"
rlang,61,"```
cli::cli_abort(""{.arg {arg}} must be a foobar."", call = call)
```"
rlang,61,You can now write this to benefit from arg highlighting:
rlang,61,"```
cli::cli_abort(""{.arg {arg}} must be a foobar."", arg = arg, call = call)
```"
rlang,62,"`abort(message = )` can now be a function. In this case, it is stored in the `header` field and acts as a `cnd_header()` method invoked when the message is displayed."
rlang,63,New `obj_type_oo()` function in `compat-obj-type.R` (#1426).
rlang,64,`friendly_type_of()` from `compat-obj-type.R` (formerly `compat-friendly-type.R`) is now `obj_type_friendly()`.
rlang,65,"`options(backtrace_on_error = ""collapse"")` and `print(trace, simplify = ""collapse"")` are deprecated. They fall back to `""none""` with a warning."
rlang,66,`call_match()` now better handles `...` when `dots_expand = FALSE`.
rlang,67,`list2(!!!x)` is now faster when `x` is a list. It is now returned as is instead of being duplicated into a new list.
rlang,68,`abort()` gains a `.trace_bottom` argument to disambiguate from other `.frame`. This allows `cli::cli_abort()` to wrap `abort()` in such a way that `.internal` mentions the correct package to report the error in (#1386).
rlang,69,The `transpose()` compat is now more consistent with purrr when inner names are not congruent (#1346).
rlang,70,New `reset_warning_verbosity()` and `reset_message_verbosity()` functions. These reset the verbosity of messages signalled with `warn()` and `inform()` with the `.frequency` argument. This is useful for testing verbosity in your package (#1414).
rlang,71,`check_dots_empty()` now allows trailing missing arguments (#1390).
rlang,72,Calls to local functions that are not accessible through `::` or `:::` are now marked with `(local)` in backtraces (#1399).
rlang,73,Error messages now mention indexed calls like `foo$bar()`.
rlang,74,"New `env_coalesce()` function to copy bindings from one environment to another. Unlike approaches based on looping with `[[<-`, `env_coalesce()` preserves active and lazy bindings."
rlang,75,Chaining errors at top-level (directly in the console instead of in a function) no longer fails (#1405).
rlang,76,Warning style is propagated across parent errors in chained error messages (#1387).
rlang,77,"`check_installed()` now works within catch-all `tryCatch(error = )` expressions (#1402, tidyverse/ggplot2#4845)."
rlang,78,`arg_match()` and `arg_match0()` now mention the correct call in case of type error (#1388).
rlang,79,`abort()` and `inform()` now print messages to `stdout` in RStudio panes (#1393).
rlang,80,`is_installed()` now detects unsealed namespaces (#1378). This fixes inconsistent behaviour when run within user onLoad hooks.
rlang,81,Source references in backtraces and `last_error()`/`last_trace()` instructions are now clickable in IDEs that support links (#1396).
rlang,82,`compat-cli.R` now supports `style_hyperlink()`.
rlang,83,"`abort(.homonyms = ""error"")` now throws the expected error (#1394)."
rlang,84,`env_binding_are_active()` no longer accidentally triggers active bindings (#1376).
rlang,85,Fixed bug in `quo_squash()` with nested quosures containing the missing argument.
rlang,86,Backtraces of parent errors are now reused on rethrow. This avoids capturing the same backtrace twice and solves consistency problems by making sure both errors in a chain have the same backtrace.
rlang,87,Fixed backtrace oversimplification when `cnd` is a base error in `abort(parent = cnd)`.
rlang,88,Internal errors thrown with `abort(.internal = TRUE)` now mention the name of the package the error should be reported to.
rlang,89,Backtraces are now separated from error messages with a `---` ruler line (#1368).
rlang,90,"The internal bullet formatting routine now ignores unknown names (#1364). This makes it consistent with the cli package, increases resilience against hard-to-detect errors, and increases forward compatibility."
rlang,91,"`abort()` and friends no longer calls non-existent functions (e.g. `cli::format_error()` or `cli::format_warning`) when the installed version of cli is too old (#1367, tidyverse/dplyr#6189)."
rlang,92,Fixed an OOB subsetting error in `abort()`.
rlang,93,"New `rlang_call_format_srcrefs` global option (#1349). Similar to `rlang_trace_format_srcrefs`, this option allows turning off the display of srcrefs in error calls. This can be useful for reproducibility but note that srcrefs are already disabled within testthat by default."
rlang,94,`abort(parent = NA)` is now supported to indicate an unchained rethrow. This helps `abort()` detect the condition handling context to create simpler backtraces where this context is hidden by default.
rlang,95,"When `parent` is supplied, `abort()` now loops over callers to detect the condition handler frame. This makes it easier to wrap or extract condition handlers in functions without supplying `.frame`."
rlang,96,"When `parent` is supplied and `call` points to the condition setup frame (e.g. `withCallingHandlers()` or `try_fetch()`), `call` is replaced with the caller of that setup frame. This provides a more helpful default call."
rlang,97,`is_call()` is now implemented in C for performance.
rlang,98,Fixed performance regression in `trace_back()`.
rlang,99,"Fixed a partial matching issue with `header`, `body`, and `footer` condition fields."
rlang,100,`eval_tidy()` calls are no longer mentioned in error messages.
rlang,101,`abort()` now displays errors as fully bulleted lists. Error headers are displayed with a `!` prefix. See <https://rlang.r-lib.org/reference/topic-condition-customisation.html> to customise the display of error messages.
rlang,102,"`abort()` now displays a full chain of messages when errors are chained with the `parent` argument. Following this change, you should update dplyr to version 1.0.8 to get proper error messages."
rlang,103,"`abort()` now displays function calls in which a message originated by default. We have refrained from showing these calls until now to avoid confusing messages when an error is thrown from a helper function that isn't relevant to users. To help with these cases, `abort()` now takes a `call` argument that you can set to `caller_env()` or `parent.frame()` when used in a helper function. The function call corresponding to this environment is retrieved and stored in the condition."
rlang,104,"cli formatting is now supported. Use `cli::cli_abort()` to get advanced formatting of error messages, including indented bulleted lists. See <https://rlang.r-lib.org/reference/topic-condition-formatting.html>."
rlang,105,New `try_fetch()` function for error handling. We recommend to use it for chaining errors. It mostly works like `tryCatch()` with a few important differences.
rlang,106,"Compared to `tryCatch()`, `try_fetch()` preserves the call stack. This allows full backtrace capture and allows `recover()` to reach the error site."
rlang,107,"Compared to `withCallingHandler()`, `try_fetch()` is able to handle stack overflow errors (this requires R 4.2, unreleased at the time of writing)."
rlang,108,"The tidy eval documentation has been fully rewritten to reflect current practices. Access it through the ""Tidy evaluation"" and ""Metaprogramming"" menus on <https://rlang.r-lib.org>."
rlang,109,The `.data` object exported by rlang now fails when subsetted instead of returning `NULL`. This new error helps you detect when `.data` is used in the wrong context. We've noticed several packages failing after this change because they were using `.data` outside of a data-masking context. For instance the `by` argument of `dplyr::join()` is not data-masked. Previously `dplyr::join(by = .data$foo)` would silently be interpreted as `dplyr::join(by = NULL)`. This is now an error. Another issue is using `.data` inside `ggplot2::labs(...)`. This is not allowed since `labs()` isn't data-masked.
rlang,110,"`call_name()` now returns `NULL` instead of `""::""` for calls of the form `foo::bar`. We've noticed some packages do not check for `NULL` results from `call_name()`. Note that many complex calls such as `foo()()`, `foo$bar()` don't have a ""name"" and cause a `NULL` result. This is why you should always check for `NULL` results when using `call_name()`. We've added the function `is_call_simple()` to make it easier to work safely with `call_name()`. The invariant is that `call_name()` always returns a string when `is_call_simple()` returns `TRUE`. Conversely it always returns `NULL` when `is_call_simple()` retuns `FALSE`."
rlang,111,"`is_expression()` now returns `FALSE` for manually constructed expressions that can't be created by the parser. It used to return `TRUE` for any calls, including those that contain injected objects. Consider using `is_call()` or just remove the expression check. In many cases it is fine letting all objects go through when an expression is expected. For instance you can inject objects directly inside dplyr arguments:"
rlang,111,"```
x <- seq_len(nrow(data))
dplyr::mutate(data, col = !!x)
```"
rlang,112,"If a string is supplied to `as_function()` instead of an object (function or formula), the function is looked up in the global environment instead of the calling environment. In general, passing a function name as a string is brittle. It is easy to forget to pass the user environment to `as_function()` and sometimes there is no obvious user environment. The support for strings should be considered a convenience for end users only, not for programmers. Since environment forwarding is easy to mess up, and since the feature is aimed towards end users, `as_function()` now defaults to the global environment. Supply an environment explicitly if that is not correct in your case."
rlang,113,"`with_handlers()`, `call_fn()`, and `friendly_type()` are deprecated."
rlang,114,"The `action` argument of `check_dots_used()`, `check_dots_unnamed()`, and `check_dots_empty()` is deprecated in favour of the new `error` argument which takes an error handler."
rlang,115,Many functions deprecated in rlang 0.2.0 and 0.3.0 have been removed from the package.
rlang,116,New `englue()` operator to allow string-embracing outside of dynamic dots (#1172).
rlang,117,New `data_sym()` and `data_syms()` functions to create calls of the form `.data$foo`.
rlang,118,"`.data` now fails early when it is subsetted outside of a data mask context. This provides a more informative error message (#804, #1133)."
rlang,119,"`as_label()` now better handles calls to infix operators (#956, r-lib/testthat#1432). This change improves auto-labelled expressions in data-masking functions like `tibble()`, `mutate()`, etc."
rlang,120,"The `{{` operator is now detected more strictly (#1087). If additional arguments are supplied through `{`, it is no longer interpreted as an injection operator."
rlang,121,"The `.ignore_empty` argument of `enexprs()` and `enquos()` no longer treats named arguments supplied through `...` as empty, consistently with `exprs()` and `quos()` (#1229)."
rlang,122,Fixed a hang when a quosure inheriting from a data mask is evaluated in the mask again.
rlang,123,"Fixed performance issue when splicing classes that explicitly inherit from list with `!!!` (#1140, r-lib/vctrs#1170)."
rlang,124,Attributes of quosure lists are no longer modified by side effect (#1142).
rlang,125,"`enquo()`, `enquos()` and variants now support numbered dots like `..1` (#1137)."
rlang,126,Fixed a bug in the AST rotation algorithm that caused the `!!` operator to unexpectedly mutate injected objects (#1103).
rlang,127,Fixed AST rotation issue with `!!` involving binary operators (#1125).
rlang,128,`try_fetch()` is a flexible alternative to both `tryCatch()` and `withCallingHandlers()` (#503). It is also more efficient than `tryCatch()` and creates leaner backtraces.
rlang,129,New `cnd_inherits()` function to detect a class in a chain of errors (#1293).
rlang,130,"New `global_entrace()` function, a user-friendly helper for configuring errors in your RProfile. Call it to enrich all base errors and warnings with an rlang backtrace. This enables `last_error()`, `last_warnings()`, `last_messages()`, and `backtrace_on_error` support for all conditions."
rlang,131,New `global_handle()` function to install a default configuration of error handlers. This currently calls `global_entrace()` and `global_prompt_install()`. Expect more to come.
rlang,132,"The ""Error:"" part of error messages is now printed by rlang instead of R. This introduces several cosmetic and informative changes in errors thrown by `abort()`:"
rlang,133,"The `call` field of error messages is now displayed, as is the default in `base::stop()`. The call is only displayed if it is a simple expression (e.g. no inlined function) and the arguments are not displayed to avoid distracting from the error message. The message is formatted with the tidyverse style (`code` formatting by the cli package if available)."
rlang,134,The source location is displayed (as in `base::stop()`) if `call` carries a source reference. Source locations are not displayed when testthat is running to avoid brittle snapshots.
rlang,135,"Error headers are always displayed on their own line, with a `""!""` bullet prefix. See <https://rlang.r-lib.org/reference/topic-condition-customisation.html> to customise this new display."
rlang,136,"The display of chained errors created with the `parent` argument of `abort()` has been improved. Chains of errors are now displayed at throw time with the error prefix ""Caused by error:""."
rlang,137,The `print()` method of rlang errors (commonly invoked with `last_error()`) has been improved:
rlang,138,Display calls if present.
rlang,139,Chained errors are displayed more clearly.
rlang,140,`inform()` and `warn()` messages can now be silenced with the global options `rlib_message_verbosity` and `rlib_warning_verbosity`.
rlang,141,"`abort()` now outputs error messages to `stdout` in interactive sessions, following the same approach as `inform()`."
rlang,142,"Errors, warnings, and messages generated from rlang are now formatted with cli. This means in practice that long lines are width-wrapped to the terminal size and user themes are applied. This is currently only the case for rlang messages. This special formatting is not applied when `abort()`, `warn()`, and `inform()` are called from another namespace than rlang. See <https://rlang.r-lib.org/reference/topic-condition-formatting.html> if you'd like to use cli to format condition messages in your package."
rlang,143,`format_error_bullets()` (used as a fallback instead of cli) now treats:
rlang,144,Unnamed elements as unindented line breaks (#1130)
rlang,145,"Elements named `""v""` as green ticks (@​rossellhayes)"
rlang,146,"Elements named `"" ""` as indented line breaks"
rlang,147,"Elements named `""*""` as normal bullets"
rlang,148,"Elements named `""!""` as warning bullets For convenience, a fully unnamed vector is interpreted as a vector of `""*""` bullets."
rlang,149,"`abort()` gains a `.internal` argument. When set to `TRUE`, a footer bullet is added to `message` to let the user know that the error is internal and that they should report it to the package authors."
rlang,150,"`abort()`, `warn()`, and `inform()` gain a `body` argument to supply additional bullets in the error message."
rlang,151,"rlang conditions now have `as.character()` methods. Use this generic on conditions to generate a whole error message, including the `Error:` prefix. These methods are implemented as wrappers around `cnd_message()`."
rlang,152,`header` and `footer` methods can now be stored as closures in condition fields of the same name.
rlang,153,"`cnd_message()` gains a `prefix` argument to print the message with a full prefix, including `call` field if present and parent messages if the condition is chained."
rlang,154,`cnd_message()` gains an `inherit` argument to control whether to print the messages of parent errors.
rlang,155,Condition constructors now check for duplicate field names (#1268).
rlang,156,"`cnd_footer()` now returns the `footer` field by default, if any."
rlang,157,"`warn()` and `inform()` now signal conditions of classes `""rlang_warning""` and `""rlang_message""` respectively."
rlang,158,The `body` field of error conditions can now be a character vector.
rlang,159,"The error returned by `last_error()` is now stored on the search path as the `.Last.error` binding of the `""org:r-lib""` environment. This is consistent with how the processx package records error conditions. Printing the `.Last.error` object is now equivalent to running `last_error()`."
rlang,160,"Added `is_error()`, `is_warning()`, and `is_message()` predicates (#1220)."
rlang,161,`interrupt()` no longer fails when interrupts are suspended (#1224).
rlang,162,"`warn()` now temporarily sets the `warning.length` global option to the maximum value (8170). The default limit (1000 characters) is especially easy to hit when the message contains a lot of ANSI escapes, as created by the crayon or cli packages (#1211)."
rlang,163,`entrace()` and `global_entrace()` now log warnings and messages with backtraces attached. Run `last_warnings()` or `last_messages()` to inspect the warnings or messages emitted during the last command.
rlang,164,Internal errors now include a winch backtrace if installed. The user is invited to install it if not installed.
rlang,165,"Display of rlang backtraces for expected errors in dynamic reports (chunks where `error = TRUE` in knitted documents and RStudio notebooks) is now controlled by the `rlang_backtrace_on_error_report` option. By default, this is set to `""none""`. The display of backtraces for *unexpected* errors (in chunks where `error` is unset or set to `FALSE`) is still controlled by `rlang_backtrace_on_error`."
rlang,166,The `last_error()` reminder is no longer displayed in RStudio notebooks.
rlang,167,"A `knitr::sew()` method is registered for `rlang_error`. This makes it possible to consult `last_error()` (the call must occur in a different chunk than the error) and to set `rlang_backtrace_on_error_report` global options in knitr to display a backtrace for expected errors. If you show rlang backtraces in a knitted document, also set this in a hidden chunk to trim the knitr context from the backtraces:"
rlang,167,"```
options(
  rlang_trace_top_env = environment()
)
```"
rlang,167,This change replaces an ad hoc mechanism that caused bugs in corner cases (#1205).
rlang,168,"The `rlang_trace_top_env` global option for `trace_back()` now detects when backtraces are created within knitr. If the option is not set, its default value becomes `knitr::knit_global()` when knitr is in progress (as determined from `knitr.in.progress` global option). This prevents the knitr evaluation context from appearing in the backtraces (#932)."
rlang,169,Namespace changes are now emboldened in backtraces (#946).
rlang,170,Functions defined in the global environments or in local execution environments are now displayed with a space separator in backtraces instead of `::` and `:::`. This avoids making it seem like these frame calls are valid R code ready to be typed in (#902).
rlang,171,"Backtraces no longer contain inlined objects to avoid performance issues in edge cases (#1069, r-lib/testthat#1223)."
rlang,172,External backtraces in error chains are now separately displayed (#1098).
rlang,173,Trace capture now better handles wrappers of calling handler in case of rethrown chained errors.
rlang,174,Backtraces now print dangling srcrefs (#1206). Paths are shortened to show only three components (two levels of folder and the file).
rlang,175,The root symbol in backtraces is now slightly different so that it can't be confused with a prompt character (#1207).
rlang,176,`arg_match()` gains a `multiple` argument for cases where zero or several matches are allowed (#1281).
rlang,177,New function `check_required()` to check that an argument is supplied. It produces a more friendly error message than `force()` (#1118).
rlang,178,"`check_dots_empty()`, `check_dots_used()`, and `check_dots_unnamed()` have been moved from ellipsis to rlang. The ellipsis package is deprecated and will eventually be archived. We have added `check_dots_empty0()`. It has a different UI but is almost as efficient as checking for `missing(...)`. Use this in very low level functions where a couple microseconds make a difference."
rlang,179,The `arg_nm` argument of `arg_match0()` must now be a string or symbol.
rlang,180,`arg_match()` now mentions the supplied argument (#1113).
rlang,181,`is_installed()` and `check_installed()` gain a `version` argument (#1165).
rlang,182,`check_installed()` now consults the `rlib_restart_package_not_found` global option to determine whether to prompt users to install packages. This also disables the restart mechanism (see below).
rlang,183,`check_installed()` now signals errors of class `rlib_error_package_not_found` with a `rlib_restart_package_not_found` restart. This allows calling handlers to install the required packages and restart the check (#1150).
rlang,184,"`is_installed()` and `check_installed()` now support DESCRIPTION-style version requirements like `""rlang (>= 1.0)""`. They also gain `version` and `compare` arguments to supply requirements programmatically."
rlang,185,`check_installed()` gains an `action` argument that is called when the user chooses to install and update missing and outdated packages.
rlang,186,New `check_exclusive()` function to check that only one argument of a set is supplied (#1261).
rlang,187,`on_load()` and `run_on_load()` lets you run `.onLoad()` expressions from any file of your package. `on_package_load()` runs expressions when another package is loaded. (#1284)
rlang,188,The new predicate `is_call_simple()` indicates whether a call has a name and/or a namespace. It provides two invariants:
rlang,189,"If `is_call_simple(x)` is `TRUE`, `call_name()` always returns a string."
rlang,190,"If `is_call_simple(x, ns = TRUE)` is `TRUE`, `call_ns()` always returns a string."
rlang,191,`call_name()` and `call_ns()` now return `NULL` with calls of the form `foo::bar` (#670).
rlang,192,"New `current_call()`, `caller_call()`, and `frame_call()` accessors. New `frame_fn()` accessor."
rlang,193,`env_has()` and the corresponding C-level function no longer force active bindings (#1292).
rlang,194,New `names2<-` replacement function that never adds missing values when names don't have names (#1301).
rlang,195,`zap_srcref()` now preserves attributes of closures.
rlang,196,"Objects headers (as printed by `last_error()`, `env_print()`, ...) are now formatted using the `cls` class of the cli package."
rlang,197,`as_function()` gains `arg` and `call` arguments to provide contextual information about erroring inputs.
rlang,198,`is_expression()` now returns `FALSE` for manually constructed expressions that cannot be created by the R parser.
rlang,199,"New C callable `rlang_env_unbind()`. This is a wrapper around `R_removeVarFromFrame()` on R \>= 4.0.0. On older R this wraps the R function `base::rm()`. Unlike `rm()`, this function does not warn (nor throw) when a binding does not exist."
rlang,200,`friendly_type_of()` now supports missing arguments.
rlang,201,"`env_clone()` now properly clones active bindings and avoids forcing promises (#1228). On R \< 4.0, promises are still forced."
rlang,202,Fixed an `s3_register()` issue when the registering package is a dependency of the package that exports the generic (#1225).
rlang,203,Added `compat-vctrs.R` file for robust manipulation of data frames in zero-deps packages.
rlang,204,Added `compat-cli.R` file to format message elements consistently with cli in zero-deps packages.
rlang,205,`compat-purrr.R` now longer includes `pluck*` helpers; these used a defintion of pluck that predated purrr (#1159). `*_cpl()` has also been removed. The `map*` wrappers now call `as_function()` so that you can pass short anonymous functions that use `~` (#1157).
rlang,206,`exprs_auto_name()` gains a `repair_auto` argument to make automatic names unique (#1116).
rlang,207,"The `.named` argument of `dots_list()` can now be set to `NULL` to give the result default names. With this option, fully unnamed inputs produce a fully unnamed result with `NULL` names instead of a character vector of minimal `""""` names (#390)."
rlang,208,`is_named2()` is a variant of `is_named()` that always returns `TRUE` for empty vectors (#191). It tests for the property that each element of a vector is named rather than the presence of a `names` attribute.
rlang,209,New `rlib_bytes` class imported from the bench package (#1117). It prints and parses human-friendly sizes.
rlang,210,"The `env` argument of `as_function()` now defaults to the global environment. Its previous default was the caller of `as_function()`, which was rarely the correct environment to look in. Since it's hard to remember to pass the user environment and it's sometimes tricky to keep track of it, it's best to consider string lookup as a convenience for end users, not for developers (#1170)."
rlang,211,`s3_register()` no longer fails when generic does not exist. This prevents failures when users don't have all the last versions of packages (#1112).
rlang,212,Formulas are now deparsed according to the tidyverse style guide (`~symbol` without space and `~ expression()` with a space).
rlang,213,"New `hash_file()`, complementing `hash()`, to generate 128-bit hashes for the data within a file without loading it into R (#1134)."
rlang,214,New `env_cache()` function to retrieve a value or create it with a default if it doesn't exist yet (#1081).
rlang,215,`env_get()` and `env_get_list()` gain a `last` argument. Lookup stops in that environment. This can be useful in conjunction with `base::topenv()`.
rlang,216,New `call_match()` function. It is like `match.call()` but also supports matching missing arguments to their defaults in the function definition (#875). `call_standardise()` is deprecated in favour of `call_match()`.
rlang,217,"`expr_deparse()` now properly escapes `\` characters in symbols, argument names, and vector names (#1160)."
rlang,218,`friendly_type_of()` (from `compat-friendly-type.R`) now supports matrices and arrays (#141).
rlang,219,Updated `env_print()` to use `format_error_bullets()` and consistent tidyverse style (#1154).
rlang,220,"`set_names()` now recycles names of size 1 to the size of the input, following the tidyverse recycling rules."
rlang,221,`is_bare_formula()` now handles the `scoped` argument consistently. The default has been changed to `TRUE` for compatibility with the historical default behaviour (#1115).
rlang,222,"The ""definition"" API (`dots_definitions()` etc.) has been archived."
rlang,223,New `is_complex()` predicates to complete the family (#1127).
rlang,224,The C function `r_obj_address()` now properly prefixes addresses with the hexadecimal prefix `0x` on Windows (#1135).
rlang,225,`obj_address()` is now exported.
rlang,226,`%<~%` now actually works.
rlang,227,`XXH3_64bits()` from the XXHash library is now exposed as C callable under the name `rlang_xxh3_64bits()`.
rlang,228,Fix for CRAN checks.
rlang,229,Fix for CRAN checks.
rlang,230,Fixed a gcc11 warning related to `hash()` (#1088).
rlang,231,"New `hash()` function to generate 128-bit hashes for arbitrary R objects using the xxHash library. The implementation is modeled after [xxhashlite](https://github.com/coolbutuseless/xxhashlite), created by @​coolbutuseless."
rlang,232,"New `check_installed()` function. Unlike `is_installed()`, it asks the user whether to install missing packages. If the user accepts, the packages are installed with `pak::pkg_install()` if available, or `utils::install.packages()` otherwise. If the session is non interactive or if the user chooses not to install the packages, the current evaluation is aborted (#1075)."
rlang,233,rlang is now licensed as MIT (#1063).
rlang,234,"Fixed an issue causing extra empty lines in `inform()` messages with `.frequency` (#1076, @​schloerke)."
rlang,235,"`expr_deparse()` now correctly wraps code using `::` and `:::` (#1072, @​krlmlr)."
rlang,236,Dropped support for the R 3.2 series.
rlang,237,"`inject()` evaluates its argument with `!!`, `!!!`, and `{{` support."
rlang,238,New `enquo0()` and `enquos0()` operators for defusing function arguments without automatic injection (unquotation).
rlang,239,"`format_error_bullets()` is no longer experimental. The `message` arguments of `abort()`, `warn()`, and `inform()` are automatically passed to that function to make it easy to create messages with regular, info, and error bullets. See `?format_error_bullets` for more information."
rlang,240,New `zap_srcref()` function to recursively remove source references from functions and calls.
rlang,241,A new compat file for the zeallot operator `%<-%` is now available in the rlang repository.
rlang,242,New `%<~%` operator to define a variable lazily.
rlang,243,New `env_browse()` and `env_is_browsed()` functions. `env_browse()` is equivalent to evaluating `browser()` within an environment. It sets the environment to be persistently browsable (or unsets it if `value = FALSE` is supplied).
rlang,244,Functions created from quosures with `as_function()` now print in a more user friendly way.
rlang,245,New `rlang_print_backtrace` C callable for debugging from C interpreters (#1059).
rlang,246,The `.data` pronoun no longer skips functions (#1061). This solves a dplyr issue involving rowwise data frames and list-columns of functions (tidyverse/dplyr#5608).
rlang,247,`as_data_mask()` now intialises environments of the correct size to improve efficiency (#1048).
rlang,248,"`eval_bare()`, `eval_tidy()` (#961), and `with_handlers()` (#518) now propagate visibility."
rlang,249,`cnd_signal()` now ignores `NULL` inputs.
rlang,250,Fixed bug that prevented splicing a named empty vector with the `!!!` operator (#1045).
rlang,251,"The exit status of is now preserved in non-interactive sessions when `entrace()` is used as an `options(error = )` handler (#1052, rstudio/bookdown#920)."
rlang,252,`next` and `break` are now properly deparsed as nullary operators.
rlang,253,Backtraces now include native stacks (e.g. from C code) when the [winch](https://r-prof.github.io/winch/) package is installed and `rlang_trace_use_winch` is set to `TRUE` (@​krlmlr).
rlang,254,Compatibility with upcoming testthat 3 and magrittr 2 releases.
rlang,255,"`get_env()` now returns the proper environment with primitive functions, i.e. the base namespace rather than the base environment (r-lib/downlit#32)."
rlang,256,`entrace()` no longer handles non-rlang errors that carry a backtrace. This improves compatibility with packages like callr.
rlang,257,Backtraces of unhandled errors are now displayed without truncation in non-interactive sessions (#856).
rlang,258,"`is_interactive()` no longer consults ""rstudio.notebook.executing"" option (#1031)."
rlang,259,`cnd_muffle()` now returns `FALSE` instead of failing if the condition is not mufflable (#1022).
rlang,260,`warn()` and `inform()` gain a `.frequency` argument to control how frequently the warning or message should be displayed.
rlang,261,"New `raw_deparse_str()` function for converting a raw vector into a string of hexadecimal characters (@​krlmlr, #978)."
rlang,262,"The backtraces of chained errors are no longer decomposed by error context. Instead, the error messages are displayed as a tree to reflect the error ancestry, and the deepest backtrace in the ancestry is displayed. This change simplifies the display (#851) and makes it possible to rethow errors from a calling handler rather than an exiting handler, which we now think is more appropriate because it allows users to `recover()` into the error."
rlang,263,"`env_bind()`, `env_bind_active()`, `env_bind_lazy()`, `env_get()`, and `env_get_list()` have been rewritten in C."
rlang,264,`env_poke()` now supports `zap()` sentinels for removing bindings (#1012) and has better support for characters that are not representable in the local encoding.
rlang,265,`env_poke()` has been rewritten in C for performance.
rlang,266,The unicode translation warnings that appeared on Windows with R 4.0 are now fixed.
rlang,267,`env_unbind(inherit = TRUE)` now only removes a binding from the first parent environment that has a binding. It used to remove the bindings from the whole ancestry. The new behaviour doesn't guarantee that a scope doesn't have a binding but it is safer.
rlang,268,`env_has()` is now rewritten in C for performance.
rlang,269,`dots_list()` gains a `.named` argument for auto-naming dots (#957).
rlang,270,It is now possible to subset the `.data` pronoun with quosured symbols or strings (#807).
rlang,271,"Expressions like `quote(list(""a b"" = 1))` are now properly deparsed by `expr_deparse()` (#950)."
rlang,272,"`parse_exprs()` now preserves names (#808). When a single string produces multiple expressions, the names may be useful to figure out what input produced which expression."
rlang,273,`parse_exprs()` now supports empty expressions (#954).
rlang,274,`list2(!!!x)` no longer evaluates `x` multiple times (#981).
rlang,275,"`is_installed()` now properly handles a `pkg` argument of length \> 1. Before this it silently tested the first element of `pkg` only and thus always returned `TRUE` if the first package was installed regardless of the actual length of `pkg`. (#991, @​salim-b)"
rlang,276,"`arg_match0()` is a faster version of `arg_match()` for use when performance is at a premium (#997, @​krlmlr)."
rlang,277,"`!!!` now uses a combination of `length()`, `names()`, and `[[` to splice S3 and S4 objects. This produces more consistent behaviour than `as.list()` on a wider variety of vector classes (#945, tidyverse/dplyr#4931)."
rlang,278,"`set_names()`, `is_formula()`, and `names2()` are now implemented in C for efficiency."
rlang,279,The `.data` pronoun now accepts symbol subscripts (#836).
rlang,280,"Quosure lists now explicitly inherit from `""list""`. This makes them compatible with the vctrs package (#928)."
rlang,281,"All rlang options are now documented in a centralised place, see `?rlang::faq-options` (#899, @​smingerson)."
rlang,282,Fixed crash when `env_bindings_are_lazy()` gets improper arguments (#923).
rlang,283,"`arg_match()` now detects and suggests possible typos in provided arguments (@​jonkeane, #798)."
rlang,284,"`arg_match()` now gives an error if argument is of length greater than 1 and doesn't exactly match the values input, similar to base `match.arg` (#914, @​AliciaSchep)"
rlang,285,Maintenance release for CRAN.
rlang,286,"You can now use glue syntax to unquote on the LHS of `:=`. This syntax is automatically available in all functions taking dots with `list2()` and `enquos()`, and thus most of the tidyverse. Note that if you use the glue syntax in an R package, you need to import glue. A single pair of braces triggers normal glue interpolation:"
rlang,286,"```
df <- data.frame(x = 1:3)

suffix <- ""foo""
df %>% dplyr::mutate(""var_{suffix}"" := x * 2)
#>   x var_foo
#> 1 1       2
#> 2 2       4
#> 3 3       6
```"
rlang,286,"Using a pair of double braces is for labelling a function argument. Technically, this is shortcut for `""{as_label(enquo(arg))}""`. The syntax is similar to the curly-curly syntax for interpolating function arguments:"
rlang,286,"```
my_wrapper <- function(data, var, suffix = ""foo"") {
  data %>% dplyr::mutate(""{{ var }}_{suffix}"" := {{ var }} * 2)
}
df %>% my_wrapper(x)
#>   x x_foo
#> 1 1     2
#> 2 2     4
#> 3 3     6

df %>% my_wrapper(sqrt(x))
#>   x sqrt(x)_foo
#> 1 1    2.000000
#> 2 2    2.828427
#> 3 3    3.464102
```"
rlang,287,Fixed a bug in magrittr backtraces that caused duplicate calls to appear in the trace.
rlang,288,Fixed a bug in magrittr backtraces that caused wrong call indices.
rlang,289,Empty backtraces are no longer shown when `rlang_backtrace_on_error` is set.
rlang,290,The tidy eval `.env` pronoun is now exported for documentation purposes.
rlang,291,`warn()` and `abort()` now check that either `class` or `message` was supplied. `inform()` allows sending empty message as it is occasionally useful for building user output incrementally.
rlang,292,"`flatten()` fails with a proper error when input can't be flattened (#868, #885)."
rlang,293,`inform()` now consistently appends a final newline to the message (#880).
rlang,294,`cnd_body.default()` is now properly registered.
rlang,295,`cnd_signal()` now uses the same approach as `abort()` to save unhandled errors to `last_error()`.
rlang,296,Parsable constants like `NaN` and `NA_integer_` are now deparsed by `expr_deparse()` in their parsable form (#890).
rlang,297,Infix operators now stick to their LHS when deparsed by `expr_deparse()` (#890).
rlang,298,"New `cnd_header()`, `cnd_body()` and `cnd_footer()` generics. These are automatically called by `conditionMessage.rlang_error()`, the default method for all rlang errors. Concretely, this is a way of breaking up lazy generation of error messages with `conditionMessage()` into three independent parts. This provides a lot of flexibility for hierarchies of error classes, for instance you could inherit the body of an error message from a parent class while overriding the header and footer."
rlang,299,The reminder to call `last_error()` is now less confusing thanks to a suggestion by @​markhwhiteii.
rlang,300,"The functions prefixed in `scoped_` have been renamed to use the more conventional `local_` prefix. For instance, `scoped_bindings()` is now `local_bindings()`. The `scoped_` functions will be deprecated in the next significant version of rlang (0.5.0)."
rlang,301,"The `.subclass` argument of `abort()`, `warn()` and `inform()` has been renamed to `class`. This is for consistency with our conventions for class constructors documented in https://adv-r.hadley.nz/s3.html#s3-subclassing."
rlang,302,"`inform()` now prints messages to the standard output by default in interactive sessions. This makes them appear more like normal output in IDEs such as RStudio. In non-interactive sessions, messages are still printed to standard error to make it easy to redirect messages when running R scripts (#852)."
rlang,303,Fixed an error in `trace_back()` when the call stack contains a quosured symbol.
rlang,304,Backtrace is now displayed in full when an error occurs in non-interactive sessions. Previously the backtraces of parent errors were left out.
rlang,305,"New experimental framework for creating bulleted error messages. See `?cnd_message` for the motivation and an overwiew of the tools we have created to support this approach. In particular, `abort()` now takes character vectors to assemble a bullet list. Elements named `x` are prefixed with a red cross, elements named `i` are prefixed with a blue info symbol, and unnamed elements are prefixed with a bullet."
rlang,306,Capture of backtrace in the context of rethrowing an error from an exiting handler has been improved. The `tryCatch()` context no longer leaks in the high-level backtrace.
rlang,307,"Printing an error no longer recommends calling `last_trace()`, unless called from `last_error()`."
rlang,308,"`env_clone()` no longer recreates active bindings and is now just an alias for `env2list(as.list(env))`. Unlike `as.list()` which returns the active binding function on R \< 4.0, the value of active bindings is consistently used in all versions."
rlang,309,"The display of rlang errors derived from parent errors has been improved. The simplified backtrace (as printed by `rlang::last_error()`) no longer includes the parent errors. On the other hand, the full backtrace (as printed by `rlang::last_trace()`) now includes the backtraces of the parent errors."
rlang,310,"`cnd_signal()` has improved support for rlang errors created with `error_cnd()`. It now records a backtrace if there isn't one already, and saves the error so it can be inspected with `rlang::last_error()`."
rlang,311,"rlang errors are no longer formatted and saved through `conditionMessage()`. This makes it easier to use a `conditionMessage()` method in subclasses created with `abort()`, which is useful to delay expensive generation of error messages until display time."
rlang,312,`abort()` can now be called without error message. This is useful when `conditionMessage()` is used to generate the message at print-time.
rlang,313,Fixed an infinite loop in `eval_tidy()`. It occurred when evaluating a quosure that inherits from the mask itself.
rlang,314,`env_bind()`'s performance has been significantly improved by fixing a bug that caused values to be repeatedly looked up by name.
rlang,315,`cnd_muffle()` now checks that a restart exists before invoking it. The restart might not exist if the condition is signalled with a different function (such as `stop(warning_cnd)`).
rlang,316,`trace_length()` returns the number of frames in a backtrace.
rlang,317,Added internal utility `cnd_entrace()` to add a backtrace to a condition.
rlang,318,`rlang::last_error()` backtraces are no longer displayed in red.
rlang,319,"`x %|% y` now also works when `y` is of same length as `x` (@​rcannood, #806)."
rlang,320,"Empty named lists are now deparsed more explicitly as `""<named list>""`."
rlang,321,Fixed `chr()` bug causing it to return invisibly.
rlang,322,"New `pairlist2()` function with splicing support. It preserves missing arguments, which makes it useful for lists of formal parameters for functions."
rlang,323,"`is_bool()` is a scalar type predicate that checks whether its input is a single `TRUE` or `FALSE`. Like `is_string()`, it returns `FALSE` when the input is missing. This is useful for type-checking function arguments (#695)."
rlang,324,"`is_string()` gains a `string` argument. `is_string(x, ""foo"")` is a shortcut for `is_character(x) && length(x) == 1 && identical(x, ""foo"")`."
rlang,325,Lists of quosures now have pillar methods for display in tibbles.
rlang,326,`set_names()` now names unnamed input vectors before applying a function. The following expressions are now equivalent:
rlang,326,"```
letters %>% set_names() %>% set_names(toupper)

letters %>% set_names(toupper)
```"
rlang,327,"You can now pass a character vector as message argument for `abort()`, `warn()`, `inform()`, and `signal()`. The vector is collapsed to a single string with a `""\n""` newline separating each element of the input vector (#744)."
rlang,328,`maybe_missing()` gains a `default` argument.
rlang,329,"New functions for weak references: `new_weakref()`, `weakref_key()`, `weakref_value()`, and `is_weakref()` (@​wch, #787)."
rlang,330,"The performance of `exec()` has been improved. It is now on the same order of performance as `do.call()`, though slightly slower."
rlang,331,`call2()` now uses the new `pairlist2()` function internally. This considerably improves its performance. This also means it now preserves empty arguments:
rlang,331,"```
call2(""fn"", 1, , foo = )
#> fn(1, , foo = )
```"
rlang,332,"`with_handlers()` now installs calling handlers first on the stack, no matter their location in the argument list. This way they always take precedence over exiting handlers, which ensures their side effects (such as logging) take place (#718)."
rlang,333,"In rlang backtraces, the `global::` prefix is now only added when the function directly inherits from the global environment. Functions inheriting indirectly no longer have a namespace qualifier (#733)."
rlang,334,`options(error = rlang::entrace)` now has better support for errors thrown from C (#779). It also saves structured errors in the `error` field of `rlang::last_error()`.
rlang,335,`ns_env()` and `ns_env_name()` (experimental functions) now support functions and environments consisently. They also require an argument from now on.
rlang,336,"`is_interactive()` is aware of the `TESTTHAT` environment variable and returns `FALSE` when it is `""true""` (@​jennybc, #738)."
rlang,337,"`fn_fmls()` and variants no longer coerce their input to a closure. Instead, they throw an error."
rlang,338,Fixed an issue in knitr that caused backtraces to print even when `error = TRUE`.
rlang,339,"The return object from `as_function()` now inherits from `""function""` (@​richierocks, #735)."
rlang,340,`modify()` and `prepend()` (two experimental functions marked as in the questioning stage since rlang 0.3.0) are now deprecated. Vector functions are now out of scope for rlang. They might be revived in the vctrs or funs packages.
rlang,341,`exiting()` is soft-deprecated because `with_handlers()` treats handlers as exiting by default.
rlang,342,The vector constructors like `lgl()` or `new_logical()` are now in the questioning stage. They are likely to be moved to the vctrs package at some point. Same for the missing values shortcuts like `na_lgl`.
rlang,343,"`as_logical()`, `as_integer()`, etc have been soft-deprecated in favour of `vctrs::vec_cast()`."
rlang,344,"`type_of()`, `switch_type()`, `coerce_type()`, and friends are soft-deprecated."
rlang,345,The encoding and locale API was summarily archived. This API didn't bring any value and wasn't used on CRAN.
rlang,346,"`lang_type_of()`, `switch_lang()`, and `coerce_lang()` were archived. These functions were not used on CRAN or internally."
rlang,347,Subsetting quosures with `[` or `[[` is soft-deprecated.
rlang,348,"All functions that were soft-deprecated, deprecated, or defunct in previous releases have been bumped to the next lifecycle stage."
rlang,349,Fixed protection issue reported by rchk.
rlang,350,The experimental option `rlang__backtrace_on_error` is no longer experimental and has been renamed to `rlang_backtrace_on_error`.
rlang,351,"New ""none"" option for `rlang_backtrace_on_error`."
rlang,352,Unary operators applied to quosures now give better error messages.
rlang,353,"Fixed issue with backtraces of warnings promoted to error, and entraced via `withCallingHandlers()`. The issue didn't affect entracing via top level `options(error = rlang::entrace)` handling."
rlang,354,"New `entrace()` condition handler. Add this to your RProfile to enable rlang backtraces for all errors, including warnings promoted to errors:"
rlang,354,"```
if (requireNamespace(""rlang"", quietly = TRUE)) {
  options(error = rlang::entrace)
}
```"
rlang,354,This handler also works as a calling handler:
rlang,354,"```
with_handlers(
  error = calling(entrace),
  foo(bar)
)
```"
rlang,354,However it's often more practical to use `with_abort()` in that case:
rlang,354,"```
with_abort(foo(bar))
```"
rlang,355,`with_abort()` gains a `classes` argument to promote any kind of condition to an rlang error.
rlang,356,New `last_trace()` shortcut to print the backtrace stored in the `last_error()`.
rlang,357,Backtrace objects now print in full by default.
rlang,358,Calls in backtraces are now numbered according to their position in the call tree. The numbering is non-contiguous for simplified backtraces because of omitted call frames.
rlang,359,`catch_cnd()` gains a `classes` argument to specify which classes of condition to catch. It returns `NULL` if the expected condition could not be caught (#696).
rlang,360,"Display an object in a concise way, for example to labellise axes in a graphical plot."
rlang,361,"Give default names to columns in a data frame. In this case, labelling is the first step before name repair."
rlang,362,New `is_interactive()` function. It serves the same purpose as `base::interactive()` but also checks if knitr is in progress and provides an escape hatch. Use `with_interactive()` and `scoped_interactive()` to override the return value of `is_interactive()`. This is useful in unit tests or to manually turn on interactive features in RMarkdown outputs
rlang,363,`calling()` now boxes its argument.
rlang,364,"New `done()` function to box a value. Done boxes are sentinels to indicate early termination of a loop or computation. For instance, it will be used in the purrr package to allow users to shortcircuit a reduction or accumulation."
rlang,365,`new_box()` now accepts additional attributes passed to `structure()`.
rlang,366,Fixed a quotation bug with binary operators of zero or one argument such as `` `/`(1) `` (#652). They are now deparsed and printed properly as well.
rlang,367,New `call_ns()` function to retrieve the namespace of a call. Returns `NULL` if the call is not namespaced.
rlang,368,Top-level S3 objects are now deparsed properly.
rlang,369,Empty `{` blocks are now deparsed on the same line.
rlang,370,Fixed a deparsing issue with symbols containing non-ASCII characters (#691).
rlang,371,"`expr_print()` now handles `[` and `[[` operators correctly, and deparses non-syntactic symbols with backticks."
rlang,372,"`call_modify()` now respects ordering of unnamed inputs. Before this fix, it would move all unnamed inputs after named ones."
rlang,373,`as_closure()` wrappers now call primitives with positional arguments to avoid edge case issues of argument matching.
rlang,374,`as_closure()` wrappers now dispatch properly on methods defined in the global environment (tidyverse/purrr#459).
rlang,375,`as_closure()` now supports both base-style (`e1` and `e2`) and purrr-style (`.x` and `.y`) arguments with binary primitives.
rlang,376,"`exec()` takes `.fn` as first argument instead of `f`, for consistency with other rlang functions."
rlang,377,Fixed infinite loop with quosures created inside a data mask.
rlang,378,Base errors set as `parent` of rlang errors are now printed correctly.
rlang,379,`quo_text()` now deparses non-syntactic symbols with backticks:
rlang,379,"```
quo_text(sym(""foo+""))
#> [1] ""`foo+`""
```"
rlang,379,"This caused a number of issues in reverse dependencies as `quo_text()` tends to be used for converting symbols to strings. `quo_text()` and `quo_name()` should not be used for this purpose because they are general purpose deparsers. These functions should generally only be used for printing outputs or creating default labels. If you need to convert symbols to strings, please use `as_string()` rather than `quo_text()`. We have extended the documentation of `?quo_text` and `?quo_name` to make these points clearer."
rlang,380,"`exprs()` no longer flattens quosures. `exprs(!!!quos(x, y))` is now equivalent to `quos(x, y)`."
rlang,381,The sentinel for removing arguments in `call_modify()` has been changed from `NULL` to `zap()`. This breaking change is motivated by the ambiguity of `NULL` with valid argument values.
rlang,381,"```
call_modify(call, arg = NULL)  # Add `arg = NULL` to the call
call_modify(call, arg = zap()) # Remove the `arg` argument from the call
```"
rlang,382,The `%@​%` operator now quotes its input and supports S4 objects. This makes it directly equivalent to `@​` except that it extracts attributes for non-S4 objects (#207).
rlang,383,Taking the `env_parent()` of the empty environment is now an error.
rlang,384,"`abort()` now records backtraces automatically in the error object. Errors thrown with `abort()` invite users to call `rlang::last_error()` to see a backtrace and help identifying where and why the error occurred. The backtraces created by rlang (you can create one manually with `trace_back()`) are printed in a simplified form by default that removes implementation details from the backtrace. To see the full backtrace, call `summary(rlang::last_error())`. `abort()` also gains a `parent` argument. This is meant for situations where you're calling a low level API (to download a file, parse a JSON file, etc) and would like to intercept errors with `base::tryCatch()` or `rlang::with_handlers()` and rethrow them with a high-level message. Call `abort()` with the intercepted error as the `parent` argument. When the user prints `rlang::last_error()`, the backtrace will be shown in two sections corresponding to the high-level and low-level contexts. In order to get segmented backtraces, the low-level error has to be thrown with `abort()`. When that's not the case, you can call the low-level function within `with_abort()` to automatically promote all errors to rlang errors."
rlang,385,The tidy eval changes are mostly for developers of data masking APIs. The main user-facing change is that `.data[[` is now an unquote operator so that `var` in `.data[[var]]` is never masked by data frame columns and always picked from the environment. This makes the pronoun safe for programming in functions.
rlang,386,"The `!!!` operator now supports all classed objects like factors. It calls `as.list()` on S3 objects and `as(x, ""list"")` on S4 objects."
rlang,387,"`dots_list()` gains several arguments to control how dots are collected. You can control the selection of arguments with the same name with `.homonyms` (keep first, last, all, or abort). You can also elect to preserve empty arguments with `.preserve_empty`."
rlang,388,"New `trace_back()` captures a backtrace. Compared to the base R traceback, it contains additional structure about the relationship between frames. It comes with tools for automatically restricting to frames after a certain environment on the stack, and to simplify when printing. These backtraces are now recorded in errors thrown by `abort()` (see below)."
rlang,389,`abort()` gains a `parent` argument to specify a parent error. This is meant for situations where a low-level error is expected (e.g. download or parsing failed) and you'd like to throw an error with higher level information. Specifying the low-level error as parent makes it possible to partition the backtraces based on ancestry.
rlang,390,Errors thrown with `abort()` now embed a backtrace in the condition object. It is no longer necessary to record a trace with a calling handler for such errors.
rlang,391,`with_abort()` runs expressions in a context where all errors are promoted to rlang errors and gain a backtrace.
rlang,392,Unhandled errors thrown by `abort()` are now automatically saved and can be retrieved with `rlang::last_error()`. The error prints with a simplified backtrace. Call `summary(last_error())` to see the full backtrace.
rlang,393,New experimental option `rlang__backtrace_on_error` to display backtraces alongside error messages. See `?rlang::abort` for supported options.
rlang,394,"The new `signal()` function completes the `abort()`, `warn()` and `inform()` family. It creates and signals a bare condition."
rlang,395,New `interrupt()` function to simulate an user interrupt from R code.
rlang,396,"`cnd_signal()` now dispatches messages, warnings, errors and interrupts to the relevant signalling functions (`message()`, `warning()`, `stop()` and the C function `Rf_onintr()`). This makes it a good choice to resignal a captured condition."
rlang,397,"New `cnd_type()` helper to determine the type of a condition (`""condition""`, `""message""`, `""warning""`, `""error""` or `""interrupt""`)."
rlang,398,"`abort()`, `warn()` and `inform()` now accepts metadata with `...`. The data are stored in the condition and can be examined by user handlers. Consequently all arguments have been renamed and prefixed with a dot (to limit naming conflicts between arguments and metadata names)."
rlang,399,`with_handlers()` treats bare functions as exiting handlers (equivalent to handlers supplied to `tryCatch()`). It also supports the formula shortcut for lambda functions (as in purrr).
rlang,400,`with_handlers()` now produces a cleaner stack trace.
rlang,401,"The input types of `!!!` have been standardised. `!!!` is generally defined on vectors: it takes a vector (typically, a list) and unquotes each element as a separate argument. The standardisation makes `!!!` behave the same in functions taking dots with `list2()` and in quoting functions. `!!!` accepts these types:"
rlang,402,"Lists, pairlists, and atomic vectors. If they have a class, they are converted with `base::as.list()` to allow S3 dispatch. Following this change, objects like factors can now be spliced without data loss."
rlang,403,"S4 objects. These are converted with `as(obj, ""list"")` before splicing."
rlang,404,"Quoted blocks of expressions, i.e. `{ }` calls `!!!` disallows:"
rlang,405,"Any other objects like functions or environments, but also language objects like formula, symbols, or quosures. Quoting functions used to automatically wrap language objects in lists to make them spliceable. This behaviour is now soft-deprecated and it is no longer valid to write `!!!enquo(x)`. Please unquote scalar objects with `!!` instead."
rlang,406,"`dots_list()`, `enexprs()` and `enquos()` gain a `.homonyms` argument to control how to treat arguments with the same name. The default is to keep them. Set it to `""first""` or `""last""` to keep only the first or last occurrences. Set it to `""error""` to raise an informative error about the arguments with duplicated names."
rlang,407,"`enexprs()` and `enquos()` now support `.ignore_empty = ""all""` with named arguments as well (#414)."
rlang,408,"`dots_list()` gains a `.preserve_empty` argument. When `TRUE`, empty arguments are stored as missing arguments (see `?missing_arg`)."
rlang,409,"`dots_list()`, `enexprs()` and `enquos()` gain a `.check_assign` argument. When `TRUE`, a warning is issued when a `<-` call is detected in `...`. No warning is issued if the assignment is wrapped in brackets like `{ a <- 1 }`. The warning lets users know about a possible typo in their code (assigning instead of matching a function parameter) and requires them to be explicit that they really want to assign to a variable by wrapping in parentheses."
rlang,410,"`lapply(list(quote(foo)), list2)` no longer evaluates `foo` (#580)."
rlang,411,You can now unquote quosured symbols as LHS of `:=`. The symbol is automatically unwrapped from the quosure.
rlang,412,"Quosure methods have been defined for common operations like `==`. These methods fail with an informative error message suggesting to unquote the quosure (#478, #tidyverse/dplyr#3476)."
rlang,413,"`as_data_pronoun()` now accepts data masks. If the mask has multiple environments, all of these are looked up when subsetting the pronoun. Function objects stored in the mask are bypassed."
rlang,414,"It is now possible to unquote strings in function position. This is consistent with how the R parser coerces strings to symbols. These two expressions are now equivalent: `expr(""foo""())` and `expr((!!""foo"")())`."
rlang,415,Quosures converted to functions with `as_function()` now support nested quosures.
rlang,416,"`expr_deparse()` (used to print quosures at the console) now escapes special characters. For instance, newlines now print as `""\n""` (#484). This ensures that the roundtrip `parse_expr(expr_deparse(x))` is not lossy."
rlang,417,`new_data_mask()` now throws an error when `bottom` is not a child of `top` (#551).
rlang,418,Formulas are now evaluated in the correct environment within `eval_tidy()`. This fixes issues in dplyr and other tidy-evaluation interfaces.
rlang,419,New functions `new_quosures()` and `as_quosures()` to create or coerce to a list of quosures. This is a small S3 class that ensures two invariants on subsetting and concatenation: that each element is a quosure and that the list is always named even if only with a vector of empty strings.
rlang,420,"`env()` now treats a single unnamed argument as the parent of the new environment. Consequently, `child_env()` is now superfluous and is now in questioning life cycle."
rlang,421,New `current_env()` and `current_fn()` functions to retrieve the current environment or the function being evaluated. They are equivalent to `base::environment()` and `base::sys.function()` called without argument.
rlang,422,`env_get()` and `env_get_list()` gain a `default` argument to provide a default value for non-existing bindings.
rlang,423,`env_poke()` now returns the old value invisibly rather than the input environment.
rlang,424,"The new function `env_name()` returns the name of an environment. It always adds the ""namespace:"" prefix to namespace names. It returns ""global"" instead of "".GlobalEnv"" or ""R_GlobalEnv"", ""empty"" instead of ""R_EmptyEnv"". The companion `env_label()` is like `env_name()` but returns the memory address for anonymous environments."
rlang,425,`env_parents()` now returns a named list. The names are taken with `env_name()`.
rlang,426,`env_parents()` and `env_tail()` now stop at the global environment by default. This can be changed with the `last` argument. The empty environment is always a stopping condition so you can take the parents or the tail of an environment on the search path without changing the default.
rlang,427,New predicates `env_binding_are_active()` and `env_binding_are_lazy()` detect the kind of bindings in an environment.
rlang,428,`env_binding_lock()` and `env_binding_unlock()` allows to lock and unlock multiple bindings. The predicate `env_binding_are_locked()` tests if bindings are locked.
rlang,429,`env_lock()` and `env_is_locked()` lock an environment or test if an environment is locked.
rlang,430,`env_print()` pretty-prints environments. It shows the contents (up to 20 elements) and the properties of the environment.
rlang,431,`is_scoped()` has been soft-deprecated and renamed to `is_attached()`. It now supports environments in addition to search names.
rlang,432,`env_bind_lazy()` and `env_bind_active()` now support quosures.
rlang,433,`env_bind_exprs()` and `env_bind_fns()` are soft-deprecated and renamed to `env_bind_lazy()` and `env_bind_active()` for clarity and consistency.
rlang,434,"`env_bind()`, `env_bind_exprs()`, and `env_bind_fns()` now return the list of old binding values (or missing arguments when there is no old value). This makes it easy to restore the original environment state:"
rlang,434,"```
old <- env_bind(env, foo = ""foo"", bar = ""bar"")
env_bind(env, !!!old)
```"
rlang,435,"`env_bind()` now supports binding missing arguments and removing bindings with zap sentinels. `env_bind(env, foo = )` binds a missing argument and `env_bind(env, foo = zap())` removes the `foo` binding."
rlang,436,The `inherit` argument of `env_get()` and `env_get_list()` has changed position. It now comes after `default`.
rlang,437,`scoped_bindings()` and `with_bindings()` can now be called without bindings.
rlang,438,`env_clone()` now recreates active bindings correctly.
rlang,439,`env_get()` now evaluates promises and active bindings since these are internal objects which should not be exposed at the R level (#554)
rlang,440,"`env_print()` calls `get_env()` on its argument, making it easier to see the environment of closures and quosures (#567)."
rlang,441,`env_get()` now supports retrieving missing arguments when `inherit` is `FALSE`.
rlang,442,"`is_call()` now accepts multiple namespaces. For instance `is_call(x, ""list"", ns = c("""", ""base""))` will match if `x` is `list()` or if it's `base::list()`:"
rlang,443,"`call_modify()` has better support for `...` and now treats it like a named argument. `call_modify(call, ... = )` adds `...` to the call and `call_modify(call, ... = NULL)` removes it."
rlang,444,`call_modify()` now preserves empty arguments. It is no longer necessary to use `missing_arg()` to add a missing argument to a call. This is possible thanks to the new `.preserve_empty` option of `dots_list()`.
rlang,445,`call_modify()` now supports removing unexisting arguments (#393) and passing multiple arguments with the same name (#398). The new `.homonyms` argument controls how to treat these arguments.
rlang,446,`call_standardise()` now handles primitive functions like `~` properly (#473).
rlang,447,"`call_print_type()` indicates how a call is deparsed and printed at the console by R: prefix, infix, and special form."
rlang,448,The `call_` functions such as `call_modify()` now correctly check that their input is the right type (#187).
rlang,449,New function `zap()` returns a sentinel that instructs functions like `env_bind()` or `call_modify()` that objects are to be removed.
rlang,450,New function `rep_named()` repeats value along a character vector of names.
rlang,451,New function `exec()` is a simpler replacement to `invoke()` (#536). `invoke()` has been soft-deprecated.
rlang,452,Lambda functions created from formulas with `as_function()` are now classed. Use `is_lambda()` to check a function was created with the formula shorthand.
rlang,453,`is_integerish()` now supports large double values (#578).
rlang,454,`are_na()` now requires atomic vectors (#558).
rlang,455,The operator `%@​%` has now a replacement version to update attributes of an object (#207).
rlang,456,"`fn_body()` always returns a `{` block, even if the function has a single expression. For instance `fn_body(function(x) do())` returns `quote({ do() })`."
rlang,457,`is_string()` now returns `FALSE` for `NA_character_`.
rlang,458,The vector predicates have been rewritten in C for performance.
rlang,459,The `finite` argument of `is_integerish()` is now `NULL` by default. Missing values are now considered as non-finite for consistency with `base::is.finite()`.
rlang,460,`is_bare_integerish()` and `is_scalar_integerish()` gain a `finite` argument for consistency with `is_integerish()`.
rlang,461,`flatten_if()` and `squash_if()` now handle primitive functions like `base::is.list()` as predicates.
rlang,462,`is_symbol()` now accepts a character vector of names to mach the symbol against.
rlang,463,"`parse_exprs()` and `parse_quos()` now support character vectors. Note that the output may be longer than the input as each string may yield multiple expressions (such as `""foo; bar""`)."
rlang,464,`parse_quos()` now adds the `quosures` class to its output.
rlang,465,rlang has been attached with a `library()` call.
rlang,466,The deprecated function has been called from the global environment.
rlang,467,"`.data[[foo]]` is now an unquote operator. This guarantees that `foo` is evaluated in the context rather than the data mask and makes it easier to treat `.data[[""bar""]]` the same way as a symbol. For instance, this will help ensuring that `group_by(df, .data[[""name""]])` and `group_by(df, name)` produce the same column name."
rlang,468,"Automatic naming of expressions now uses a new deparser (still unexported) instead of `quo_text()`. Following this change, automatic naming is now compatible with all object types (via `pillar::type_sum()` if available), prevents multi-line names, and ensures `name` and `.data[[""name""]]` are given the same default name."
rlang,469,Supplying a name with `!!!` calls is soft-deprecated. This name is ignored because only the names of the spliced vector are applied.
rlang,470,"Quosure lists returned by `quos()` and `enquos()` now have ""list-of"" behaviour: the types of new elements are checked when adding objects to the list. Consequently, assigning non-quosure objects to quosure lists is now soft-deprecated. Please coerce to a bare list with `as.list()` beforehand."
rlang,471,`as_quosure()` now requires an explicit environment for symbols and calls. This should typically be the environment in which the expression was created.
rlang,472,`names()` and `length()` methods for data pronouns are deprecated. It is no longer valid to write `names(.data)` or `length(.data)`.
rlang,473,Using `as.character()` on quosures is soft-deprecated (#523).
rlang,474,Using `get_env()` without supplying an environment is now soft-deprecated. Please use `current_env()` to retrieve the current environment.
rlang,475,The frame and stack API is soft-deprecated. Some of the functionality has been replaced by `trace_back()`.
rlang,476,The `new_vector_along()` family is soft-deprecated because these functions are longer to type than the equivalent `rep_along()` or `rep_named()` calls without added clarity.
rlang,477,"Passing environment wrappers like formulas or functions to `env_` functions is now soft-deprecated. This internal genericity was causing confusion (see issue #427). You should now extract the environment separately before calling these functions. This change concerns `env_depth()`, `env_poke_parent()`, `env_parent<-`, `env_tail()`, `set_env()`, `env_clone()`, `env_inherits()`, `env_bind()`, `scoped_bindings()`, `with_bindings()`, `env_poke()`, `env_has()`, `env_get()`, `env_names()`, `env_bind_exprs()` and `env_bind_fns()`."
rlang,478,`cnd_signal()` now always installs a muffling restart for non-critical conditions. Consequently the `.mufflable` argument has been soft-deprecated and no longer has any effect.
rlang,479,Calling `UQ()` and `UQS()` with the rlang namespace qualifier is deprecated as of rlang 0.3.0. Just use the unqualified forms instead:
rlang,479,"```
# Bad
rlang::expr(mean(rlang::UQ(var) * 100))

# Ok
rlang::expr(mean(UQ(var) * 100))

# Good
rlang::expr(mean(!!var * 100))
```"
rlang,479,"Although soft-deprecated since rlang 0.2.0, `UQ()` and `UQS()` can still be used for now."
rlang,480,The `call` argument of `abort()` and condition constructors is now deprecated in favour of storing full backtraces.
rlang,481,The `.standardise` argument of `call_modify()` is deprecated. Please use `call_standardise()` beforehand.
rlang,482,The `sentinel` argument of `env_tail()` has been deprecated and renamed to `last`.
rlang,483,`as_dictionary()` is now defunct.
rlang,484,"The experimental function `rst_muffle()` is now defunct. Please use `cnd_muffle()` instead. Unlike its predecessor, `cnd_muffle()` is not generic. It is marked as a calling handler and thus can be passed directly to `with_handlers()` to muffle specific conditions (such as specific subclasses of warnings)."
rlang,485,"`cnd_inform()`, `cnd_warn()` and `cnd_abort()` are retired and defunct. The old `cnd_message()`, `cnd_warning()`, `cnd_error()` and `new_cnd()` constructors deprecated in rlang 0.2.0 are now defunct."
rlang,486,"Modifying a condition with `cnd_signal()` is defunct. In addition, creating a condition with `cnd_signal()` is soft-deprecated, please use the new function \[signal()\] instead."
rlang,487,`inplace()` has been renamed to `calling()` to follow base R terminology more closely.
rlang,488,The functions from the restart API are now in the questioning lifecycle stage. It is not clear yet whether we want to recommend restarts as a style of programming in R.
rlang,489,"`prepend()` and `modify()` are in the questioning stage, as well as `as_logical()`, `as_character()`, etc. We are still figuring out what vector tools belong in rlang."
rlang,490,"`flatten()`, `squash()` and their atomic variants are now in the questioning lifecycle stage. They have slightly different semantics than the flattening functions in purrr and we are currently rethinking our approach to flattening with the new typing facilities of the vctrs package."
rlang,491,Functions with tidy dots support now allow splicing atomic vectors.
rlang,492,Quosures no longer capture the current `srcref`.
rlang,493,Formulas are now evaluated in the correct environment by `eval_tidy()`. This fixes issues in dplyr and other tidy-evaluation interfaces.
rlang,494,The `!!` operator now has the precedence of unary `+` and `-` which allows a much more natural syntax: `!!a > b` only unquotes `a` rather than the whole `a > b` expression.
rlang,495,`enquo()` works in magrittr pipes: `mtcars %>% select(!!enquo(var))`.
rlang,496,`enquos()` is a variant of `quos()` that has a more natural interface for capturing multiple arguments and `...`.
rlang,497,"The backend for `quos()`, `exprs()`, `list2()`, `dots_list()`, etc is now written in C. This greatly improve the performance of dots capture, especially with the splicing operator `!!!` which now scales much better (you'll see a 1000x performance gain in some cases). The unquoting algorithm has also been improved which makes `enexpr()` and `enquo()` more efficient as well."
rlang,498,"The tidy eval `!!` operator now binds tightly. You no longer have to wrap it in parentheses, i.e. `!!x > y` will only unquote `x`. Technically the `!!` operator has the same precedence as unary `-` and `+`. This means that `!!a:b` and `!!a + b` are equivalent to `(!!a):b` and `(!!a) + b`. On the other hand `!!a^b` and `!!a$b` are equivalent to`!!(a^b)` and `!!(a$b)`."
rlang,499,"The print method for quosures has been greatly improved. Quosures no longer appear as formulas but as expressions prefixed with `^`; quosures are colourised according to their environment; unquoted objects are displayed between angular brackets instead of code (i.e. an unquoted integer vector is shown as `<int: 1, 2>` rather than `1:2`); unquoted S3 objects are displayed using `pillar::type_sum()` if available."
rlang,500,"New `enquos()` function to capture arguments. It treats `...` the same way as `quos()` but can also capture named arguments just like `enquo()`, i.e. one level up. By comparison `quos(arg)` only captures the name `arg` rather than the expression supplied to the `arg` argument. In addition, `enexprs()` is like `enquos()` but like `exprs()` it returns bare expressions. And `ensyms()` expects strings or symbols."
rlang,501,It is now possible to use `enquo()` within a magrittr pipe:
rlang,501,"```
select_one <- function(df, var) {
  df %>% dplyr::select(!!enquo(var))
}
```"
rlang,501,"Technically, this is because `enquo()` now also captures arguments in parents of the current environment rather than just in the current environment. The flip side of this increased flexibility is that if you made a typo in the name of the variable you want to capture, and if an object of that name exists anywhere in the parent contexts, you will capture that object rather than getting an error."
rlang,502,`quo_expr()` has been renamed to `quo_squash()` in order to better reflect that it is a lossy operation that flattens all nested quosures.
rlang,503,`!!!` now accepts any kind of objects for consistency. Scalar types are treated as vectors of length 1. Previously only symbolic objects like symbols and calls were treated as such.
rlang,504,`ensym()` is a new variant of `enexpr()` that expects a symbol or a string and always returns a symbol. If a complex expression is supplied it fails with an error.
rlang,505,`exprs()` and `quos()` gain a `.unquote_names` arguments to switch off interpretation of `:=` as a name operator. This should be useful for programming on the language targetting APIs such as data.table.
rlang,506,`exprs()` gains a `.named` option to auto-label its arguments (#267).
rlang,507,"Functions taking dots by value rather than by expression (e.g. regular functions, not quoting functions) have a more restricted set of unquoting operations. They only support `:=` and `!!!`, and only at top-level. I.e. `dots_list(!!! x)` is valid but not `dots_list(nested_call(!!! x))` (#217)."
rlang,508,Functions taking dots with `list2()` or `dots_list()` now support splicing of `NULL` values. `!!! NULL` is equivalent to `!!! list()` (#242).
rlang,509,"Capture operators now support evaluated arguments. Capturing a forced or evaluated argument is exactly the same as unquoting that argument: the actual object (even if a vector) is inlined in the expression. Capturing a forced argument occurs when you use `enquo()`, `enexpr()`, etc too late. It also happens when your quoting function is supplied to `lapply()` or when you try to quote the first argument of an S3 method (which is necessarily evaluated in order to detect which class to dispatch to). (#295, #300)."
rlang,510,"Parentheses around `!!` are automatically removed. This makes the generated expression call cleaner: `(!! sym(""name""))(arg)`. Note that removing the parentheses will never affect the actual precedence within the expression as the parentheses are only useful when parsing code as text. The parentheses will also be added by R when printing code if needed (#296)."
rlang,511,Quasiquotation now supports `!!` and `!!!` as functional forms:
rlang,511,"```
expr(`!!`(var))
quo(call(`!!!`(var)))
```"
rlang,511,This is consistent with the way native R operators parses to function calls. These new functional forms are to be preferred to `UQ()` and `UQS()`. We are now questioning the latter and might deprecate them in a future release.
rlang,512,The quasiquotation parser now gives meaningful errors in corner cases to help you figure out what is wrong.
rlang,513,"New getters and setters for quosures: `quo_get_expr()`, `quo_get_env()`, `quo_set_expr()`, and `quo_set_env()`. Compared to `get_expr()` etc, these accessors only work on quosures and are slightly more efficient."
rlang,514,`quo_is_symbol()` and `quo_is_call()` now take the same set of arguments as `is_symbol()` and `is_call()`.
rlang,515,`enquo()` and `enexpr()` now deal with default values correctly (#201).
rlang,516,Splicing a list no longer mutates it (#280).
rlang,517,The new functions `cnd_warn()` and `cnd_inform()` transform conditions to warnings or messages before signalling them.
rlang,518,`cnd_signal()` now returns invisibly.
rlang,519,`cnd_signal()` and `cnd_abort()` now accept character vectors to create typed conditions with several S3 subclasses.
rlang,520,`is_condition()` is now properly exported.
rlang,521,Condition signallers such as `cnd_signal()` and `abort()` now accept a call depth as `call` arguments. This allows plucking a call from further up the call stack (#30).
rlang,522,New helper `catch_cnd()`. This is a small wrapper around `tryCatch()` that captures and returns any signalled condition. It returns `NULL` if none was signalled.
rlang,523,"`cnd_abort()` now adds the correct S3 classes for error conditions. This fixes error catching, for instance by `testthat::expect_error()`."
rlang,524,`env_get_list()` retrieves muliple bindings from an environment into a named list.
rlang,525,`with_bindings()` and `scoped_bindings()` establish temporary bindings in an environment.
rlang,526,`is_namespace()` is a snake case wrapper around `isNamespace()`.
rlang,527,"New functions `inherits_any()`, `inherits_all()`, and `inherits_only()`. They allow testing for inheritance from multiple classes. The `_any` variant is equivalent to `base::inherits()` but is more explicit about its behaviour. `inherits_all()` checks that all classes are present in order and `inherits_only()` checks that the class vectors are identical."
rlang,528,New `fn_fmls<-` and `fn_fmls_names<-` setters.
rlang,529,"New function experimental function `chr_unserialise_unicode()` for turning characters serialised to unicode point form (e.g. `<U+xxxx>`) to UTF-8. In addition, `as_utf8_character()` now translates those as well. (@​krlmlr)"
rlang,530,`expr_label()` now supports quoted function definition calls (#275).
rlang,531,`call_modify()` and `call_standardise()` gain an argument to specify an environment. The call definition is looked up in that environment when the call to modify or standardise is not wrapped in a quosure.
rlang,532,`is_symbol()` gains a `name` argument to check that that the symbol name matches a string (#287).
rlang,533,"New `rlang_box` class. Its purpose is similar to the `AsIs` class from `base::I()`, i.e. it protects a value temporarily. However it does so by wrapping the value in a scalar list. Use `new_box()` to create a boxed value, `is_box()` to test for a boxed value, and `unbox()` to unbox it. `new_box()` and `is_box()` accept optional subclass."
rlang,534,"The vector constructors such as `new_integer()`, `new_double_along()` etc gain a `names` argument. In the case of the `_along` family it defaults to the names of the input vector."
rlang,535,"When nested quosures are evaluated with `eval_tidy()`, the `.env` pronoun now correctly refers to the current quosure under evaluation (#174). Previously it would always refer to the environment of the outermost quosure."
rlang,536,`as_pairlist()` (part of the experimental API) now supports `NULL` and objects of type pairlist (#397).
rlang,537,"Fixed a performance bug in `set_names()` that caused a full copy of the vector names (@​jimhester, #366)."
rlang,538,"The particle ""lang"" has been renamed to ""call"":"
rlang,539,`lang()` has been renamed to `call2()`.
rlang,540,`new_language()` has ben renamed to `new_call()`.
rlang,541,`is_lang()` has been renamed to `is_call()`. We haven't replaced the `is_unary_lang()` and `is_binary_lang()` because they are redundant with the `n` argument of `is_call()`.
rlang,542,"All call accessors such as `lang_fn()`, `lang_name()`, `lang_args()` etc are soft-deprecated and renamed with `call_` prefix. In rlang 0.1 calls were called ""language"" objects in order to follow the R type nomenclature as returned by `base::typeof()`. We wanted to avoid adding to the confusion between S modes and R types. With hindsight we find it is better to use more meaningful type names."
rlang,543,"We now use the term ""data mask"" instead of ""overscope"". We think data mask is a more natural name in the context of R. We say that that objects from user data mask objects in the current environment. This makes reference to object masking in the search path which is due to the same mechanism (in technical terms, lexical scoping with hierarchically nested environments). Following this new terminology, the new functions `as_data_mask()` and `new_data_mask()` replace `as_overscope()` and `new_overscope()`. `as_data_mask()` has also a more consistent interface. These functions are only meant for developers of tidy evaluation interfaces."
rlang,544,We no longer require a data mask (previously called overscope) to be cleaned up after evaluation. `overscope_clean()` is thus soft-deprecated without replacement.
rlang,545,"`!!` now binds tightly in order to match intuitive parsing of tidy eval code, e.g. `!! x > y` is now equivalent to `(!! x) > y`. A corollary of this new syntax is that you now have to be explicit when you want to unquote the whole expression on the right of `!!`. For instance you have to explicitly write `!! (x > y)` to unquote `x > y` rather than just `x`."
rlang,546,"`UQ()`, `UQS()` and `:=` now issue an error when called directly. The previous definitions caused surprising results when the operators were invoked in wrong places (i.e. not in quasiquoted arguments)."
rlang,547,"The prefix form `` `!!`() `` is now an alias to `!!` rather than `UQE()`. This makes it more in line with regular R syntax where operators are parsed as regular calls, e.g. `a + b` is parsed as `` `+`(a, b) `` and both forms are completely equivalent. Also the prefix form `` `!!!`() `` is now equivalent to `!!!`."
rlang,548,`UQE()` is now deprecated in order to simplify the syntax of quasiquotation. Please use `!! get_expr(x)` instead.
rlang,549,`expr_interp()` now returns a formula instead of a quosure when supplied a formula.
rlang,550,`is_quosureish()` and `as_quosureish()` are deprecated. These functions assumed that quosures are formulas but that is only an implementation detail.
rlang,551,"`new_cnd()` is now `cnd()` for consistency with other constructors. Also, `cnd_error()`, `cnd_warning()` and `cnd_message()` are now `error_cnd()`, `warning_cnd()` and `message_cnd()` to follow our naming scheme according to which the type of output is a suffix rather than a prefix."
rlang,552,`is_node()` now returns `TRUE` for calls as well and `is_pairlist()` does not return `TRUE` for `NULL` objects. Use `is_node_list()` to determine whether an object either of type `pairlist` or `NULL`. Note that all these functions are still experimental.
rlang,553,`set_names()` no longer automatically splices lists of character vectors as we are moving away from automatic splicing semantics.
rlang,554,Calling the functional forms of unquote operators with the rlang namespace qualifier is soft-deprecated. `UQ()` and `UQS()` are not function calls so it does not make sense to namespace them. Supporting namespace qualifiers complicates the implementation of unquotation and is misleading as to the nature of unquoting (which are syntactic operators at quotation-time rather than function calls at evaluation-time).
rlang,555,"We are now questioning `UQ()` and `UQS()` as functional forms of `!!`. If `!!` and `!!!` were native R operators, they would parse to the functional calls `` `!!`() `` and `` `!!!`() ``. This is now the preferred way to unquote with a function call rather than with the operators. We haven't decided yet whether we will deprecate `UQ()` and `UQS()` in the future. In any case we recommend using the new functional forms."
rlang,556,`parse_quosure()` and `parse_quosures()` are soft-deprecated in favour of `parse_quo()` and `parse_quos()`. These new names are consistent with the rule that abbreviated suffixes indicate the return type of a function. In addition the new functions require their callers to explicitly supply an environment for the quosures.
rlang,557,Using `f_rhs()` and `f_env()` on quosures is soft-deprecated. The fact that quosures are formulas is an implementation detail that might change in the future. Please use `quo_get_expr()` and `quo_get_env()` instead.
rlang,558,`quo_expr()` is soft-deprecated in favour of `quo_squash()`. `quo_expr()` was a misnomer because it implied that it was a mere expression acccessor for quosures whereas it was really a lossy operation that squashed all nested quosures.
rlang,559,"With the renaming of the `lang` particle to `call`, all these functions are soft-deprecated: `lang()`, `is_lang()`, `lang_fn()`, `lang_name()`, `lang_args()`. In addition, `lang_head()` and `lang_tail()` are soft-deprecated without replacement because these are low level accessors that are rarely needed."
rlang,560,`as_overscope()` is soft-deprecated in favour of `as_data_mask()`.
rlang,561,"The node setters were renamed from `mut_node_` prefix to `node_poke_`. This change follows a new naming convention in rlang where mutation is referred to as ""poking""."
rlang,562,`splice()` is now in questioning stage as it is not needed given the `!!!` operator works in functions taking dots with `dots_list()`.
rlang,563,"`lgl_len()`, `int_len()` etc have been soft-deprecated and renamed with `new_` prefix, e.g. `new_logical()` and `new_integer()`. This is for consistency with other non-variadic object constructors."
rlang,564,`ll()` is now an alias to `list2()`. This is consistent with the new `call2()` constructor for calls. `list2()` and `call2()` are versions of `list()` and `call()` that support splicing of lists with `!!!`. `ll()` remains around as a shorthand for users who like its conciseness.
rlang,565,"Automatic splicing of lists in vector constructors (e.g. `lgl()`, `chr()`, etc) is now soft-deprecated. Please be explicit with the splicing operator `!!!`."
rlang,566,This is a maintenance release in anticipation of a forthcoming change to R's C API (use `MARK_NOT_MUTABLE()` instead of `SET_NAMED()`).
rlang,567,New function `is_reference()` to check whether two objects are one and the same.
rlang,568,`eval_tidy()` no longer maps over lists but returns them literally. This behaviour is an overlook from past refactorings and was never documented.
rlang,569,Bare formulas are now evaluated in the correct environment in tidyeval functions.
rlang,570,"`enquo()` now works properly within compiled functions. Before this release, constants optimised by the bytecode compiler couldn't be enquoted."
rlang,571,"The `new_environment()` constructor creates a child of the empty environment and takes an optional named list of data to populate it. Compared to `env()` and `child_env()`, it is meant to create environments as data structures rather than as part of a scope hierarchy."
rlang,572,The `new_call()` constructor creates calls out of a callable object (a function or an expression) and a pairlist of arguments. It is useful to avoid costly internal coercions between lists and pairlists of arguments.
rlang,573,`env_child()`'s first argument is now `.parent` instead of `parent`.
rlang,574,`mut_` setters like `mut_attrs()` and environment helpers like `env_bind()` and `env_unbind()` now return their (modified) input invisibly. This follows the tidyverse convention that functions called primarily for their side effects should return their input invisibly.
rlang,575,"`is_pairlist()` now returns `TRUE` for `NULL`. We added `is_node()` to test for actual pairlist nodes. In other words, `is_pairlist()` tests for the data structure while `is_node()` tests for the type."
rlang,576,"`env()` and `env_child()` can now get arguments whose names start with `.`. Prior to this fix, these arguments were partial-matching on `env_bind()`'s `.env` argument."
rlang,577,The internal `replace_na()` symbol was renamed to avoid a collision with an exported function in tidyverse. This solves an issue occurring in old versions of R prior to 3.3.2 (#133).
rstudioapi,1,Added `setGhostText()` for setting ghost text in the current editor.
rstudioapi,2,Added `getDelegatedAzureToken` for Posit Workbench users needing to expose OAuth2 tokens for Azure services that have already had permissions configured
rstudioapi,3,`documentPath()` now marks the encoding of file paths as UTF-8. (#257)
rstudioapi,4,"`getSourceEditorContext()` gains the `id` argument, to be used to request the editor context for a document with an already-known ID. (#251)"
rstudioapi,5,"Added `documentOpen()`, for opening a document in RStudio and optionally navigating the cursor to a particular point in the file. The method is synchronous and returns the document ID upon completion."
rstudioapi,6,Fixed an issue where `rstudioapi::askForSecret()` would erroneously fall back to using `rstudioapi::askForPassword()` during Knit.
rstudioapi,7,"Added `registerCommandCallback`, `registerCommandStreamCallback`, and `unregisterCommandCallback`, used to execute a callback after an IDE command is executed."
rstudioapi,8,Fixed an issue where `rstudioapi::insertText()` would fail. (#208)
rstudioapi,9,Fixed an issue where remote `rstudioapi` calls would erroneously use a previous response in some cases.
rstudioapi,10,Allow `navigateToFile` to accept an empty file. This file will default to the file currently in view in the active column.
rstudioapi,11,"Added `registerChunkExecCallback` and `unregisterChunkExecCallback`, used to execute a callback after a chunk is ran."
rstudioapi,12,`rstudioapi::launcherResourceLimit()` now properly delegates the type and memory arguments. (#164)
rstudioapi,13,"`rstudioapi` gains the function `highlightUi()`, used to highlight UI elements in newer versions of RStudio."
rstudioapi,14,Paths returned from `selectFile()` are now properly marked with UTF-8 encoding.
rstudioapi,15,"It is now possible for `rstudioapi` to communicate with a parent RStudio session, for R sessions launched as RStudio jobs. Use `rstudioapi::isAvailable(child_ok = TRUE)` to assert that it's okay to check that `rstudioapi` is available and is running within an RStudio job."
rstudioapi,16,"Added `bugReport()`, a helper function for reporting RStudio bugs on the GitHub issue tracker with an issue template pre-populated with some helpful diagnostic information."
rstudioapi,17,"Added `userIdentity` and `systemUsername`, used to retrieve information about the current user."
rstudioapi,18,Added the parameters `echo` and `focus` to `sendToConsole()`.
rstudioapi,19,"Added functions for displaying jobs in RStudio's Jobs pane: `jobAdd()`, `jobRemove()`, etc."
rstudioapi,20,"Added `translateLocalUrl()`, for translating localhost URLs to externally addressable ones on RStudio Server."
rstudioapi,21,"Added functions for installing + using build tools: `buildToolsCheck()`, `buildToolsInstall()`, `buildToolsExec()`"
rstudioapi,22,"Added functions for installing + using themes: `addTheme()`, `applyTheme()`, `convertTheme()`, `getThemes()`, `getThemeInfo()`."
rstudioapi,23,"Added `previewSql()`, for previewing output from executing a SQL query."
rstudioapi,24,"Added `askForSecret()`, for prompting the user to enter a password or otherwise privileged information."
rstudioapi,25,Fixed an issue where `getActiveProject()` failed for non-ASCII paths. (#86)
rstudioapi,26,"Added methods for prompting the user for file paths: `selectFile()`, `selectDirectory()`."
rstudioapi,27,`askForPassword()` gains a default prompt (#41)
rstudioapi,28,Add `createProjectTemplate()` function
rstudioapi,29,Add `setPersistentValue()` / `getPersistentValue()` functions
rstudioapi,30,"Add methods for interacting with Terminal tab: `terminalActivate()`, `terminalClear()`, `terminalCreate()`, `terminalList()`, `terminalBuffer()`, `terminalContext()`, `terminalVisible()`, `terminalBusy()`, `terminalRunning()`, `terminalKill()`, `terminalSend()`, `terminalExecute()`, and `terminalExitCode()`."
rstudioapi,31,Add sendToConsole function
rstudioapi,32,Add APIs for setting cursor position in document
rstudioapi,33,Add askForPassword function
rstudioapi,34,Add getActiveProject function
rstudioapi,35,"Add API methods for interacting with a document open in RStudio: 'insertText()', 'modifyRange()' and 'getActiveDocumentContext()'."
rstudioapi,36,Add stub and documentation for sourceMarker function
rstudioapi,37,Compatibility with calling conventions for RStudio v0.99
rstudioapi,38,"Stubs and documentation for versionInfo, previewRd, and viewer functions"
rstudioapi,39,Initial release to CRAN
stringr,1,"`str_trunc()` now correctly truncates strings when `side` is `""left""` or `""center""` (@​UchidaMizuki, #512)."
stringr,2,stringr functions now consistently implement the tidyverse recycling rules (#372). There are two main changes:
stringr,3,"Only vectors of length 1 are recycled. Previously, (e.g.) `str_detect(letters, c(""x"", ""y""))` worked, but it now errors."
stringr,4,"`str_c()` ignores `NULLs`, rather than treating them as length 0 vectors. Additionally, many more arguments now throw errors, rather than warnings, if supplied the wrong type of input."
stringr,5,`regex()` and friends now generate class names with `stringr_` prefix (#384).
stringr,6,"`str_detect()`, `str_starts()`, `str_ends()` and `str_subset()` now error when used with either an empty string (`""""`) or a `boundary()`. These operations didn't really make sense (`str_detect(x, """")` returned `TRUE` for all non-empty strings) and made it easy to make mistakes when programming."
stringr,7,Many tweaks to the documentation to make it more useful and consistent.
stringr,8,"New `vignette(""from-base"")` by @​sastoudt provides a comprehensive comparison between base R functions and their stringr equivalents. It's designed to help you move to stringr if you're already familiar with base R string functions (#266)."
stringr,9,"New `str_escape()` escapes regular expression metacharacters, providing an alternative to `fixed()` if you want to compose a pattern from user supplied strings (#408)."
stringr,10,"New `str_equal()` compares two character vectors using unicode rules, optionally ignoring case (#381)."
stringr,11,`str_extract()` can now optionally extract a capturing group instead of the complete match (#420).
stringr,12,New `str_flatten_comma()` is a special case of `str_flatten()` designed for comma separated flattening and can correctly apply the Oxford commas when there are only two elements (#444).
stringr,13,New `str_split_1()` is tailored for the special case of splitting up a single string (#409).
stringr,14,"New `str_split_i()` extract a single piece from a string (#278, @​bfgray3)."
stringr,15,"New `str_like()` allows the use of SQL wildcards (#280, @​rjpat)."
stringr,16,New `str_rank()` to complete the set of order/rank/sort functions (#353).
stringr,17,New `str_sub_all()` to extract multiple substrings from each string.
stringr,18,"New `str_unique()` is a wrapper around `stri_unique()` and returns unique string values in a character vector (#249, @​seasmith)."
stringr,19,`str_view()` uses ANSI colouring rather than an HTML widget (#370). This works in more places and requires fewer dependencies. It includes a number of other small improvements:
stringr,20,It no longer requires a pattern so you can use it to display strings with special characters.
stringr,21,It highlights unusual whitespace characters.
stringr,22,It's vectorised over both string`and`pattern\` (#407).
stringr,23,"It defaults to displaying all matches, making `str_view_all()` redundant (and hence deprecated) (#455)."
stringr,24,New `str_width()` returns the display width of a string (#380).
stringr,25,stringr is now licensed as MIT (#351).
stringr,26,Better error message if you supply a non-string pattern (#378).
stringr,27,A new data source for `sentences` has fixed many small errors.
stringr,28,`str_extract()` and `str_exctract_all()` now work correctly when `pattern` is a `boundary()`.
stringr,29,`str_flatten()` gains a `last` argument that optionally override the final separator (#377). It gains a `na.rm` argument to remove missing values (since it's a summary function) (#439).
stringr,30,"`str_pad()` gains `use_width` argument to control whether to use the total code point width or the number of code points as ""width"" of a string (#190)."
stringr,31,`str_replace()` and `str_replace_all()` can use standard tidyverse formula shorthand for `replacement` function (#331).
stringr,32,`str_starts()` and `str_ends()` now correctly respect regex operator precedence (@​carlganz).
stringr,33,"`str_wrap()` breaks only at whitespace by default; set `whitespace_only = FALSE` to return to the previous behaviour (#335, @​rjpat)."
stringr,34,"`word()` now returns all the sentence when using a negative `start` parameter that is greater or equal than the number of words. (@​pdelboca, #245)"
stringr,35,`str_interp()` now renders lists consistently independent on the presence of additional placeholders (@​amhrasmussen).
stringr,36,"New `str_starts()` and `str_ends()` functions to detect patterns at the beginning or end of strings (@​jonthegeek, #258)."
stringr,37,"`str_subset()`, `str_detect()`, and `str_which()` get `negate` argument, which is useful when you want the elements that do NOT match (#259, @​yutannihilation)."
stringr,38,"New `str_to_sentence()` function to capitalize with sentence case (@​jonthegeek, #202)."
stringr,39,`str_replace_all()` with a named vector now respects modifier functions (#207)
stringr,40,"`str_trunc()` is once again vectorised correctly (#203, @​austin3dickey)."
stringr,41,"`str_view()` handles `NA` values more gracefully (#217). I've also tweaked the sizing policy so hopefully it should work better in notebooks, while preserving the existing behaviour in knit documents (#232)."
stringr,42,"During package build, you may see `Error : object ‘ignore.case’ is not exported by 'namespace:stringr'`. This is because the long deprecated `str_join()`, `ignore.case()` and `perl()` have now been removed."
stringr,43,`str_glue()` and `str_glue_data()` provide convenient wrappers around `glue` and `glue_data()` from the [glue](https://glue.tidyverse.org/) package (#157).
stringr,44,`str_flatten()` is a wrapper around `stri_flatten()` and clearly conveys flattening a character vector into a single string (#186).
stringr,45,"`str_remove()` and `str_remove_all()` functions. These wrap `str_replace()` and `str_replace_all()` to remove patterns from strings. (@​Shians, #178)"
stringr,46,"`str_squish()` removes spaces from both the left and right side of strings, and also converts multiple space (or space-like characters) to a single space within strings (@​stephlocke, #197)."
stringr,47,"`str_sub()` gains `omit_na` argument for ignoring `NA`. Accordingly, `str_replace()` now ignores `NA`s and keeps the original strings. (@​yutannihilation, #164)"
stringr,48,"`str_trunc()` now preserves NAs (@​ClaytonJY, #162)"
stringr,49,"`str_trunc()` now throws an error when `width` is shorter than `ellipsis` (@​ClaytonJY, #163)."
stringr,50,"Long deprecated `str_join()`, `ignore.case()` and `perl()` have now been removed."
stringr,51,"`str_match_all()` now returns NA if an optional group doesn't match (previously it returned """"). This is more consistent with `str_match()` and other match failures (#134)."
stringr,52,"In `str_replace()`, `replacement` can now be a function that is called once for each match and whose return value is used to replace the match."
stringr,53,New `str_which()` mimics `grep()` (#129).
stringr,54,"A new vignette (`vignette(""regular-expressions"")`) describes the details of the regular expressions supported by stringr. The main vignette (`vignette(""stringr"")`) has been updated to give a high-level overview of the package."
stringr,55,`str_order()` and `str_sort()` gain explicit `numeric` argument for sorting mixed numbers and strings.
stringr,56,`str_replace_all()` now throws an error if `replacement` is not a character vector. If `replacement` is `NA_character_` it replaces the complete string with replaces with `NA` (#124).
stringr,57,"All functions that take a locale (e.g. `str_to_lower()` and `str_sort()`) default to ""en"" (English) to ensure that the default is consistent across platforms."
stringr,58,"Add sample datasets: `fruit`, `words` and `sentences`."
stringr,59,"`fixed()`, `regex()`, and `coll()` now throw an error if you use them with anything other than a plain string (#60). I've clarified that the replacement for `perl()` is `regex()` not `regexp()` (#61). `boundary()` has improved defaults when splitting on non-word boundaries (#58, @​lmullen)."
stringr,60,`str_detect()` now can detect boundaries (by checking for a `str_count()` \> 0) (#120). `str_subset()` works similarly.
stringr,61,`str_extract()` and `str_extract_all()` now work with `boundary()`. This is particularly useful if you want to extract logical constructs like words or sentences. `str_extract_all()` respects the `simplify` argument when used with `fixed()` matches.
stringr,62,"`str_subset()` now respects custom options for `fixed()` patterns (#79, @​gagolews)."
stringr,63,"`str_replace()` and `str_replace_all()` now behave correctly when a replacement string contains `$`s, `\\\\1`, etc. (#83, #99)."
stringr,64,`str_split()` gains a `simplify` argument to match `str_extract_all()` etc.
stringr,65,`str_view()` and `str_view_all()` create HTML widgets that display regular expression matches (#96).
stringr,66,`word()` returns `NA` for indexes greater than number of words (#112).
stringr,67,"stringr is now powered by [stringi](https://github.com/gagolews/stringi) instead of base R regular expressions. This improves unicode and support, and makes most operations considerably faster. If you find stringr inadequate for your string processing needs, I highly recommend looking at stringi in more detail."
stringr,68,"stringr gains a vignette, currently a straight forward update of the article that appeared in the R Journal."
stringr,69,"`str_c()` now returns a zero length vector if any of its inputs are zero length vectors. This is consistent with all other functions, and standard R recycling rules. Similarly, using `str_c(""x"", NA)` now yields `NA`. If you want `""xNA""`, use `str_replace_na()` on the inputs."
stringr,70,`str_replace_all()` gains a convenient syntax for applying multiple pairs of pattern and replacement to the same vector:
stringr,70,"```
input <- c(""abc"", ""def"")
str_replace_all(input, c(""[ad]"" = ""!"", ""[cf]"" = ""?""))
```"
stringr,71,"`str_match()` now returns NA if an optional group doesn't match (previously it returned """"). This is more consistent with `str_extract()` and other match failures."
stringr,72,"New `str_subset()` keeps values that match a pattern. It's a convenient wrapper for `x[str_detect(x)]` (#21, @​jiho)."
stringr,73,New `str_order()` and `str_sort()` allow you to sort and order strings in a specified locale.
stringr,74,New `str_conv()` to convert strings from specified encoding to UTF-8.
stringr,75,"New modifier `boundary()` allows you to count, locate and split by character, word, line and sentence boundaries."
stringr,76,"The documentation got a lot of love, and very similar functions (e.g. first and all variants) are now documented together. This should hopefully make it easier to locate the function you need."
stringr,77,"`ignore.case(x)` has been deprecated in favour of `fixed|regex|coll(x, ignore.case = TRUE)`, `perl(x)` has been deprecated in favour of `regex(x)`."
stringr,78,"`str_join()` is deprecated, please use `str_c()` instead."
stringr,79,fixed path in `str_wrap` example so works for more R installations.
stringr,80,remove dependency on plyr
stringr,81,Zero input to `str_split_fixed` returns 0 row matrix with `n` columns
stringr,82,Export `str_join`
stringr,83,new modifier `perl` that switches to Perl regular expressions
stringr,84,`str_match` now uses new base function `regmatches` to extract matches - this should hopefully be faster than my previous pure R algorithm
stringr,85,new `str_wrap` function which gives `strwrap` output in a more convenient format
stringr,86,new `word` function extract words from a string given user defined separator (thanks to suggestion by David Cooper)
stringr,87,`str_locate` now returns consistent type when matching empty string (thanks to Stavros Macrakis)
stringr,88,new `str_count` counts number of matches in a string.
stringr,89,`str_pad` and `str_trim` receive performance tweaks - for large vectors this should give at least a two order of magnitude speed up
stringr,90,str_length returns NA for invalid multibyte strings
stringr,91,fix small bug in internal `recyclable` function
stringr,92,"all functions now vectorised with respect to string, pattern (and where appropriate) replacement parameters"
stringr,93,"fixed() function now tells stringr functions to use fixed matching, rather than escaping the regular expression. Should improve performance for large vectors."
stringr,94,new ignore.case() modifier tells stringr functions to ignore case of pattern.
stringr,95,str_replace renamed to str_replace_all and new str_replace function added. This makes str_replace consistent with all functions.
stringr,96,new str_sub\<- function (analogous to substring\<-) for substring replacement
stringr,97,str_sub now understands negative positions as a position from the end of the string. -1 replaces Inf as indicator for string end.
stringr,98,"str_pad side argument can be left, right, or both (instead of center)"
stringr,99,str_trim gains side argument to better match str_pad
stringr,100,stringr now has a namespace and imports plyr (rather than requiring it)
stringr,101,fixed() now also escapes \|
stringr,102,str_join() renamed to str_c()
stringr,103,all functions more carefully check input and return informative error messages if not as expected.
stringr,104,add invert_match() function to convert a matrix of location of matches to locations of non-matches
stringr,105,add fixed() function to allow matching of fixed strings.
stringr,106,str_length now returns correct results when used with factors
stringr,107,str_sub now correctly replaces Inf in end argument with length of string
stringr,108,new function str_split_fixed returns fixed number of splits in a character matrix
stringr,109,str_split no longer uses strsplit to preserve trailing breaks
tibble,1,Skip tests if packages are missing.
tibble,2,Skip tests if packages are missing.
tibble,3,Merge pull request #1565 from tidyverse/snapshot-main-rcc-smoke-null.
tibble,4,Merge pull request #1562 from tidyverse/snapshot-main-rcc-smoke-null.
tibble,5,Merge pull request #1561 from tidyverse/snapshot-main-rcc-full-config-os-macos-latest-r-release.
tibble,6,Merge pull request #1560 from tidyverse/snapshot-main-R-CMD-check-base-null.
tibble,7,Fix rendering if suggested packages are missing.
tibble,8,Override :: to avoid failures in tests without suggested packages.
tibble,9,Merge branch 'docs'.
tibble,10,Snapshot updates for rcc-smoke (null) (#1548).
tibble,11,"Alt text (@​maelle, #1528, #1539)."
tibble,12,Merged cran-3.2.1 into main.
tibble,13,Internal changes only.
tibble,14,Merge pull request #1527 from tidyverse/snapshot-main-rcc-smoke-null.
tibble,15,Internal changes only.
tibble,16,Use symbol instead of string in `.Call()`.
tibble,17,"Accurate location of the source of an error in error messages (#1379, #1065, #1508)."
tibble,18,"`as_data_frame()` now also refers to `as.data.frame()` in its deprecation message (#1149, #1506)."
tibble,19,Deprecated functions and arguments where we could not detect usage by other CRAN packages (#1515):
tibble,20,"`data_frame_()`, `lst_()`, `frame_data()`"
tibble,21,"`as_tibble(validate = )`, `as_tibble(NULL)`, `new_tibble(subclass = )`"
tibble,22,`add_row()` and `add_column()` for non-data-frame input
tibble,23,`add_column()` for input with non-unique names
tibble,24,corner cases for `tbl[[x]]`
tibble,25,Breaking change: Remove `knit_print.trunc_mat()` method (#1516).
tibble,26,Forward `trunc_mat()` to new-style pillar methods (#1517).
tibble,27,"Allow `glue()` and other classed characters for subassignment (#1150, #1503)."
tibble,28,Reduce overhead of single-column subset assignment (#1363).
tibble,29,"New `vignette(""extending"")` (#275, #1512)."
tibble,30,"Minor updates (#1151, #1070, #1512, #1485)."
tibble,31,"Update example for `nrow` argument to `new_tibble()` (@​heavywatal, #1394)."
tibble,32,"Fix display of mermaid diagrams in `vignette(""formats"")` (@​maelle, #1497, #1498)."
tibble,33,Remove ANSI escapes from invariants article on pkgdown (#1374).
tibble,34,Require vctrs \>= 0.4.1 and pillar \>= 1.8.1
tibble,35,Use cli for formatting conditions (#1387).
tibble,36,"Use `vec_as_location(missing = ""error"")` for better error messages (#741, #1511)."
tibble,37,"Remove compatibility code for RSDA package which is broken anyway due to other changes (#923, #1509)."
tibble,38,"Skip tests if suggested packages not available (#1246, @​MichaelChirico)."
tibble,39,Remove obsolete tests (#1513).
tibble,40,Better reporting for error calls from `vec_as_location()` (#1237).
tibble,41,"Mention `median()` in Recovery section of `vignette(""numbers"")` (#1197)."
tibble,42,"`trunc_mat()` now returns a value with a different structure. This is considered an implementation detail that can change in the future, do not rely on it. The only guarantee is that calling `print()` will display the input like a tibble (#1059)."
tibble,43,Avoid listing `dim_desc()` in reexports.
tibble,44,"Add more examples for data frame and matrix columns (#978, #1012)."
tibble,45,Require rlang 1.0.1 and pillar 1.7.0 (#1063).
tibble,46,"Prefer `class` over `.subclass` in `rlang::error_cnd()` (#1015, #1060)."
tibble,47,`set_num_opts()` and `set_char_opts()` are reexported from pillar (#959).
tibble,48,`view()` uses `rlang::expr_deparse(width = Inf)` to avoid errors with long `|>` pipes (#957).
tibble,49,`new_tibble()` checks that the `nrow` argument is nonnegative and less than 2\^31 (#916).
tibble,50,`tbl_sum.tbl_df()` has an ellipsis in its formals for extensibility.
tibble,51,"Avoid necessity to set `""tibble.view_max""` option for lazy tables (#954)."
tibble,52,"Avoid blanket import for lifecycle package for compatibility with upcoming rlang (#955, @​romainfrancois)."
tibble,53,`as.data.frame.tbl_df()` strips inner column names (#837).
tibble,54,`new_tibble()` allows omitting the `nrow` argument again (#781).
tibble,55,"Move `vignette(""digits"")`, `vignette(""numbers"")`, `?num` and `?char` from the pillar package here (#913)."
tibble,56,Replace `iris` by `trees` (#943).
tibble,57,Various documentation improvements.
tibble,58,New `?tibble_options` help page (#912).
tibble,59,"`x[i, j] <- one_row_value` avoids explicit recycling of the right-hand side, the recycling happens implicitly in `vctrs::vec_assign()` for performance (#922)."
tibble,60,Vignettes are now tested with a snapshot test (#919).
tibble,61,"`new_tibble()` uses `vctrs::new_data_frame()` internally (#726, @​DavisVaughan)."
tibble,62,Adapt to pillar 1.6.2.
tibble,63,Fix tests for compatibility with pillar 1.6.2.
tibble,64,"`tbl[row, col] <- rhs` treats an all-`NA` logical vector as a missing value both for existing data (#773) and for the right-hand side value (#868). This means that a column initialized with `NA` (of type `logical`) will change its type when a row is updated to a value of a different type."
tibble,65,`[[<-()` supports symbols (#893).
tibble,66,`as_tibble_row()` supports arbitrary vectors (#797).
tibble,67,`enframe()` and `deframe()` support arbitrary vectors (#730).
tibble,68,"`tibble()` and `tibble_row()` ignore all columns that evaluate to `NULL`, not only those where a verbatim `NULL` is passed (#895, #900)."
tibble,69,"`new_tibble()` is now faster (#901, @​mgirlich)."
tibble,70,Establish compatibility with rlang \> 0.4.11 (#908).
tibble,71,Use `pillar::dim_desc()` (#859).
tibble,72,"Establish compatibility with testthat \> 3.0.3 (#896, @​lionel-)."
tibble,73,Bump required versions of ellipsis and vctrs to avoid warning during package load.
tibble,74,Bump required versions of ellipsis and vctrs to avoid warning during package load.
tibble,75,`num()` and `char()` are reexported from pillar (#880).
tibble,76,"`tribble()` and `frame_matrix()` give an error if values are named (#871, @​lorenzwalthert)."
tibble,77,Document `cli.num_colors` option (#410).
tibble,78,Fix `new_tibble()` examples for compatibility with pillar 1.6.0.
tibble,79,"`has_rownames()` now works correctly for data frames with a `""row.names""` attribute malformed due to a problem in `structure()` (#852)."
tibble,80,"`tbl[FALSE, ""column""] <- x` adds new column again (#846)."
tibble,81,"Importing pillar 1.5.0, cli and crayon are now suggested packages (#475)."
tibble,82,"`size_sum()` is now reexported from pillar (#850, @​topepo)."
tibble,83,`as_tibble()` hints more often to use the `.name_repair` argument if column names are invalid (#855).
tibble,84,`as_tibble.table()` mentions `.name_repair` argument in the error message (#839).
tibble,85,Remove compatibility code for pillar \< 1.5.0 (#861).
tibble,86,"Moved most functions to the ""stable"" lifecycle (#860)."
tibble,87,"`vec_ptype_abbr.tbl_df()` and `type_sum.tbl_df()` now uses the name of the topmost class for subclasses of `""tbl_df""` (#843)."
tibble,88,Ignore errors in `formats.Rmd` vignette.
tibble,89,Avoid tidy evaluation in pillar compatibility code.
tibble,90,"Use testthat edition 3, compatible with testthat 3.0.1 (#827, #832)."
tibble,91,Establish compatibility with upcoming pillar 1.5.0 (#818).
tibble,92,"`tbl_sum()` shows ""data frame"" instead of ""tibble"" for objects inheriting from `""tbl""` but not `""tbl_df""` (#818)."
tibble,93,Register `format.tbl()` and `print.tbl()` methods only if pillar doesn't (#816).
tibble,94,Use `vctrs::num_as_location()` internally for subset assignment of rows and columns for better error messages (#746).
tibble,95,Adapt tests to the development version of testthat.
tibble,96,Fix documentation link to `base::Extract`.
tibble,97,"`add_row(df)` adds an empty row again (#809, @​DavisVaughan)."
tibble,98,Fix test compatibility with rlang 0.4.7.
tibble,99,Fix warning about `needs_dots` arguments with pillar \>= 1.4.5 (#798).
tibble,100,"`[[` works with classed indexes again, e.g. created with `glue::glue()` (#778)."
tibble,101,`add_column()` works without warning for 0-column data frames (#786).
tibble,102,`tribble()` now better handles named inputs (#775) and objects of non-vtrs classes like `lubridate::Period` (#784) and `formattable::formattable` (#785).
tibble,103,"Subsetting and subassignment are faster (#780, #790, #794)."
tibble,104,`is.null()` is preferred over `is_null()` for speed.
tibble,105,Implement continuous benchmarking (#793).
tibble,106,`is_vector_s3()` is no longer reexported from pillar (#789).
tibble,107,`[<-.tbl_df()` coerces matrices to data frames (#762).
tibble,108,Use delayed import for cli to work around unload problems in downstream packages (#754).
tibble,109,More soft-deprecation warnings are actually visible.
tibble,110,"If `.name_repair` is a function, no repair messages are shown (#763)."
tibble,111,"Remove superseded signal for `as_tibble.list()`, because `as_tibble_row()` only works for size 1."
tibble,112,`as_tibble(validate = )` now always triggers a deprecation warning.
tibble,113,"Subsetting and subassignment of rows with one-column matrices work again, with a deprecation warning (#760)."
tibble,114,Attempts to update a tibble row with an atomic vector give a clearer error message. Recycling message for subassignment appears only if target size is != 1.
tibble,115,"Tweak title of ""Invariants"" vignette."
tibble,116,"Subset assignment (""subassignment"") and also subsetting has become stricter. Symptoms:"
tibble,117,Error: No common type for ...
tibble,118,Error: Assigned data `...` must be compatible with ...
tibble,119,"`i` must have one dimension, not 2"
tibble,120,"Error: Lossy cast from ... to ... The ""invariants"" article at https://tibble.tidyverse.org/dev/articles/invariants.html describes the invariants that the operations follow in tibble, and the most important differences to data frames. We tried to make subsetting and subassignment as safe as possible, so that errors are caught early on, while introducing as little friction as possible."
tibble,121,List classes are no longer automatically treated as vectors. Symptoms:
tibble,122,Error: All columns in a tibble must be vectors
tibble,123,"Error: Expected a vector, not a `...` object If you implement a class that wraps a list as S3 vector, you need to include `""list""` in the class:"
tibble,123,"```
structure(x, class = c(""your_s3_class"", ""list""))
```"
tibble,123,"Alternatively, implement a `vec_proxy()` method as described in https://vctrs.r-lib.org/reference/vec_data.html, or construct your class with `list_of()`."
tibble,124,"Added experimental support for inner names for all columns, of the form `tibble(a = c(b = 1))`. Inner names are no longer stripped when creating a tibble. They are maintained for slicing operations but not yet updated when assigning with a row subscript. This is a change that may break existing comparison tests that don't expect names in columns (#630). Symptoms:"
tibble,125,"""names for target but not for current"" when comparing"
tibble,126,"`tibble()` now splices anonymous data frames, `tibble(tibble(a = 1), b = a)` is equivalent to `tibble(a = 1, b = a)`. This means that `tibble(trees)` now has three columns, use `tibble(trees = trees)` if the intention is to create a packed data frame (#581)."
tibble,127,"The `name-repair` help topic is gone, refer to `?vctrs::vec_as_names` instead."
tibble,128,`expression()` columns are converted to lists as a workaround for lacking support in vctrs (#657).
tibble,129,"`tribble()` is now stricter when combining values. All values in a column must be compatible, otherwise an error occurs (#204). The criteria for wrapping in a list column are now based on vctrs principles: non-vectors or vectors with `vctrs::vec_size()` unequal 1 are wrapped in lists."
tibble,130,"`$` warns unconditionally if column not found, `[[` doesn't warn."
tibble,131,"`add_row()` now uses `vctrs::vec_rbind()` under the hood, this means that all columns are combined with `vctrs::vec_c()`. In particular, factor columns will be converted to character if one of the columns is a character column."
tibble,132,Soft-deprecate `subclass` argument to `new_tibble()`.
tibble,133,Soft-deprecate `as_tibble()` without arguments (#683).
tibble,134,"Preparing to move `glimpse()` and `tbl_sum()` to the pillar package. If your package implements these methods, please import the generics from pillar as soon as they become available there."
tibble,135,"Internals now make heavy use of the vctrs package, following most of the invariants defined there. Name repair is the responsibility of vctrs now (#464)."
tibble,136,"All errors emitted directly by the package inherit from the `""tibble_error""` and `""rlang_error""` classes. In some cases, `""vctrs_error""` errors may be passed through. The exact subclass is subject to change. Example: `tibble(a = quote(b))` raises an error that inherits from `""tibble_error_column_must_be_vector""`, `""tibble_error""` and `""rlang_error""`, and from `""error""` and `""condition""` like all errors. Do not rely on the wording of `""tibble_error_column_must_be_vector""`, this is likely to change. Use the following pattern to catch errors emitted by tibble:"
tibble,136,"```
tryCatch(
  your_code(),
  tibble_error = function(cnd) {
  }
)
```"
tibble,137,"New `tibble_row()` constructs tibbles that have exactly one row, or fails. Non-vector objects are automatically wrapped in a list, vectors (including lists) must have length one (#205)."
tibble,138,"New `as_tibble_row()` and `as_tibble_col()` convert a bare vector to a one-row or one-column tibble, respectively. `as_tibble_col()` also works for non-bare vectors. Using `as_tibble()` for bare vectors is superseded (#447)."
tibble,139,"`as_tibble.data.frame()` uses implicit row names if asked to create a column from row names. This allows lossless direct conversion of matrices with row names to tibbles (#567, @​stufield)."
tibble,140,Implement `str.tbl_df()` (#480).
tibble,141,"`tribble()` now returns columns with `""unspecified""` type for 0-row tibbles."
tibble,142,`add_row()` and `add_column()` now restore attributes to avoid errors when appending to sf objects or other tibble subclasses (#662).
tibble,143,"`add_column()` gains `.name_repair` argument. If not given, `.data` must have unique columns, with a deprecation message."
tibble,144,"Allow `POSIXlt` columns, they are now better supported by dplyr and other tools thanks to vctrs (#626)."
tibble,145,"`tibble()` ignores NULL arguments, named or unnamed (#580)."
tibble,146,"`view()` works for remote data sources by applying the same strategy as `print()` and `glimpse()`. The maximum number of rows in this case can be specified using the new `n` argument, by default it is taken from the new `""tibble.view_max""` option (#695)."
tibble,147,Formatting dimensions never uses scientific notation.
tibble,148,"`glimpse()` uses ""Rows"" and ""Columns"" instead of ""Variables"" and ""Observations"", because we're not sure if the data is tidy here (#614)."
tibble,149,"`view()` now uses the created (or passed) title argument (#610, @​xvrdm)."
tibble,150,"Construction and subsetting of large data frames is faster now (#717, @​romainfrancois)."
tibble,151,Import lifecycle package (#669).
tibble,152,"`new_tibble()` removes redundant subclasses from the `""class""` attribute."
tibble,153,"Using classed conditions. All classes start with `""tibble_error_""` and also contain `""tibble_error""` (#659)."
tibble,154,The magrittr pipe `%>%` is reexported.
tibble,155,"Fix compatibility with R 3.5 and earlier, regression introduced in tibble 2.1.2."
tibble,156,Relax version requirements.
tibble,157,Fix test failing after pillar upgrade.
tibble,158,"Three dots are used even for `""unique""` name repair (#566)."
tibble,159,"`add_row()`, `add_case()` and `add_column()` now signal a warning once per session if the input is not a data frame (#575)."
tibble,160,Fix `view()` for the case when an object named `x` exists in the global environment (#579).
tibble,161,"tibble names can again be set to `NULL` within RStudio, as some R routines within RStudio relied on this behaviour (#563, @​kevinushey)."
tibble,162,"`as_tibble.matrix(validate = TRUE)` works again, with a lifecycle warning (#558)."
tibble,163,"Replace `new_list_along()` by `rep_along()` to support rlang 0.3.1 (#557, @​lionel-)."
tibble,164,"All optional arguments have moved past the ellipsis, and must be specified as named arguments. This affects mostly the `n` argument to `as_tibble.table()`, passing `n` unnamed still works (with a warning)."
tibble,165,"`new_tibble()` has been optimized for performance, the function no longer strips dimensions from 1d arrays and no longer checks correctness of names or column lengths. (It still checks if the object is named, except for zero-length input.) Use the new `validate_tibble()` if you need these checks (#471)."
tibble,166,"The `nrow` argument to `new_tibble()` is now mandatory. The `class` argument replaces the now deprecated `subclass` argument, the latter will be supported quietly for some time (#518)."
tibble,167,"Setting names on a tibble via `names(df) <- ...` now also requires minimal names, otherwise a warning is issued once per session (#466)."
tibble,168,"In `as_tibble()`, checking names is also enabled by default, even for tibbles, matrices and other matrix-like objects: names must exist, `NA` names are not allowed. Coercing a matrix without column names will trigger a warning once per session. (This corresponds to the `""minimal""` checks described below.)."
tibble,169,"The `validate` argument to `as_tibble()` has been deprecated, see below for alternatives. (The `as_tibble.tbl_df()` method has been removed, the `as_tibble.data.frame()` method will be used for tibbles.)"
tibble,170,"`as_tibble()` always checks that all columns are 1D or 2D vectors and not of type `POSIXlt`, even with `validate = FALSE` (which is now deprecated)."
tibble,171,"Calling `as_tibble()` on a vector now warns once per session. Use `enframe(name = NULL)` for converting a vector to a one-column tibble, or `enframe()` for converting a named vector to a two-column tibble."
tibble,172,"`data_frame()` and `frame_data()` are soft-deprecated, please use `tibble()` or `tribble()` (#111)."
tibble,173,"`tibble_()`, `data_frame_()`, and `lst_()` are soft-deprecated. Please use `tibble()` or `lst()` (#111, #509)."
tibble,174,"`as.tibble()` and `as_data_frame()` are officially deprecated and not generic anymore, please use/implement `as_tibble()` (#111)."
tibble,175,`as_tibble.data.frame()` (and also `as_tibble.matrix()`) strip row names by default. Code that relies on tibbles keeping row names now will see:
tibble,176,"a different result when calling `rownames()` or `row.names()`,"
tibble,177,"rows full of `NA` values when subsetting rows with with a character vector, e.g. `as_tibble(mtcars)[""Mazda RX4"", ]`. Call `pkgconfig::set_config(""tibble::rownames"", NA)` to revert to the old behavior of keeping row names. Packages that import *tibble* can call `set_config()` in their `.onLoad()` function (#114)."
tibble,178,"`as_tibble()` drops extra classes, in particular `as_tibble.grouped_df()` now removes grouping (#535)."
tibble,179,"`column_to_rownames()` now always coerces to a data frame, because row names are no longer supported in tibbles (#114)."
tibble,180,"In all `*_rownames()` functions, the first argument has been renamed to `.data` for consistency (#412)."
tibble,181,"Subsetting one row with `[..., , drop = TRUE]` returns a tibble (#442)."
tibble,182,"The `print.tbl_df()` method has been removed, the `print.tbl()` method handles printing (#519)."
tibble,183,`tibble()` supports columns that are matrices or data frames (#416).
tibble,184,"The new `.rows` argument to `tibble()` and `as_tibble()` allows specifying the expected number of rows explicitly, even if it's evident from the data. This allows writing more defensive code."
tibble,185,"Column name repair has more direct support, via the new `.name_repair` argument to `tibble()` and `as_tibble()`. It takes the following values:"
tibble,186,"`""minimal""`: No name repair or checks, beyond basic existence."
tibble,187,"`""unique""`: Make sure names are unique and not empty."
tibble,188,"`""check_unique""`: (default value), no name repair, but check they are `unique`."
tibble,189,"`""universal""`: Make the names `unique` and syntactic."
tibble,190,"a function: apply custom name repair (e.g., `.name_repair = make.names` or `.name_repair = ~make.names(., unique = TRUE)` for names in the style of base R). The `validate` argument of `as_tibble()` is deprecated but supported (emits a message once per session). Use `.name_repair = ""minimal""` instead of `validate = FALSE`, and `.name_repair = ""check_unique""` instead of `validate = TRUE`. If you need to support older versions of tibble, pass both `.name_repair` and `validate` arguments in a consistent way, no message will be emitted in this case (#469, @​jennybc)."
tibble,191,"Row name handling is stricter. Row names are never (and never were) supported in `tibble()` and `new_tibble()`, and are now stripped by default in `as_tibble()`. The `rownames` argument to `as_tibble()` supports:"
tibble,192,"`NULL`: remove row names (default),"
tibble,193,"`NA`: keep row names,"
tibble,194,"A string: the name of the new column that will contain the existing row names, which are no longer present in the result. The old default can be restored by calling `pkgconfig::set_config(""tibble::rownames"", NA)`, this also works for packages that import *tibble*."
tibble,195,"`new_tibble()` and `as_tibble()` now also strip the `""dim""` attribute from columns that are one-dimensional arrays. (`tibble()` already did this before.)"
tibble,196,"Internally, all `as_tibble()` implementation forward all extra arguments and `...` to `as_tibble.list()` where they are handled. This means that the common `.rows` and `.name_repair` can be used for all inputs. We suggest that your implementations of this method do the same."
tibble,197,`enframe()` (with `name = NULL`) and `deframe()` now support one-column tibbles (#449).
tibble,198,"Improved S4 support by adding `exportClass(tbl_df)` to `NAMESPACE` (#436, @​jeffreyhanson and @​javierfajnolla)."
tibble,199,New `validate_tibble()` checks a tibble for internal consistency (#471).
tibble,200,"Bring error message for invalid column type in line with allowed matrix/df cols (#465, @​maxheld83)."
tibble,201,Added experimental `view()` function that always returns its input invisibly and calls `utils::View()` only in interactive mode (#373).
tibble,202,The `set_tidy_names()` and `tidy_names()` helpers the list of new names using a bullet list with at most six items (#406).
tibble,203,"A one-character ellipse (`cli::symbol$ellipsis`) is printed instead of `""...""` where available, this affects `glimpse()` output and truncated lists (#403)."
tibble,204,Column names and types are now formatted identically with `glimpse()` and `print.tbl_df()`.
tibble,205,`tidy_names()` quotes variable names when reporting on repair (#407).
tibble,206,All error messages now follow the tidyverse style guide (#223).
tibble,207,"`as_tibble()` prints an informative error message when using the `rownames` argument and the input data frame or matrix does not have row names (#388, @​anhqle)."
tibble,208,"`column_to_rownames()` uses the real variable name in its error message (#399, @​alexwhan)."
tibble,209,"Lazy tibbles with exactly 10 rows no longer show ""...with more rows"" (#371)."
tibble,210,"`glimpse()` shows information obtained from `tbl_sum()`, e.g. grouping information for `grouped_df` from dplyr (#550)."
tibble,211,"`glimpse()` takes coloring into account when computing column width, the output is no longer truncated prematurely when coloring is enabled."
tibble,212,"`glimpse()` disambiguates outputs for factors if the levels contain commas (#384, @​anhqle)."
tibble,213,`print.tbl_df()` with a negative value for `n` behaves as if `n` was omitted (#371).
tibble,214,Fixed output for extra column names that contain spaces.
tibble,215,"Skip dplyr in tests if unavailable (#420, @​QuLogic)."
tibble,216,"Skip mockr in tests if unavailable (#454, @​Enchufa2)."
tibble,217,Use `fansi::strwrap_ctl()` instead of own string wrapping routine.
tibble,218,`tibble()` uses recycled values during construction but unrecycled values for validation.
tibble,219,`tibble()` is now faster for very wide tibbles.
tibble,220,Subsetting with the `[` operator is faster (#544).
tibble,221,"Avoid use of `stop()` in examples if packages are not installed (#453, @​Enchufa2)."
tibble,222,"Fix `as_tibble()` examples by using correct argument names in `requireNamespace()` call (#424, @​michaelweylandt)."
tibble,223,"`as_tibble()` checks column length only once (#365, @​anhqle)."
tibble,224,"Using `rlang::list2()` (#391, @​lionel-)."
tibble,225,Fix OS X builds.
tibble,226,The `tibble.width` option is honored again (#369).
tibble,227,"`tbl[1, , drop = TRUE]` now behaves identically to data frames (#367)."
tibble,228,"Fix error message when accessing columns using a logical index vector (#337, @​mundl)."
tibble,229,`glimpse()` returns its input for zero-column data frames.
tibble,230,`enframe(NULL)` now returns the same as `enframe(logical())` (#352).
tibble,231,"`tribble()` now ignores trailing commas (#342, @​anhqle)."
tibble,232,Updated vignettes and website documentation.
tibble,233,Faster printing of very wide tibbles (#360).
tibble,234,Faster construction and subsetting for tibbles (#353).
tibble,235,"Only call `nrow()` and `head()` in `glimpse()`, not `ncol()`."
tibble,236,"Make `add_case()` an alias for `add_row()` (#324, @​LaDilettante)."
tibble,237,"`as_tibble()` gains `rownames` argument (#288, #289)."
tibble,238,`as_tibble.matrix()` repairs column names.
tibble,239,Tibbles now support character subsetting (#312).
tibble,240,"`` `[.tbl_df`() `` supports `drop = TRUE` and omits the warning if `j` is passed. The calls `df[i, j, drop = TRUE]` and `df[j, drop = TRUE]` are now compatible with data frames again (#307, #311)."
tibble,241,Improved compatibility with remote data sources for `glimpse()` (#328).
tibble,242,"Logical indexes are supported, a warning is raised if the length does not match the number of rows or 1 (#318)."
tibble,243,Fixed width for word wrapping of the extra information (#301).
tibble,244,"Prevent `add_column()` from dropping classes and attributes by removing the use of `cbind()`. Additionally this ensures that `add_column()` can be used with grouped data frames (#303, @​DavisVaughan)."
tibble,245,`add_column()` to an empty zero-row tibble with a variable of nonzero length now produces a correct error message (#319).
tibble,246,"Reexporting `has_name()` from rlang, instead of forwarding, to avoid warning when importing both rlang and tibble."
tibble,247,Compatible with R 3.1 (#323).
tibble,248,"Remove Rcpp dependency (#313, @​patperry)."
tibble,249,"Values of length 1 in a `tibble()` call are recycled prior to evaluating subsequent arguments, improving consistency with `mutate()` (#213)."
tibble,250,Recycling of values of length 1 in a `tibble()` call maintains their class (#284).
tibble,251,`add_row()` now always preserves the column data types of the input data frame the same way as `rbind()` does (#296).
tibble,252,"`lst()` now again handles duplicate names, the value defined last is used in case of a clash."
tibble,253,Adding columns to zero-row data frames now also works when mixing lengths 1 and 0 in the new columns (#167).
tibble,254,"The `validate` argument is now also supported in `as_tibble.tbl_df()`, with default to `FALSE` (#278). It must be passed as named argument, as in `as_tibble(validate = TRUE)`."
tibble,255,"`format_v()` now always surrounds lists with `[]` brackets, even if their length is one. This affects `glimpse()` output for list columns (#106)."
tibble,256,Factor levels are escaped when printing (#277).
tibble,257,Non-syntactic names are now also escaped in `glimpse()` (#280).
tibble,258,`tibble()` gives a consistent error message in the case of duplicate column names (#291).
tibble,259,"Added `format()` and `print()` methods for both `tbl` and `tbl_df` classes, to protect against malformed tibbles that inherit from `""tbl_df""` but not `""tbl""`, as created e.g. by `ungroup()` in dplyr 0.5.0 and earlier (#256, #263)."
tibble,260,The column width for non-syntactic columns is computed correctly again (#258).
tibble,261,Printing a tibble doesn't apply quote escaping to list columns.
tibble,262,"Fix error in `tidy_names(syntactic = TRUE, quiet = FALSE)` if not all names are fixed (#260, @​imanuelcostigan)."
tibble,263,Remove unused import declaration for assertthat.
tibble,264,"Subsetting zero columns no longer returns wrong number of rows (#241, @​echasnovski)."
tibble,265,"New `set_tidy_names()` and `tidy_names()`, a simpler version of `repair_names()` which works unchanged for now (#217)."
tibble,266,"New `rowid_to_column()` that adds a `rowid` column as first column and removes row names (#243, @​barnettjacob)."
tibble,267,"The `all.equal.tbl_df()` method has been removed, calling `all.equal()` now forwards to `base::all.equal.data.frame()`. To compare tibbles ignoring row and column order, please use `dplyr::all_equal()` (#247)."
tibble,268,"Printing now uses `x` again instead of the Unicode multiplication sign, to avoid encoding issues (#216)."
tibble,269,String values are now quoted when printing if they contain non-printable characters or quotes (#253).
tibble,270,"The `print()`, `format()`, and `tbl_sum()` methods are now implemented for class `""tbl""` and not for `""tbl_df""`. This allows subclasses to use tibble's formatting facilities. The formatting of the header can be tweaked by implementing `tbl_sum()` for the subclass, which is expected to return a named character vector. The `print.tbl_df()` method is still implemented for compatibility with downstream packages, but only calls `NextMethod()`."
tibble,271,"Own printing routine, not relying on `print.data.frame()` anymore. Now providing `format.tbl_df()` and full support for Unicode characters in names and data, also for `glimpse()` (#235)."
tibble,272,Improve formatting of error messages (#223).
tibble,273,"Using `rlang` instead of `lazyeval` (#225, @​lionel-), and `rlang` functions (#244)."
tibble,274,"`tribble()` now handles values that have a class (#237, @​NikNakk)."
tibble,275,"Minor efficiency gains by replacing `any(is.na())` with `anyNA()` (#229, @​csgillespie)."
tibble,276,The `microbenchmark` package is now used conditionally (#245).
tibble,277,`pkgdown` website.
tibble,278,Time series matrices (objects of class `mts` and `ts`) are now supported in `as_tibble()` (#184).
tibble,279,"The `all_equal()` function (called by `all.equal.tbl_df()`) now forwards to `dplyr` and fails with a helpful message if not installed. Data frames with list columns cannot be compared anymore, and differences in the declared class (`data.frame` vs. `tbl_df`) are ignored. The `all.equal.tbl_df()` method gives a warning and forwards to `NextMethod()` if `dplyr` is not installed; call `all.equal(as.data.frame(...), ...)` to avoid the warning. This ensures consistent behavior of this function, regardless if `dplyr` is loaded or not (#198)."
tibble,280,Now requiring R 3.1.0 instead of R 3.1.3 (#189).
tibble,281,"Add `as.tibble()` as an alias to `as_tibble()` (#160, @​LaDilettante)."
tibble,282,"New `frame_matrix()`, similar to `frame_data()` but for matrices (#140, #168, @​LaDilettante)."
tibble,283,"New `deframe()` as reverse operation to `enframe()` (#146, #214)."
tibble,284,Removed unused dependency on `assertthat`.
tibble,285,"Keep column classes when adding row to empty tibble (#171, #177, @​LaDilettante)."
tibble,286,"Singular and plural variants for error messages that mention a list of objects (#116, #138, @​LaDilettante)."
tibble,287,"`add_column()` can add columns of length 1 (#162, #164, @​LaDilettante)."
tibble,288,An attempt to read or update a missing column now throws a clearer warning (#199).
tibble,289,An attempt to call `add_row()` for a grouped data frame results in a helpful error message (#179).
tibble,290,"Render Unicode multiplication sign as `x` if it cannot be represented in the current locale (#192, @​ncarchedi)."
tibble,291,"Backtick `NA` names in printing (#206, #207, @​jennybc)."
tibble,292,"`glimpse()` now uses `type_sum()` also for S3 objects (#185, #186, @​holstius)."
tibble,293,"The `max.print` option is ignored when printing a tibble (#194, #195, @​t-kalinowski)."
tibble,294,"Fix typo in `obj_sum` documentation (#193, @​etiennebr)."
tibble,295,"Reword documentation for `tribble()` (#191, @​kwstat)."
tibble,296,Now explicitly stating minimum Rcpp version 0.12.3.
tibble,297,Using registration of native routines.
tibble,298,"The `tibble.width` option is used for `glimpse()` only if it is finite (#153, @​kwstat)."
tibble,299,New `as_tibble.poly()` to support conversion of a `poly` object to a tibble (#110).
tibble,300,`add_row()` now correctly handles existing columns of type `list` that are not updated (#148).
tibble,301,"`all.equal()` doesn't throw an error anymore if one of the columns is named `na.last`, `decreasing` or `method` (#107, @​BillDunlap)."
tibble,302,"New `add_column()`, analogously to `add_row()` (#99)."
tibble,303,`print.tbl_df()` gains `n_extra` method and will have the same interface as `trunc_mat()` from now on.
tibble,304,`add_row()` and `add_column()` gain `.before` and `.after` arguments which indicate the row (by number) or column (by number or name) before or after which the new data are inserted. Updated or added columns cannot be named `.before` or `.after` (#99).
tibble,305,"Rename `frame_data()` to `tribble()`, stands for ""transposed tibble"". The former is still available as alias (#132, #143)."
tibble,306,"`add_row()` now can add multiple rows, with recycling (#142, @​jennybc)."
tibble,307,Use multiply character `×` instead of `x` when printing dimensions (#126). Output tests had to be disabled for this on Windows.
tibble,308,Back-tick non-semantic column names on output (#131).
tibble,309,"Use `dttm` instead of `time` for `POSIXt` values (#133), which is now used for columns of the `difftime` class."
tibble,310,"Better output for 0-row results when total number of rows is unknown (e.g., for SQL data sources)."
tibble,311,New object summary vignette that shows which methods to define for custom vector classes to be used as tibble columns (#151).
tibble,312,"Added more examples for `print.tbl_df()`, now using data from `nycflights13` instead of `Lahman` (#121), with guidance to install `nycflights13` package if necessary (#152)."
tibble,313,"Minor changes in vignette (#115, @​helix123)."
tibble,314,`tibble()` is no longer an alias for `frame_data()` (#82).
tibble,315,Remove `tbl_df()` (#57).
tibble,316,"`$` returns `NULL` if column not found, without partial matching. A warning is given (#109)."
tibble,317,`[[` returns `NULL` if column not found (#109).
tibble,318,"Reworked output: More concise summary (begins with hash `#` and contains more text (#95)), removed empty line, showing number of hidden rows and columns (#51). The trailing metadata also begins with hash `#` (#101). Presence of row names is indicated by a star in printed output (#72)."
tibble,319,"Format `NA` values in character columns as `<NA>`, like `print.data.frame()` does (#69)."
tibble,320,"The number of printed extra cols is now an option (#68, @​lionel-)."
tibble,321,"Computation of column width properly handles wide (e.g., Chinese) characters, tests still fail on Windows (#100)."
tibble,322,`glimpse()` shows nesting structure for lists and uses angle brackets for type (#98).
tibble,323,"Tibbles with `POSIXlt` columns can be printed now, the text `<POSIXlt>` is shown as placeholder to encourage usage of `POSIXct` (#86)."
tibble,324,`type_sum()` shows only topmost class for S3 objects.
tibble,325,"Strict checking of integer and logical column indexes. For integers, passing a non-integer index or an out-of-bounds index raises an error. For logicals, only vectors of length 1 or `ncol` are supported. Passing a matrix or an array now raises an error in any case (#83)."
tibble,326,Warn if setting non-`NULL` row names (#75).
tibble,327,Consistently surround variable names with single quotes in error messages.
tibble,328,"Use ""Unknown column 'x'"" as error message if column not found, like base R (#94)."
tibble,329,`stop()` and `warning()` are now always called with `call. = FALSE`.
tibble,330,The `.Dim` attribute is silently stripped from columns that are 1d matrices (#84).
tibble,331,Converting a tibble without row names to a regular data frame does not add explicit row names.
tibble,332,"`as_tibble.data.frame()` preserves attributes, and uses `as_tibble.list()` to calling overriden methods which may lead to endless recursion."
tibble,333,New `has_name()` (#102).
tibble,334,Prefer `tibble()` and `as_tibble()` over `data_frame()` and `as_data_frame()` in code and documentation (#82).
tibble,335,New `is.tibble()` and `is_tibble()` (#79).
tibble,336,"New `enframe()` that converts vectors to two-column tibbles (#31, #74)."
tibble,337,"`obj_sum()` and `type_sum()` show `""tibble""` instead of `""tbl_df""` for tibbles (#82)."
tibble,338,"`as_tibble.data.frame()` gains `validate` argument (as in `as_tibble.list()`), if `TRUE` the input is validated."
tibble,339,"Implement `as_tibble.default()` (#71, hadley/dplyr#1752)."
tibble,340,`has_rownames()` supports arguments that are not data frames.
tibble,341,"Two-dimensional indexing with `[[` works (#58, #63)."
tibble,342,"Subsetting with empty index (e.g., `x[]`) also removes row names."
tibble,343,Document behavior of `as_tibble.tbl_df()` for subclasses (#60).
tibble,344,Document and test that subsetting removes row names.
tibble,345,Don't rely on `knitr` internals for testing (#78).
tibble,346,Fix compatibility with `knitr` 1.13 (#76).
tibble,347,Enhance `knit_print()` tests.
tibble,348,Provide default implementation for `tbl_sum.tbl_sql()` and `tbl_sum.tbl_grouped_df()` to allow `dplyr` release before a `tibble` release.
tibble,349,Explicit tests for `format_v()` (#98).
tibble,350,Test output for `NULL` value of `tbl_sum()`.
tibble,351,Test subsetting in all variants (#62).
tibble,352,Add missing test from dplyr.
tibble,353,Use new `expect_output_file()` from `testthat`.
tibble,354,Initial CRAN release
tibble,355,Extracted from `dplyr` 0.4.3
tibble,356,Exported functions:
tibble,357,`tbl_df()`
tibble,358,`as_data_frame()`
tibble,359,"`data_frame()`, `data_frame_()`"
tibble,360,"`frame_data()`, `tibble()`"
tibble,361,`glimpse()`
tibble,362,"`trunc_mat()`, `knit_print.trunc_mat()`"
tibble,363,`type_sum()`
tibble,364,"New `lst()` and `lst_()` create lists in the same way that `data_frame()` and `data_frame_()` create data frames (hadley/dplyr#1290). `lst(NULL)` doesn't raise an error (#17, @​jennybc), but always uses deparsed expression as name (even for `NULL`)."
tibble,365,New `add_row()` makes it easy to add a new row to data frame (hadley/dplyr#1021).
tibble,366,"New `rownames_to_column()` and `column_to_rownames()` (#11, @​zhilongjia)."
tibble,367,New `has_rownames()` and `remove_rownames()` (#44).
tibble,368,"New `repair_names()` fixes missing and duplicate names (#10, #15, @​r2evans)."
tibble,369,New `is_vector_s3()`.
tibble,370,Features
tibble,371,"New `as_data_frame.table()` with argument `n` to control name of count column (#22, #23)."
tibble,372,"Use `tibble` prefix for options (#13, #36)."
tibble,373,"`glimpse()` now (invisibly) returns its argument (hadley/dplyr#1570). It is now a generic, the default method dispatches to `str()` (hadley/dplyr#1325). The default width is obtained from the `tibble.width` option (#35, #56)."
tibble,374,"`as_data_frame()` is now an S3 generic with methods for lists (the old `as_data_frame()`), data frames (trivial), matrices (with efficient C++ implementation) (hadley/dplyr#876), and `NULL` (returns a 0-row 0-column data frame) (#17, @​jennybc)."
tibble,375,Non-scalar input to `frame_data()` and `tibble()` (including lists) creates list-valued columns (#7). These functions return 0-row but n-col data frame if no data.
tibble,376,Bug fixes
tibble,377,"`frame_data()` properly constructs rectangular tables (hadley/dplyr#1377, @​kevinushey)."
tibble,378,Minor modifications
tibble,379,"Uses `setOldClass(c(""tbl_df"", ""tbl"", ""data.frame""))` to help with S4 (hadley/dplyr#969)."
tibble,380,`tbl_df()` automatically generates column names (hadley/dplyr#1606).
tibble,381,"`tbl_df`s gain `$` and `[[` methods that are \~5x faster than the defaults, never do partial matching (hadley/dplyr#1504), and throw an error if the variable does not exist. `[[.tbl_df()` falls back to regular subsetting when used with anything other than a single string (#29). `base::getElement()` now works with tibbles (#9)."
tibble,382,"`all_equal()` allows to compare data frames ignoring row and column order, and optionally ignoring minor differences in type (e.g. int vs. double) (hadley/dplyr#821). Used by `all.equal()` for tibbles. (This package contains a pure R implementation of `all_equal()`, the `dplyr` code has identical behavior but is written in C++ and thus faster.)"
tibble,383,"The internals of `data_frame()` and `as_data_frame()` have been aligned, so `as_data_frame()` will now automatically recycle length-1 vectors. Both functions give more informative error messages if you are attempting to create an invalid data frame. You can no longer create a data frame with duplicated names (hadley/dplyr#820). Both functions now check that you don't have any `POSIXlt` columns, and tell you to use `POSIXct` if you do (hadley/dplyr#813). `data_frame(NULL)` raises error ""must be a 1d atomic vector or list""."
tibble,384,`trunc_mat()` and `print.tbl_df()` are considerably faster if you have very wide data frames. They will now also only list the first 100 additional variables not already on screen - control this with the new `n_extra` parameter to `print()` (hadley/dplyr#1161). The type of list columns is printed correctly (hadley/dplyr#1379). The `width` argument is used also for 0-row or 0-column data frames (#18).
tibble,385,"When used in list-columns, S4 objects only print the class name rather than the full class hierarchy (#33)."
tibble,386,"Add test that `[.tbl_df()` does not change class (#41, @​jennybc). Improve `[.tbl_df()` error message."
tibble,387,Documentation
tibble,388,"Update README, with edits (#52, @​bhive01) and enhancements (#54, @​jennybc)."
tibble,389,"`vignette(""tibble"")` describes the difference between tbl_dfs and regular data frames (hadley/dplyr#1468)."
tibble,390,Code quality
tibble,391,"Test using new-style Travis-CI and AppVeyor. Full test coverage (#24, #53). Regression tests load known output from file (#49)."
tibble,392,"Renamed `obj_type()` to `obj_sum()`, improvements, better integration with `type_sum()`."
tibble,393,Internal cleanup.
tidyr,1,"`pivot_wider` now uses `.by` and `|>` syntax for the dplyr helper message to identify duplicates (@​boshek, #1516)"
tidyr,2,"New family of consistent string separating functions: `separate_wider_delim()`, `separate_wider_position()`, `separate_wider_regex()`, `separate_longer_delim()`, and `separate_longer_position()`. These functions are thorough refreshes of `separate()` and `extract()`, featuring improved performance, greater consistency, a polished API, and a new approach for handling problems. They use stringr and supersede `extract()`, `separate()`, and `separate_rows()` (#1304). The named character vector interface used in `separate_wider_regex()` is very similar to the [nc](https://github.com/tdhock/nc) package by Toby Dylan Hocking."
tidyr,3,"`nest()` gains a `.by` argument which allows you to specify the columns to nest by (rather than the columns to nest, i.e. through `...`). Additionally, the `.key` argument is no longer deprecated, and is used whenever `...` isn't specified (#1458)."
tidyr,4,`unnest_longer()` gains a `keep_empty` argument like `unnest()` (#1339).
tidyr,5,`pivot_longer()` gains a `cols_vary` argument for controlling the ordering of the output rows relative to their original row number (#1312).
tidyr,6,"New datasets `who2`, `household`, `cms_patient_experience`, and `cms_patient_care` to demonstrate various tidying challenges (#1333)."
tidyr,7,"The `...` argument of both `pivot_longer()` and `pivot_wider()` has been moved to the front of the function signature, after the required arguments but before the optional ones. Additionally, `pivot_longer_spec()`, `pivot_wider_spec()`, `build_longer_spec()`, and `build_wider_spec()` have all gained `...` arguments in a similar location. This change allows us to more easily add new features to the pivoting functions without breaking existing CRAN packages and user scripts. `pivot_wider()` provides temporary backwards compatible support for the case of a single unnamed argument that previously was being positionally matched to `id_cols`. This one special case still works, but will throw a warning encouraging you to explicitly name the `id_cols` argument. To read more about this pattern, see [Data, dots, details](https://design.tidyverse.org/dots-position.html) in the tidyverse design guide (#1350)."
tidyr,8,All functions deprecated in tidyr 1.0 and 1.2 (the old lazyeval functions ending in `_` and various arguments to `unnest()`) now warn on every use. They will be made defunct in 2024 (#1406).
tidyr,9,"`unnest_longer()` now consistently drops rows with either `NULL` or empty vectors (like `integer()`) by default. Set the new `keep_empty` argument to `TRUE` to retain them. Previously, `keep_empty = TRUE` was implicitly being used for `NULL`, while `keep_empty = FALSE` was being used for empty vectors, which was inconsistent with all other tidyr verbs with this argument (#1363)."
tidyr,10,"`unnest_longer()` now uses `""""` in the index column for fully unnamed vectors. It also now consistently uses `NA` in the index column for empty vectors that are ""kept"" by `keep_empty = TRUE` (#1442)."
tidyr,11,`unnest_wider()` now errors if any values being unnested are unnamed and `names_sep` is not provided (#1367).
tidyr,12,"`unnest_wider()` now generates automatic names for *partially* unnamed vectors. Previously it only generated them for fully unnamed vectors, resulting in a strange mix of automatic names and name-repaired names (#1367)."
tidyr,13,"Most tidyr functions now consistently disallow renaming during tidy-selection. Renaming was never meaningful in these functions, and previously either had no effect or caused problems (#1449, #1104)."
tidyr,14,"tidyr errors (including input validation) have been thoroughly reviewed and should generally be more likely to point you in the right direction (#1313, #1400)."
tidyr,15,"`uncount()` is now generic so implementations can be provided for objects other than data frames (@​mgirlich, #1358)."
tidyr,16,"`uncount()` gains a `...` argument. It comes between the required and the optional arguments (@​mgirlich, #1358)."
tidyr,17,"`nest()`, `complete()`, `expand()`, and `fill()` now document their support for grouped data frames created by `dplyr::group_by()` (#952)."
tidyr,18,All built in datasets are now standard tibbles (#1459).
tidyr,19,"R \>=3.4.0 is now required, in line with the tidyverse standard of supporting the previous 5 minor releases of R."
tidyr,20,"rlang \>=1.0.4 and vctrs \>=0.5.2 are now required (#1344, #1470)."
tidyr,21,Removed dependency on ellipsis in favor of equivalent functions in rlang (#1314).
tidyr,22,"`unnest()`, `unchop()`, `unnest_longer()`, and `unnest_wider()` better handle lists with additional classes (#1327)."
tidyr,23,"`pack()`, `unpack()`, `chop()`, and `unchop()` all gain an `error_call` argument, which in turn improves some of the error calls shown in `nest()` and various `unnest()` adjacent functions (#1446)."
tidyr,24,"`chop()`, `unpack()`, and `unchop()` all gain `...`, which must be empty (#1447)."
tidyr,25,"`unpack()` does a better job of reporting column name duplication issues and gives better advice about how to resolve them using `names_sep`. This also improves errors from functions that use `unpack()`, like `unnest()` and `unnest_wider()` (#1425, #1367)."
tidyr,26,"`pivot_longer()` no longer supports interpreting `values_ptypes = list()` and `names_ptypes = list()` as `NULL`. An empty `list()` is now interpreted as a `<list>` prototype to apply to all columns, which is consistent with how any other 0-length value is interpreted (#1296)."
tidyr,27,"`pivot_longer(values_drop_na = TRUE)` is faster when there aren't any missing values to drop (#1392, @​mgirlich)."
tidyr,28,"`pivot_longer()` is now more memory efficient due to the usage of `vctrs::vec_interleave()` (#1310, @​mgirlich)."
tidyr,29,`pivot_longer()` now throws a slightly better error message when `values_ptypes` or `names_ptypes` is provided and the coercion can't be made (#1364).
tidyr,30,`pivot_wider()` now throws a better error message when a column selected by `names_from` or `values_from` is also selected by `id_cols` (#1318).
tidyr,31,"`pivot_wider()` is now faster when `names_sep` is provided (@​mgirlich, #1426)."
tidyr,32,"`pivot_longer_spec()`, `pivot_wider_spec()`, `build_longer_spec()`, and `build_wider_spec()` all gain an `error_call` argument, resulting in better error reporting in `pivot_longer()` and `pivot_wider()` (#1408)."
tidyr,33,"`fill()` now works correctly when there is a column named `.direction` in `data` (#1319, @​tjmahr)."
tidyr,34,"`replace_na()` is faster when there aren't any missing values to replace (#1392, @​mgirlich)."
tidyr,35,The documentation of the `replace` argument of `replace_na()` now mentions that `replace` is always cast to the type of `data` (#1317).
tidyr,36,Hot patch release to resolve R CMD check failures.
tidyr,37,"`complete()` and `expand()` no longer allow you to complete or expand on a grouping column. This was never well-defined since completion/expansion on a grouped data frame happens ""within"" each group and otherwise has the potential to produce erroneous results (#1299)."
tidyr,38,"`replace_na()` no longer allows the type of `data` to change when the replacement is applied. `replace` will now always be cast to the type of `data` before the replacement is made. For example, this means that using a replacement value of `1.5` on an integer column is no longer allowed. Similarly, replacing missing values in a list-column must now be done with `list(""foo"")` rather than just `""foo""`."
tidyr,39,`pivot_wider()` gains new `names_expand` and `id_expand` arguments for turning implicit missing factor levels and variable combinations into explicit ones. This is similar to the `drop` argument from `spread()` (#770).
tidyr,40,`pivot_wider()` gains a new `names_vary` argument for controlling the ordering when combining `names_from` values with `values_from` column names (#839).
tidyr,41,"`pivot_wider()` gains a new `unused_fn` argument for controlling how to summarize unused columns that aren't involved in the pivoting process (#990, thanks to @​mgirlich for an initial implementation)."
tidyr,42,"`pivot_longer()`'s `names_transform` and `values_transform` arguments now accept a single function which will be applied to all of the columns (#1284, thanks to @​smingerson for an initial implementation)."
tidyr,43,`pivot_longer()`'s `names_ptypes` and `values_ptypes` arguments now accept a single empty ptype which will be applied to all of the columns (#1284).
tidyr,44,`unnest()` and `unchop()`'s `ptype` argument now accepts a single empty ptype which will be applied to all `cols` (#1284).
tidyr,45,`unpack()` now silently skips over any non-data frame columns specified by `cols`. This matches the existing behavior of `unchop()` and `unnest()` (#1153).
tidyr,46,`unnest_wider()` and `unnest_longer()` can now unnest multiple columns at once (#740).
tidyr,47,"`unnest_longer()`'s `indices_to` and `values_to` arguments now accept a glue specification, which is useful when unnesting multiple columns."
tidyr,48,"For `hoist()`, `unnest_longer()`, and `unnest_wider()`, if a `ptype` is supplied, but that column can't be simplified, the result will be a list-of column where each element has type `ptype` (#998)."
tidyr,49,"`unnest_wider()` gains a new `strict` argument which controls whether or not strict vctrs typing rules should be applied. It defaults to `FALSE` for backwards compatibility, and because it is often more useful to be lax when unnesting JSON, which doesn't always map one-to-one with R's types (#1125)."
tidyr,50,"`hoist()`, `unnest_longer()`, and `unnest_wider()`'s `simplify` argument now accepts a named list of `TRUE` or `FALSE` to control simplification on a per column basis (#995)."
tidyr,51,"`hoist()`, `unnest_longer()`, and `unnest_wider()`'s `transform` argument now accepts a single function which will be applied to all components (#1284)."
tidyr,52,"`hoist()`, `unnest_longer()`, and `unnest_wider()`'s `ptype` argument now accepts a single empty ptype which will be applied to all components (#1284)."
tidyr,53,`complete()` gains a new `explicit` argument for limiting `fill` to only implicit missing values. This is useful if you don't want to fill in pre-existing missing values (#1270).
tidyr,54,"`complete()` gains a grouped data frame method. This generates a more correct completed data frame when groups are involved (#396, #966)."
tidyr,55,"`drop_na()`, `replace_na()`, and `fill()` have been updated to utilize vctrs. This means that you can use these functions on a wider variety of column types, including lubridate's Period types (#1094), data frame columns, and the [rcrd](https://vctrs.r-lib.org/reference/new_rcrd.html) type from vctrs."
tidyr,56,`replace_na()` no longer replaces empty atomic elements in list-columns (like `integer(0)`). The only value that is replaced in a list-column is `NULL` (#1168).
tidyr,57,`drop_na()` no longer drops empty atomic elements from list-columns (like `integer(0)`). The only value that is dropped in a list-column is `NULL` (#1228).
tidyr,58,@​mgirlich is now a tidyr author in recognition of his significant and sustained contributions.
tidyr,59,All lazyeval variants of tidyr verbs have been soft-deprecated. Expect them to move to the defunct stage in the next minor release of tidyr (#1294).
tidyr,60,`any_of()` and `all_of()` from tidyselect are now re-exported (#1217).
tidyr,61,dplyr \>= 1.0.0 is now required.
tidyr,62,`pivot_wider()` now gives better advice about how to identify duplicates when values are not uniquely identified (#1113).
tidyr,63,`pivot_wider()` now throws a more informative error when `values_fn` doesn't result in a single summary value (#1238).
tidyr,64,`pivot_wider()` and `pivot_longer()` now generate more informative errors related to name repair (#987).
tidyr,65,`pivot_wider()` now works correctly when `values_fill` is a data frame.
tidyr,66,`pivot_wider()` no longer accidentally retains `values_from` when pivoting a zero row data frame (#1249).
tidyr,67,`pivot_wider()` now correctly handles the case where an id column name collides with a value from `names_from` (#1107).
tidyr,68,"`pivot_wider()` and `pivot_longer()` now both check that the spec columns `.name` and `.value` are character vectors. Additionally, the `.name` column must be unique (#1107)."
tidyr,69,"`pivot_wider()`'s `names_from` and `values_from` arguments are now required if their default values of `name` and `value` don't correspond to columns in `data`. Additionally, they must identify at least 1 column in `data` (#1240)."
tidyr,70,`pivot_wider()`'s `values_fn` argument now correctly allows anonymous functions (#1114).
tidyr,71,"`pivot_wider_spec()` now works correctly with a 0-row data frame and a `spec` that doesn't identify any rows (#1250, #1252)."
tidyr,72,`pivot_longer()`'s `names_ptypes` argument is now applied after `names_transform` for consistency with the rectangling functions (i.e. `hoist()`) (#1233).
tidyr,73,`check_pivot_spec()` is a new developer facing function for validating a pivot `spec` argument. This is only useful if you are extending `pivot_longer()` or `pivot_wider()` with new S3 methods (#1087).
tidyr,74,"The `nest()` generic now avoids computing on `.data`, making it more compatible with lazy tibbles (#1134)."
tidyr,75,The `.names_sep` argument of the data.frame method for `nest()` is now actually used (#1174).
tidyr,76,`unnest()`'s `ptype` argument now works as expected (#1158).
tidyr,77,`unpack()` no longer drops empty columns specified through `cols` (#1191).
tidyr,78,`unpack()` now works correctly with data frame columns containing 1 row but 0 columns (#1189).
tidyr,79,`chop()` now works correctly with data frames with 0 rows (#1206).
tidyr,80,`chop()`'s `cols` argument is no longer optional. This matches the behavior of `cols` seen elsewhere in tidyr (#1205).
tidyr,81,`unchop()` now respects `ptype` when unnesting a non-list column (#1211).
tidyr,82,`hoist()` no longer accidentally removes elements that have duplicated names (#1259).
tidyr,83,"The grouped data frame methods for `complete()` and `expand()` now move the group columns to the front of the result (in addition to the columns you completed on or expanded, which were already moved to the front). This should make more intuitive sense, as you are completing or expanding ""within"" each group, so the group columns should be the first thing you see (#1289)."
tidyr,84,`complete()` now applies `fill` even when no columns to complete are specified (#1272).
tidyr,85,"`expand()`, `crossing()`, and `nesting()` now correctly retain `NA` values of factors (#1275)."
tidyr,86,"`expand_grid()`, `expand()`, `nesting()`, and `crossing()` now silently apply name repair to automatically named inputs. This avoids a number of issues resulting from duplicate truncated names (#1116, #1221, #1092, #1037, #992)."
tidyr,87,"`expand_grid()`, `expand()`, `nesting()`, and `crossing()` now allow columns from unnamed data frames to be used in expressions after that data frame was specified, like `expand_grid(tibble(x = 1), y = x)`. This is more consistent with how `tibble()` behaves."
tidyr,88,"`expand_grid()`, `expand()`, `nesting()`, and `crossing()` now work correctly with data frames containing 0 columns but \>0 rows (#1189)."
tidyr,89,"`expand_grid()`, `expand()`, `nesting()`, and `crossing()` now return a 1 row data frame when no inputs are supplied, which is more consistent with `prod() == 1L` and the idea that computations involving the number of combinations computed from an empty set should return 1 (#1258)."
tidyr,90,`drop_na()` no longer drops missing values from all columns when a tidyselect expression that results in 0 columns being selected is used (#1227).
tidyr,91,`fill()` now treats `NaN` like any other missing value (#982).
tidyr,92,"`expand_grid()` is now about twice as fast and `pivot_wider()` is a bit faster (@​mgirlich, #1130)."
tidyr,93,"`unchop()` is now much faster, which propagates through to various functions, such as `unnest()`, `unnest_longer()`, `unnest_wider()`, and `separate_rows()` (@​mgirlich, @​DavisVaughan, #1127)."
tidyr,94,"`unnest()` is now much faster (@​mgirlich, @​DavisVaughan, #1127)."
tidyr,95,"`unnest()` no longer allows unnesting a list-col containing a mix of vector and data frame elements. Previously, this only worked by accident, and is considered an off-label usage of `unnest()` that has now become an error."
tidyr,96,"tidyr verbs no longer have ""default"" methods for lazyeval fallbacks. This means that you'll get clearer error messages (#1036)."
tidyr,97,"`uncount()` error for non-integer weights and gives a clearer error message for negative weights (@​mgirlich, #1069)."
tidyr,98,"You can once again unnest dates (#1021, #1089)."
tidyr,99,"`pivot_wider()` works with data.table and empty key variables (@​mgirlich, #1066)."
tidyr,100,"`separate_rows()` works for factor columns (@​mgirlich, #1058)."
tidyr,101,"`separate_rows()` returns to 1.1.0 behaviour for empty strings (@​rjpatm, #1014)."
tidyr,102,New tidyr logo!
tidyr,103,"stringi dependency has been removed; this was a substantial dependency that make tidyr hard to compile in resource constrained environments (@​rjpat, #936)."
tidyr,104,Replace Rcpp with cpp11. See <https://cpp11.r-lib.org/articles/motivations.html> for reasons why.
tidyr,105,"`pivot_longer()`, `hoist()`, `unnest_wider()`, and `unnest_longer()` gain new `transform` arguments; these allow you to transform values ""in flight"". They are partly needed because vctrs coercion rules have become stricter, but they give you greater flexibility than was available previously (#921)."
tidyr,106,Arguments that use tidy selection syntax are now clearly documented and have been updated to use tidyselect 1.1.0 (#872).
tidyr,107,"Both `pivot_wider()` and `pivot_longer()` are considerably more performant, thanks largely to improvements in the underlying vctrs code (#790, @​DavisVaughan)."
tidyr,108,`pivot_longer()` now supports `names_to = character()` which prevents the name column from being created (#961).
tidyr,108,"```
df <- tibble(id = 1:3, x_1 = 1:3, x_2 = 4:6)  
df %>% pivot_longer(-id, names_to = character())
```"
tidyr,109,`pivot_longer()` no longer creates a `.copy` variable in the presence of duplicate column names. This makes it more consistent with the handling of non-unique specs.
tidyr,110,"`pivot_longer()` automatically disambiguates non-unique ouputs, which can occur when the input variables include some additional component that you don't care about and want to discard (#792, #793)."
tidyr,110,"```
df <- tibble(id = 1:3, x_1 = 1:3, x_2 = 4:6)  
df %>% pivot_longer(-id, names_pattern = ""(.)_."")
df %>% pivot_longer(-id, names_sep = ""_"", names_to = c(""name"", NA))
df %>% pivot_longer(-id, names_sep = ""_"", names_to = c("".value"", NA))
```"
tidyr,111,"`pivot_wider()` gains a `names_sort` argument which allows you to sort column names in order. The default, `FALSE`, orders columns by their first appearance (#839). In a future version, I'll consider changing the default to `TRUE`."
tidyr,112,`pivot_wider()` gains a `names_glue` argument that allows you to construct output column names with a glue specification.
tidyr,113,"`pivot_wider()` arguments `values_fn` and `values_fill` can now be single values; you now only need to use a named list if you want to use different values for different value columns (#739, #746). They also get improved errors if they're not of the expected type."
tidyr,114,"`hoist()` now automatically names pluckers that are a single string (#837). It error if you use duplicated column names (@​mgirlich, #834), and now uses `rlang::list2()` behind the scenes (which means that you can now use `!!!` and `:=`) (#801)."
tidyr,115,"`unnest_longer()`, `unnest_wider()`, and `hoist()` do a better job simplifying list-cols. They no longer add unneeded `unspecified()` when the result is still a list (#806), and work when the list contains non-vectors (#810, #848)."
tidyr,116,"`unnest_wider(names_sep = """")` now provides default names for unnamed inputs, suppressing the many previous name repair messages (#742)."
tidyr,117,"`pack()` and `nest()` gains a `.names_sep` argument allows you to strip outer names from inner names, in symmetrical way to how the same argument to `unpack()` and `unnest()` combines inner and outer names (#795, #797)."
tidyr,118,"`unnest_wider()` and `unnest_longer()` can now unnest `list_of` columns. This is important for unnesting columns created from `nest()` and with `pivot_wider()`, which will create `list_of` columns if the id columns are non-unique (#741)."
tidyr,119,"`chop()` now creates list-columns of class `vctrs::list_of()`. This helps keep track of the type in case the chopped data frame is empty, allowing `unchop()` to reconstitute a data frame with the correct number and types of column even when there are no observations."
tidyr,120,`drop_na()` now preserves attributes of unclassed vectors (#905).
tidyr,121,"`expand()`, `expand_grid()`, `crossing()`, and `nesting()` once again evaluate their inputs iteratively, so you can refer to freshly created columns, e.g. `crossing(x = seq(-2, 2), y = x)` (#820)."
tidyr,122,"`expand()`, `expand_grid()`, `crossing()`, and `nesting()` gain a `.name_repair` giving you control over their name repair strategy (@​jeffreypullin, #798)."
tidyr,123,"`extract()` lets you use `NA` in `into`, as documented (#793)."
tidyr,124,"`extract()`, `separate()`, `hoist()`, `unnest_longer()`, and `unnest_wider()` give a better error message if `col` is missing (#805)."
tidyr,125,`pack()`'s first argument is now `.data` instead of `data` (#759).
tidyr,126,`pivot_longer()` now errors if `values_to` is not a length-1 character vector (#949).
tidyr,127,`pivot_longer()` and `pivot_wider()` are now generic so implementations can be provided for objects other than data frames (#800).
tidyr,128,`pivot_wider()` can now pivot data frame columns (#926)
tidyr,129,"`unite(na.rm = TRUE)` now works for all types of variable, not just character vectors (#765)."
tidyr,130,`unnest_wider()` gives a better error message if you attempt to unnest multiple columns (#740).
tidyr,131,`unnest_auto()` works when the input data contains a column called `col` (#959).
tidyr,132,"Minor fixes for dev versions of rlang, tidyselect, and tibble."
tidyr,133,Did not exist since I accidentally released v1.0.2
tidyr,134,"`nest()` and `unnest()` have new syntax. The majority of existing usage should be automatically translated to the new syntax with a warning. If that doesn't work, put this in your script to use the old versions until you can take a closer look and update your code:"
tidyr,134,"```
library(tidyr)
nest <- nest_legacy
unnest <- unnest_legacy
```"
tidyr,135,"`nest()` now preserves grouping, which has implications for downstream calls to group-aware functions, such as `dplyr::mutate()` and `filter()`."
tidyr,136,The first argument of `nest()` has changed from `data` to `.data`.
tidyr,137,`unnest()` uses the [emerging tidyverse standard](https://www.tidyverse.org/blog/2019/01/tibble-2.0.1/#name-repair) to disambiguate unique names. Use `names_repair = tidyr_legacy` to request the previous approach.
tidyr,138,"`unnest_()`/`nest_()` and the lazyeval methods for `unnest()`/`nest()` are now defunct. They have been deprecated for some time, and, since the interface has changed, package authors will need to update to avoid deprecation warnings. I think one clean break should be less work for everyone. All other lazyeval functions have been formally deprecated, and will be made defunct in the next major release. (See [lifecycle vignette](https://lifecycle.r-lib.org/articles/stages.html) for details on deprecation stages)."
tidyr,139,"`crossing()` and `nesting()` now return 0-row outputs if any input is a length-0 vector. If you want to preserve the previous behaviour which silently dropped these inputs, you should convert empty vectors to `NULL`. (More discussion on this general pattern at https://github.com/tidyverse/principles/issues/24)"
tidyr,140,"New `keep_empty` parameter ensures that every row in the input gets at least one row in the output, inserting missing values as needed (#358)."
tidyr,141,Provides `names_sep` argument to control how inner and outer column names are combined.
tidyr,142,"Uses standard tidyverse name-repair rules, so by default you will get an error if the output would contain multiple columns with the same name. You can override by using `name_repair` (#514)."
tidyr,143,Now supports `NULL` entries (#436).
tidyr,144,`pack()` and `unpack()` allow you to pack and unpack columns into data frame columns (#523).
tidyr,145,`chop()` and `unchop()` chop up rows into sets of list-columns.
tidyr,146,"New `expand_grid()`, a tidy version of `expand.grid()`, is lower-level than the existing `expand()` and `crossing()` functions, as it takes individual vectors, and does not sort or uniquify them."
tidyr,147,"`crossing()`, `nesting()`, and `expand()` have been rewritten to use the vctrs package. This should not affect much existing code, but considerably simplies the implementation and ensures that these functions work consistently across all generalised vectors (#557). As part of this alignment, these functions now only drop `NULL` inputs, not any 0-length vector."
tidyr,148,"`full_seq()` now also works when gaps between observations are shorter than the given `period`, but are within the tolerance given by `tol`. Previously, gaps between consecutive observations had to be in the range \[`period`, `period + tol`\]; gaps can now be in the range \[`period - tol`, `period + tol`\] (@​ha0ye, #657)."
tidyr,149,"tidyr now re-exports `tibble()`, `as_tibble()`, and `tribble()`, as well as the tidyselect helpers (`starts_with()`, `ends_width()`, ...). This makes generating documentation, reprexes, and tests easier, and makes tidyr easier to use without also attaching dplyr."
tidyr,150,All functions that take `...` have been instrumented with functions from the [ellipsis](https://github.com/r-lib/ellipsis/) package to warn if you've supplied arguments that are ignored (typically because you've misspelled an argument name) (#573).
tidyr,151,"`complete()` now uses `full_join()` so that all levels are preserved even when not all levels are specified (@​Ryo-N7, #493)."
tidyr,152,"`crossing()` now takes the unique values of data frame inputs, not just vector inputs (#490)."
tidyr,153,`gather()` throws an error if a column is a data frame (#553).
tidyr,154,`extract()` (and hence `pivot_longer()`) can extract multiple input values into a single output column (#619).
tidyr,155,`fill()` is now implemented using `dplyr::mutate_at()`. This radically simplifies the implementation and considerably improves performance when working with grouped data (#520).
tidyr,156,"`fill()` now accepts `downup` and `updown` as fill directions (@​coolbutuseless, #505)."
tidyr,157,"`unite()` gains `na.rm` argument, making it easier to remove missing values prior to uniting values together (#203)"
tidyr,158,"`crossing()` preserves factor levels (#410), now works with list-columns (#446, @​SamanthaToet). (These also help `expand()` which is built on top of `crossing()`)"
tidyr,159,`nest()` is compatible with dplyr 0.8.0.
tidyr,160,`spread()` works when the id variable has names (#525).
tidyr,161,"`unnest()` preserves column being unnested when input is zero-length (#483), using `list_of()` attribute to correctly restore columns, where possible."
tidyr,162,"`unnest()` will run with named and unnamed list-columns of same length (@​hlendway, #460)."
tidyr,163,"`separate()` now accepts `NA` as a column name in the `into` argument to denote columns which are omitted from the result. (@​markdly, #397)."
tidyr,164,Minor updates to ensure compatibility with dependencies.
tidyr,165,"`unnest()` weakens test of ""atomicity"" to restore previous behaviour when unnesting factors and dates (#407)."
tidyr,166,"There are no deliberate breaking changes in this release. However, a number of packages are failing with errors related to numbers of elements in columns, and row names. It is possible that these are accidental API changes or new bugs. If you see such an error in your package, I would sincerely appreciate a minimal reprex."
tidyr,167,"`separate()` now correctly uses -1 to refer to the far right position, instead of -2. If you depended on this behaviour, you'll need to switch on `packageVersion(""tidyr"") > ""0.7.2""`"
tidyr,168,Increased test coverage from 84% to 99%.
tidyr,169,`uncount()` performs the inverse operation of `dplyr::count()` (#279)
tidyr,170,`complete(data)` now returns `data` rather than throwing an error (#390). `complete()` with zero-length completions returns original input (#331).
tidyr,171,`crossing()` preserves `NA`s (#364).
tidyr,172,`expand()` with empty input gives empty data frame instead of `NULL` (#331).
tidyr,173,"`expand()`, `crossing()`, and `complete()` now complete empty factors instead of dropping them (#270, #285)"
tidyr,174,`extract()` has a better error message if `regex` does not contain the expected number of groups (#313).
tidyr,175,"`drop_na()` no longer drops columns (@​jennybryan, #245), and works with list-cols (#280). Equivalent of `NA` in a list column is any empty (length 0) data structure."
tidyr,176,"`nest()` is now faster, especially when a long data frame is collapsed into a nested data frame with few rows."
tidyr,177,`nest()` on a zero-row data frame works as expected (#320).
tidyr,178,`replace_na()` no longer complains if you try and replace missing values in variables not present in the data (#356).
tidyr,179,"`replace_na()` now also works with vectors (#342, @​flying-sheep), and can replace `NULL` in list-columns. It throws a better error message if you attempt to replace with something other than length 1."
tidyr,180,"`separate()` no longer checks that `...` is empty, allowing methods to make use of it. This check was added in tidyr 0.4.0 (2016-02-02) to deprecate previous behaviour where `...` was passed to `strsplit()`."
tidyr,181,`separate()` and `extract()` now insert columns in correct position when `drop = TRUE` (#394).
tidyr,182,"`separate()` now works correctly counts from RHS when using negative integer `sep` values (@​markdly, #315)."
tidyr,183,`separate()` gets improved warning message when pieces aren't as expected (#375).
tidyr,184,"`separate_rows()` supports list columns (#321), and works with empty tibbles."
tidyr,185,`spread()` now consistently returns 0 row outputs for 0 row inputs (#269).
tidyr,186,`spread()` now works when `key` column includes `NA` and `drop` is `FALSE` (#254).
tidyr,187,`spread()` no longer returns tibbles with row names (#322).
tidyr,188,"`spread()`, `separate()`, `extract()` (#255), and `gather()` (#347) now replace existing variables rather than creating an invalid data frame with duplicated variable names (matching the semantics of mutate)."
tidyr,189,`unite()` now works (as documented) if you don't supply any variables (#355).
tidyr,190,`unnest()` gains `preserve` argument which allows you to preserve list columns without unnesting them (#328).
tidyr,191,`unnest()` can unnested list-columns contains lists of lists (#278).
tidyr,192,`unnest(df)` now works if `df` contains no list-cols (#344)
tidyr,193,"The SE variants `gather_()`, `spread_()` and `nest_()` now treat non-syntactic names in the same way as pre tidy eval versions of tidyr (#361)."
tidyr,194,Fix tidyr bug revealed by R-devel.
tidyr,195,"If you see error messages about objects or functions not found, it is likely because the selecting functions are now stricter in their arguments An example of selecting function is `gather()` and its `...` argument. This change makes the code more robust by disallowing ambiguous scoping. Consider the following code:"
tidyr,195,"```
x <- 3
df <- tibble(w = 1, x = 2, y = 3)
gather(df, ""variable"", ""value"", 1:x)
```"
tidyr,195,"Does it select the first three columns (using the `x` defined in the global environment), or does it select the first two columns (using the column named `x`)? To solve this ambiguity, we now make a strict distinction between data and context expressions. A data expression is either a bare name or an expression like `x:y` or `c(x, y)`. In a data expression, you can only refer to columns from the data frame. Everything else is a context expression in which you can only refer to objects that you have defined with `<-`. In practice this means that you can no longer refer to contextual objects like this:"
tidyr,195,"```
mtcars %>% gather(var, value, 1:ncol(mtcars))

x <- 3
mtcars %>% gather(var, value, 1:x)
mtcars %>% gather(var, value, -(1:x))
```"
tidyr,195,"You now have to be explicit about where to find objects. To do so, you can use the quasiquotation operator `!!` which will evaluate its argument early and inline the result:"
tidyr,195,"```
mtcars %>% gather(var, value, !! 1:ncol(mtcars))
mtcars %>% gather(var, value, !! 1:x)
mtcars %>% gather(var, value, !! -(1:x))
```"
tidyr,195,An alternative is to turn your data expression into a context expression by using `seq()` or `seq_len()` instead of `:`. See the section on tidyselect for more information about these semantics.
tidyr,196,"Following the switch to tidy evaluation, you might see warnings about the ""variable context not set"". This is most likely caused by supplying helpers like `everything()` to underscored versions of tidyr verbs. Helpers should be always be evaluated lazily. To fix this, just quote the helper with a formula: `drop_na(df, ~everything())`."
tidyr,197,The selecting functions are now stricter when you supply integer positions. If you see an error along the lines of
tidyr,197,"```
`-0.949999999999999`, `-0.940000000000001`, ... must resolve to
integer column positions, not a double vector
```"
tidyr,197,please round the positions before supplying them to tidyr. Double vectors are fine as long as they are rounded.
tidyr,198,"The arguments for selecting a single variable now support all features from `dplyr::pull()`. You can supply a name or a position, including negative positions."
tidyr,199,"Multiple variables are now selected a bit differently. We now make a strict distinction between data and context expressions. A data expression is either a bare name of an expression like `x:y` or `c(x, y)`. In a data expression, you can only refer to columns from the data frame. Everything else is a context expression in which you can only refer to objects that you have defined with `<-`. You can still refer to contextual objects in a data expression by being explicit. One way of being explicit is to unquote a variable from the environment with the tidy eval operator `!!`:"
tidyr,199,"```
x <- 2
drop_na(df, 2)     # Works fine
drop_na(df, x)     # Object 'x' not found
drop_na(df, !! x)  # Works as if you had supplied 2
```"
tidyr,199,"On the other hand, select helpers like `start_with()` are context expressions. It is therefore easy to refer to objects and they will never be ambiguous with data columns:"
tidyr,199,"```
x <- ""d""
drop_na(df, starts_with(x))
<<<<<<< HEAD
<<<<<<< HEAD
```"
tidyr,199,fd83bd334c02ab60a9e9bc651e8b474a,While these special rules is in contrast to most dplyr and tidyr verbs (where both the data and the context are in scope) they make sense for selecting functions and should provide more robust and helpful semantics.
tidyr,200,468525e1e3ac43cf239410607d110440,Patch tests to be compatible with dev tibble
tidyr,201,4c16dc15a6907e6e0d279a1b91bf832c,Register C functions
tidyr,202,edb87aefc89f1d62268b0a064c13fb42,Added package docs
tidyr,203,c7d2f078bfc125866b9c234ae16693c4,Patch tests to be compatible with dev dplyr.
tidyr,204,3b8a4a5b40a4e97589dc9e6afd202a9c,Patch test to be compatible with dev tibble
tidyr,205,b42c9be9ef5f1b47a50711137e8375cc,Changed deprecation message of `extract_numeric()` to point to `readr::parse_number()` rather than `readr::parse_numeric()`
tidyr,206,c0a1f4eb74b62f01b3e8d1d1a0350934,"`drop_na()` removes observations which have `NA` in the given variables. If no variables are given, all variables are considered (#194, @​janschulz)."
tidyr,207,4247fa270e6830c1a8aa8e9cf3c9fd61,`extract_numeric()` has been deprecated (#213).
tidyr,208,77b7c04fab5e851e9bc78f5a89da2226,Renamed `table4` and `table5` to `table4a` and `table4b` to make their connection more clear. The `key` and `value` variables in `table2` have been renamed to `type` and `count`.
tidyr,209,c58efb7ee196da1742a23692e7ed2934,"`expand()`, `crossing()`, and `nesting()` now silently drop zero-length inputs."
tidyr,210,72b4a704f16c782356be65f8bd4802bb,`crossing_()` and `nesting_()` are versions of `crossing()` and `nesting()` that take a list as input.
tidyr,211,39e09cb7e244c95b7900b0072281cfc1,`full_seq()` works correctly for dates and date/times.
tidyr,212,c6545d87dc58f370b7e7fa240871769a,"Restored compatibility with R \< 3.3.0 by avoiding `getS3method(envir = )` (#205, @​krlmlr)."
tidyr,213,730a717346445d5662693e1ec5903009,"`separate_rows()` separates observations with multiple delimited values into separate rows (#69, @​aaronwolen)."
tidyr,214,a7f2e469af4dd0aca96dfa811e5390f4,`complete()` preserves grouping created by dplyr (#168).
tidyr,215,cd3893f9c923729778e468262e068cff,`expand()` (and hence `complete()`) preserves the ordered attribute of factors (#165).
tidyr,216,0bccc8f846ed620b1dc56127ccdc99b8,"`full_seq()` preserve attributes for dates and date/times (#156), and sequences no longer need to start at 0."
tidyr,217,4f295e5263194e7b39e9ab8d25c20d5d,"`gather()` can now gather together list columns (#175), and `gather_.data.frame(na.rm = TRUE)` now only removes missing values if they're actually present (#173)."
tidyr,218,9516be5516cc556dd454f59394e53f39,`nest()` returns correct output if every variable is nested (#186).
tidyr,219,b79bae5cb984674c573593b67e9b0285,"`separate()` fills from right-to-left (not left-to-right!) when fill = ""left"" (#170, @​dgrtwo)."
tidyr,220,1560bf428d758d6d5bc441b6f40d14da,"`separate()` and `unite()` now automatically drop removed variables from grouping (#159, #177)."
tidyr,221,7e1d1876e2fb14dda370c2019a02d1bf,"`spread()` gains a `sep` argument. If not-null, this will name columns as ""key`<sep>`{=html}value"". Additionally, if sep is `NULL` missing values will be converted to `<NA>` (#68)."
tidyr,222,152b5d95080ff599d8838be0337cf96a,`spread()` works in the presence of list-columns (#199)
tidyr,223,5d0d29cbaea48757e86b080cde2732e6,`unnest()` works with non-syntactic names (#190).
tidyr,224,6203b7f1d3dbe77025b9f7cb85534f21,"`unnest()` gains a `sep` argument. If non-null, this will rename the columns of nested data frames to include both the original column name, and the nested column name, separated by `.sep` (#184)."
tidyr,225,770cc2da86b22166b9dfa3d8a7a3b226,`unnest()` gains `.id` argument that works the same way as `bind_rows()`. This is useful if you have a named list of data frames or vectors (#125).
tidyr,226,830e6b0669dbb59902fe3bd2d1ce7c36,Moved in useful sample datasets from the DSR package.
tidyr,227,7ccc4507db82da17535def5b7b536223,Made compatible with both dplyr 0.4 and 0.5.
tidyr,228,6906e10358c005dc1e3550a2ce20b42b,tidyr functions that create new columns are more aggressive about re-encoding the column names as UTF-8.
tidyr,229,66b76b34f8294bfa7e84bdf8591b571f,Fixed bug in `nest()` where nested data was ending up in the wrong row (#158).
tidyr,230,9e940fb6460456ab2fa4edcfee09ec95,"`nest()` now produces a single list of data frames called ""data"" rather than a list column for each variable. Nesting variables are not included in nested data frames. It also works with grouped data frames made by `dplyr::group_by()`. You can override the default column name with `.key`."
tidyr,231,29e72a6c10dce449d8faed663d7e1def,"`unnest()` gains a `.drop` argument which controls what happens to other list columns. By default, they're kept if the output doesn't require row duplication; otherwise they're dropped."
tidyr,232,bf284bc9769ec05dbe5b1feae101e4bd,`unnest()` now has `mutate()` semantics for `...` - this allows you to unnest transformed columns more easily. (Previously it used select semantics).
tidyr,233,16d039b97a49ffdeba037560214a3204,"`expand()` once again allows you to evaluate arbitrary expressions like `full_seq(year)`. If you were previously using `c()` to created nested combinations, you'll now need to use `nesting()` (#85, #121)."
tidyr,234,726322c990b3f6e65ef1ccbb4854a1ef,`nesting()` and `crossing()` allow you to create nested and crossed data frames from individual vectors. `crossing()` is similar to `base::expand.grid()`
tidyr,235,5782a4b2a0795c0154f6de652be4c15f,"`full_seq(x, period)` creates the full sequence of values from `min(x)` to `max(x)` every `period` values."
tidyr,236,f24f94fd0c7d81236fb7f7b24ed73895,`fill()` fills in `NULL`s in list-columns.
tidyr,237,5f3e35a84ebf96a8c434e204d985d7c6,`fill()` gains a direction argument so that it can fill either upwards or downwards (#114).
tidyr,238,00c37a2b74e8cb0cb7e18620150d4c9e,"`gather()` now stores the key column as character, by default. To revert to the previous behaviour of using a factor (which allows you to preserve the ordering of the columns), use `key_factor = TRUE` (#96)."
tidyr,239,eaf28165b8a0ab128899a8613a657e9d,"All tidyr verbs do the right thing for grouped data frames created by `group_by()` (#122, #129, #81)."
tidyr,240,0e74d837bbe42eecdded08145f565078,`seq_range()` has been removed. It was never used or announced.
tidyr,241,69c0ff12a465dab46ca56af82adeecad,"`spread()` once again creates columns of mixed type when `convert = TRUE` (#118, @​jennybc). `spread()` with `drop = FALSE` handles zero-length factors (#56). `spread()`ing a data frame with only key and value columns creates a one row output (#41)."
tidyr,242,202d5abc9a43498874a3add24049183e,"`unite()` now removes old columns before adding new (#89, @​krlmlr)."
tidyr,243,daac4736b04d64a9655cfee1b470bff3,"`separate()` now warns if defunct ... argument is used (#151, @​krlmlr)."
tidyr,244,50d637187f762a4f15fb641f7f622520,Fixed bug where attributes of non-gather columns were lost (#104)
tidyr,245,048537f7ccac116c139937aee7a85b92,"New `complete()` provides a wrapper around `expand()`, `left_join()` and `replace_na()` for a common task: completing a data frame with missing combinations of variables."
tidyr,246,1be8ca114e4eb05aa8ad99bfe44477f2,`fill()` fills in missing values in a column with the last non-missing value (#4).
tidyr,247,b6ec0563ed5e608c38e913eba4c9f698,New `replace_na()` makes it easy to replace missing values with something meaningful for your data.
tidyr,248,abf28e9ca9f6dd87a88b377b791a3961,`nest()` is the complement of `unnest()` (#3).
tidyr,249,e896afd9d0e60b54a46ebb4bb447ae8d,"`unnest()` can now work with multiple list-columns at the same time. If you don't supply any columns names, it will unlist all list-columns (#44). `unnest()` can also handle columns that are lists of data frames (#58)."
tidyr,250,1c61233802f26d7925f9536dff873cb6,tidyr no longer depends on reshape2. This should fix issues if you also try to load reshape (#88).
tidyr,251,a3a3d142d39e5e5f3db8e4a792c4d70b,`%>%` is re-exported from magrittr.
tidyr,252,26c4d7359071c9dcb35083f7cd0d71a5,`expand()` now supports nesting and crossing (see examples for details). This comes at the expense of creating new variables inline (#46).
tidyr,253,081214bf8c650a0c7515af850e9fc8f4,`expand_` does SE evaluation correctly so you can pass it a character vector of columns names (or list of formulas etc) (#70).
tidyr,254,4c1464ea926e22659086c4ec3c7b6e5f,`extract()` is 10x faster because it now uses stringi instead of base R regular expressions. It also returns NA instead of throwing an error if the regular expression doesn't match (#72).
tidyr,255,db685b14c319bbc7a4d85d7b590e5267,`extract()` and `separate()` preserve character vectors when `convert` is TRUE (#99).
tidyr,256,770630c16dde6b076f456457c39f6ef5,"The internals of `spread()` have been rewritten, and now preserve all attributes of the input `value` column. This means that you can now spread date (#62) and factor (#35) inputs."
tidyr,257,5e1e3260fc051b93ff01cd453c56a83f,`spread()` gives a more informative error message if `key` or `value` don't exist in the input data (#36).
tidyr,258,223f5c251ed1d9e5af2c6c8621b07852,"`separate()` only displays the first 20 failures (#50). It has finer control over what happens if there are two few matches: you can fill with missing values on either the ""left"" or the ""right"" (#49). `separate()` no longer throws an error if the number of pieces aren't as expected - instead it uses drops extra values and fills on the right and gives a warning."
tidyr,259,60c071b56bbf2e21d19522e015092e42,"If the input is NA `separate()` and `extract()` both return silently return NA outputs, rather than throwing an error. (#77)"
tidyr,260,cce1ff6425e6a08a382c290054b25498,Experimental `unnest()` method for lists has been removed.
tidyr,261,f571d54f10dc839c046502a6e77b62ed,Experimental `expand()` function (#21).
tidyr,262,b2ee828afef7aaf36b0917d473becfae,"Experiment `unnest()` function for converting named lists into data frames. (#3, #22)"
tidyr,263,961616bbec4c5ef5e86a4f965c0f0cf1,`extract_numeric()` preserves negative signs (#20).
tidyr,264,9718adf46a03565e673c8ac3f700f0df,"`gather()` has better defaults if `key` and `value` are not supplied. If `...` is omitted, `gather()` selects all columns (#28). Performance is now comparable to `reshape2::melt()` (#18)."
tidyr,265,45d7ef2a055e5244f0224fbfbe56ed46,"`separate()` gains `extra` argument which lets you control what happens to extra pieces. The default is to throw an ""error"", but you can also ""merge"" or ""drop""."
tidyr,266,8fdf307f152edf220b7945c82e91730b,"`spread()` gains `drop` argument, which allows you to preserve missing factor levels (#25). It converts factor value variables to character vectors, instead of embedding a matrix inside the data frame (#35)."
xml2,1,eea39835c9d4f846a5271a229e2aaa53,"`xml_serialize()` now includes the document type so that `xml_unserialize()` works also for HTML documents (#407, @​HenrikBengtsson)."
xml2,2,ab18d869c37923ebc76e0f4c97cb2c0d,"Remove unused dependencies on glue, withr and lifecycle (@​mgirlich)."
xml2,3,fcece7c82dff14ffc354cb7e933d802e,"`print()` is faster for very long `xml_nodeset` inputs (#366, @​michaelchirico)."
xml2,4,ee011d57f2673168265fa0ec4fe58754,"Small speedup for `xml_find_all()` (@​mgirlich, #393)."
xml2,5,28c76cf98f91011610686d2d6397e92c,Fixes for R CMD check problems.
xml2,6,28c76cf98f91011610686d2d6397e92c,Fixes for R CMD check problems.
xml2,7,57c9a063399494a3aea8df78cd6b3374,Windows: update to libxml2 2.10.3
xml2,8,f436c6be1e68d6f911de035a7175d246,Hadley Wickham is now (again) the maintainer.
xml2,9,7711eef6f8451fcb662e66220f0e342b,xml2 has been re-licensed as MIT (#317).
xml2,10,84c16bf549b3a77e7ed7e55aa13a5521,`xml_find_all.xml_node()` fails more informatively the `xpath` parameter is the wrong type (@​michaelchirico)
xml2,11,df4d880c7dea6d7b76e132df51d971f6,"`xml_find_all.xml_nodeset()` gains a `flatten` argument to control whether to return a single nodeset or a list of nodesets (#311, @​jakejh)"
xml2,12,3307d48be5b3aee6e2835bdf04512d4d,"`write_xml()` and `write_html()` now return NULL invisibly, as they did prior to version 1.3.0 (#307)"
xml2,13,4a050f8bcfd7c3756a22d01926f0e243,"`XPtr` gets explicit copy constructor and assignment operator definitions, which were two missing components of the [Rule of three](https://en.wikipedia.org/wiki/Rule_of_three_(C%2B%2B_programming)) (@​michaelchirico)"
xml2,14,b4f9b406a9ac3d91b588b902d5a045ce,Windows: update to libxml2 2.9.10 and libxslt 1.1.34 and add ucrt libs
xml2,15,7d1e0a973455c5a26ccc515a6eb34772,`read_html()` and `read_xml()` now error if passed strings of length greater than one (#121)
xml2,16,3ed0bbcaee2432204960888f2980995d,`read_xml.raw()` had an inadvertent regression in 1.3.0 and is now again fixed (#300)
xml2,17,045280434d8b0e218666f4e30261d199,"Compilation fix on macOS 10.15.4 (@​kevinushey, #296)"
xml2,18,bfa26dd385a23f6e5f501ffba82ae18f,`read_html()` now again works with HTML files with non-ASCII encodings (#293).
xml2,19,34fb56a448fa1ee4916bdab3b0dece1c,Removes the Rcpp dependency
xml2,20,fae536975ca5db38944893b95b8b8337,Fix compilation issue on macOS versions after High Sierra when not using homebrew supplied libxml2
xml2,21,ae82fb0ac3ff7bb7317f0d486d49e913,"Fix potential dangling pointer with internal `asXmlChar()` function (@​michaelquinn32, #287)."
xml2,22,a57bede9d3a9ddd30fad8b38bd05c3c5,`as_xml_document()` now handles cases with text nodes trailing normal nodes (#274).
xml2,23,e8114ecf499668534d5d22d09379f5e2,"`xml_add_child()` can now create nodes with a `par` attribute. These previously errored due to partial name matching of the `parent` function in the internal `create_node()` function. (@​jennybc, #285)"
xml2,24,4fbd7eb3b1a40d3f50a17ba5d7c1d287,"`libxml2_version()` now returns a semantic version rather than alphanumeric version, so ""2.9.10"" \> ""2.9.9"" (#277)"
xml2,25,487a06f95035b1e6a9a981b018154c1a,"Export S4 classes with documentation, so they can be used in other packages without Warnings (@​nuest, #267)"
xml2,26,09dd669ee8297d455e73afc2b33754fa,"xml2 now has a pkgdown site! <https://xml2.r-lib.org> (@​jayhesselberth, #211)."
xml2,27,bb5347803bc92f5fd0b1769ddcbbea8e,Windows: upgrade to libxml2 2.9.8
xml2,28,de6df2d8b8a96fc897f07b97b1277b88,"print methods now match the type of document, e.g. `read_html()` prints as ""{html_document}"" rather than ""{xml_document}"" (#227)"
xml2,29,d5e4cb7f15e52ee9ee7a96ead3dfaa3b,"Generic xml2 error are now forwarded as R errors. Previously these errors were output to stderr, so could not be suppressed (#209)."
xml2,30,3beea8a7355f171b5a0487983fcdca69,"Fix for ICU 59+ defaulting to use char16_t, which is only available in C++11 (#231)"
xml2,31,17c9c9852e6bbe1dd4da34bda5534ad3,No longer uses the C connections API
xml2,32,4faff03fda83a67762b5c0dcb5b9e7f3,Better error message when trying to run `download_xml()` without the curl package installed (#262)
xml2,33,46d029846493ab6af0a21b3ed8c69908,xml2 classes are now registered for use with S4 by calling `setOldClass()` (#248)
xml2,34,b1f1750b31408d6e6f299fa51769a53a,Nodes with nested data type definition entities now work without crashing (#241)
xml2,35,78dc293ccdb061295dba730e5362b6eb,Test failure fixed due to behavior change with relative paths in libxml2 2.9.9 (#245).
xml2,36,3e8f3dd0c50c1fd1d2aaaa5273f51549,`read_xml()` now has a better error message when given zero length character inputs (#212).
xml2,37,cedc752892fdfc4d91ec5a732b414854,`read_xml()` and `read_html()` now automatically check if the response succeeded before trying to read from a HTTP response (#255).
xml2,38,d2929dab52a6ad98cd5e325ab2c4abd1,`xml_root()` can now create root nodes with namespaces (#239)
xml2,39,512522fa20bb93942f731e9991349b3b,`xml_set_attr()` no longer crashes if you try to set the same namespace on the same node multiple times (#253).
xml2,40,57297201fb6ae28e64cafd41544f5948,`xml_set_attr()` now recycles the values if needed (#221)
xml2,41,0a40454380c89780cea8d19df69d91e8,"`xml_structure()` gains a `file` argument, to support writing to a file rather than the console (#244)."
xml2,42,911abdf2d13501b02e9e12f4423619a7,`as_list()` on `xml_document` objects did not properly include the root node in the returned list. Previous behavior can be obtained by using `as_list()[[1L]]` in place of `as_list()`.
xml2,43,2599d1d9fad0831d994e217824993c66,`download_xml()` and `download_html()` helper functions to make it easy to download files (#193).
xml2,44,facdc205f0dfdff21dcdb38a5e26c5e4,`xml_attr()` can now set attributes with no value (#198).
xml2,45,0f79f4a8221b80a6cdb591df4463496c,`xml_serialize()` and `xml_unserialize()` now create file connections when given character input (#179).
xml2,46,08d3561d0c8cc55ea0c9a15c0a523962,"`xml_find_first()` no longer de-duplicates results, so the results are always the same length as the inputs (as documented) (#194)."
xml2,47,8ff2d6fac618140587ba02778b2c3923,xml2 can now build using libxml2 2.7.0
xml2,48,fef9c24e0f48009aadbc1e4d9f32b7a4,Use Rcpp symbol registration and visibility to prevent symbol conflicts on Linux
xml2,49,db4c33999e1de6b17fa86efc479d42e0,"`xml_add_child()` now requires less resources to insert a node when called with `.where = 0L` (@​heckendorfc, #175)."
xml2,50,7a670b7cfccd8fd0bad16a11f78a6d14,Fixed failing examples due to a change in an external resource.
xml2,51,c020c5cf555000c6f54d9633841be0ea,"This is a small point release addressing installation issues found with older libxml2 versions shipped with RedHat Linux 6 / CentOS 6 (#163, #164)."
xml2,52,53a47c632ccb11282916fcb8225eadee,`write_xml()` and `write_html()` now accept connections as well as filenames for output. (#157)
xml2,53,d81a1673affa9415d199be562c5829b8,`xml_add_child()` now takes a `.where` argument specifying where to add the new children. (#138)
xml2,54,5587c7e35b8cd61b933874ffc10263fb,"`as_xml()` generic function to convert R objects to xml. The most important method is for lists and enables full roundtrip support for going to and back from xml for lists and enables full roundtrip support to and from XML. (#137, #143)"
xml2,55,4df7f06289239a960926161001472c70,`xml_new_root()` can be used to create a new document and a root node in one step (#131).
xml2,56,6d8cfddddc0cee3fcd2d485ea10ca886,`xml_add_parent()` inserts a new node between the node and its parent (#129)
xml2,57,e0a34368403cfd0090e9ca3aef4e579e,"Add `xml_validate()` to validate a document against an xml schema (#31, @​jeroenooms)."
xml2,58,57007ffa8c6dbb39507f78dae948dedc,Export `xml2_types.h` to allow for extension packages such as xslt.
xml2,59,61eb97eb5f5665472a49fe98f2e03bdc,`xml_comment()` allows you to add comment nodes to a document. (#111)
xml2,60,d4ed44eabf77130bd9eea9a18fad7ec4,`xml_cdata()` allows you to add CDATA nodes to a document. (#128)
xml2,61,960eca153efd73ce91124112009b109a,Add `xml_set_text()` and `xml_set_name()` equivalent to `xml_text<-` and `xml_name<-`. (#130).
xml2,62,60d464017efd32818c0652a6d564ed71,"Add `xml_set_attr()` and `xml_set_attrs()` equivalent to `xml_attr<-` and `xml_attrs<-`. (#109, #130)"
xml2,63,104def6906dd5fba9187b9a9ab8227a0,Add `write_html()` method (#133).
xml2,64,fb7a706bd8794051716cee13829d57be,`xml_new_document()` now explicitly sets the encoding (default UTF-8) (#142)
xml2,65,1111eb626948256ad78bd6d503c43ec9,Document formatting options for `write_xml()` (#132)
xml2,66,c3f79cb9a79b49eb1accf1afa7713415,Add missing methods for xml_missing objects. (#134)
xml2,67,4e3dc6fbbc5e5ec55de8028991af3375,Bugfix for xml_length.xml_nodeset that caused it to fail unconditionally. (#140)
xml2,68,498830336ecdac9f45311652901263d7,`is.na()` now returns `TRUE` for `xml_missing` objects. (#139)
xml2,69,2d7ab4b3ebd32d865fb81bf756072591,Trim non-breaking spaces in `xml_text(trim = TRUE)` (#151).
xml2,70,e176674cc6ceb7ca6310276419fabfc2,"Allow setting non-character attributes (values are coerced to characters). (@​sjp, #117, #122)."
xml2,71,399a9b5895e180327640e89d327a55cf,"Fixed return value in call to vapply in xml_integer.xml_nodeset. (@​ddiez, #146, #147)."
xml2,72,5cfe9d2e934e4f3f6be62bd0617c04e3,"Allow docs missing a root element to be created and printed. (@​sjp, #126, #121)."
xml2,73,8848afe95d1f2ec3a532d703d2b5ac48,"xml_add\_\* methods now return invisibly. (@​sjp, #124)"
xml2,74,f000a9e748ad84873e7d3b4b9393b225,"`as_list()` now preserves element names when attributes exist, and escapes XML attributes that conflict with special R attributes (@​peterfoley, #115)."
xml2,75,005321ee1ab83c89a99bdd63ee1e03b3,"All C++ functions now use `checked_get()` instead of `get()` where possible, so NULL XPtrs properly throw an error rather than crashing. (@​jimhester, #101, #104)."
xml2,76,7d93c962d5d3018e2b4dda4be79fc3d9,"`xml_integer()` and `xml_double()` functions to make it easy to extract integer and double text from nodes (@​jimhester, #97, #99)."
xml2,77,a50255d081f4c25dbe2835d7c724f6e8,"xml2 now supports modification and creation of XML nodes. New functions `xml_new_document()`, `xml_new_child()`, `xml_new_sibling()`, `xml_set_namespace()`, , `xml_remove()`, `xml_replace()`, `xml_root()` and replacement methods for `xml_name()`, `xml_attr()`, `xml_attrs()` and `xml_text()` (@​jimhester, #9 #76)"
xml2,78,b78a40edefc513df318543c2ce7a3bde,"`xml_ns()` now keeps namespace prefixes that point to the same URI (@​jimhester, #35, #95)."
xml2,79,299d4ffe7aa09c81160e6ff08d4ae748,"`read_xml()` and `read_html()` methods added for `httr::response()` objects. (@​jimhester, #63, #93)"
xml2,80,75c3be6b548146423fd085a88f793ab0,"`xml_child()` function to make selecting children a little easier (@​jimhester, #23, #94)"
xml2,81,7a65d1a98213e8bbdfabe1986865af2a,"`xml_find_one()` has been deprecated in favor of `xml_find_first()` (@​jimhester, #58, #92)"
xml2,82,290715d8eca18979248066520bc3700e,"`xml_read()` functions now default to passing the document's namespace object. Namespace definitions can now be removed as well as added and `xml_ns_strip()` added to remove all default namespaces from a document. (@​jimhester, #28, #89)"
xml2,83,771c1f2a48cd60a648c1ba92f287a2c7,"`xml_read()` gains a `options` argument to control all available parsing options, including `HUGE` to turn off limits for parsing very large documents and now drops blank text nodes by default, mimicking default behavior of XML package. (@​jimhester, #49, #62, #85, #88)"
xml2,84,5685392305f23b99266e3e4a5931afbe,"`xml_write()` expands the path on filenames, so directories can be specified with '\~/' (@​jimhester, #86, #80)"
xml2,85,947924218b39d320cda11d4045dee21a,"`xml_find_one()` now returns a 'xml_missing' node object if there are 0 matches (@​jimhester, #55, #53, hadley/rvest#82)."
xml2,86,cb33e6cde072b980c04c7521c7bec8cd,"`xml_find_num()`, `xml_find_chr()`, `xml_find_lgl()` functions added to return numeric, character and logical results from XPath expressions. (@​jimhester, #55)"
xml2,87,1de58014826eb8e07b3592ec94391f50,`xml_name()` and `xml_text()` always correctly encode returned value as UTF-8 (#54).
xml2,88,bee997368c08b67439c8dc680821949f,Improved configure script - now works again on R-devel on windows.
xml2,89,05ab1912662379c81c3f3ec851834499,"Compiles with older versions of libxml2.,"
xml2,90,08c68ec075df4315e48782fc73040a72,Make configure script more cross platform.
xml2,91,f69faa4f478ea6b7eac0c0e103e11cc9,Add `xml_length()` to count the number of children (#32).
tidyverse,1,43bd2f5b1426f30e284eede021c77901,lubridate is now a member of the core tidyverse (#157)!
tidyverse,2,11540c4c15f080f744007c22bf5d8030,tidyverse now installs ragg (#310).
tidyverse,3,dd5c9477bd64157c47626684a349f1bb,Loading the tidyverse now advertises `library(conflicted)` because it resolves many conflict problems and silences tidyverse's automated report (#218).
tidyverse,4,c59808dab5d02d957073eb02696492f1,`tidyverse_sitrep()` correctly displays installed package versions and highlights development versions of packages (#222).
tidyverse,28,7ffa27c98bfa25646f3f86669246d433,Membership changes:
tidyverse,29,d0871fa3aea559691058c6a52ed296c4,"Removed DBI (since very different API, #16)"
tidyverse,30,5fb074dc490eac98e0e3e0bce64bf654,Added feather (#15)
>>>>>>> 7d44e32 (update lua filter to strip URLs from links)
=======
```"
tidyr,199,While these special rules is in contrast to most dplyr and tidyr verbs (where both the data and the context are in scope) they make sense for selecting functions and should provide more robust and helpful semantics.
tidyr,200,Patch tests to be compatible with dev tibble
tidyr,201,Register C functions
tidyr,202,Added package docs
tidyr,203,Patch tests to be compatible with dev dplyr.
tidyr,204,Patch test to be compatible with dev tibble
tidyr,205,Changed deprecation message of `extract_numeric()` to point to `readr::parse_number()` rather than `readr::parse_numeric()`
tidyr,206,"`drop_na()` removes observations which have `NA` in the given variables. If no variables are given, all variables are considered (#194, @​janschulz)."
tidyr,207,`extract_numeric()` has been deprecated (#213).
tidyr,208,Renamed `table4` and `table5` to `table4a` and `table4b` to make their connection more clear. The `key` and `value` variables in `table2` have been renamed to `type` and `count`.
tidyr,209,"`expand()`, `crossing()`, and `nesting()` now silently drop zero-length inputs."
tidyr,210,`crossing_()` and `nesting_()` are versions of `crossing()` and `nesting()` that take a list as input.
tidyr,211,`full_seq()` works correctly for dates and date/times.
tidyr,212,"Restored compatibility with R \< 3.3.0 by avoiding `getS3method(envir = )` (#205, @​krlmlr)."
tidyr,213,"`separate_rows()` separates observations with multiple delimited values into separate rows (#69, @​aaronwolen)."
tidyr,214,`complete()` preserves grouping created by dplyr (#168).
tidyr,215,`expand()` (and hence `complete()`) preserves the ordered attribute of factors (#165).
tidyr,216,"`full_seq()` preserve attributes for dates and date/times (#156), and sequences no longer need to start at 0."
tidyr,217,"`gather()` can now gather together list columns (#175), and `gather_.data.frame(na.rm = TRUE)` now only removes missing values if they're actually present (#173)."
tidyr,218,`nest()` returns correct output if every variable is nested (#186).
tidyr,219,"`separate()` fills from right-to-left (not left-to-right!) when fill = ""left"" (#170, @​dgrtwo)."
tidyr,220,"`separate()` and `unite()` now automatically drop removed variables from grouping (#159, #177)."
tidyr,221,"`spread()` gains a `sep` argument. If not-null, this will name columns as ""key`<sep>`{=html}value"". Additionally, if sep is `NULL` missing values will be converted to `<NA>` (#68)."
tidyr,222,`spread()` works in the presence of list-columns (#199)
tidyr,223,`unnest()` works with non-syntactic names (#190).
tidyr,224,"`unnest()` gains a `sep` argument. If non-null, this will rename the columns of nested data frames to include both the original column name, and the nested column name, separated by `.sep` (#184)."
tidyr,225,`unnest()` gains `.id` argument that works the same way as `bind_rows()`. This is useful if you have a named list of data frames or vectors (#125).
tidyr,226,Moved in useful sample datasets from the DSR package.
tidyr,227,Made compatible with both dplyr 0.4 and 0.5.
tidyr,228,tidyr functions that create new columns are more aggressive about re-encoding the column names as UTF-8.
tidyr,229,Fixed bug in `nest()` where nested data was ending up in the wrong row (#158).
tidyr,230,"`nest()` now produces a single list of data frames called ""data"" rather than a list column for each variable. Nesting variables are not included in nested data frames. It also works with grouped data frames made by `dplyr::group_by()`. You can override the default column name with `.key`."
tidyr,231,"`unnest()` gains a `.drop` argument which controls what happens to other list columns. By default, they're kept if the output doesn't require row duplication; otherwise they're dropped."
tidyr,232,`unnest()` now has `mutate()` semantics for `...` - this allows you to unnest transformed columns more easily. (Previously it used select semantics).
tidyr,233,"`expand()` once again allows you to evaluate arbitrary expressions like `full_seq(year)`. If you were previously using `c()` to created nested combinations, you'll now need to use `nesting()` (#85, #121)."
tidyr,234,`nesting()` and `crossing()` allow you to create nested and crossed data frames from individual vectors. `crossing()` is similar to `base::expand.grid()`
tidyr,235,"`full_seq(x, period)` creates the full sequence of values from `min(x)` to `max(x)` every `period` values."
tidyr,236,`fill()` fills in `NULL`s in list-columns.
tidyr,237,`fill()` gains a direction argument so that it can fill either upwards or downwards (#114).
tidyr,238,"`gather()` now stores the key column as character, by default. To revert to the previous behaviour of using a factor (which allows you to preserve the ordering of the columns), use `key_factor = TRUE` (#96)."
tidyr,239,"All tidyr verbs do the right thing for grouped data frames created by `group_by()` (#122, #129, #81)."
tidyr,240,`seq_range()` has been removed. It was never used or announced.
tidyr,241,"`spread()` once again creates columns of mixed type when `convert = TRUE` (#118, @​jennybc). `spread()` with `drop = FALSE` handles zero-length factors (#56). `spread()`ing a data frame with only key and value columns creates a one row output (#41)."
tidyr,242,"`unite()` now removes old columns before adding new (#89, @​krlmlr)."
tidyr,243,"`separate()` now warns if defunct ... argument is used (#151, @​krlmlr)."
tidyr,244,Fixed bug where attributes of non-gather columns were lost (#104)
tidyr,245,"New `complete()` provides a wrapper around `expand()`, `left_join()` and `replace_na()` for a common task: completing a data frame with missing combinations of variables."
tidyr,246,`fill()` fills in missing values in a column with the last non-missing value (#4).
tidyr,247,New `replace_na()` makes it easy to replace missing values with something meaningful for your data.
tidyr,248,`nest()` is the complement of `unnest()` (#3).
tidyr,249,"`unnest()` can now work with multiple list-columns at the same time. If you don't supply any columns names, it will unlist all list-columns (#44). `unnest()` can also handle columns that are lists of data frames (#58)."
tidyr,250,tidyr no longer depends on reshape2. This should fix issues if you also try to load reshape (#88).
tidyr,251,`%>%` is re-exported from magrittr.
tidyr,252,`expand()` now supports nesting and crossing (see examples for details). This comes at the expense of creating new variables inline (#46).
tidyr,253,`expand_` does SE evaluation correctly so you can pass it a character vector of columns names (or list of formulas etc) (#70).
tidyr,254,`extract()` is 10x faster because it now uses stringi instead of base R regular expressions. It also returns NA instead of throwing an error if the regular expression doesn't match (#72).
tidyr,255,`extract()` and `separate()` preserve character vectors when `convert` is TRUE (#99).
tidyr,256,"The internals of `spread()` have been rewritten, and now preserve all attributes of the input `value` column. This means that you can now spread date (#62) and factor (#35) inputs."
tidyr,257,`spread()` gives a more informative error message if `key` or `value` don't exist in the input data (#36).
tidyr,258,"`separate()` only displays the first 20 failures (#50). It has finer control over what happens if there are two few matches: you can fill with missing values on either the ""left"" or the ""right"" (#49). `separate()` no longer throws an error if the number of pieces aren't as expected - instead it uses drops extra values and fills on the right and gives a warning."
tidyr,259,"If the input is NA `separate()` and `extract()` both return silently return NA outputs, rather than throwing an error. (#77)"
tidyr,260,Experimental `unnest()` method for lists has been removed.
tidyr,261,Experimental `expand()` function (#21).
tidyr,262,"Experiment `unnest()` function for converting named lists into data frames. (#3, #22)"
tidyr,263,`extract_numeric()` preserves negative signs (#20).
tidyr,264,"`gather()` has better defaults if `key` and `value` are not supplied. If `...` is omitted, `gather()` selects all columns (#28). Performance is now comparable to `reshape2::melt()` (#18)."
tidyr,265,"`separate()` gains `extra` argument which lets you control what happens to extra pieces. The default is to throw an ""error"", but you can also ""merge"" or ""drop""."
tidyr,266,"`spread()` gains `drop` argument, which allows you to preserve missing factor levels (#25). It converts factor value variables to character vectors, instead of embedding a matrix inside the data frame (#35)."
xml2,1,"`xml_serialize()` now includes the document type so that `xml_unserialize()` works also for HTML documents (#407, @​HenrikBengtsson)."
xml2,2,"Remove unused dependencies on glue, withr and lifecycle (@​mgirlich)."
xml2,3,"`print()` is faster for very long `xml_nodeset` inputs (#366, @​michaelchirico)."
xml2,4,"Small speedup for `xml_find_all()` (@​mgirlich, #393)."
xml2,5,Fixes for R CMD check problems.
xml2,6,Fixes for R CMD check problems.
xml2,7,Windows: update to libxml2 2.10.3
xml2,8,Hadley Wickham is now (again) the maintainer.
xml2,9,xml2 has been re-licensed as MIT (#317).
xml2,10,`xml_find_all.xml_node()` fails more informatively the `xpath` parameter is the wrong type (@​michaelchirico)
xml2,11,"`xml_find_all.xml_nodeset()` gains a `flatten` argument to control whether to return a single nodeset or a list of nodesets (#311, @​jakejh)"
xml2,12,"`write_xml()` and `write_html()` now return NULL invisibly, as they did prior to version 1.3.0 (#307)"
xml2,13,"`XPtr` gets explicit copy constructor and assignment operator definitions, which were two missing components of the [Rule of three](https://en.wikipedia.org/wiki/Rule_of_three_(C%2B%2B_programming)) (@​michaelchirico)"
xml2,14,Windows: update to libxml2 2.9.10 and libxslt 1.1.34 and add ucrt libs
xml2,15,`read_html()` and `read_xml()` now error if passed strings of length greater than one (#121)
xml2,16,`read_xml.raw()` had an inadvertent regression in 1.3.0 and is now again fixed (#300)
xml2,17,"Compilation fix on macOS 10.15.4 (@​kevinushey, #296)"
xml2,18,`read_html()` now again works with HTML files with non-ASCII encodings (#293).
xml2,19,Removes the Rcpp dependency
xml2,20,Fix compilation issue on macOS versions after High Sierra when not using homebrew supplied libxml2
xml2,21,"Fix potential dangling pointer with internal `asXmlChar()` function (@​michaelquinn32, #287)."
xml2,22,`as_xml_document()` now handles cases with text nodes trailing normal nodes (#274).
xml2,23,"`xml_add_child()` can now create nodes with a `par` attribute. These previously errored due to partial name matching of the `parent` function in the internal `create_node()` function. (@​jennybc, #285)"
xml2,24,"`libxml2_version()` now returns a semantic version rather than alphanumeric version, so ""2.9.10"" \> ""2.9.9"" (#277)"
xml2,25,"Export S4 classes with documentation, so they can be used in other packages without Warnings (@​nuest, #267)"
xml2,26,"xml2 now has a pkgdown site! <https://xml2.r-lib.org> (@​jayhesselberth, #211)."
xml2,27,Windows: upgrade to libxml2 2.9.8
xml2,28,"print methods now match the type of document, e.g. `read_html()` prints as ""{html_document}"" rather than ""{xml_document}"" (#227)"
xml2,29,"Generic xml2 error are now forwarded as R errors. Previously these errors were output to stderr, so could not be suppressed (#209)."
xml2,30,"Fix for ICU 59+ defaulting to use char16_t, which is only available in C++11 (#231)"
xml2,31,No longer uses the C connections API
xml2,32,Better error message when trying to run `download_xml()` without the curl package installed (#262)
xml2,33,xml2 classes are now registered for use with S4 by calling `setOldClass()` (#248)
xml2,34,Nodes with nested data type definition entities now work without crashing (#241)
xml2,35,Test failure fixed due to behavior change with relative paths in libxml2 2.9.9 (#245).
xml2,36,`read_xml()` now has a better error message when given zero length character inputs (#212).
xml2,37,`read_xml()` and `read_html()` now automatically check if the response succeeded before trying to read from a HTTP response (#255).
xml2,38,`xml_root()` can now create root nodes with namespaces (#239)
xml2,39,`xml_set_attr()` no longer crashes if you try to set the same namespace on the same node multiple times (#253).
xml2,40,`xml_set_attr()` now recycles the values if needed (#221)
xml2,41,"`xml_structure()` gains a `file` argument, to support writing to a file rather than the console (#244)."
xml2,42,`as_list()` on `xml_document` objects did not properly include the root node in the returned list. Previous behavior can be obtained by using `as_list()[[1L]]` in place of `as_list()`.
xml2,43,`download_xml()` and `download_html()` helper functions to make it easy to download files (#193).
xml2,44,`xml_attr()` can now set attributes with no value (#198).
xml2,45,`xml_serialize()` and `xml_unserialize()` now create file connections when given character input (#179).
xml2,46,"`xml_find_first()` no longer de-duplicates results, so the results are always the same length as the inputs (as documented) (#194)."
xml2,47,xml2 can now build using libxml2 2.7.0
xml2,48,Use Rcpp symbol registration and visibility to prevent symbol conflicts on Linux
xml2,49,"`xml_add_child()` now requires less resources to insert a node when called with `.where = 0L` (@​heckendorfc, #175)."
xml2,50,Fixed failing examples due to a change in an external resource.
xml2,51,"This is a small point release addressing installation issues found with older libxml2 versions shipped with RedHat Linux 6 / CentOS 6 (#163, #164)."
xml2,52,`write_xml()` and `write_html()` now accept connections as well as filenames for output. (#157)
xml2,53,`xml_add_child()` now takes a `.where` argument specifying where to add the new children. (#138)
xml2,54,"`as_xml()` generic function to convert R objects to xml. The most important method is for lists and enables full roundtrip support for going to and back from xml for lists and enables full roundtrip support to and from XML. (#137, #143)"
xml2,55,`xml_new_root()` can be used to create a new document and a root node in one step (#131).
xml2,56,`xml_add_parent()` inserts a new node between the node and its parent (#129)
xml2,57,"Add `xml_validate()` to validate a document against an xml schema (#31, @​jeroenooms)."
xml2,58,Export `xml2_types.h` to allow for extension packages such as xslt.
xml2,59,`xml_comment()` allows you to add comment nodes to a document. (#111)
xml2,60,`xml_cdata()` allows you to add CDATA nodes to a document. (#128)
xml2,61,Add `xml_set_text()` and `xml_set_name()` equivalent to `xml_text<-` and `xml_name<-`. (#130).
xml2,62,"Add `xml_set_attr()` and `xml_set_attrs()` equivalent to `xml_attr<-` and `xml_attrs<-`. (#109, #130)"
xml2,63,Add `write_html()` method (#133).
xml2,64,`xml_new_document()` now explicitly sets the encoding (default UTF-8) (#142)
xml2,65,Document formatting options for `write_xml()` (#132)
xml2,66,Add missing methods for xml_missing objects. (#134)
xml2,67,Bugfix for xml_length.xml_nodeset that caused it to fail unconditionally. (#140)
xml2,68,`is.na()` now returns `TRUE` for `xml_missing` objects. (#139)
xml2,69,Trim non-breaking spaces in `xml_text(trim = TRUE)` (#151).
xml2,70,"Allow setting non-character attributes (values are coerced to characters). (@​sjp, #117, #122)."
xml2,71,"Fixed return value in call to vapply in xml_integer.xml_nodeset. (@​ddiez, #146, #147)."
xml2,72,"Allow docs missing a root element to be created and printed. (@​sjp, #126, #121)."
xml2,73,"xml_add\_\* methods now return invisibly. (@​sjp, #124)"
xml2,74,"`as_list()` now preserves element names when attributes exist, and escapes XML attributes that conflict with special R attributes (@​peterfoley, #115)."
xml2,75,"All C++ functions now use `checked_get()` instead of `get()` where possible, so NULL XPtrs properly throw an error rather than crashing. (@​jimhester, #101, #104)."
xml2,76,"`xml_integer()` and `xml_double()` functions to make it easy to extract integer and double text from nodes (@​jimhester, #97, #99)."
xml2,77,"xml2 now supports modification and creation of XML nodes. New functions `xml_new_document()`, `xml_new_child()`, `xml_new_sibling()`, `xml_set_namespace()`, , `xml_remove()`, `xml_replace()`, `xml_root()` and replacement methods for `xml_name()`, `xml_attr()`, `xml_attrs()` and `xml_text()` (@​jimhester, #9 #76)"
xml2,78,"`xml_ns()` now keeps namespace prefixes that point to the same URI (@​jimhester, #35, #95)."
xml2,79,"`read_xml()` and `read_html()` methods added for `httr::response()` objects. (@​jimhester, #63, #93)"
xml2,80,"`xml_child()` function to make selecting children a little easier (@​jimhester, #23, #94)"
xml2,81,"`xml_find_one()` has been deprecated in favor of `xml_find_first()` (@​jimhester, #58, #92)"
xml2,82,"`xml_read()` functions now default to passing the document's namespace object. Namespace definitions can now be removed as well as added and `xml_ns_strip()` added to remove all default namespaces from a document. (@​jimhester, #28, #89)"
xml2,83,"`xml_read()` gains a `options` argument to control all available parsing options, including `HUGE` to turn off limits for parsing very large documents and now drops blank text nodes by default, mimicking default behavior of XML package. (@​jimhester, #49, #62, #85, #88)"
xml2,84,"`xml_write()` expands the path on filenames, so directories can be specified with '\~/' (@​jimhester, #86, #80)"
xml2,85,"`xml_find_one()` now returns a 'xml_missing' node object if there are 0 matches (@​jimhester, #55, #53, hadley/rvest#82)."
xml2,86,"`xml_find_num()`, `xml_find_chr()`, `xml_find_lgl()` functions added to return numeric, character and logical results from XPath expressions. (@​jimhester, #55)"
xml2,87,`xml_name()` and `xml_text()` always correctly encode returned value as UTF-8 (#54).
xml2,88,Improved configure script - now works again on R-devel on windows.
xml2,89,"Compiles with older versions of libxml2.,"
xml2,90,Make configure script more cross platform.
xml2,91,Add `xml_length()` to count the number of children (#32).
tidyverse,1,lubridate is now a member of the core tidyverse (#157)!
tidyverse,2,tidyverse now installs ragg (#310).
tidyverse,3,Loading the tidyverse now advertises `library(conflicted)` because it resolves many conflict problems and silences tidyverse's automated report (#218).
tidyverse,4,`tidyverse_sitrep()` correctly displays installed package versions and highlights development versions of packages (#222).
tidyverse,28,Membership changes:
tidyverse,29,"Removed DBI (since very different API, #16)"
tidyverse,30,Added feather (#15)
>>>>>>> 9592342 (make remove_old_bullets() more intelligent)
=======
```"
tidyr,199,While these special rules is in contrast to most dplyr and tidyr verbs (where both the data and the context are in scope) they make sense for selecting functions and should provide more robust and helpful semantics.
tidyr,200,Patch tests to be compatible with dev tibble
tidyr,201,Register C functions
tidyr,202,Added package docs
tidyr,203,Patch tests to be compatible with dev dplyr.
tidyr,204,Patch test to be compatible with dev tibble
tidyr,205,Changed deprecation message of `extract_numeric()` to point to `readr::parse_number()` rather than `readr::parse_numeric()`
tidyr,206,"`drop_na()` removes observations which have `NA` in the given variables. If no variables are given, all variables are considered (#194, @​janschulz)."
tidyr,207,`extract_numeric()` has been deprecated (#213).
tidyr,208,Renamed `table4` and `table5` to `table4a` and `table4b` to make their connection more clear. The `key` and `value` variables in `table2` have been renamed to `type` and `count`.
tidyr,209,"`expand()`, `crossing()`, and `nesting()` now silently drop zero-length inputs."
tidyr,210,`crossing_()` and `nesting_()` are versions of `crossing()` and `nesting()` that take a list as input.
tidyr,211,`full_seq()` works correctly for dates and date/times.
tidyr,212,"Restored compatibility with R \< 3.3.0 by avoiding `getS3method(envir = )` (#205, @​krlmlr)."
tidyr,213,"`separate_rows()` separates observations with multiple delimited values into separate rows (#69, @​aaronwolen)."
tidyr,214,`complete()` preserves grouping created by dplyr (#168).
tidyr,215,`expand()` (and hence `complete()`) preserves the ordered attribute of factors (#165).
tidyr,216,"`full_seq()` preserve attributes for dates and date/times (#156), and sequences no longer need to start at 0."
tidyr,217,"`gather()` can now gather together list columns (#175), and `gather_.data.frame(na.rm = TRUE)` now only removes missing values if they're actually present (#173)."
tidyr,218,`nest()` returns correct output if every variable is nested (#186).
tidyr,219,"`separate()` fills from right-to-left (not left-to-right!) when fill = ""left"" (#170, @​dgrtwo)."
tidyr,220,"`separate()` and `unite()` now automatically drop removed variables from grouping (#159, #177)."
tidyr,221,"`spread()` gains a `sep` argument. If not-null, this will name columns as ""key`<sep>`{=html}value"". Additionally, if sep is `NULL` missing values will be converted to `<NA>` (#68)."
tidyr,222,`spread()` works in the presence of list-columns (#199)
tidyr,223,`unnest()` works with non-syntactic names (#190).
tidyr,224,"`unnest()` gains a `sep` argument. If non-null, this will rename the columns of nested data frames to include both the original column name, and the nested column name, separated by `.sep` (#184)."
tidyr,225,`unnest()` gains `.id` argument that works the same way as `bind_rows()`. This is useful if you have a named list of data frames or vectors (#125).
tidyr,226,Moved in useful sample datasets from the DSR package.
tidyr,227,Made compatible with both dplyr 0.4 and 0.5.
tidyr,228,tidyr functions that create new columns are more aggressive about re-encoding the column names as UTF-8.
tidyr,229,Fixed bug in `nest()` where nested data was ending up in the wrong row (#158).
tidyr,230,"`nest()` now produces a single list of data frames called ""data"" rather than a list column for each variable. Nesting variables are not included in nested data frames. It also works with grouped data frames made by `dplyr::group_by()`. You can override the default column name with `.key`."
tidyr,231,"`unnest()` gains a `.drop` argument which controls what happens to other list columns. By default, they're kept if the output doesn't require row duplication; otherwise they're dropped."
tidyr,232,`unnest()` now has `mutate()` semantics for `...` - this allows you to unnest transformed columns more easily. (Previously it used select semantics).
tidyr,233,"`expand()` once again allows you to evaluate arbitrary expressions like `full_seq(year)`. If you were previously using `c()` to created nested combinations, you'll now need to use `nesting()` (#85, #121)."
tidyr,234,`nesting()` and `crossing()` allow you to create nested and crossed data frames from individual vectors. `crossing()` is similar to `base::expand.grid()`
tidyr,235,"`full_seq(x, period)` creates the full sequence of values from `min(x)` to `max(x)` every `period` values."
tidyr,236,`fill()` fills in `NULL`s in list-columns.
tidyr,237,`fill()` gains a direction argument so that it can fill either upwards or downwards (#114).
tidyr,238,"`gather()` now stores the key column as character, by default. To revert to the previous behaviour of using a factor (which allows you to preserve the ordering of the columns), use `key_factor = TRUE` (#96)."
tidyr,239,"All tidyr verbs do the right thing for grouped data frames created by `group_by()` (#122, #129, #81)."
tidyr,240,`seq_range()` has been removed. It was never used or announced.
tidyr,241,"`spread()` once again creates columns of mixed type when `convert = TRUE` (#118, @​jennybc). `spread()` with `drop = FALSE` handles zero-length factors (#56). `spread()`ing a data frame with only key and value columns creates a one row output (#41)."
tidyr,242,"`unite()` now removes old columns before adding new (#89, @​krlmlr)."
tidyr,243,"`separate()` now warns if defunct ... argument is used (#151, @​krlmlr)."
tidyr,244,Fixed bug where attributes of non-gather columns were lost (#104)
tidyr,245,"New `complete()` provides a wrapper around `expand()`, `left_join()` and `replace_na()` for a common task: completing a data frame with missing combinations of variables."
tidyr,246,`fill()` fills in missing values in a column with the last non-missing value (#4).
tidyr,247,New `replace_na()` makes it easy to replace missing values with something meaningful for your data.
tidyr,248,`nest()` is the complement of `unnest()` (#3).
tidyr,249,"`unnest()` can now work with multiple list-columns at the same time. If you don't supply any columns names, it will unlist all list-columns (#44). `unnest()` can also handle columns that are lists of data frames (#58)."
tidyr,250,tidyr no longer depends on reshape2. This should fix issues if you also try to load reshape (#88).
tidyr,251,`%>%` is re-exported from magrittr.
tidyr,252,`expand()` now supports nesting and crossing (see examples for details). This comes at the expense of creating new variables inline (#46).
tidyr,253,`expand_` does SE evaluation correctly so you can pass it a character vector of columns names (or list of formulas etc) (#70).
tidyr,254,`extract()` is 10x faster because it now uses stringi instead of base R regular expressions. It also returns NA instead of throwing an error if the regular expression doesn't match (#72).
tidyr,255,`extract()` and `separate()` preserve character vectors when `convert` is TRUE (#99).
tidyr,256,"The internals of `spread()` have been rewritten, and now preserve all attributes of the input `value` column. This means that you can now spread date (#62) and factor (#35) inputs."
tidyr,257,`spread()` gives a more informative error message if `key` or `value` don't exist in the input data (#36).
tidyr,258,"`separate()` only displays the first 20 failures (#50). It has finer control over what happens if there are two few matches: you can fill with missing values on either the ""left"" or the ""right"" (#49). `separate()` no longer throws an error if the number of pieces aren't as expected - instead it uses drops extra values and fills on the right and gives a warning."
tidyr,259,"If the input is NA `separate()` and `extract()` both return silently return NA outputs, rather than throwing an error. (#77)"
tidyr,260,Experimental `unnest()` method for lists has been removed.
tidyr,261,Experimental `expand()` function (#21).
tidyr,262,"Experiment `unnest()` function for converting named lists into data frames. (#3, #22)"
tidyr,263,`extract_numeric()` preserves negative signs (#20).
tidyr,264,"`gather()` has better defaults if `key` and `value` are not supplied. If `...` is omitted, `gather()` selects all columns (#28). Performance is now comparable to `reshape2::melt()` (#18)."
tidyr,265,"`separate()` gains `extra` argument which lets you control what happens to extra pieces. The default is to throw an ""error"", but you can also ""merge"" or ""drop""."
tidyr,266,"`spread()` gains `drop` argument, which allows you to preserve missing factor levels (#25). It converts factor value variables to character vectors, instead of embedding a matrix inside the data frame (#35)."
xml2,1,"`xml_serialize()` now includes the document type so that `xml_unserialize()` works also for HTML documents (#407, @​HenrikBengtsson)."
xml2,2,"Remove unused dependencies on glue, withr and lifecycle (@​mgirlich)."
xml2,3,"`print()` is faster for very long `xml_nodeset` inputs (#366, @​michaelchirico)."
xml2,4,"Small speedup for `xml_find_all()` (@​mgirlich, #393)."
xml2,5,Fixes for R CMD check problems.
xml2,6,Fixes for R CMD check problems.
xml2,7,Windows: update to libxml2 2.10.3
xml2,8,Hadley Wickham is now (again) the maintainer.
xml2,9,xml2 has been re-licensed as MIT (#317).
xml2,10,`xml_find_all.xml_node()` fails more informatively the `xpath` parameter is the wrong type (@​michaelchirico)
xml2,11,"`xml_find_all.xml_nodeset()` gains a `flatten` argument to control whether to return a single nodeset or a list of nodesets (#311, @​jakejh)"
xml2,12,"`write_xml()` and `write_html()` now return NULL invisibly, as they did prior to version 1.3.0 (#307)"
xml2,13,"`XPtr` gets explicit copy constructor and assignment operator definitions, which were two missing components of the [Rule of three](https://en.wikipedia.org/wiki/Rule_of_three_(C%2B%2B_programming)) (@​michaelchirico)"
xml2,14,Windows: update to libxml2 2.9.10 and libxslt 1.1.34 and add ucrt libs
xml2,15,`read_html()` and `read_xml()` now error if passed strings of length greater than one (#121)
xml2,16,`read_xml.raw()` had an inadvertent regression in 1.3.0 and is now again fixed (#300)
xml2,17,"Compilation fix on macOS 10.15.4 (@​kevinushey, #296)"
xml2,18,`read_html()` now again works with HTML files with non-ASCII encodings (#293).
xml2,19,Removes the Rcpp dependency
xml2,20,Fix compilation issue on macOS versions after High Sierra when not using homebrew supplied libxml2
xml2,21,"Fix potential dangling pointer with internal `asXmlChar()` function (@​michaelquinn32, #287)."
xml2,22,`as_xml_document()` now handles cases with text nodes trailing normal nodes (#274).
xml2,23,"`xml_add_child()` can now create nodes with a `par` attribute. These previously errored due to partial name matching of the `parent` function in the internal `create_node()` function. (@​jennybc, #285)"
xml2,24,"`libxml2_version()` now returns a semantic version rather than alphanumeric version, so ""2.9.10"" \> ""2.9.9"" (#277)"
xml2,25,"Export S4 classes with documentation, so they can be used in other packages without Warnings (@​nuest, #267)"
xml2,26,"xml2 now has a pkgdown site! <https://xml2.r-lib.org> (@​jayhesselberth, #211)."
xml2,27,Windows: upgrade to libxml2 2.9.8
xml2,28,"print methods now match the type of document, e.g. `read_html()` prints as ""{html_document}"" rather than ""{xml_document}"" (#227)"
xml2,29,"Generic xml2 error are now forwarded as R errors. Previously these errors were output to stderr, so could not be suppressed (#209)."
xml2,30,"Fix for ICU 59+ defaulting to use char16_t, which is only available in C++11 (#231)"
xml2,31,No longer uses the C connections API
xml2,32,Better error message when trying to run `download_xml()` without the curl package installed (#262)
xml2,33,xml2 classes are now registered for use with S4 by calling `setOldClass()` (#248)
xml2,34,Nodes with nested data type definition entities now work without crashing (#241)
xml2,35,Test failure fixed due to behavior change with relative paths in libxml2 2.9.9 (#245).
xml2,36,`read_xml()` now has a better error message when given zero length character inputs (#212).
xml2,37,`read_xml()` and `read_html()` now automatically check if the response succeeded before trying to read from a HTTP response (#255).
xml2,38,`xml_root()` can now create root nodes with namespaces (#239)
xml2,39,`xml_set_attr()` no longer crashes if you try to set the same namespace on the same node multiple times (#253).
xml2,40,`xml_set_attr()` now recycles the values if needed (#221)
xml2,41,"`xml_structure()` gains a `file` argument, to support writing to a file rather than the console (#244)."
xml2,42,`as_list()` on `xml_document` objects did not properly include the root node in the returned list. Previous behavior can be obtained by using `as_list()[[1L]]` in place of `as_list()`.
xml2,43,`download_xml()` and `download_html()` helper functions to make it easy to download files (#193).
xml2,44,`xml_attr()` can now set attributes with no value (#198).
xml2,45,`xml_serialize()` and `xml_unserialize()` now create file connections when given character input (#179).
xml2,46,"`xml_find_first()` no longer de-duplicates results, so the results are always the same length as the inputs (as documented) (#194)."
xml2,47,xml2 can now build using libxml2 2.7.0
xml2,48,Use Rcpp symbol registration and visibility to prevent symbol conflicts on Linux
xml2,49,"`xml_add_child()` now requires less resources to insert a node when called with `.where = 0L` (@​heckendorfc, #175)."
xml2,50,Fixed failing examples due to a change in an external resource.
xml2,51,"This is a small point release addressing installation issues found with older libxml2 versions shipped with RedHat Linux 6 / CentOS 6 (#163, #164)."
xml2,52,`write_xml()` and `write_html()` now accept connections as well as filenames for output. (#157)
xml2,53,`xml_add_child()` now takes a `.where` argument specifying where to add the new children. (#138)
xml2,54,"`as_xml()` generic function to convert R objects to xml. The most important method is for lists and enables full roundtrip support for going to and back from xml for lists and enables full roundtrip support to and from XML. (#137, #143)"
xml2,55,`xml_new_root()` can be used to create a new document and a root node in one step (#131).
xml2,56,`xml_add_parent()` inserts a new node between the node and its parent (#129)
xml2,57,"Add `xml_validate()` to validate a document against an xml schema (#31, @​jeroenooms)."
xml2,58,Export `xml2_types.h` to allow for extension packages such as xslt.
xml2,59,`xml_comment()` allows you to add comment nodes to a document. (#111)
xml2,60,`xml_cdata()` allows you to add CDATA nodes to a document. (#128)
xml2,61,Add `xml_set_text()` and `xml_set_name()` equivalent to `xml_text<-` and `xml_name<-`. (#130).
xml2,62,"Add `xml_set_attr()` and `xml_set_attrs()` equivalent to `xml_attr<-` and `xml_attrs<-`. (#109, #130)"
xml2,63,Add `write_html()` method (#133).
xml2,64,`xml_new_document()` now explicitly sets the encoding (default UTF-8) (#142)
xml2,65,Document formatting options for `write_xml()` (#132)
xml2,66,Add missing methods for xml_missing objects. (#134)
xml2,67,Bugfix for xml_length.xml_nodeset that caused it to fail unconditionally. (#140)
xml2,68,`is.na()` now returns `TRUE` for `xml_missing` objects. (#139)
xml2,69,Trim non-breaking spaces in `xml_text(trim = TRUE)` (#151).
xml2,70,"Allow setting non-character attributes (values are coerced to characters). (@​sjp, #117, #122)."
xml2,71,"Fixed return value in call to vapply in xml_integer.xml_nodeset. (@​ddiez, #146, #147)."
xml2,72,"Allow docs missing a root element to be created and printed. (@​sjp, #126, #121)."
xml2,73,"xml_add\_\* methods now return invisibly. (@​sjp, #124)"
xml2,74,"`as_list()` now preserves element names when attributes exist, and escapes XML attributes that conflict with special R attributes (@​peterfoley, #115)."
xml2,75,"All C++ functions now use `checked_get()` instead of `get()` where possible, so NULL XPtrs properly throw an error rather than crashing. (@​jimhester, #101, #104)."
xml2,76,"`xml_integer()` and `xml_double()` functions to make it easy to extract integer and double text from nodes (@​jimhester, #97, #99)."
xml2,77,"xml2 now supports modification and creation of XML nodes. New functions `xml_new_document()`, `xml_new_child()`, `xml_new_sibling()`, `xml_set_namespace()`, , `xml_remove()`, `xml_replace()`, `xml_root()` and replacement methods for `xml_name()`, `xml_attr()`, `xml_attrs()` and `xml_text()` (@​jimhester, #9 #76)"
xml2,78,"`xml_ns()` now keeps namespace prefixes that point to the same URI (@​jimhester, #35, #95)."
xml2,79,"`read_xml()` and `read_html()` methods added for `httr::response()` objects. (@​jimhester, #63, #93)"
xml2,80,"`xml_child()` function to make selecting children a little easier (@​jimhester, #23, #94)"
xml2,81,"`xml_find_one()` has been deprecated in favor of `xml_find_first()` (@​jimhester, #58, #92)"
xml2,82,"`xml_read()` functions now default to passing the document's namespace object. Namespace definitions can now be removed as well as added and `xml_ns_strip()` added to remove all default namespaces from a document. (@​jimhester, #28, #89)"
xml2,83,"`xml_read()` gains a `options` argument to control all available parsing options, including `HUGE` to turn off limits for parsing very large documents and now drops blank text nodes by default, mimicking default behavior of XML package. (@​jimhester, #49, #62, #85, #88)"
xml2,84,"`xml_write()` expands the path on filenames, so directories can be specified with '\~/' (@​jimhester, #86, #80)"
xml2,85,"`xml_find_one()` now returns a 'xml_missing' node object if there are 0 matches (@​jimhester, #55, #53, hadley/rvest#82)."
xml2,86,"`xml_find_num()`, `xml_find_chr()`, `xml_find_lgl()` functions added to return numeric, character and logical results from XPath expressions. (@​jimhester, #55)"
xml2,87,`xml_name()` and `xml_text()` always correctly encode returned value as UTF-8 (#54).
xml2,88,Improved configure script - now works again on R-devel on windows.
xml2,89,"Compiles with older versions of libxml2.,"
xml2,90,Make configure script more cross platform.
xml2,91,Add `xml_length()` to count the number of children (#32).
tidyverse,1,lubridate is now a member of the core tidyverse (#157)!
tidyverse,2,tidyverse now installs ragg (#310).
tidyverse,3,Loading the tidyverse now advertises `library(conflicted)` because it resolves many conflict problems and silences tidyverse's automated report (#218).
tidyverse,4,`tidyverse_sitrep()` correctly displays installed package versions and highlights development versions of packages (#222).
tidyverse,28,Membership changes:
tidyverse,29,"Removed DBI (since very different API, #16)"
tidyverse,30,Added feather (#15)
>>>>>>> 1b8eb09 (fix bugs and update tests)
