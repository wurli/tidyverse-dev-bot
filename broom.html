<h1 id="broom-1.0.1.9000">broom 1.0.1.9000</h1>
<p>To be released as broom 1.0.2.</p>
<h1 id="broom-1.0.1">broom 1.0.1</h1>
<ul>
<li>Improves performance of <code>tidy.lm()</code> and
<code>tidy.glm()</code> for full-rank fits (#1112 by
<code>@capnrefsmmat</code>).</li>
<li>Moves forward with deprecation of tidiers for sparse matrices
outputted from the Matrix package, initially soft-deprecated in broom
0.5.0. The Matrix tidiers were light wrappers around coercion methods
that will now be deprecated from Matrix itself in the upcoming 1.4-2
release. The affected methods are <code>tidy.sparseMatrix()</code>,
<code>tidy.dgCMatrix()</code>, and <code>tidy.dgTMatrix()</code>. Note
that <code>tidy.confusionMatrix()</code>, for relevant objects outputted
from the caret package, is unaffected (#1113).</li>
<li><code>tidy.anova()</code> works again with <code>anova</code>
objects from the <code>lme4</code> package (broken by addition of the
<code>terms</code> column in the previous release)</li>
</ul>
<h1 id="broom-1.0.0">broom 1.0.0</h1>
<p>broom 1.0.0 is the first “production” release of the broom package,
and includes a number of notable changes to both functionality and
governance.</p>
<p>As of this release, the broom team will be following a set of
guidelines that clarify the scope of further development on the package.
Given the package’s wide use and long history, these guidelines
<em>prioritize backward compatibility</em> over internal consistency and
completeness. You can read those guidelines <a
href="https://broom.tidymodels.org/articles/">here</a>!</p>
<p>We’ve also made notable changes to error handling in this
release:</p>
<ul>
<li>Adds minimal ellipsis checking to warn on commonly misspecified
arguments passed through ellipses. Notably:
<ul>
<li><code>tidy()</code> methods will now warn when supplied an
<code>exponentiate</code> argument if it will be ignored.</li>
<li><code>augment()</code> methods will now warn when supplied a
<code>newdata</code> argument if it will be ignored.</li>
</ul></li>
<li>The warning regarding tidiers only maintained via dispatch to
<code>lm</code> and <code>glm</code> is now displayed only once per
session, per unique dispatch. That is, if a <code>class_a</code> object
is tidied using a <code>(g)lm</code> method, broom will not warn when
tidying <code>class_a</code> objects for the rest of the session, but if
a <code>class_b</code> object is tidied using a <code>(g)lm</code>
method in the same session, broom will warn again (#1101).</li>
</ul>
<p>Other fixes and improvements:</p>
<ul>
<li>Add <code>exponentiate</code> argument to <code>tidy.boot()</code>
(#1039).</li>
<li>Update in <code>tidy.htest()</code> converting matrix-columns to
vector-columns (#1081).</li>
<li>Address failures in <code>tidy.glht()</code> with
<code>conf.int = TRUE</code> (#1103).</li>
<li>Address failures in <code>tidy.zoo()</code> when input data does not
have <code>colnames</code> (#1080).</li>
<li>Transition tidiers for bivariate linear or spline-based
interpolation—using list tidiers to interface with objects from the
akima package is now considered off-label. See the interp package for a
FOSS alternative.</li>
<li>Address failures in <code>tidy.svyolr()</code> when
<code>p.values = TRUE</code>. Instead of aliasing
<code>tidy.polr()</code> directly, <code>tidy.svyolr()</code> lightly
wraps that method and warns if <code>p.values</code> is supplied
(#1107).</li>
<li>Adds a <code>term</code> column and introduces support for
<code>car::lht()</code> output in <code>tidy.anova()</code> (#1106 by
<code>@grantmcdermott</code>).</li>
<li>Adds a dedicated <code>glance.anova</code> method (which previously
dispatched to the<br />
deprecated <code>glance.data.frame()</code> tidier, #1106 by
<code>@grantmcdermott</code>).</li>
</ul>
<h1 id="broom-0.8.0">broom 0.8.0</h1>
<p>This update makes significant improvements to documentation, fixes a
number of bugs, and brings the development flow of the package up to
date with other packages in the tidymodels.</p>
<p>In the big picture, this release:</p>
<ul>
<li>Makes many improvements to documentation:
<ul>
<li>All tidiers now have example code demonstrating usage in their
documentation. Tidiers for base packages as well as selected others also
include sample code for visualization of results with ggplot2.</li>
<li>Code examples in the documentation largely now follow consistent
style—these changes were made largely to reflect the tidyverse style
guide, addressing spacing, object naming, and commenting, among other
things.</li>
<li>Examples previously marked with <code>\dontrun</code> or
<code>\donttest</code> have been workshopped to run reliably.</li>
</ul></li>
<li>Clarifies errors and warnings for deprecated and unmaintained
tidiers.</li>
<li>Ensures that tidiers are placed in files named according to the
model-supplying package rather than the model object class for easier
navigability of the source code.</li>
</ul>
<h3 id="bug-fixes-and-other-improvements">Bug fixes and other
improvements</h3>
<ul>
<li>Fix <code>glance.fixest</code> error when model includes only fixed
effects and no regressors (<code>#1018</code> by <code>@arcruz0</code>,
<code>#1088</code> by <code>@vincentarelbundock</code>).</li>
<li>Address excessive messaging from <code>tidy.speedlm</code>
(<code>#1084</code> by <code>@cgoo4</code>, <code>#1087</code> by
<code>@vincentarelbundock</code>).</li>
<li>Add <code>nobs</code> column to the output of
<code>glance.svyglm</code> (<code>#1085</code> by
<code>@fschaffner</code>, <code>#1086</code> by
<code>@vincentarelbundock</code>).</li>
<li>Ensure <code>tidy.prcomp</code> description entries use consistent
punctuation (<code>#1072</code> by
<code>@PursuitOfDataScience</code>).</li>
<li>Address breaking changes in <code>glance.fixest</code> and
<code>tidy.btergm</code>.</li>
<li>Simplify handling of <code>MASS::polr</code> output in the
corresponding <code>tidy</code> and <code>augment</code> methods.</li>
<li>Align continuous integration with current standards in tidymodels
packages.</li>
</ul>
<h1 id="broom-0.7.12">broom 0.7.12</h1>
<p>Nearly identical source to broom 0.7.11—updates the maintainer email
address to an address listed in other CRAN packages maintained by the
same person.</p>
<h1 id="broom-0.7.11">broom 0.7.11</h1>
<ul>
<li>Addressed issue with the ordering of original observations in
<code>augment.rqs</code>. Now function preserves the original
<code>data.frame</code> names also when the input
<code>data.frame</code> only has one column (<code>#1052</code> by
<code>@ilapros</code>).</li>
<li>Addressed warning from <code>tidy.rma</code> when <code>x$ddf</code>
has length greater than 1 (<code>#1064</code> by
<code>@wviechtb</code>).</li>
<li>Fix errors in <code>glance.lavaan</code> in anticipation of upcoming
<code>tidyr</code> release (<code>#1067</code> by
<code>@DavisVaughan</code>).</li>
<li>Corrected the confidence interval in <code>tidy.crr()</code>. The
<code>tidy.crr(conf.level=)</code> argument was previously ignored
(<code>#1068</code> by <code>@ddsjoberg</code>).</li>
</ul>
<h1 id="broom-0.7.10">broom 0.7.10</h1>
<ul>
<li>Clarifies error when <code>pysch::mediate</code> output is
dispatched to <code>tidy.mediate</code> (<code>#1037</code> by
<code>@LukasWallrich</code>).</li>
<li>Allows user to specify confidence level for <code>tidy.rma</code>
(<code>#1041</code> by <code>@TarenSanders</code>)</li>
<li>Clarifies documentation related to usage of
<code>augment_columns()</code>; most package users should use
<code>augment()</code> in favor of <code>augment_columns()</code>. See
<code>?augment_columns</code> for more details.</li>
<li>Extends support for <code>emmeans</code> by fixing non-standard
column names in case of asymptotically derived inferential statistics.
(<code>#1046</code> by <code>@crsh</code>)</li>
<li>Fixes use of index columns in <code>augment.mlogit</code> and adds
<code>.resid</code> column to output. (<code>#1045</code>,
<code>#1053</code>, <code>#1055</code>, and <code>#1056</code> by
<code>@jamesrrae</code> and <code>@gregmacfarlane</code>)</li>
<li>Correct column naming of standard error measures in
<code>glance.survfit()</code>.</li>
<li>Various bug fixes and improvements to documentation.</li>
</ul>
<h1 id="broom-0.7.9">broom 0.7.9</h1>
<ul>
<li>Fixes confidence intervals in <code>tidy.crr()</code>, which were
previously exponentiated when <code>exponentiate = FALSE</code>
(<code>#1023</code> by <code>@leejasme</code>)</li>
<li>Deprecates <code>Rchoice</code> tidiers, as the newest 0.3-3 release
requires R 4.0+ and does not re-export needed generics.</li>
<li>Updates to <code>ergm</code> tidiers in anticipation of changes in
later releases. (<code>#1034</code> by <code>@krivit</code>)</li>
</ul>
<h1 id="broom-0.7.8">broom 0.7.8</h1>
<ul>
<li>Fixed bug in <code>glance.ergm</code> related to handling of MCMC
details.</li>
<li>Address breakages in unit tests for {fixest} tidiers.</li>
</ul>
<h1 id="broom-0.7.7">broom 0.7.7</h1>
<ul>
<li>Fixed bug in <code>tidy.epi.2by2</code> that resulted in errors with
new version of <code>epiR</code> (<code>#1028</code> by
<code>@nt-williams</code>)</li>
<li>Added <code>exponentiate</code> argument to <code>tidy.gam()</code>
tidier applicable for parametric terms (<code>#1013</code> by
<code>@ddsjoberg</code>)</li>
<li>Added <code>exponentiate</code> argument to
<code>tidy.negbin()</code> tidier (<code>#1011</code> by
<code>@ddsjoberg</code>)</li>
<li>Fixed failures in <code>spdep</code> tidiers following breaking
changes in the most recent release</li>
<li>Various bug fixes and improvements to documentation</li>
</ul>
<h1 id="broom-0.7.6">broom 0.7.6</h1>
<ul>
<li>Fixed bug in <code>augment</code> tidiers resulting in
<code>.fitted</code> and <code>.se.fit</code> array columns.</li>
<li>Fixed bug that made column <code>y</code> non-numeric after
<code>tidy_xyz</code> (<code>#973</code> by <code>@jiho</code>)</li>
<li>Added tidiers for <code>MASS:glm.nb</code> (<code>#998</code> by
<code>@joshyam-k</code>)</li>
<li>Fixed bug in <code>tidy.fixest</code> that sometimes prevented
arguments like <code>se</code> from being used (<code>#1001</code> by
<code>@karldw</code>)</li>
<li>Fixed bug in <code>tidy.fixest</code> that resulted in errors when
columns with name <code>x</code> are present (<code>#1007</code> by
<code>@grantmcdermott</code>)</li>
<li>Moved forward with planned deprecation of <code>gamlss</code>
tidiers in favor of those provided in <code>broom.mixed</code></li>
<li>Various bug fixes and improvements to documentation</li>
</ul>
<h1 id="broom-0.7.5">broom 0.7.5</h1>
<ul>
<li>Fixed bug in the <code>nnet::multinom</code> tidier in the case that
the response variable has only two levels (<code>#993</code> by
<code>@vincentarelbundock</code> and <code>@hughjonesd</code>)</li>
<li>Various bug fixes and improvements to documentation</li>
</ul>
<h1 id="broom-0.7.4">broom 0.7.4</h1>
<p>broom 0.7.4 introduces tidier support for a number of new model
objects and improves functionality of many existing tidiers!</p>
<h4 id="new-tidiers">New Tidiers</h4>
<ul>
<li>Add tidiers for <code>Rchoice</code> objects (<code>#961</code> by
<code>@vincentarelbundock</code> and <code>@Nateme16</code>)</li>
<li>Add tidiers for objects produced by <code>car::leveneTest</code>
(<code>#968</code> by <code>@vincentarelbundock</code> and
<code>@mkirzon</code>)</li>
<li>Add tidiers for objects produced by <code>cmprsk::crr</code>
(<code>#971</code> and <code>#552</code> by
<code>@vincentarelbundock</code> and <code>@margarethannum</code>)</li>
<li>Add an <code>augment()</code> method for <code>gam</code> objects
(<code>#975</code> and <code>#645</code> by
<code>@vincentarelbundock</code>)</li>
<li>Add tidiers for <code>vars</code> objects (<code>#979</code> and
<code>#161</code> by <code>@vincentarelbundock</code> and
<code>@Diego-MX</code>)</li>
</ul>
<p>This release also restores tidiers for <code>felm</code> objects from
the <code>lfe</code> package, which was recently unarchived from
CRAN.</p>
<h4 id="improvements-to-existing-tidiers">Improvements to existing
tidiers</h4>
<ul>
<li><code>tidy.emmGrid</code> can now return <code>std.error</code> and
<code>conf.*</code> columns at the same time. (<code>#962</code> by
<code>@vincentarelbundock</code> and <code>@jmbarbone</code>)</li>
<li><code>tidy.garch</code> can now produce confidence intervals
(<code>#964</code> by <code>@vincentarelbundock</code> and
<code>@IndrajeetPatil</code>)</li>
<li><code>tidy.coxph</code> can now report confidence intervals on
models utilizing penalized/clustering terms (<code>#966</code> by
<code>@vincentarelbundock</code> and <code>@matthieu-faron</code>)</li>
<li><code>augment.lm</code> now works when some regression weights are
equal to zero (<code>#965</code> by <code>@vincentarelbundock</code> and
<code>@vnijs</code>)</li>
<li><code>tidy.coxph</code> can now handle models utilizing
penalized/clustering terms (<code>#966</code> and <code>#969</code> by
<code>@vincentarelbundock</code>, <code>@matthieu-faron</code>, and
<code>@KZARCA</code>)</li>
<li>Fix bug in <code>tidy.speedglm</code> on R 4.0.0+ (<code>#974</code>
by <code>@uqzwang</code>)</li>
<li>tidy.multinom works with matrix response (<code>#977</code> and
<code>#666</code> by <code>@vincentarelbundock</code> and
<code>@atyre2</code>)</li>
<li>Various bug fixes and improvements to documentation and errors.</li>
</ul>
<h1 id="broom-0.7.3">broom 0.7.3</h1>
<p>In broom <code>0.7.0</code>, we introduced an error for model objects
that subclassed <code>lm</code> and relied on <code>tidy.lm()</code>, or
similarly for <code>tidy.glm()</code>. Tidiers for these objects were
supported unintentionally, and we worried that tidiers for these objects
would silently report inaccurate results.</p>
<p>In hindsight, this change was unnecessarily abrupt. We’ve decided to
roll back this change, instead providing the following warning before
allowing such objects to fall back to the
<code>lm</code>/<code>glm</code> tidier methods:</p>
<blockquote>
<p>Tidiers for objects of class {subclass} are not maintained by the
broom team, and are only supported through the {dispatched_method}
tidier method. Please be cautious in interpreting and reporting broom
output.”</p>
</blockquote>
<p>In addition,</p>
<ul>
<li>Restores tidiers for <code>summary.lm</code> objects
(<code>#953</code> by <code>@grantmcdermott</code>)</li>
<li>Deprecate tidiers for the <code>lfe</code> package, which was
archived from CRAN.</li>
<li>Various bug fixes and improvements to documentation and errors.</li>
</ul>
<h1 id="broom-0.7.2">broom 0.7.2</h1>
<ul>
<li>Various bug fixes and improvements to documentation and errors.</li>
</ul>
<h1 id="broom-0.7.1">broom 0.7.1</h1>
<p>While broom 0.7.1 is a minor release, it includes a number of
exciting new features and bug fixes!</p>
<h4 id="new-tidiers-1">New tidiers</h4>
<ul>
<li>Add tidiers for <code>margins</code> objects. (<code>#700</code> by
<code>@grantmcdermott</code>)</li>
<li>Added tidier methods for <code>mlogit</code> objects
(<code>#887</code> by <code>@gregmacfarlane</code>)</li>
<li>Add <code>glance.coeftest()</code> method (<code>#932</code> by
<code>@grantmcdermott</code>)</li>
</ul>
<h4 id="improvements-to-existing-tidiers-1">Improvements to existing
tidiers</h4>
<p>One of the more major improvements in this release is the addition of
the <code>interval</code> argument to some <code>augment</code> methods
for confidence, prediction, and credible intervals. These columns will
be consistently labeled <code>.lower</code> and <code>.upper</code>!
(<code>#908</code> by <code>@grantmcdermott</code>, <code>#925</code> by
<code>@bwiernik</code>)</p>
<p>In addition…</p>
<ul>
<li>Extended the <code>glance.aov()</code> method to include an
<code>r.squared</code> column!</li>
<li><code>glance.survfit()</code> now passes <code>...</code> to
<code>summary.survfit()</code> to allow for adjustment of RMST and other
measures (<code>#880</code> by <code>@vincentarelbundock</code>)</li>
<li>Several unsupported model objects that subclass <code>glm</code> and
<code>lm</code> now error more informatively.</li>
<li>A number of improvements to documentation throughout the
package.</li>
</ul>
<h4 id="bug-fixes">Bug fixes</h4>
<ul>
<li>Fixed <code>newdata</code> warning message in
<code>augment.*()</code> output when the <code>newdata</code> didn’t
contain the response variable—augment methods no longer expect the
response variable in the supplied <code>newdata</code> argument.
(<code>#897</code> by <code>@rudeboybert</code>)</li>
<li>Fixed a bug related to <code>tidy.geeglm()</code> not being
sensitive to the <code>exponentiate</code> argument
(<code>#867</code>)</li>
<li>Fixed <code>augment.fixest()</code> returning residuals in the
<code>.fitted</code> column. The method also now takes a
<code>type.residuals</code> argument and defaults to the same
<code>type.predict</code> argument as the <code>fixest</code>
<code>predict()</code> method. (<code>#877</code> by
<code>@karldw</code>)</li>
<li>Fix <code>tidy.felm</code> confidence interval bug. Replaces
“robust” argument with “se.type”. (<code>#919</code> by
<code>@grantmcdermott</code>; supersedes <code>#818</code> by
<code>@kuriwaki</code>)</li>
<li>Fix a bug in <code>tidy.drc()</code> where some term labels would
result in the overwriting of entries in the <code>curve</code> column
(<code>#914</code>)</li>
<li>Fixed bug related to univariate zoo series in
<code>tidy.zoo()</code> (<code>#916</code> by
<code>@WillemVervoort</code>)</li>
<li>Fixed a bug related to <code>tidy.prcomp()</code> assigning the
wrong PC labels from “loadings” and “scores” matrices (<code>#910</code>
by <code>@tavareshugo</code>)</li>
<li>Fixed <code>tidy.polr()</code> bug where p-values could only be
returned if <code>exponentiate = FALSE</code>.</li>
</ul>
<h4 id="deprecations">Deprecations</h4>
<p>We followed through with the planned deprecation of character vector
tidiers in this release. Other vector tidiers that were soft-deprecated
in 0.7.0 will be fully deprecated in a later release.</p>
<h1 id="broom-0.7.0">broom 0.7.0</h1>
<p><code>broom 0.7.0</code> is a major release with a large number of
new tidiers, soft-deprecations, and planned hard-deprecations of
functions and arguments.</p>
<h3 id="big-picture-changes">Big picture changes</h3>
<ul>
<li><p>We have changed how we report degrees of freedom for
<code>lm</code> objects (#212, #273). This is especially important for
instructors in statistics courses. Previously the <code>df</code> column
in <code>glance.lm()</code> reported the rank of the design matrix. Now
it reports degrees of freedom of the numerator for the overall
F-statistic. This is equal to the rank of the model matrix minus one
(unless you omit an intercept column), so the new <code>df</code> should
be the old <code>df</code> minus one.</p></li>
<li><p>We are moving away from supporting <code>summary.*()</code>
objects. In particular, we have removed <code>tidy.summary.lm()</code>
as part of a major overhaul of internals. Instead of calling
<code>tidy()</code> on <code>summary</code>-like objects, please call
<code>tidy()</code> directly on model objects moving forward.</p></li>
<li><p>We have removed all support for the <code>quick</code> argument
in <code>tidy()</code> methods. This is to simplify internals and is for
maintainability purposes. We anticipate this will not influence many
users as few people seemed to use it. If this majorly cramps your style,
let us know, as we are considering a new verb to return only model
parameters. In the meantime, <code>stats::coef()</code> together with
<code>tibble::enframe()</code> provides most of the functionality of
<code>tidy(..., quick = TRUE)</code>.</p></li>
<li><p>All <code>conf.int</code> arguments now default to
<code>FALSE</code>, and all <code>conf.level</code> arguments now
default to <code>0.95</code>. This should primarily affect
<code>tidy.survreg()</code>, which previously always returned confidence
intervals, although there are some others.</p></li>
<li><p>Tidiers for <code>emmeans</code>-objects use the arguments
<code>conf.int</code> and <code>conf.level</code> instead of relying on
the argument names native to the <code>emmeans::summary()</code>-methods
(i.e., <code>infer</code> and <code>level</code>). Similarly,
<code>multcomp</code>-tidiers now include a call to
<code>summary()</code> as previous behavior was akin to setting the now
removed argument <code>quick = TRUE</code>. Both families of tidiers now
use the <code>adj.p.value</code> column name when appropriate. Finally,
<code>emmeans</code>-, <code>multcomp</code>-, and
<code>TukeyHSD</code>-tidiers now consistently use the column names
<code>contrast</code> and <code>null.value</code> instead of
<code>comparison</code>, <code>level1</code> and <code>level2</code>, or
<code>lhs</code> and <code>rhs</code> (see #692).</p></li>
</ul>
<h3 id="deprecations-1">Deprecations</h3>
<p>This release of <code>broom</code> soft-deprecates the following
functions and tidier methods:</p>
<ul>
<li>Tidier methods for data frames, rowwise data frames, vectors and
matrices</li>
<li><code>bootstrap()</code></li>
<li><code>confint_tidy()</code></li>
<li><code>fix_data_frame()</code></li>
<li><code>finish_glance()</code></li>
<li><code>augment.glmRob()</code></li>
<li><code>tidy.table()</code> and <code>tidy.ftable()</code> have been
deprecated in favor of <code>tibble::as_tibble()</code></li>
<li><code>tidy.summaryDefault()</code> and
<code>glance.summaryDefault()</code> have been deprecated in favor of
<code>skimr::skim()</code></li>
</ul>
<p>We have also gone forward with our planned mixed model deprecations,
and have removed the following methods, which now live in
<code>broom.mixed</code>:</p>
<ul>
<li><code>tidy.brmsfit()</code></li>
<li><code>tidy.merMod()</code>, <code>glance.merMod()</code>,
<code>augment.merMod()</code></li>
<li><code>tidy.lme()</code>, <code>glance.lme()</code>,
<code>augment.lme()</code></li>
<li><code>tidy.stanreg()</code>, <code>glance.stanreg()</code></li>
<li><code>tidyMCMC()</code>, <code>tidy.rjags()</code>,
<code>tidy.stanfit()</code></li>
</ul>
<h3 id="minor-breaking-changes">Minor breaking changes</h3>
<ul>
<li><p><code>augment.factanal()</code> now returns a tibble with columns
names <code>.fs1</code>, <code>.fs2</code>, …, instead of
<code>factor1</code>, <code>factor2</code>, … (#650)</p></li>
<li><p>We have renamed the output of <code>augment.htest()</code>. In
particular, we have renamed the <code>.residuals</code> column to
<code>.resid</code> and the <code>.stdres</code> to
<code>.std.resid</code> for consistency. These changes will only affect
chi-squared tests.</p></li>
<li><p><code>tidy.ridgelm()</code> now always return a <code>GCV</code>
column and never returns an <code>xm</code> column. (#533 by <span
class="citation" data-cites="jmuhlenkamp">@jmuhlenkamp</span>)</p></li>
<li><p><code>tidy.dist()</code> no longer supports the
<code>upper</code> argument.</p></li>
</ul>
<h2 id="a-refactoring-of-augment-methods">A refactoring of
<code>augment()</code> methods</h2>
<p>The internals of <code>augment.*()</code> methods have largely been
overhauled.</p>
<ul>
<li><p>If you pass a dataset to <code>augment()</code> via the
<code>data</code> or <code>newdata</code> arguments, you are now
guaranteed that the augmented dataset will have exactly the same number
of rows as the original dataset. This differs from previous behavior
primarily when there are missing values. Previously
<code>augment()</code> would drop rows containing <code>NA</code>. This
should no longer be the case.</p></li>
<li><p><code>augment.*()</code> methods no longer accept an
<code>na.action</code> argument.</p></li>
<li><p>In previous versions, several <code>augment.*()</code> methods
inherited the <code>augment.lm()</code> method, but required additions
to the <code>augment.lm()</code> method itself. We have shifted away
from this approach in favor of re-implementing many
<code>augment.*()</code> methods as standalone methods making use of
internal helper functions. As a result, <code>augment.lm()</code> and
some related methods have deprecated (previously unused)
arguments.</p></li>
<li><p><code>augment()</code> tries to give an informative error when
<code>data</code> isn’t the original training data.</p></li>
<li><p>The <code>.resid</code> column in the output of
<code>augment().*</code> methods is now consistently defined as
<code>y - y_hat</code></p></li>
</ul>
<h2 id="new-tidiers-2">New tidiers</h2>
<ul>
<li><code>anova</code> objects from the <code>car</code> package
(#754)</li>
<li><code>pam</code> objects from the <code>cluster</code> package (#637
by <span class="citation"
data-cites="abbylsmith">@abbylsmith</span>)</li>
<li><code>drm</code> objects from the <code>drc</code> package (#574 by
<span class="citation" data-cites="edild">@edild</span>)</li>
<li><code>summary_emm</code> objects from the <code>emmeans</code>
package (#691 by <span class="citation"
data-cites="crsh">@crsh</span>)</li>
<li><code>epi.2by2</code> objects from the <code>epiR</code> package
(#711)</li>
<li><code>fixest</code> objects from the <code>fixest</code> package
(#785 by <span class="citation" data-cites="karldw">@karldw</span>)</li>
<li><code>regsubsets</code> objects from the <code>leaps</code> package
(#535)</li>
<li><code>lm.beta</code> objects from the <code>lm.beta</code> package
(#545 by <span class="citation"
data-cites="mattle24">@mattle24</span>)</li>
<li><code>rma</code> objects from the <code>metafor</code> package (#674
by <span class="citation"
data-cites="malcolmbarrett">@malcolmbarrett</span>, <span
class="citation" data-cites="softloud">@softloud</span>)</li>
<li><code>mfx</code>, <code>logitmfx</code>, <code>negbinmfx</code>,
<code>poissonmfx</code>, <code>probitmfx</code>, and
<code>betamfx</code> objects from the<code>mfx</code> package (#700 by
<span class="citation"
data-cites="grantmcdermott">@grantmcdermott</span>)</li>
<li><code>lmrob</code> and <code>glmrob</code> objects from the
<code>robustbase</code> package (#205, #505)</li>
<li><code>sarlm</code> objects from the <code>spatialreg</code> package
(#847 by <span class="citation"
data-cites="gregmacfarlane">@gregmacfarlane</span> and <span
class="citation" data-cites="petrhrobar">@petrhrobar</span>)</li>
<li><code>speedglm</code> objects from the <code>speedglm</code> package
(#685)</li>
<li><code>svyglm</code> objects from the <code>survey</code> package
(#611)</li>
<li><code>systemfit</code> objects from the <code>systemfit</code>
package (by <span class="citation"
data-cites="jaspercooper">@jaspercooper</span>)</li>
<li>We have restored a simplified version of <code>glance.aov()</code>,
which used to inherit from the <code>glance.lm()</code> method and now
contains only the following columns: <code>logLik</code>,
<code>AIC</code>, <code>BIC, deviance</code>, <code>df.residual</code>,
and <code>nobs</code> (see #212). Note that <code>tidy.aov()</code>
gives more complete information about degrees of freedom in an
<code>aov</code> object.</li>
</ul>
<h2 id="improvements-to-existing-tidiers-2">Improvements to existing
tidiers</h2>
<ul>
<li><p><code>tidy.felm()</code> now has a
<code>robust = TRUE/FALSE</code> option that supports robust and cluster
standard errors. (#781 by <span class="citation"
data-cites="kuriwaki">@kuriwaki</span>)</p></li>
<li><p>Make <code>.fitted</code> values respect
<code>type.predict</code> argument of <code>augment.clm()</code>.
(#617)</p></li>
<li><p>Return factor rather than numeric class predictions in
<code>.fitted</code> of <code>augment.polr()</code>. (#619) Add an
option to return <code>p.values</code> in <code>tidy.polr()</code>.
(#833 by <span class="citation"
data-cites="LukasWallrich">@LukasWallrich</span>)</p></li>
<li><p><code>tidy.kmeans()</code> now uses the names of the input
variables in the output by default. Set <code>col.names = NULL</code> to
recover the old behavior.</p></li>
<li><p>Previously, F-statistics for weak instruments were returned
through <code>glance.ivreg()</code>. F-statistics are now returned
through <code>tidy.ivreg(instruments = TRUE)</code>. Default is
<code>tidy.ivreg(instruments = FALSE)</code>.
<code>glance.ivreg()</code> still returns Wu-Hausman and Sargan test
statistics.</p></li>
<li><p><code>glance.biglm()</code> now returns a
<code>df.residual</code> column.</p></li>
<li><p><code>tidy.prcomp()</code> argument <code>matrix</code> gained
new options <code>"scores"</code>, <code>"loadings"</code>, and
<code>"eigenvalues"</code>. (#557 by <span class="citation"
data-cites="GegznaV">@GegznaV</span>)</p></li>
<li><p><code>tidy_optim()</code> now provides the standard error if the
Hessian is present. (#529 by <span class="citation"
data-cites="billdenney">@billdenney</span>)</p></li>
<li><p><code>tidy.htest()</code> column names are now run through
<code>make.names()</code> to ensure syntactic correctness. (#549 by
<span class="citation"
data-cites="karissawhiting">@karissawhiting</span>)</p></li>
<li><p><code>tidy.lmodel2()</code> now returns a <code>p.value</code>
column. (#570)</p></li>
<li><p><code>tidy.lsmobj()</code> gained a <code>conf.int</code>
argument for consistency with other tidiers.</p></li>
<li><p><code>tidy.polr()</code> now returns p-values if
<code>p.values</code> is set to TRUE and the model does not contain
factors with more than two levels.</p></li>
<li><p><code>tidy.zoo()</code> now doesn’t change column names that have
spaces or other special characters (previously they were converted to
<code>data.frame</code> friendly column names by
<code>make.names</code>.)</p></li>
<li><p><code>glance.lavaan()</code> now uses lavaan extractor functions
instead of subsetting the fit object manually. (#835)</p></li>
<li><p><code>glance.lm()</code> no longer errors when only an intercept
is provided as an explanatory variable. (#865)</p></li>
</ul>
<h3 id="bug-fixes-1">Bug fixes</h3>
<ul>
<li>Bug fix for <code>tidy.survreg()</code> when <code>robust</code> is
set to <code>TRUE</code> in model fitting (#842, #728)</li>
<li>Bug fixes in <code>glance.lavaan()</code>: address confidence
interval error (#577) and correct reported <code>nobs</code> and
<code>norig</code> (#835)</li>
<li>Bug fix in muhaz tidiers to ensure output is always a
<code>tibble</code> (#824)</li>
<li>Several <code>glance.*()</code> methods have been refactored in
order to return a one-row tibble even when the model matrix is
rank-deficient (#823)</li>
<li>Bug fix to return confidence intervals correct in
<code>tidy.drc()</code> (#798)</li>
<li>Added default methods for objects that subclass <code>glm</code> and
<code>lm</code> in order to error more informatively. (#749, #736, #708,
#186)</li>
<li>Bug fix to allow <code>augment.kmeans()</code> to work with masked
data (#609)</li>
<li>Bug fix to allow <code>augment.Mclust()</code> to work on univariate
data (#490)</li>
<li>Bug fix to allow <code>tidy.htest()</code> to supports equal
variances (#608)</li>
<li>Bug fix to better allow <code>tidy.boot()</code> to support
confidence intervals (#581)</li>
<li>Bug fix for <code>tidy.polr()</code> when passed
<code>conf.int = TRUE</code> (#498)</li>
</ul>
<h3 id="other-changes">Other changes</h3>
<ul>
<li><p>Many <code>glance()</code> methods now return a <code>nobs</code>
column, which contains the number of data points used to fit the model!
(#597 by <span class="citation"
data-cites="vincentarelbundock">@vincentarelbundock</span>)</p></li>
<li><p><code>tidy()</code> no longer checks for a log or logit link when
<code>exponentiate = TRUE</code>, and we have refactored to remove
extraneous <code>exponentiate</code> arguments. If you set
<code>exponentiate = TRUE</code>, we assume you know what you are doing
and that you want exponentiated coefficients (and confidence intervals
if <code>conf.int = TRUE</code>) regardless of link function.</p></li>
<li><p>We now use <code>rlang::arg_match()</code> when possible instead
of <code>arg.match()</code> to give more informative errors on argument
mismatches.</p></li>
<li><p>The package’s site has moved from https://broom.tidyverse.org/ to
https://broom.tidymodels.org/.</p></li>
<li><p>Revised several vignettes and moved them to the tidymodels.org
website. The existing vignettes will now simply link to the revised
versions.</p></li>
<li><p>Many improvements to consistency and clarity of
documentation.</p></li>
<li><p>Various warnings resulting from changes to the tidyr API in
v1.0.0 have been fixed. (#870)</p></li>
<li><p>Removed dependencies on reshape2 and superseded functions in
dplyr.</p></li>
<li><p>All documentation now links to help files rather than
topics.</p></li>
</ul>
<h2 id="for-developers-and-contributors">For developers and
contributors</h2>
<ul>
<li><p>Moved core tests to the <code>modeltests</code> package.</p></li>
<li><p>Generally, after this release, the broom dev team will first ask
that attempts to add tidier methods supporting a model object are first
directed to the model-owning package. An article describing best
practices in doing so can be found on the {tidymodels} website at
https://www.tidymodels.org/learn/develop/broom/, and we will continue
adding additional resources to that article as we develop them. In the
case that the maintainer is uninterested in taking on the tidier
methods, please note this in your issue or PR.</p></li>
<li><p>Added a new vignette discussing how to implement new tidier
methods in non-broom packages.</p></li>
</ul>
<h1 id="broom-0.5.6">broom 0.5.6</h1>
<ul>
<li>Fix failing CRAN checks to due <code>tibble 3.0.0</code> release.
Removed <code>xergm</code> dependency.</li>
</ul>
<h1 id="broom-0.5.5">broom 0.5.5</h1>
<ul>
<li>Remove tidiers for robust package and drop robust dependency
(temporarily)</li>
</ul>
<h1 id="broom-0.5.4">broom 0.5.4</h1>
<ul>
<li>Fixes failing CRAN checks as the joineRML package has been removed
from CRAN</li>
</ul>
<h1 id="broom-0.5.3">broom 0.5.3</h1>
<ul>
<li>Fixes failing CRAN checks due to new matrix classing in R 4.0.0</li>
</ul>
<h1 id="broom-0.5.2">broom 0.5.2</h1>
<ul>
<li><p>Fixes failing CRAN checks</p></li>
<li><p>Changes to accommodate ergm 3.10 release.
<code>tidy.ergm()</code> no longer has a <code>quick</code> argument.
The old default of <code>quick = FALSE</code> is now the only
option.</p></li>
</ul>
<h1 id="broom-0.5.1">broom 0.5.1</h1>
<ul>
<li><code>tidy()</code>, <code>glance()</code> and
<code>augment()</code> are now re-exported from the <a
href="https://github.com/r-lib/generics">generics</a> package.</li>
</ul>
<h1 id="broom-0.5.0">broom 0.5.0</h1>
<p>Tidiers now return <code>tibble::tibble()</code>s. This release also
includes several new tidiers, new vignettes and a large number of bug
fixes. We’ve also begun to more rigorously define tidier specifications:
we’ve laid part of the groundwork for stricter and more consistent
tidying, but the new tidier specifications are not yet complete. These
will appear in the next release.</p>
<p>Additionally, users should note that we are in the process of
migrating tidying methods for mixed models and Bayesian models to
<code>broom.mixed</code>. <code>broom.mixed</code> is not on CRAN yet,
but all mixed model and Bayesian tidiers will be deprecated once
<code>broom.mixed</code> is on CRAN. No further development of mixed
model tidiers will take place in <code>broom</code>.</p>
<h2 id="breaking-changes">Breaking changes</h2>
<p>Almost all tidiers should now return <code>tibble</code>s rather than
<code>data.frame</code>s. Deprecated tidying methods, Bayesian and mixed
model tidiers still return <code>data.frame</code>s.</p>
<p><strong>Users</strong> are mostly to experience issues when using
<code>augment</code> in situations where tibbles are stricter than data
frames. For example, specifying model covariates as a matrix object will
now error:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quantreg)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">rq</span>(stack.loss <span class="sc">~</span> stack.x, <span class="at">tau =</span> .<span class="dv">5</span>)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>broom<span class="sc">::</span><span class="fu">augment</span>(fit)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Error: Column `stack.x` must be a 1d atomic vector or a list</span></span></code></pre></div>
<p>This is because the default <code>data</code> argument
<code>data = model.frame(fit)</code> cannot be coerced to
<code>tibble</code>.</p>
<p>Another consequence of this is that <code>augment.survreg</code> and
<code>augment.coxph</code> from the <code>survival</code> package now
require that the user explicitly passes data to either the
<code>data</code> or <code>newdata</code> arguments.</p>
<p>These restrictions will be relaxed in an upcoming release of
<code>broom</code> pending support for matrix-columns in tibbles.</p>
<p><strong>Developers</strong> are likely to experience issues:</p>
<ul>
<li><p>subsetting tibbles with <code>[</code>, which returns a tibble
rather than a vector.</p></li>
<li><p>setting rownames on tibbles, which is deprecated.</p></li>
<li><p>using matrix and vector tidiers, now deprecated.</p></li>
<li><p>handling the additional tibble classes <code>tbl_df</code> and
<code>tbl</code> beyond the <code>data.frame</code> class</p></li>
<li><p>linking to defunct documentation files – broom recently moved all
tidiers to a <code>roxygen2</code> template based documentation
system.</p></li>
</ul>
<h2 id="new-vignettes">New vignettes</h2>
<p>This version of <code>broom</code> includes several new
vignettes:</p>
<ul>
<li><p><code>vignette("available-methods", package = "broom")</code>
contains a table detailing which tidying methods are available</p></li>
<li><p><code>vignette("adding-tidiers", package = "broom")</code> is an
<em>in-progress</em> guide for contributors on how to add new tidiers to
broom</p></li>
<li><p><code>vignette("glossary", package = "broom")</code> contains
tables describing acceptable argument names and column names for the
<em>in-progress</em> new specification.</p></li>
</ul>
<p>Several old vignettes have also been updated:</p>
<ul>
<li><code>vignette("bootstrapping", package = "broom")</code> now relies
on the <code>rsample</code> package and a
<code>tidyr::nest</code>-<code>purrr::map</code>-<code>tidyr::unnest</code>
workflow. This is now the recommended workflow for working with multiple
models, as opposed to the old
<code>dplyr::rowwise</code>-<code>dplyr::do</code> based workflow.</li>
</ul>
<h2 id="deprecations-2">Deprecations</h2>
<ul>
<li><p>Matrix and vector tidiers have been deprecated in favor of
<code>tibble::as_tibble</code> and <code>tibble::enframe</code></p></li>
<li><p>Dataframe tidiers and rowwise dataframe tidiers have been
deprecated</p></li>
<li><p><code>bootstrap()</code> has been deprecated in favor of the <a
href="https://rsample.tidymodels.org/"><code>rsample</code></a></p></li>
<li><p><code>inflate</code> has been removed from
<code>broom</code></p></li>
</ul>
<h2 id="other-changes-1">Other changes</h2>
<ul>
<li><p>The <code>alpha</code> argument has been removed from
<code>quantreg</code> tidy methods</p></li>
<li><p>The <code>separate.levels</code> argument has been removed from
<code>tidy.TukeyHSD</code>. To obtain the effect of
<code>separate.levels = TRUE</code>, users may
<code>tidyr::separate</code> after tidying. This is consistent with the
<code>multcomp</code> tidier behavior.</p></li>
<li><p>The <code>fe.error</code> argument was removed from
<code>tidy.felm</code>. When fixed effects are tidier, their standard
errors are now always included.</p></li>
<li><p>The <code>diag</code> argument in <code>tidy.dist</code> has been
renamed <code>diagonal</code></p></li>
<li><p>Advice to help beginners make PRs (#397 by <span class="citation"
data-cites="karldw">@karldw</span>)</p></li>
<li><p><code>glance</code> support for <code>arima</code> objects fit
with <code>method = "CSS"</code> (#396 by <span class="citation"
data-cites="josue-rodriguez">@josue-rodriguez</span>)</p></li>
<li><p>A bug fix to re-enable tidying <code>glmnet</code> objects with
<code>family = multinomial</code> (#395 by <span class="citation"
data-cites="erleholgersen">@erleholgersen</span>)</p></li>
<li><p>A bug fix to allow tidying <code>quantreg</code> intercept only
models (#378 by <span class="citation"
data-cites="erleholgersen">@erleholgersen</span>)</p></li>
<li><p>A bug fix for <code>aovlist</code> objects (#377 by <span
class="citation" data-cites="mvevans89">@mvevans89</span>)</p></li>
<li><p>Support for <code>glmnetUtils</code> objects (#352 by <span
class="citation" data-cites="Hong-Revo">@Hong-Revo</span>)</p></li>
<li><p>A bug fix to allow <code>tidy_emmeans</code> to handle column
names with dashes (#351 by <span class="citation"
data-cites="bmannakee">@bmannakee</span>)</p></li>
<li><p><code>augment.felm</code> no longer returns <code>.fe_</code> and
<code>.comp</code> columns</p></li>
<li><p>Support saved formulas in <code>augment.felm</code> (#347 by
<span class="citation"
data-cites="ShreyasSingh">@ShreyasSingh</span>)</p></li>
<li><p><code>confint_tidy</code> now drops rows of all <code>NA</code>
(#345 by <span class="citation"
data-cites="atyre2">@atyre2</span>)</p></li>
<li><p>A new tidier for <code>caret::confusionMatrix</code> objects
(#344 by <span class="citation"
data-cites="mkuehn10">@mkuehn10</span>)</p></li>
<li><p>Tidiers for <code>Kendall::Kendall</code> objects (#343 by <span
class="citation" data-cites="cimentadaj">@cimentadaj</span>)</p></li>
<li><p>A new tidying method for <code>car::durbinWatsonTest</code>
objects (#341 by <span class="citation"
data-cites="mkuehn10">@mkuehn10</span>)</p></li>
<li><p><code>glance</code> throws an informative error for
<code>quantreg:rq</code> models fit with multiple <code>tau</code>
values (#338 by <span class="citation"
data-cites="bfgray3">@bfgray3</span>)</p></li>
<li><p><code>tidy.glmnet</code> gains the ability to retain zero-valued
coefficients with a <code>return_zeros</code> argument that defaults to
<code>FALSE</code> (#337 by <span class="citation"
data-cites="bfgray3">@bfgray3</span>)</p></li>
<li><p><code>tidy.manova</code> now retains a <code>Residuals</code> row
(#334 by <span class="citation"
data-cites="jarvisc1">@jarvisc1</span>)</p></li>
<li><p>Tidiers for <code>ordinal::clm</code>,
<code>ordinal::clmm</code>, <code>survey::svyolr</code> and
<code>MASS::polr</code> ordinal model objects (#332 by <span
class="citation" data-cites="larmarange">@larmarange</span>)</p></li>
<li><p>Support for <code>anova</code> objects from
<code>car::Anova</code> (#325 by <span class="citation"
data-cites="mariusbarth">@mariusbarth</span>)</p></li>
<li><p>Tidiers for <code>tseries::garch</code> models (#323 by <span
class="citation"
data-cites="wilsonfreitas">@wilsonfreitas</span>)</p></li>
<li><p>Removed dependency on <code>psych</code> package (#313 by <span
class="citation" data-cites="nutterb">@nutterb</span>)</p></li>
<li><p>Improved error messages (#303 by <span class="citation"
data-cites="michaelweylandt">@michaelweylandt</span>)</p></li>
<li><p>Compatibility with new <code>rstanarm</code> and <code>loo</code>
packages (#298 by <span class="citation"
data-cites="jgabry">@jgabry</span>)</p></li>
<li><p>Support for tidying lists return by
<code>irlba::irlba</code></p></li>
<li><p>A truly huge increase in unit tests (#267 by <span
class="citation" data-cites="dchiu911">@dchiu911</span>)</p></li>
<li><p>Bug fix for <code>tidy.prcomp</code> when missing labels (#265 by
<span class="citation"
data-cites="corybrunson">@corybrunson</span>)</p></li>
<li><p>Added a <code>pkgdown</code> site at https://broom.tidyverse.org/
(#260 by <span class="citation"
data-cites="jayhesselberth">@jayhesselberth</span>)</p></li>
<li><p>Added tidiers for <code>AER::ivreg</code> models (#247 by <span
class="citation" data-cites="hughjonesd">@hughjonesd</span>)</p></li>
<li><p>Added tidiers for the <code>lavaan</code> package (#233 by <span
class="citation" data-cites="puterleat">@puterleat</span>)</p></li>
<li><p>Added <code>conf.int</code> argument to <code>tidy.coxph</code>
(#220 by <span class="citation"
data-cites="larmarange">@larmarange</span>)</p></li>
<li><p>Added <code>augment</code> method for chi-squared tests (#138 by
<span class="citation"
data-cites="larmarange">@larmarange</span>)</p></li>
<li><p>changed default se.type for <code>tidy.rq</code> to match that of
<code>quantreg::summary.rq()</code> (#404 by <span class="citation"
data-cites="ethchr">@ethchr</span>)</p></li>
<li><p>Added argument <code>quick</code> for <code>tidy.plm</code> and
<code>tidy.felm</code> (#502 and #509 by <span class="citation"
data-cites="MatthieuStigler">@MatthieuStigler</span>)</p></li>
<li><p>Many small improvements throughout</p></li>
</ul>
<h2 id="contributors">Contributors</h2>
<p>Many many thanks to all the following for their thoughtful comments
on design, bug reports and PRs! The community of broom contributors has
been kind, supportive and insightful and I look forward to working you
all again!</p>
<p><a href="https://github.com/atyre2"><span class="citation"
data-cites="atyre2">@atyre2</span></a>, <a
href="https://github.com/batpigandme"><span class="citation"
data-cites="batpigandme">@batpigandme</span></a>, <a
href="https://github.com/bfgray3"><span class="citation"
data-cites="bfgray3">@bfgray3</span></a>, <a
href="https://github.com/bmannakee"><span class="citation"
data-cites="bmannakee">@bmannakee</span></a>, <a
href="https://github.com/briatte"><span class="citation"
data-cites="briatte">@briatte</span></a>, <a
href="https://github.com/cawoodjm"><span class="citation"
data-cites="cawoodjm">@cawoodjm</span></a>, <a
href="https://github.com/cimentadaj"><span class="citation"
data-cites="cimentadaj">@cimentadaj</span></a>, <a
href="https://github.com/dan87134"><span class="citation"
data-cites="dan87134">@dan87134</span></a>, <a
href="https://github.com/dgrtwo"><span class="citation"
data-cites="dgrtwo">@dgrtwo</span></a>, <a
href="https://github.com/dmenne"><span class="citation"
data-cites="dmenne">@dmenne</span></a>, <a
href="https://github.com/ekatko1"><span class="citation"
data-cites="ekatko1">@ekatko1</span></a>, <a
href="https://github.com/ellessenne"><span class="citation"
data-cites="ellessenne">@ellessenne</span></a>, <a
href="https://github.com/erleholgersen"><span class="citation"
data-cites="erleholgersen">@erleholgersen</span></a>, <a
href="https://github.com/ethchr"><span class="citation"
data-cites="ethchr">@ethchr</span></a>, <a
href="https://github.com/huftis"><span class="citation"
data-cites="huftis">@huftis</span></a>, <a
href="https://github.com/IndrajeetPatil"><span class="citation"
data-cites="IndrajeetPatil">@IndrajeetPatil</span></a>, <a
href="https://github.com/jacob-long"><span class="citation"
data-cites="jacob-long">@jacob-long</span></a>, <a
href="https://github.com/jarvisc1"><span class="citation"
data-cites="jarvisc1">@jarvisc1</span></a>, <a
href="https://github.com/jenzopr"><span class="citation"
data-cites="jenzopr">@jenzopr</span></a>, <a
href="https://github.com/jgabry"><span class="citation"
data-cites="jgabry">@jgabry</span></a>, <a
href="https://github.com/jimhester"><span class="citation"
data-cites="jimhester">@jimhester</span></a>, <a
href="https://github.com/josue-rodriguez"><span class="citation"
data-cites="josue-rodriguez">@josue-rodriguez</span></a>, <a
href="https://github.com/karldw"><span class="citation"
data-cites="karldw">@karldw</span></a>, <a
href="https://github.com/kfeilich"><span class="citation"
data-cites="kfeilich">@kfeilich</span></a>, <a
href="https://github.com/larmarange"><span class="citation"
data-cites="larmarange">@larmarange</span></a>, <a
href="https://github.com/lboller"><span class="citation"
data-cites="lboller">@lboller</span></a>, <a
href="https://github.com/mariusbarth"><span class="citation"
data-cites="mariusbarth">@mariusbarth</span></a>, <a
href="https://github.com/michaelweylandt"><span class="citation"
data-cites="michaelweylandt">@michaelweylandt</span></a>, <a
href="https://github.com/mine-cetinkaya-rundel"><span class="citation"
data-cites="mine-cetinkaya-rundel">@mine-cetinkaya-rundel</span></a>, <a
href="https://github.com/mkuehn10"><span class="citation"
data-cites="mkuehn10">@mkuehn10</span></a>, <a
href="https://github.com/mvevans89"><span class="citation"
data-cites="mvevans89">@mvevans89</span></a>, <a
href="https://github.com/nutterb"><span class="citation"
data-cites="nutterb">@nutterb</span></a>, <a
href="https://github.com/ShreyasSingh"><span class="citation"
data-cites="ShreyasSingh">@ShreyasSingh</span></a>, <a
href="https://github.com/stephlocke"><span class="citation"
data-cites="stephlocke">@stephlocke</span></a>, <a
href="https://github.com/strengejacke"><span class="citation"
data-cites="strengejacke">@strengejacke</span></a>, <a
href="https://github.com/topepo"><span class="citation"
data-cites="topepo">@topepo</span></a>, <a
href="https://github.com/willbowditch"><span class="citation"
data-cites="willbowditch">@willbowditch</span></a>, <a
href="https://github.com/WillemSleegers"><span class="citation"
data-cites="WillemSleegers">@WillemSleegers</span></a>, <a
href="https://github.com/wilsonfreitas"><span class="citation"
data-cites="wilsonfreitas">@wilsonfreitas</span></a>, and <a
href="https://github.com/MatthieuStigler"><span class="citation"
data-cites="MatthieuStigler">@MatthieuStigler</span></a></p>
<h1 id="broom-0.4.4">broom 0.4.4</h1>
<ul>
<li><p>Fixed gam tidiers to work with “Gam” objects, due to an update in
gam 1.15. This fixes failing CRAN tests</p></li>
<li><p>Improved test coverage (thanks to #267 from Derek Chiu)</p></li>
</ul>
<h1 id="broom-0.4.3">broom 0.4.3</h1>
<ul>
<li><p>Changed the deprecated <code>dplyr::failwith</code> to
<code>purrr::possibly</code></p></li>
<li><p><code>augment</code> and <code>glance</code> on NULLs now return
an empty data frame</p></li>
<li><p>Deprecated the <code>inflate()</code> function in favor of
<code>tidyr::crossing</code></p></li>
<li><p>Fixed confidence intervals in the gmm tidier (thanks to #242 from
David Hugh-Jones)</p></li>
<li><p>Fixed a bug in bootstrap tidiers (thanks to #167 from Jeremy
Biesanz)</p></li>
<li><p>Fixed tidy.lm with <code>quick = TRUE</code> to return terms as
character rather than factor (thanks to #191 from Matteo
Sostero)</p></li>
<li><p>Added tidiers for <code>ivreg</code> objects from the AER package
(thanks to #245 from David Hugh-Jones)</p></li>
<li><p>Added tidiers for <code>survdiff</code> objects from the survival
package (thanks to #147 from Michał Bojanowski)</p></li>
<li><p>Added tidiers for <code>emmeans</code> from the emmeans package
(thanks to #252 from Matthew Kay)</p></li>
<li><p>Added tidiers for <code>speedlm</code> and <code>speedglm</code>
from the speedglm package (#685, thanks to #248 from David
Hugh-Jones)</p></li>
<li><p>Added tidiers for <code>muhaz</code> objects from the muhaz
package (thanks to #251 from Andreas Bender)</p></li>
<li><p>Added tidiers for <code>decompose</code> and <code>stl</code>
objects from stats (thanks to #165 from Aaron Jacobs)</p></li>
</ul>
<h1 id="broom-0.4.2">broom 0.4.2</h1>
<ul>
<li><p>Added tidiers for <code>lsmobj</code> and <code>ref.grid</code>
objects from the lsmeans package</p></li>
<li><p>Added tidiers for <code>betareg</code> objects from the betareg
package</p></li>
<li><p>Added tidiers for <code>lmRob</code> and <code>glmRob</code>
objects from the robust package</p></li>
<li><p>Added tidiers for <code>brms</code> objects from the brms package
(thanks to #149 from Paul Buerkner)</p></li>
<li><p>Fixed tidiers for orcutt 2.0</p></li>
<li><p>Changed <code>tidy.glmnet</code> to filter out rows where
estimate == 0.</p></li>
<li><p>Updates to <code>rstanarm</code> tidiers (thanks to #177 from
Jonah Gabry)</p></li>
<li><p>Fixed issue with survival package 2.40-1 (thanks to #180 from
Marcus Walz)</p></li>
</ul>
<h1 id="broom-0.4.1">broom 0.4.1</h1>
<ul>
<li><p>Added AppVeyor, codecov.io, and code of conduct</p></li>
<li><p>Changed name of “NA’s” column in summaryDefault output to
“na”</p></li>
<li><p>Fixed <code>tidy.TukeyHSD</code> to include <code>term</code>
column. Also added <code>separate.levels</code> argument, with option to
separate <code>comparison</code> into <code>level1</code> and
<code>level2</code></p></li>
<li><p>Fixed <code>tidy.manova</code> to use correct column name for
test (previously, always <code>pillai</code>)</p></li>
<li><p>Added <code>kde_tidiers</code> to tidy kernel density
estimates</p></li>
<li><p>Added <code>orcutt_tidiers</code> to tidy the results of
<code>cochrane.orcutt</code> orcutt package</p></li>
<li><p>Added <code>tidy.dist</code> to tidy the distance matrix output
of <code>dist</code> from the stats package</p></li>
<li><p>Added <code>tidy</code> and <code>glance</code> for
<code>lmodel2</code> objects from the lmodel2 package</p></li>
<li><p>Added tidiers for <code>poLCA</code> objects from the poLCA
package</p></li>
<li><p>Added tidiers for sparse matrices from the Matrix
package</p></li>
<li><p>Added tidiers for <code>prcomp</code> objects</p></li>
<li><p>Added tidiers for <code>Mclust</code> objects from the Mclust
package</p></li>
<li><p>Added tidiers for <code>acf</code> objects</p></li>
<li><p>Fixed to be compatible with dplyr 0.5, which is being submitted
to CRAN</p></li>
</ul>
<h1 id="broom-0.4.0">broom 0.4.0</h1>
<ul>
<li><p>Added tidiers for geeglm, nlrq, roc, boot, bgterm, kappa,
binWidth, binDesign, rcorr, stanfit, rjags, gamlss, and mle2
objects.</p></li>
<li><p>Added <code>tidy</code> methods for lists, including u, d, v
lists from <code>svd</code>, and x, y, z lists used by
<code>image</code> and <code>persp</code></p></li>
<li><p>Added <code>quick</code> argument to <code>tidy.lm</code>,
<code>tidy.nls</code>, and <code>tidy.biglm</code>, to create a smaller
and faster version of the output.</p></li>
<li><p>Changed <code>rowwise_df_tidiers</code> to allow the original
data to be saved as a list column, then provided as a column name to
<code>augment</code>. This required removing <code>data</code> from the
<code>augment</code> S3 signature. Also added
<code>tests-rowwise.R</code></p></li>
<li><p>Fixed various issues in ANOVA output</p></li>
<li><p>Fixed various issues in lme4 output</p></li>
<li><p>Fixed issues in tests caused by dev version of ggplot2</p></li>
</ul>
<h1 id="broom-0.3.7">broom 0.3.7</h1>
<ul>
<li><p>Added tidiers for “plm” (panel linear model) objects from the plm
package.</p></li>
<li><p>Added <code>tidy.coeftest</code> for coeftest objects from the
lmtest package.</p></li>
<li><p>Set up <code>tidy.lm</code> to work with “mlm” (multiple linear
model) objects (those with multiple response columns).</p></li>
<li><p>Added <code>tidy</code> and <code>glance</code> for “biglm” and
“bigglm” objects from the biglm package.</p></li>
<li><p>Fixed bug in <code>tidy.coxph</code> when one-row matrices are
returned</p></li>
<li><p>Added <code>tidy.power.htest</code></p></li>
<li><p>Added <code>tidy</code> and <code>glance</code> for
<code>summaryDefault</code> objects</p></li>
<li><p>Added tidiers for “lme” (linear mixed effects models) from the
nlme package</p></li>
<li><p>Added <code>tidy</code> and <code>glance</code> for
<code>multinom</code> objects from the nnet package.</p></li>
</ul>
<h1 id="broom-0.3.6">broom 0.3.6</h1>
<ul>
<li><p>Fixed bug in <code>tidy.pairwise.htest</code>, which now can
handle cases where the grouping variable is numeric.</p></li>
<li><p>Added <code>tidy.aovlist</code> method. This added
<code>stringr</code> package to IMPORTS to trim whitespace from the
beginning and end of the <code>term</code> and <code>stratum</code>
columns. This also required adjusting <code>tidy.aov</code> so that it
could handle strata that are missing p-values.</p></li>
<li><p>Set up <code>glance.lm</code> to work with <code>aov</code>
objects along with <code>lm</code> objects.</p></li>
<li><p>Added <code>tidy</code> and <code>glance</code> for matrix
objects, with <code>tidy.matrix</code> converting a matrix to a data
frame with rownames included, and <code>glance.matrix</code> returning
the same result as <code>glance.data.frame</code>.</p></li>
<li><p>Changed DESCRIPTION Authors@R to new format</p></li>
</ul>
<h1 id="broom-0.3.5">broom 0.3.5</h1>
<ul>
<li><p>Fixed small bug in <code>felm</code> where the
<code>.fitted</code> and <code>.resid</code> columns were matrices
rather than vectors.</p></li>
<li><p>Added tidiers for <code>rlm</code> (robust linear model) and
<code>gam</code> (generalized additive model) objects, including
adjustments to “lm” tidiers in order to handle them. See
<code>?rlm_tidiers</code> and <code>?gam_tidiers</code> for
more.</p></li>
<li><p>Removed rownames from <code>tidy.cv.glmnet</code> output</p></li>
</ul>
<h1 id="broom-0.3.4">broom 0.3.4</h1>
<ul>
<li><p>The behavior of <code>augment</code>, particularly with regard to
missing data and the <code>na.exclude</code> argument, has through the
use of the <code>augment_columns</code> function been made consistent
across the following models:</p>
<ul>
<li><p><code>lm</code></p></li>
<li><p><code>glm</code></p></li>
<li><p><code>nls</code></p></li>
<li><p><code>merMod</code> (<code>lme4</code>)</p></li>
<li><p><code>survreg</code> (<code>survival</code>)</p></li>
<li><p><code>coxph</code> (<code>survival</code>)</p></li>
</ul></li>
</ul>
<p>Unit tests in <code>tests/testthat/test-augment.R</code> were added
to ensure consistency across these models.</p>
<ul>
<li><code>tidy</code>, <code>augment</code> and <code>glance</code>
methods were added for <code>rowwise_df</code> objects, and are set up
to apply across their rows. This allows for simple patterns such
as:</li>
</ul>
<p>regressions &lt;- mtcars %&gt;% group_by(cyl) %&gt;% do(mod = lm(mpg
~ wt, .)) regressions %&gt;% tidy(mod) regressions %&gt;%
augment(mod)</p>
<p>See <code>?rowwise_df_tidiers</code> for more.</p>
<ul>
<li><p>Added <code>tidy</code> and <code>glance</code> methods for
<code>Arima</code> objects, and <code>tidy</code> for
<code>pairwise.htest</code> objects.</p></li>
<li><p>Fixes for CRAN: change package description to title case, removed
NOTES, mostly by adding <code>globals.R</code> to declare global
variables.</p></li>
<li><p>This is the original version published on CRAN.</p></li>
</ul>
<h1 id="broom-0.3">broom 0.3</h1>
<ul>
<li><p>Tidiers have been added for S3 objects from the following
packages:</p>
<ul>
<li><p><code>lme4</code></p></li>
<li><p><code>glmnet</code></p></li>
<li><p><code>survival</code></p></li>
<li><p><code>zoo</code></p></li>
<li><p><code>felm</code></p></li>
<li><p><code>MASS</code> (<code>ridgelm</code> objects)</p></li>
</ul></li>
<li><p><code>tidy</code> and <code>glance</code> methods for data.frames
have also been added, and <code>augment.data.frame</code> produces an
error (rather than returning the same data.frame).</p></li>
<li><p><code>stderror</code> has been changed to <code>std.error</code>
(affects many functions) to be consistent with broom’s naming
conventions for columns.</p></li>
<li><p>A function <code>bootstrap</code> has been added based on <a
href="https://github.com/tidyverse/dplyr/issues/269">this example</a>,
to perform the common use case of bootstrapping models.</p></li>
</ul>
<h1 id="broom-0.2">broom 0.2</h1>
<ul>
<li><p>Added “augment” S3 generic and various implementations. “augment”
does something different from tidy: it adds columns to the original
dataset, including predictions, residuals, or cluster assignments. This
was originally described as “fortify” in ggplot2.</p></li>
<li><p>Added “glance” S3 generic and various implementations. “glance”
produces a <em>one-row</em> data frame summary, which is necessary for
tidy outputs with values like R^2 or F-statistics.</p></li>
<li><p>Re-wrote intro broom vignette/README to introduce all three
methods.</p></li>
<li><p>Wrote a new kmeans vignette.</p></li>
<li><p>Added tidying methods for multcomp, sp, and map objects (from
fortify-multcomp, fortify-sp, and fortify-map from ggplot2).</p></li>
<li><p>Because this integrates substantial amounts of ggplot2 code (with
permission), added Hadley Wickham as an author in DESCRIPTION.</p></li>
</ul>
